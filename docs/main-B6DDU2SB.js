var eT=Object.defineProperty,tT=Object.defineProperties;var nT=Object.getOwnPropertyDescriptors;var qa=Object.getOwnPropertySymbols,rT=Object.getPrototypeOf,m_=Object.prototype.hasOwnProperty,y_=Object.prototype.propertyIsEnumerable,iT=Reflect.get;var g_=(t,e,n)=>e in t?eT(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,b=(t,e)=>{for(var n in e||={})m_.call(e,n)&&g_(t,n,e[n]);if(qa)for(var n of qa(e))y_.call(e,n)&&g_(t,n,e[n]);return t},ee=(t,e)=>tT(t,nT(e));var kd=(t,e)=>{var n={};for(var r in t)m_.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&qa)for(var r of qa(t))e.indexOf(r)<0&&y_.call(t,r)&&(n[r]=t[r]);return n};var Mr=(t,e,n)=>iT(rT(t),n,e);var g=(t,e,n)=>new Promise((r,i)=>{var s=l=>{try{a(n.next(l))}catch(c){i(c)}},o=l=>{try{a(n.throw(l))}catch(c){i(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(s,o);a((n=n.apply(t,e)).next())});var __=null;var Pd=1,v_=Symbol("SIGNAL");function re(t){let e=__;return __=t,e}var w_={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function sT(t){if(!(Vd(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Pd)){if(!t.producerMustRecompute(t)&&!Fd(t)){t.dirty=!1,t.lastCleanEpoch=Pd;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Pd}}function b_(t){return t&&(t.nextProducerIndex=0),re(t)}function E_(t,e){if(re(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Vd(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Ld(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Fd(t){jd(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(sT(n),r!==n.version))return!0}return!1}function C_(t){if(jd(t),Vd(t))for(let e=0;e<t.producerNode.length;e++)Ld(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Ld(t,e){if(oT(t),t.liveConsumerNode.length===1&&aT(t))for(let r=0;r<t.producerNode.length;r++)Ld(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];jd(i),i.producerIndexOfThis[r]=e}}function Vd(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function jd(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function oT(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function aT(t){return t.producerNode!==void 0}function lT(){throw new Error}var cT=lT;function I_(t){cT=t}function j(t){return typeof t=="function"}function Ai(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ka=Ai(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function io(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ae=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(j(r))try{r()}catch(s){e=s instanceof Ka?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{D_(s)}catch(o){e=e??[],o instanceof Ka?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Ka(e)}}add(e){var n;if(e&&e!==this)if(this.closed)D_(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&io(n,e)}remove(e){let{_finalizers:n}=this;n&&io(n,e),e instanceof t&&e._removeParent(this)}};Ae.EMPTY=(()=>{let t=new Ae;return t.closed=!0,t})();var Ud=Ae.EMPTY;function Ya(t){return t instanceof Ae||t&&"closed"in t&&j(t.remove)&&j(t.add)&&j(t.unsubscribe)}function D_(t){j(t)?t():t.unsubscribe()}var Lt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Mi={setTimeout(t,e,...n){let{delegate:r}=Mi;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Mi;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Qa(t){Mi.setTimeout(()=>{let{onUnhandledError:e}=Lt;if(e)e(t);else throw t})}function so(){}var S_=Bd("C",void 0,void 0);function T_(t){return Bd("E",void 0,t)}function A_(t){return Bd("N",t,void 0)}function Bd(t,e,n){return{kind:t,value:e,error:n}}var Nr=null;function Ni(t){if(Lt.useDeprecatedSynchronousErrorHandling){let e=!Nr;if(e&&(Nr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Nr;if(Nr=null,n)throw r}}else t()}function M_(t){Lt.useDeprecatedSynchronousErrorHandling&&Nr&&(Nr.errorThrown=!0,Nr.error=t)}var Rr=class extends Ae{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Ya(e)&&e.add(this)):this.destination=hT}static create(e,n,r){return new Ri(e,n,r)}next(e){this.isStopped?Hd(A_(e),this):this._next(e)}error(e){this.isStopped?Hd(T_(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Hd(S_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},uT=Function.prototype.bind;function $d(t,e){return uT.call(t,e)}var zd=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Za(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Za(r)}else Za(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Za(n)}}},Ri=class extends Rr{constructor(e,n,r){super();let i;if(j(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Lt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&$d(e.next,s),error:e.error&&$d(e.error,s),complete:e.complete&&$d(e.complete,s)}):i=e}this.destination=new zd(i)}};function Za(t){Lt.useDeprecatedSynchronousErrorHandling?M_(t):Qa(t)}function dT(t){throw t}function Hd(t,e){let{onStoppedNotification:n}=Lt;n&&Mi.setTimeout(()=>n(t,e))}var hT={closed:!0,next:so,error:dT,complete:so};var xi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function pt(t){return t}function Wd(...t){return Gd(t)}function Gd(t){return t.length===0?pt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var ae=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=pT(n)?n:new Ri(n,r,i);return Ni(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=N_(r),new r((i,s)=>{let o=new Ri({next:a=>{try{n(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[xi](){return this}pipe(...n){return Gd(n)(this)}toPromise(n){return n=N_(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function N_(t){var e;return(e=t??Lt.Promise)!==null&&e!==void 0?e:Promise}function fT(t){return t&&j(t.next)&&j(t.error)&&j(t.complete)}function pT(t){return t&&t instanceof Rr||fT(t)&&Ya(t)}function qd(t){return j(t?.lift)}function te(t){return e=>{if(qd(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function J(t,e,n,r,i){return new Kd(t,e,n,r,i)}var Kd=class extends Rr{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Oi(){return te((t,e)=>{let n=null;t._refCount++;let r=J(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var ki=class extends ae{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,qd(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ae;let n=this.getSubject();e.add(this.source.subscribe(J(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ae.EMPTY)}return e}refCount(){return Oi()(this)}};var R_=Ai(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var fe=(()=>{class t extends ae{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Ja(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new R_}next(n){Ni(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Ni(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Ni(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?Ud:(this.currentObservers=null,s.push(n),new Ae(()=>{this.currentObservers=null,io(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new ae;return n.source=this,n}}return t.create=(e,n)=>new Ja(e,n),t})(),Ja=class extends fe{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Ud}};var Be=class extends fe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var gt=new ae(t=>t.complete());function x_(t){return t&&j(t.schedule)}function O_(t){return t[t.length-1]}function Xa(t){return j(O_(t))?t.pop():void 0}function $n(t){return x_(O_(t))?t.pop():void 0}function Yd(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function P_(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}function k_(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function xr(t){return this instanceof xr?(this.v=t,this):new xr(t)}function F_(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(f){return function(p){return Promise.resolve(p).then(f,d)}}function a(f,p){r[f]&&(i[f]=function(m){return new Promise(function(w,S){s.push([f,m,w,S])>1||l(f,m)})},p&&(i[f]=p(i[f])))}function l(f,p){try{c(r[f](p))}catch(m){h(s[0][3],m)}}function c(f){f.value instanceof xr?Promise.resolve(f.value.v).then(u,d):h(s[0][2],f)}function u(f){l("next",f)}function d(f){l("throw",f)}function h(f,p){f(p),s.shift(),s.length&&l(s[0][0],s[0][1])}}function L_(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof k_=="function"?k_(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,l){o=t[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}}var el=t=>t&&typeof t.length=="number"&&typeof t!="function";function tl(t){return j(t?.then)}function nl(t){return j(t[xi])}function rl(t){return Symbol.asyncIterator&&j(t?.[Symbol.asyncIterator])}function il(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function gT(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var sl=gT();function ol(t){return j(t?.[sl])}function al(t){return F_(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield xr(n.read());if(i)return yield xr(void 0);yield yield xr(r)}}finally{n.releaseLock()}})}function ll(t){return j(t?.getReader)}function Me(t){if(t instanceof ae)return t;if(t!=null){if(nl(t))return mT(t);if(el(t))return yT(t);if(tl(t))return _T(t);if(rl(t))return V_(t);if(ol(t))return vT(t);if(ll(t))return wT(t)}throw il(t)}function mT(t){return new ae(e=>{let n=t[xi]();if(j(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function yT(t){return new ae(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function _T(t){return new ae(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Qa)})}function vT(t){return new ae(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function V_(t){return new ae(e=>{bT(t,e).catch(n=>e.error(n))})}function wT(t){return V_(al(t))}function bT(t,e){var n,r,i,s;return P_(this,void 0,void 0,function*(){try{for(n=L_(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function it(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function cl(t,e=0){return te((n,r)=>{n.subscribe(J(r,i=>it(r,t,()=>r.next(i),e),()=>it(r,t,()=>r.complete(),e),i=>it(r,t,()=>r.error(i),e)))})}function ul(t,e=0){return te((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function j_(t,e){return Me(t).pipe(ul(e),cl(e))}function U_(t,e){return Me(t).pipe(ul(e),cl(e))}function B_(t,e){return new ae(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function $_(t,e){return new ae(n=>{let r;return it(n,e,()=>{r=t[sl](),it(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>j(r?.return)&&r.return()})}function dl(t,e){if(!t)throw new Error("Iterable cannot be null");return new ae(n=>{it(n,e,()=>{let r=t[Symbol.asyncIterator]();it(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function H_(t,e){return dl(al(t),e)}function z_(t,e){if(t!=null){if(nl(t))return j_(t,e);if(el(t))return B_(t,e);if(tl(t))return U_(t,e);if(rl(t))return dl(t,e);if(ol(t))return $_(t,e);if(ll(t))return H_(t,e)}throw il(t)}function Ce(t,e){return e?z_(t,e):Me(t)}function P(...t){let e=$n(t);return Ce(t,e)}function Pi(t,e){let n=j(t)?t:()=>t,r=i=>i.error(n());return new ae(e?i=>e.schedule(r,0,i):r)}function Qd(t){return!!t&&(t instanceof ae||j(t.lift)&&j(t.subscribe))}var Sn=Ai(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function W(t,e){return te((n,r)=>{let i=0;n.subscribe(J(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:ET}=Array;function CT(t,e){return ET(e)?t(...e):t(e)}function hl(t){return W(e=>CT(t,e))}var{isArray:IT}=Array,{getPrototypeOf:DT,prototype:ST,keys:TT}=Object;function fl(t){if(t.length===1){let e=t[0];if(IT(e))return{args:e,keys:null};if(AT(e)){let n=TT(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function AT(t){return t&&typeof t=="object"&&DT(t)===ST}function pl(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function gl(...t){let e=$n(t),n=Xa(t),{args:r,keys:i}=fl(t);if(r.length===0)return Ce([],e);let s=new ae(MT(r,e,i?o=>pl(i,o):pt));return n?s.pipe(hl(n)):s}function MT(t,e,n=pt){return r=>{W_(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let l=0;l<i;l++)W_(e,()=>{let c=Ce(t[l],e),u=!1;c.subscribe(J(r,d=>{s[l]=d,u||(u=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function W_(t,e,n){t?it(n,t,e):e()}function G_(t,e,n,r,i,s,o,a){let l=[],c=0,u=0,d=!1,h=()=>{d&&!l.length&&!c&&e.complete()},f=m=>c<r?p(m):l.push(m),p=m=>{s&&e.next(m),c++;let w=!1;Me(n(m,u++)).subscribe(J(e,S=>{i?.(S),s?f(S):e.next(S)},()=>{w=!0},void 0,()=>{if(w)try{for(c--;l.length&&c<r;){let S=l.shift();o?it(e,o,()=>p(S)):p(S)}h()}catch(S){e.error(S)}}))};return t.subscribe(J(e,f,()=>{d=!0,h()})),()=>{a?.()}}function be(t,e,n=1/0){return j(e)?be((r,i)=>W((s,o)=>e(r,s,i,o))(Me(t(r,i))),n):(typeof e=="number"&&(n=e),te((r,i)=>G_(r,i,t,n)))}function Zd(t=1/0){return be(pt,t)}function q_(){return Zd(1)}function Fi(...t){return q_()(Ce(t,$n(t)))}function Li(t){return new ae(e=>{Me(t()).subscribe(e)})}function Jd(...t){let e=Xa(t),{args:n,keys:r}=fl(t),i=new ae(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),l=o,c=o;for(let u=0;u<o;u++){let d=!1;Me(n[u]).subscribe(J(s,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||s.next(r?pl(r,a):a),s.complete())}))}});return e?i.pipe(hl(e)):i}function Vt(t,e){return te((n,r)=>{let i=0;n.subscribe(J(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Hn(t){return te((e,n)=>{let r=null,i=!1,s;r=e.subscribe(J(n,void 0,void 0,o=>{s=Me(t(o,Hn(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function K_(t,e,n,r,i){return(s,o)=>{let a=n,l=e,c=0;s.subscribe(J(o,u=>{let d=c++;l=a?t(l,u,d):(a=!0,u),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}function Vi(t,e){return j(e)?be(t,e,1):be(t,1)}function zn(t){return te((e,n)=>{let r=!1;e.subscribe(J(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Tn(t){return t<=0?()=>gt:te((e,n)=>{let r=0;e.subscribe(J(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Xd(t){return W(()=>t)}function ml(t=NT){return te((e,n)=>{let r=!1;e.subscribe(J(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function NT(){return new Sn}function oo(t){return te((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function en(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Vt((i,s)=>t(i,s,r)):pt,Tn(1),n?zn(e):ml(()=>new Sn))}function ji(t){return t<=0?()=>gt:te((e,n)=>{let r=[];e.subscribe(J(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function eh(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Vt((i,s)=>t(i,s,r)):pt,ji(1),n?zn(e):ml(()=>new Sn))}function th(t,e){return te(K_(t,e,arguments.length>=2,!0))}function nh(...t){let e=$n(t);return te((n,r)=>{(e?Fi(t,n,e):Fi(t,n)).subscribe(r)})}function jt(t,e){return te((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(J(r,l=>{i?.unsubscribe();let c=0,u=s++;Me(t(l,u)).subscribe(i=J(r,d=>r.next(e?e(l,d,u,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function rh(t){return te((e,n)=>{Me(t).subscribe(J(n,()=>n.complete(),so)),!n.closed&&e.subscribe(n)})}function $e(t,e,n){let r=j(t)||e||n?{next:t,error:e,complete:n}:t;return r?te((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(J(s,l=>{var c;(c=r.next)===null||c===void 0||c.call(r,l),s.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),s.complete()},l=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,l),s.error(l)},()=>{var l,c;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):pt}var kv="https://g.co/ng/security#xss",_=class extends Error{constructor(e,n){super(Ql(e,n)),this.code=e}};function Ql(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function vo(t){return{toString:t}.toString()}var yl="__parameters__";function RT(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function Pv(t,e,n){return vo(()=>{let r=RT(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(l,c,u){let d=l.hasOwnProperty(yl)?l[yl]:Object.defineProperty(l,yl,{value:[]})[yl];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var St=globalThis;function pe(t){for(let e in t)if(t[e]===pe)return e;throw Error("Could not find renamed property on target object.")}function xT(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Je(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Je).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function vh(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var OT=pe({__forward_ref__:pe});function Mn(t){return t.__forward_ref__=Mn,t.toString=function(){return Je(this())},t}function Ze(t){return Fv(t)?t():t}function Fv(t){return typeof t=="function"&&t.hasOwnProperty(OT)&&t.__forward_ref__===Mn}function C(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function _t(t){return{providers:t.providers||[],imports:t.imports||[]}}function Zl(t){return Y_(t,Vv)||Y_(t,jv)}function Lv(t){return Zl(t)!==null}function Y_(t,e){return t.hasOwnProperty(e)?t[e]:null}function kT(t){let e=t&&(t[Vv]||t[jv]);return e||null}function Q_(t){return t&&(t.hasOwnProperty(Z_)||t.hasOwnProperty(PT))?t[Z_]:null}var Vv=pe({\u0275prov:pe}),Z_=pe({\u0275inj:pe}),jv=pe({ngInjectableDef:pe}),PT=pe({ngInjectorDef:pe}),R=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=C({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Uv(t){return t&&!!t.\u0275providers}var FT=pe({\u0275cmp:pe}),LT=pe({\u0275dir:pe}),VT=pe({\u0275pipe:pe}),jT=pe({\u0275mod:pe}),Sl=pe({\u0275fac:pe}),ao=pe({__NG_ELEMENT_ID__:pe}),J_=pe({__NG_ENV_ID__:pe});function Jl(t){return typeof t=="string"?t:t==null?"":String(t)}function UT(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Jl(t)}function BT(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new _(-200,t)}function df(t,e){throw new _(-201,!1)}var G=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(G||{}),wh;function Bv(){return wh}function st(t){let e=wh;return wh=t,e}function $v(t,e,n){let r=Zl(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&G.Optional)return null;if(e!==void 0)return e;df(t,"Injector")}var $T={},lo=$T,bh="__NG_DI_FLAG__",Tl="ngTempTokenPath",HT="ngTokenPath",zT=/\n/gm,WT="\u0275",X_="__source",Hi;function GT(){return Hi}function Wn(t){let e=Hi;return Hi=t,e}function qT(t,e=G.Default){if(Hi===void 0)throw new _(-203,!1);return Hi===null?$v(t,void 0,e):Hi.get(t,e&G.Optional?null:void 0,e)}function A(t,e=G.Default){return(Bv()||qT)(Ze(t),e)}function E(t,e=G.Default){return A(t,Xl(e))}function Xl(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Eh(t){let e=[];for(let n=0;n<t.length;n++){let r=Ze(t[n]);if(Array.isArray(r)){if(r.length===0)throw new _(900,!1);let i,s=G.Default;for(let o=0;o<r.length;o++){let a=r[o],l=KT(a);typeof l=="number"?l===-1?i=a.token:s|=l:i=a}e.push(A(i,s))}else e.push(A(r))}return e}function Hv(t,e){return t[bh]=e,t.prototype[bh]=e,t}function KT(t){return t[bh]}function YT(t,e,n,r){let i=t[Tl];throw e[X_]&&i.unshift(e[X_]),t.message=QT(`
`+t.message,i,n,r),t[HT]=i,t[Tl]=null,t}function QT(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==WT?t.slice(2):t;let i=Je(e);if(Array.isArray(e))i=e.map(Je).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):Je(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(zT,`
  `)}`}var ec=Hv(Pv("Optional"),8);var hf=Hv(Pv("SkipSelf"),4);function Pr(t,e){let n=t.hasOwnProperty(Sl);return n?t[Sl]:null}function ff(t,e){t.forEach(n=>Array.isArray(n)?ff(n,e):e(n))}function zv(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Al(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function ZT(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function tc(t,e,n){let r=wo(t,e);return r>=0?t[r|1]=n:(r=~r,ZT(t,r,e,n)),r}function ih(t,e){let n=wo(t,e);if(n>=0)return t[n|1]}function wo(t,e){return JT(t,e,1)}function JT(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var Wi={},ot=[],Gi=new R(""),Wv=new R("",-1),Gv=new R(""),Ml=class{get(e,n=lo){if(n===lo){let r=new Error(`NullInjectorError: No provider for ${Je(e)}!`);throw r.name="NullInjectorError",r}return n}},qv=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(qv||{}),rn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(rn||{}),qi=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(qi||{});function XT(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Ch(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];eA(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function Kv(t){return t===3||t===4||t===6}function eA(t){return t.charCodeAt(0)===64}function co(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?ev(t,n,i,null,e[++r]):ev(t,n,i,null,null))}}return t}function ev(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var Yv="ng-template";function tA(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&XT(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(pf(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function pf(t){return t.type===4&&t.value!==Yv}function nA(t,e,n){let r=t.type===4&&!n?Yv:t.value;return e===r}function rA(t,e,n){let r=4,i=t.attrs,s=i!==null?oA(i):0,o=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!o&&!Ut(r)&&!Ut(l))return!1;if(o&&Ut(l))continue;o=!1,r=l|r&1;continue}if(!o)if(r&4){if(r=2|r&1,l!==""&&!nA(t,l,n)||l===""&&e.length===1){if(Ut(r))return!1;o=!0}}else if(r&8){if(i===null||!tA(t,i,l,n)){if(Ut(r))return!1;o=!0}}else{let c=e[++a],u=iA(l,i,pf(t),n);if(u===-1){if(Ut(r))return!1;o=!0;continue}if(c!==""){let d;if(u>s?d="":d=i[u+1].toLowerCase(),r&2&&c!==d){if(Ut(r))return!1;o=!0}}}}return Ut(r)||o}function Ut(t){return(t&1)===0}function iA(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return aA(e,t)}function sA(t,e,n=!1){for(let r=0;r<e.length;r++)if(rA(t,e[r],n))return!0;return!1}function oA(t){for(let e=0;e<t.length;e++){let n=t[e];if(Kv(n))return e}return t.length}function aA(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function tv(t,e){return t?":not("+e.trim()+")":e}function lA(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Ut(o)&&(e+=tv(s,i),i=""),r=o,s=s||!Ut(r);n++}return i!==""&&(e+=tv(s,i)),e}function cA(t){return t.map(lA).join(",")}function uA(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!Ut(i))break;i=s}r++}return{attrs:e,classes:n}}function Ne(t){return vo(()=>{let e=ew(t),n=ee(b({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===qv.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||rn.Emulated,styles:t.styles||ot,_:null,schemas:t.schemas||null,tView:null,id:""});tw(n);let r=t.dependencies;return n.directiveDefs=rv(r,!1),n.pipeDefs=rv(r,!0),n.id=fA(n),n})}function dA(t){return Fr(t)||Qv(t)}function hA(t){return t!==null}function vt(t){return vo(()=>({type:t.type,bootstrap:t.bootstrap||ot,declarations:t.declarations||ot,imports:t.imports||ot,exports:t.exports||ot,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function nv(t,e){if(t==null)return Wi;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=qi.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==qi.None?[r,a]:r,e[s]=o):n[s]=r}return n}function Ie(t){return vo(()=>{let e=ew(t);return tw(e),e})}function gf(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Fr(t){return t[FT]||null}function Qv(t){return t[LT]||null}function Zv(t){return t[VT]||null}function Jv(t){let e=Fr(t)||Qv(t)||Zv(t);return e!==null?e.standalone:!1}function Xv(t,e){let n=t[jT]||null;if(!n&&e===!0)throw new Error(`Type ${Je(t)} does not have '\u0275mod' property.`);return n}function ew(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Wi,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||ot,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:nv(t.inputs,e),outputs:nv(t.outputs),debugInfo:null}}function tw(t){t.features?.forEach(e=>e(t))}function rv(t,e){if(!t)return null;let n=e?Zv:dA;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(hA)}function fA(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function nc(t){return{\u0275providers:t}}function mf(...t){return{\u0275providers:nw(!0,t),\u0275fromNgModule:!0}}function nw(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return ff(e,o=>{let a=o;Ih(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&rw(i,s),n}function rw(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];yf(i,s=>{e(s,r)})}}function Ih(t,e,n,r){if(t=Ze(t),!t)return!1;let i=null,s=Q_(t),o=!s&&Fr(t);if(!s&&!o){let l=t.ngModule;if(s=Q_(l),s)i=l;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let l=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let c of l)Ih(c,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let c;try{ff(s.imports,u=>{Ih(u,e,n,r)&&(c||=[],c.push(u))})}finally{}c!==void 0&&rw(c,e)}if(!a){let c=Pr(i)||(()=>new i);e({provide:i,useFactory:c,deps:ot},i),e({provide:Gv,useValue:i,multi:!0},i),e({provide:Gi,useValue:()=>A(i),multi:!0},i)}let l=s.providers;if(l!=null&&!a){let c=t;yf(l,u=>{e(u,c)})}}else return!1;return i!==t&&t.providers!==void 0}function yf(t,e){for(let n of t)Uv(n)&&(n=n.\u0275providers),Array.isArray(n)?yf(n,e):e(n)}var pA=pe({provide:String,useValue:pe});function iw(t){return t!==null&&typeof t=="object"&&pA in t}function gA(t){return!!(t&&t.useExisting)}function mA(t){return!!(t&&t.useFactory)}function Ki(t){return typeof t=="function"}function yA(t){return!!t.useClass}var rc=new R(""),bl={},_A={},sh;function _f(){return sh===void 0&&(sh=new Ml),sh}var Tt=class{},uo=class extends Tt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Sh(e,o=>this.processProvider(o)),this.records.set(Wv,Ui(void 0,this)),i.has("environment")&&this.records.set(Tt,Ui(void 0,this));let s=this.records.get(rc);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Gv,ot,G.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=re(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),re(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Wn(this),r=st(void 0),i;try{return e()}finally{Wn(n),st(r)}}get(e,n=lo,r=G.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(J_))return e[J_](this);r=Xl(r);let i,s=Wn(this),o=st(void 0);try{if(!(r&G.SkipSelf)){let l=this.records.get(e);if(l===void 0){let c=CA(e)&&Zl(e);c&&this.injectableDefInScope(c)?l=Ui(Dh(e),bl):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let a=r&G.Self?_f():this.parent;return n=r&G.Optional&&n===lo?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Tl]=a[Tl]||[]).unshift(Je(e)),s)throw a;return YT(a,e,"R3InjectorError",this.source)}else throw a}finally{st(o),Wn(s)}}resolveInjectorInitializers(){let e=re(null),n=Wn(this),r=st(void 0),i;try{let s=this.get(Gi,ot,G.Self);for(let o of s)o()}finally{Wn(n),st(r),re(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Je(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new _(205,!1)}processProvider(e){e=Ze(e);let n=Ki(e)?e:Ze(e&&e.provide),r=wA(e);if(!Ki(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Ui(void 0,bl,!0),i.factory=()=>Eh(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=re(null);try{return n.value===bl&&(n.value=_A,n.value=n.factory()),typeof n.value=="object"&&n.value&&EA(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{re(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Ze(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Dh(t){let e=Zl(t),n=e!==null?e.factory:Pr(t);if(n!==null)return n;if(t instanceof R)throw new _(204,!1);if(t instanceof Function)return vA(t);throw new _(204,!1)}function vA(t){if(t.length>0)throw new _(204,!1);let n=kT(t);return n!==null?()=>n.factory(t):()=>new t}function wA(t){if(iw(t))return Ui(void 0,t.useValue);{let e=sw(t);return Ui(e,bl)}}function sw(t,e,n){let r;if(Ki(t)){let i=Ze(t);return Pr(i)||Dh(i)}else if(iw(t))r=()=>Ze(t.useValue);else if(mA(t))r=()=>t.useFactory(...Eh(t.deps||[]));else if(gA(t))r=()=>A(Ze(t.useExisting));else{let i=Ze(t&&(t.useClass||t.provide));if(bA(t))r=()=>new i(...Eh(t.deps));else return Pr(i)||Dh(i)}return r}function Ui(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function bA(t){return!!t.deps}function EA(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function CA(t){return typeof t=="function"||typeof t=="object"&&t instanceof R}function Sh(t,e){for(let n of t)Array.isArray(n)?Sh(n,e):n&&Uv(n)?Sh(n.\u0275providers,e):e(n)}function cn(t,e){t instanceof uo&&t.assertNotDestroyed();let n,r=Wn(t),i=st(void 0);try{return e()}finally{Wn(r),st(i)}}function IA(){return Bv()!==void 0||GT()!=null}function DA(t){return typeof t=="function"}var Nn=0,Y=1,F=2,Xe=3,Bt=4,$t=5,Nl=6,Rl=7,At=8,Yi=9,sn=10,Fe=11,ho=12,iv=13,rs=14,on=15,Qi=16,Bi=17,Zi=18,ic=19,ow=20,Gn=21,oh=22,Lr=23,yt=25,aw=1;var Vr=7,xl=8,Ol=9,mt=10,kl=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(kl||{});function qn(t){return Array.isArray(t)&&typeof t[aw]=="object"}function Rn(t){return Array.isArray(t)&&t[aw]===!0}function vf(t){return(t.flags&4)!==0}function sc(t){return t.componentOffset>-1}function oc(t){return(t.flags&1)===1}function Kn(t){return!!t.template}function Th(t){return(t[F]&512)!==0}var Ah=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function lw(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Xn(){return cw}function cw(t){return t.type.prototype.ngOnChanges&&(t.setInput=TA),SA}Xn.ngInherit=!0;function SA(){let t=dw(this),e=t?.current;if(e){let n=t.previous;if(n===Wi)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function TA(t,e,n,r,i){let s=this.declaredInputs[r],o=dw(t)||AA(t,{previous:Wi,current:null}),a=o.current||(o.current={}),l=o.previous,c=l[s];a[s]=new Ah(c&&c.currentValue,n,l===Wi),lw(t,e,i,n)}var uw="__ngSimpleChanges__";function dw(t){return t[uw]||null}function AA(t,e){return t[uw]=e}var sv=null;var tn=function(t,e,n){sv?.(t,e,n)},hw="svg",MA="math";function an(t){for(;Array.isArray(t);)t=t[Nn];return t}function fw(t,e){return an(e[t])}function Mt(t,e){return an(e[t.index])}function wf(t,e){return t.data[e]}function NA(t,e){return t[e]}function er(t,e){let n=e[t];return qn(n)?n:n[Nn]}function bf(t){return(t[F]&128)===128}function RA(t){return Rn(t[Xe])}function Ji(t,e){return e==null?null:t[e]}function pw(t){t[Bi]=0}function xA(t){t[F]&1024||(t[F]|=1024,bf(t)&&ac(t))}function OA(t,e){for(;t>0;)e=e[rs],t--;return e}function fo(t){return!!(t[F]&9216||t[Lr]?.dirty)}function Mh(t){t[sn].changeDetectionScheduler?.notify(7),t[F]&64&&(t[F]|=1024),fo(t)&&ac(t)}function ac(t){t[sn].changeDetectionScheduler?.notify(0);let e=po(t);for(;e!==null&&!(e[F]&8192||(e[F]|=8192,!bf(e)));)e=po(e)}function gw(t,e){if((t[F]&256)===256)throw new _(911,!1);t[Gn]===null&&(t[Gn]=[]),t[Gn].push(e)}function kA(t,e){if(t[Gn]===null)return;let n=t[Gn].indexOf(e);n!==-1&&t[Gn].splice(n,1)}function po(t){let e=t[Xe];return Rn(e)?e[Xe]:e}var q={lFrame:Sw(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var mw=!1;function PA(){return q.lFrame.elementDepthCount}function FA(){q.lFrame.elementDepthCount++}function LA(){q.lFrame.elementDepthCount--}function yw(){return q.bindingsEnabled}function VA(){return q.skipHydrationRootTNode!==null}function jA(t){return q.skipHydrationRootTNode===t}function UA(){q.skipHydrationRootTNode=null}function ue(){return q.lFrame.lView}function et(){return q.lFrame.tView}function Re(t){return q.lFrame.contextLView=t,t[At]}function xe(t){return q.lFrame.contextLView=null,t}function tt(){let t=_w();for(;t!==null&&t.type===64;)t=t.parent;return t}function _w(){return q.lFrame.currentTNode}function BA(){let t=q.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Hr(t,e){let n=q.lFrame;n.currentTNode=t,n.isParent=e}function Ef(){return q.lFrame.isParent}function vw(){q.lFrame.isParent=!1}function ww(){return mw}function ov(t){mw=t}function bw(){let t=q.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function $A(t){return q.lFrame.bindingIndex=t}function lc(){return q.lFrame.bindingIndex++}function Ew(t){let e=q.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function HA(){return q.lFrame.inI18n}function zA(t,e){let n=q.lFrame;n.bindingIndex=n.bindingRootIndex=t,Nh(e)}function WA(){return q.lFrame.currentDirectiveIndex}function Nh(t){q.lFrame.currentDirectiveIndex=t}function GA(t){let e=q.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Cw(t){q.lFrame.currentQueryIndex=t}function qA(t){let e=t[Y];return e.type===2?e.declTNode:e.type===1?t[$t]:null}function Iw(t,e,n){if(n&G.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&G.Host);)if(i=qA(s),i===null||(s=s[rs],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=q.lFrame=Dw();return r.currentTNode=e,r.lView=t,!0}function Cf(t){let e=Dw(),n=t[Y];q.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Dw(){let t=q.lFrame,e=t===null?null:t.child;return e===null?Sw(t):e}function Sw(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function Tw(){let t=q.lFrame;return q.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Aw=Tw;function If(){let t=Tw();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function KA(t){return(q.lFrame.contextLView=OA(t,q.lFrame.contextLView))[At]}function zr(){return q.lFrame.selectedIndex}function jr(t){q.lFrame.selectedIndex=t}function Mw(){let t=q.lFrame;return wf(t.tView,t.selectedIndex)}function je(){q.lFrame.currentNamespace=hw}function un(){YA()}function YA(){q.lFrame.currentNamespace=null}function QA(){return q.lFrame.currentNamespace}var Nw=!0;function cc(){return Nw}function uc(t){Nw=t}function ZA(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=cw(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function dc(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),l&&(t.viewHooks??=[]).push(-n,l),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function El(t,e,n){Rw(t,e,3,n)}function Cl(t,e,n,r){(t[F]&3)===n&&Rw(t,e,n,r)}function ah(t,e){let n=t[F];(n&3)===e&&(n&=16383,n+=1,t[F]=n)}function Rw(t,e,n,r){let i=r!==void 0?t[Bi]&65535:0,s=r??-1,o=e.length-1,a=0;for(let l=i;l<o;l++)if(typeof e[l+1]=="number"){if(a=e[l],r!=null&&a>=r)break}else e[l]<0&&(t[Bi]+=65536),(a<s||s==-1)&&(JA(t,n,e,l),t[Bi]=(t[Bi]&4294901760)+l+2),l++}function av(t,e){tn(4,t,e);let n=re(null);try{e.call(t)}finally{re(n),tn(5,t,e)}}function JA(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[F]>>14<t[Bi]>>16&&(t[F]&3)===e&&(t[F]+=16384,av(a,s)):av(a,s)}var zi=-1,Ur=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function XA(t){return t instanceof Ur}function eM(t){return(t.flags&8)!==0}function tM(t){return(t.flags&16)!==0}function xw(t){return t!==zi}function Pl(t){return t&32767}function nM(t){return t>>16}function Fl(t,e){let n=nM(t),r=e;for(;n>0;)r=r[rs],n--;return r}var Rh=!0;function Ll(t){let e=Rh;return Rh=t,e}var rM=256,Ow=rM-1,kw=5,iM=0,nn={};function sM(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(ao)&&(r=n[ao]),r==null&&(r=n[ao]=iM++);let i=r&Ow,s=1<<i;e.data[t+(i>>kw)]|=s}function Vl(t,e){let n=Pw(t,e);if(n!==-1)return n;let r=e[Y];r.firstCreatePass&&(t.injectorIndex=e.length,lh(r.data,t),lh(e,null),lh(r.blueprint,null));let i=Df(t,e),s=t.injectorIndex;if(xw(i)){let o=Pl(i),a=Fl(i,e),l=a[Y].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=i,s}function lh(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Pw(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Df(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=Uw(i),r===null)return zi;if(n++,i=i[rs],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return zi}function xh(t,e,n){sM(t,e,n)}function oM(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(Kv(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function Fw(t,e,n){if(n&G.Optional||t!==void 0)return t;df(e,"NodeInjector")}function Lw(t,e,n,r){if(n&G.Optional&&r===void 0&&(r=null),!(n&(G.Self|G.Host))){let i=t[Yi],s=st(void 0);try{return i?i.get(e,r,n&G.Optional):$v(e,r,n&G.Optional)}finally{st(s)}}return Fw(r,e,n)}function Vw(t,e,n,r=G.Default,i){if(t!==null){if(e[F]&2048&&!(r&G.Self)){let o=dM(t,e,n,r,nn);if(o!==nn)return o}let s=jw(t,e,n,r,nn);if(s!==nn)return s}return Lw(e,n,r,i)}function jw(t,e,n,r,i){let s=cM(n);if(typeof s=="function"){if(!Iw(e,t,r))return r&G.Host?Fw(i,n,r):Lw(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&G.Optional))df(n);else return o}finally{Aw()}}else if(typeof s=="number"){let o=null,a=Pw(t,e),l=zi,c=r&G.Host?e[on][$t]:null;for((a===-1||r&G.SkipSelf)&&(l=a===-1?Df(t,e):e[a+8],l===zi||!cv(r,!1)?a=-1:(o=e[Y],a=Pl(l),e=Fl(l,e)));a!==-1;){let u=e[Y];if(lv(s,a,u.data)){let d=aM(a,e,n,o,r,c);if(d!==nn)return d}l=e[a+8],l!==zi&&cv(r,e[Y].data[a+8]===c)&&lv(s,a,e)?(o=u,a=Pl(l),e=Fl(l,e)):a=-1}}return i}function aM(t,e,n,r,i,s){let o=e[Y],a=o.data[t+8],l=r==null?sc(a)&&Rh:r!=o&&(a.type&3)!==0,c=i&G.Host&&s===a,u=lM(a,o,n,l,c);return u!==null?Xi(e,o,u,a):nn}function lM(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,l=t.directiveStart,c=t.directiveEnd,u=s>>20,d=r?a:a+u,h=i?a+u:c;for(let f=d;f<h;f++){let p=o[f];if(f<l&&n===p||f>=l&&p.type===n)return f}if(i){let f=o[l];if(f&&Kn(f)&&f.type===n)return l}return null}function Xi(t,e,n,r){let i=t[n],s=e.data;if(XA(i)){let o=i;o.resolving&&BT(UT(s[n]));let a=Ll(o.canSeeViewProviders);o.resolving=!0;let l,c=o.injectImpl?st(o.injectImpl):null,u=Iw(t,r,G.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&ZA(n,s[n],e)}finally{c!==null&&st(c),Ll(a),o.resolving=!1,Aw()}}return i}function cM(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(ao)?t[ao]:void 0;return typeof e=="number"?e>=0?e&Ow:uM:e}function lv(t,e,n){let r=1<<t;return!!(n[e+(t>>kw)]&r)}function cv(t,e){return!(t&G.Self)&&!(t&G.Host&&e)}var kr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Vw(this._tNode,this._lView,e,Xl(r),n)}};function uM(){return new kr(tt(),ue())}function tr(t){return vo(()=>{let e=t.prototype.constructor,n=e[Sl]||Oh(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[Sl]||Oh(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Oh(t){return Fv(t)?()=>{let e=Oh(Ze(t));return e&&e()}:Pr(t)}function dM(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[F]&2048&&!(o[F]&512);){let a=jw(s,o,n,r|G.Self,nn);if(a!==nn)return a;let l=s.parent;if(!l){let c=o[ow];if(c){let u=c.get(n,nn,r);if(u!==nn)return u}l=Uw(o),o=o[rs]}s=l}return i}function Uw(t){let e=t[Y],n=e.type;return n===2?e.declTNode:n===1?t[$t]:null}function Sf(t){return oM(tt(),t)}function uv(t,e=null,n=null,r){let i=Bw(t,e,n,r);return i.resolveInjectorInitializers(),i}function Bw(t,e=null,n=null,r,i=new Set){let s=[n||ot,mf(t)];return r=r||(typeof t=="object"?void 0:Je(t)),new uo(s,e||_f(),r||null,i)}var Or=class Or{static create(e,n){if(Array.isArray(e))return uv({name:""},n,e,"");{let r=e.name??"";return uv({name:r},e.parent,e.providers,r)}}};Or.THROW_IF_NOT_FOUND=lo,Or.NULL=new Ml,Or.\u0275prov=C({token:Or,providedIn:"any",factory:()=>A(Wv)}),Or.__NG_ELEMENT_ID__=-1;var Yn=Or;var hM=new R("");hM.__NG_ELEMENT_ID__=t=>{let e=tt();if(e===null)throw new _(204,!1);if(e.type&2)return e.value;if(t&G.Optional)return null;throw new _(204,!1)};var fM="ngOriginalError";function ch(t){return t[fM]}var An=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&ch(e);for(;n&&ch(n);)n=ch(n);return n||null}},$w=new R("",{providedIn:"root",factory:()=>E(An).handleError.bind(void 0)}),Hw=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=pM,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),kh=class extends Hw{constructor(e){super(),this._lView=e}onDestroy(e){return gw(this._lView,e),()=>kA(this._lView,e)}};function pM(){return new kh(ue())}function gM(){return hc(tt(),ue())}function hc(t,e){return new Ht(Mt(t,e))}var Ht=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=gM;let t=e;return t})();var Ph=class extends fe{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,IA()&&(this.destroyRef=E(Hw,{optional:!0})??void 0)}emit(e){let n=re(null);try{super.next(e)}finally{re(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=uh(s),i&&(i=uh(i)),o&&(o=uh(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof Ae&&e.add(a),a}};function uh(t){return e=>{setTimeout(t,void 0,e)}}var le=Ph;function zw(t){return(t.flags&128)===128}var Ww=new Map,mM=0;function yM(){return mM++}function _M(t){Ww.set(t[ic],t)}function vM(t){Ww.delete(t[ic])}var dv="__ngContext__";function Qn(t,e){qn(e)?(t[dv]=e[ic],_M(e)):t[dv]=e}function Gw(t){return Kw(t[ho])}function qw(t){return Kw(t[Bt])}function Kw(t){for(;t!==null&&!Rn(t);)t=t[Bt];return t}var Fh;function Yw(t){Fh=t}function wM(){if(Fh!==void 0)return Fh;if(typeof document<"u")return document;throw new _(210,!1)}var fc=new R("",{providedIn:"root",factory:()=>bM}),bM="ng",Tf=new R(""),Wr=new R("",{providedIn:"platform",factory:()=>"unknown"});var Af=new R(""),Mf=new R("",{providedIn:"root",factory:()=>wM().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var EM="h",CM="b";var IM=()=>null;function Nf(t,e,n=!1){return IM(t,e,n)}var Qw=!1,DM=new R("",{providedIn:"root",factory:()=>Qw});var _l;function SM(){if(_l===void 0&&(_l=null,St.trustedTypes))try{_l=St.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return _l}function hv(t){return SM()?.createScriptURL(t)||t}var jl=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${kv})`}};function Gr(t){return t instanceof jl?t.changingThisBreaksApplicationSecurity:t}function Rf(t,e){let n=TM(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${kv})`)}return n===e}function TM(t){return t instanceof jl&&t.getTypeName()||null}var AM=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Zw(t){return t=String(t),t.match(AM)?t:"unsafe:"+t}var pc=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(pc||{});function MM(t){let e=Xw();return e?e.sanitize(pc.URL,t)||"":Rf(t,"URL")?Gr(t):Zw(Jl(t))}function NM(t){let e=Xw();if(e)return hv(e.sanitize(pc.RESOURCE_URL,t)||"");if(Rf(t,"ResourceURL"))return hv(Gr(t));throw new _(904,!1)}function RM(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?NM:MM}function Jw(t,e,n){return RM(e,n)(t)}function Xw(){let t=ue();return t&&t[sn].sanitizer}var xM=/^>|^->|<!--|-->|--!>|<!-$/g,OM=/(<|>)/g,kM="\u200B$1\u200B";function PM(t){return t.replace(xM,e=>e.replace(OM,kM))}function gc(t){return t.ownerDocument.defaultView}function eb(t){return t instanceof Function?t():t}var ln=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(ln||{}),FM;function xf(t,e){return FM(t,e)}function $i(t,e,n,r,i){if(r!=null){let s,o=!1;Rn(r)?s=r:qn(r)&&(o=!0,r=r[Nn]);let a=an(r);t===0&&n!==null?i==null?ib(e,n,a):Bl(e,n,a,i||null,!0):t===1&&n!==null?Bl(e,n,a,i||null,!0):t===2?XM(e,a,o):t===3&&e.destroyNode(a),s!=null&&tN(e,t,s,n,i)}}function LM(t,e){return t.createText(e)}function VM(t,e,n){t.setValue(e,n)}function jM(t,e){return t.createComment(PM(e))}function tb(t,e,n){return t.createElement(e,n)}function UM(t,e){nb(t,e),e[Nn]=null,e[$t]=null}function BM(t,e,n,r,i,s){r[Nn]=i,r[$t]=e,yc(t,r,n,1,i,s)}function nb(t,e){e[sn].changeDetectionScheduler?.notify(8),yc(t,e,e[Fe],2,null,null)}function $M(t){let e=t[ho];if(!e)return dh(t[Y],t);for(;e;){let n=null;if(qn(e))n=e[ho];else{let r=e[mt];r&&(n=r)}if(!n){for(;e&&!e[Bt]&&e!==t;)qn(e)&&dh(e[Y],e),e=e[Xe];e===null&&(e=t),qn(e)&&dh(e[Y],e),n=e&&e[Bt]}e=n}}function HM(t,e,n,r){let i=mt+r,s=n.length;r>0&&(n[i-1][Bt]=e),r<s-mt?(e[Bt]=n[i],zv(n,mt+r,e)):(n.push(e),e[Bt]=null),e[Xe]=n;let o=e[Qi];o!==null&&n!==o&&rb(o,e);let a=e[Zi];a!==null&&a.insertView(t),Mh(e),e[F]|=128}function rb(t,e){let n=t[Ol],r=e[Xe];if(qn(r))t[F]|=kl.HasTransplantedViews;else{let i=r[Xe][on];e[on]!==i&&(t[F]|=kl.HasTransplantedViews)}n===null?t[Ol]=[e]:n.push(e)}function Of(t,e){let n=t[Ol],r=n.indexOf(e);n.splice(r,1)}function Ul(t,e){if(t.length<=mt)return;let n=mt+e,r=t[n];if(r){let i=r[Qi];i!==null&&i!==t&&Of(i,r),e>0&&(t[n-1][Bt]=r[Bt]);let s=Al(t,mt+e);UM(r[Y],r);let o=s[Zi];o!==null&&o.detachView(s[Y]),r[Xe]=null,r[Bt]=null,r[F]&=-129}return r}function kf(t,e){if(!(e[F]&256)){let n=e[Fe];n.destroyNode&&yc(t,e,n,3,null,null),$M(e)}}function dh(t,e){if(e[F]&256)return;let n=re(null);try{e[F]&=-129,e[F]|=256,e[Lr]&&C_(e[Lr]),WM(t,e),zM(t,e),e[Y].type===1&&e[Fe].destroy();let r=e[Qi];if(r!==null&&Rn(e[Xe])){r!==e[Xe]&&Of(r,e);let i=e[Zi];i!==null&&i.detachView(t)}vM(e)}finally{re(n)}}function zM(t,e){let n=t.cleanup,r=e[Rl];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[Rl]=null);let i=e[Gn];if(i!==null){e[Gn]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function WM(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Ur)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],l=s[o+1];tn(4,a,l);try{l.call(a)}finally{tn(5,a,l)}}else{tn(4,i,s);try{s.call(i)}finally{tn(5,i,s)}}}}}function GM(t,e,n){return qM(t,e.parent,n)}function qM(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[Nn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===rn.None||s===rn.Emulated)return null}return Mt(r,n)}}function Bl(t,e,n,r,i){t.insertBefore(e,n,r,i)}function ib(t,e,n){t.appendChild(e,n)}function fv(t,e,n,r,i){r!==null?Bl(t,e,n,r,i):ib(t,e,n)}function KM(t,e,n,r){t.removeChild(e,n,r)}function Pf(t,e){return t.parentNode(e)}function YM(t,e){return t.nextSibling(e)}function QM(t,e,n){return JM(t,e,n)}function ZM(t,e,n){return t.type&40?Mt(t,n):null}var JM=ZM,pv;function mc(t,e,n,r){let i=GM(t,r,e),s=e[Fe],o=r.parent||e[$t],a=QM(o,r,e);if(i!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)fv(s,i,n[l],a,!1);else fv(s,i,n,a,!1);pv!==void 0&&pv(s,r,e,n,i)}function Il(t,e){if(e!==null){let n=e.type;if(n&3)return Mt(e,t);if(n&4)return Lh(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Il(t,r);{let i=t[e.index];return Rn(i)?Lh(-1,i):an(i)}}else{if(n&32)return xf(e,t)()||an(t[e.index]);{let r=sb(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=po(t[on]);return Il(i,r)}else return Il(t,e.next)}}}return null}function sb(t,e){if(e!==null){let r=t[on][$t],i=e.projection;return r.projection[i]}return null}function Lh(t,e){let n=mt+t+1;if(n<e.length){let r=e[n],i=r[Y].firstChild;if(i!==null)return Il(r,i)}return e[Vr]}function XM(t,e,n){let r=Pf(t,e);r&&KM(t,r,e,n)}function Ff(t,e,n,r,i,s,o){for(;n!=null;){let a=r[n.index],l=n.type;if(o&&e===0&&(a&&Qn(an(a),r),n.flags|=2),(n.flags&32)!==32)if(l&8)Ff(t,e,n.child,r,i,s,!1),$i(e,t,i,a,s);else if(l&32){let c=xf(n,r),u;for(;u=c();)$i(e,t,i,u,s);$i(e,t,i,a,s)}else l&16?eN(t,e,r,n,i,s):$i(e,t,i,a,s);n=o?n.projectionNext:n.next}}function yc(t,e,n,r,i,s){Ff(n,r,t.firstChild,e,i,s,!1)}function eN(t,e,n,r,i,s){let o=n[on],l=o[$t].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];$i(e,t,i,u,s)}else{let c=l,u=o[Xe];zw(r)&&(c.flags|=128),Ff(t,e,c,u,i,s,!0)}}function tN(t,e,n,r,i){let s=n[Vr],o=an(n);s!==o&&$i(e,t,r,s,i);for(let a=mt;a<n.length;a++){let l=n[a];yc(l[Y],l,t,e,r,s)}}function nN(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:ln.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=ln.Important),t.setStyle(n,r,i,s))}}function rN(t,e,n){t.setAttribute(e,"style",n)}function ob(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function ab(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&Ch(t,e,r),i!==null&&ob(t,e,i),s!==null&&rN(t,e,s)}var dn={};function O(t=1){lb(et(),ue(),zr()+t,!1)}function lb(t,e,n,r){if(!r)if((e[F]&3)===3){let s=t.preOrderCheckHooks;s!==null&&El(e,s,n)}else{let s=t.preOrderHooks;s!==null&&Cl(e,s,0,n)}jr(n)}function T(t,e=G.Default){let n=ue();if(n===null)return A(t,e);let r=tt();return Vw(r,n,Ze(t),e)}function cb(t,e,n,r,i,s){let o=re(null);try{let a=null;i&qi.SignalBased&&(a=e[r][v_]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&qi.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):lw(e,a,r,s)}finally{re(o)}}function iN(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)jr(~i);else{let s=i,o=n[++r],a=n[++r];zA(o,s);let l=e[s];a(2,l)}}}finally{jr(-1)}}function _c(t,e,n,r,i,s,o,a,l,c,u){let d=e.blueprint.slice();return d[Nn]=i,d[F]=r|4|128|8|64,(c!==null||t&&t[F]&2048)&&(d[F]|=2048),pw(d),d[Xe]=d[rs]=t,d[At]=n,d[sn]=o||t&&t[sn],d[Fe]=a||t&&t[Fe],d[Yi]=l||t&&t[Yi]||null,d[$t]=s,d[ic]=yM(),d[Nl]=u,d[ow]=c,d[on]=e.type==2?t[on]:d,d}function bo(t,e,n,r,i){let s=t.data[e];if(s===null)s=sN(t,e,n,r,i),HA()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=BA();s.injectorIndex=o===null?-1:o.injectorIndex}return Hr(s,!0),s}function sN(t,e,n,r,i){let s=_w(),o=Ef(),a=o?s:s&&s.parent,l=t.data[e]=uN(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=l),s!==null&&(o?s.child==null&&l.parent!==null&&(s.child=l):s.next===null&&(s.next=l,l.prev=s)),l}function ub(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function db(t,e,n,r,i){let s=zr(),o=r&2;try{jr(-1),o&&e.length>yt&&lb(t,e,yt,!1),tn(o?2:0,i),n(r,i)}finally{jr(s),tn(o?3:1,i)}}function Lf(t,e,n){if(vf(e)){let r=re(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let l=n[o];a.contentQueries(1,l,o)}}}finally{re(r)}}}function Vf(t,e,n){yw()&&(yN(t,e,n,Mt(n,e)),(n.flags&64)===64&&pb(t,e,n))}function jf(t,e,n=Mt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function hb(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Uf(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Uf(t,e,n,r,i,s,o,a,l,c,u){let d=yt+r,h=d+i,f=oN(d,h),p=typeof c=="function"?c():c;return f[Y]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:u}}function oN(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:dn);return n}function aN(t,e,n,r){let s=r.get(DM,Qw)||n===rn.ShadowDom,o=t.selectRootElement(e,s);return lN(o),o}function lN(t){cN(t)}var cN=()=>null;function uN(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return VA()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function gv(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,l=qi.None;Array.isArray(o)?(a=o[0],l=o[1]):a=o;let c=s;if(i!==null){if(!i.hasOwnProperty(s))continue;c=i[s]}t===0?mv(r,n,c,a,l):mv(r,n,c,a)}return r}function mv(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function dN(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],l=null,c=null;for(let u=r;u<i;u++){let d=s[u],h=n?n.get(d):null,f=h?h.inputs:null,p=h?h.outputs:null;l=gv(0,d.inputs,u,l,f),c=gv(1,d.outputs,u,c,p);let m=l!==null&&o!==null&&!pf(e)?AN(l,u,o):null;a.push(m)}l!==null&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}function hN(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function fN(t,e,n,r,i,s,o,a){let l=Mt(e,n),c=e.inputs,u;!a&&c!=null&&(u=c[r])?($f(t,n,u,r,i),sc(e)&&pN(n,e.index)):e.type&3?(r=hN(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(l,r,i)):e.type&12}function pN(t,e){let n=er(e,t);n[F]&16||(n[F]|=64)}function Bf(t,e,n,r){if(yw()){let i=r===null?null:{"":-1},s=vN(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&fb(t,e,n,o,i,a),i&&wN(n,r,i)}n.mergedAttrs=co(n.mergedAttrs,n.attrs)}function fb(t,e,n,r,i,s){for(let c=0;c<r.length;c++)xh(Vl(n,e),t,r[c].type);EN(n,t.data.length,r.length);for(let c=0;c<r.length;c++){let u=r[c];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,l=ub(t,e,r.length,null);for(let c=0;c<r.length;c++){let u=r[c];n.mergedAttrs=co(n.mergedAttrs,u.hostAttrs),CN(t,n,e,l,u),bN(l,u,i),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),l++}dN(t,n,s)}function gN(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;mN(o)!=a&&o.push(a),o.push(n,r,s)}}function mN(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function yN(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;sc(n)&&IN(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Vl(n,e),Qn(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let l=t.data[a],c=Xi(e,t,a,n);if(Qn(c,e),o!==null&&TN(e,a-i,c,l,n,o),Kn(l)){let u=er(n.index,e);u[At]=Xi(e,t,a,n)}}}function pb(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=WA();try{jr(s);for(let a=r;a<i;a++){let l=t.data[a],c=e[a];Nh(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&_N(l,c)}}finally{jr(-1),Nh(o)}}function _N(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function vN(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(sA(e,o.selectors,!1))if(r||(r=[]),Kn(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let l=a.length;Vh(t,e,l)}else r.unshift(o),Vh(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function Vh(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function wN(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new _(-301,!1);r.push(e[i],s)}}}function bN(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Kn(e)&&(n[""]=t)}}function EN(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function CN(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=Pr(i.type,!0)),o=new Ur(s,Kn(i),T);t.blueprint[r]=o,n[r]=o,gN(t,e,r,ub(t,n,i.hostVars,dn),i)}function IN(t,e,n){let r=Mt(e,t),i=hb(n),s=t[sn].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=vc(t,_c(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function DN(t,e,n,r,i,s){let o=Mt(t,e);SN(e[Fe],o,s,t.value,n,r,i)}function SN(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?Jl(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function TN(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let l=o[a++],c=o[a++],u=o[a++],d=o[a++];cb(r,n,l,c,u,d)}}function AN(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function gb(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function mb(t,e){let n=t.contentQueries;if(n!==null){let r=re(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];Cw(s),a.contentQueries(2,e[o],o)}}}finally{re(r)}}}function vc(t,e){return t[ho]?t[iv][Bt]=e:t[ho]=e,t[iv]=e,e}function jh(t,e,n){Cw(0);let r=re(null);try{e(t,n)}finally{re(r)}}function MN(t){return t[Rl]??=[]}function NN(t){return t.cleanup??=[]}function yb(t,e){let n=t[Yi],r=n?n.get(An,null):null;r&&r.handleError(e)}function $f(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],l=n[s++],c=e[o],u=t.data[o];cb(u,c,r,a,l,i)}}function RN(t,e,n){let r=fw(e,t);VM(t[Fe],r,n)}function xN(t,e){let n=er(e,t),r=n[Y];ON(r,n);let i=n[Nn];i!==null&&n[Nl]===null&&(n[Nl]=Nf(i,n[Yi])),Hf(r,n,n[At])}function ON(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Hf(t,e,n){Cf(e);try{let r=t.viewQuery;r!==null&&jh(1,r,n);let i=t.template;i!==null&&db(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Zi]?.finishViewCreation(t),t.staticContentQueries&&mb(t,e),t.staticViewQueries&&jh(2,t.viewQuery,n);let s=t.components;s!==null&&kN(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[F]&=-5,If()}}function kN(t,e){for(let n=0;n<e.length;n++)xN(t,e[n])}function _b(t,e,n,r){let i=re(null);try{let s=e.tView,a=t[F]&4096?4096:16,l=_c(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=t[e.index];l[Qi]=c;let u=t[Zi];return u!==null&&(l[Zi]=u.createEmbeddedView(s)),Hf(s,l,n),l}finally{re(i)}}function PN(t,e){let n=mt+e;if(n<t.length)return t[n]}function Uh(t,e){return!e||e.firstChild===null||zw(t)}function vb(t,e,n,r=!0){let i=e[Y];if(HM(i,e,t,n),r){let o=Lh(n,t),a=e[Fe],l=Pf(a,t[Vr]);l!==null&&BM(i,t[$t],a,e,l,o)}let s=e[Nl];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function FN(t,e){let n=Ul(t,e);return n!==void 0&&kf(n[Y],n),n}function $l(t,e,n,r,i=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(an(s)),Rn(s)&&LN(s,r);let o=n.type;if(o&8)$l(t,e,n.child,r);else if(o&32){let a=xf(n,e),l;for(;l=a();)r.push(l)}else if(o&16){let a=sb(e,n);if(Array.isArray(a))r.push(...a);else{let l=po(e[on]);$l(l[Y],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function LN(t,e){for(let n=mt;n<t.length;n++){let r=t[n],i=r[Y].firstChild;i!==null&&$l(r[Y],r,i,e)}t[Vr]!==t[Nn]&&e.push(t[Vr])}var wb=[];function VN(t){return t[Lr]??jN(t)}function jN(t){let e=wb.pop()??Object.create(BN);return e.lView=t,e}function UN(t){t.lView[Lr]!==t&&(t.lView=null,wb.push(t))}var BN=ee(b({},w_),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{ac(t.lView)},consumerOnSignalRead(){this.lView[Lr]=this}}),$N=100;function bb(t,e=!0,n=0){let r=t[sn],i=r.rendererFactory,s=!1;s||i.begin?.();try{HN(t,n)}catch(o){throw e&&yb(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function HN(t,e){let n=ww();try{ov(!0),Bh(t,e);let r=0;for(;fo(t);){if(r===$N)throw new _(103,!1);r++,Bh(t,1)}}finally{ov(n)}}function zN(t,e,n,r){let i=e[F];if((i&256)===256)return;let s=!1,o=!1;!s&&e[sn].inlineEffectRunner?.flush(),Cf(e);let a=null,l=null;!s&&WN(t)&&(l=VN(e),a=b_(l));try{pw(e),$A(t.bindingStartIndex),n!==null&&db(t,e,n,2,r);let c=(i&3)===3;if(!s)if(c){let h=t.preOrderCheckHooks;h!==null&&El(e,h,null)}else{let h=t.preOrderHooks;h!==null&&Cl(e,h,0,null),ah(e,0)}if(o||GN(e),Eb(e,0),t.contentQueries!==null&&mb(t,e),!s)if(c){let h=t.contentCheckHooks;h!==null&&El(e,h)}else{let h=t.contentHooks;h!==null&&Cl(e,h,1),ah(e,1)}iN(t,e);let u=t.components;u!==null&&Ib(e,u,0);let d=t.viewQuery;if(d!==null&&jh(2,d,r),!s)if(c){let h=t.viewCheckHooks;h!==null&&El(e,h)}else{let h=t.viewHooks;h!==null&&Cl(e,h,2),ah(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[oh]){for(let h of e[oh])h();e[oh]=null}s||(e[F]&=-73)}catch(c){throw s||ac(e),c}finally{l!==null&&(E_(l,a),UN(l)),If()}}function WN(t){return t.type!==2}function Eb(t,e){for(let n=Gw(t);n!==null;n=qw(n))for(let r=mt;r<n.length;r++){let i=n[r];Cb(i,e)}}function GN(t){for(let e=Gw(t);e!==null;e=qw(e)){if(!(e[F]&kl.HasTransplantedViews))continue;let n=e[Ol];for(let r=0;r<n.length;r++){let i=n[r];xA(i)}}}function qN(t,e,n){let r=er(e,t);Cb(r,n)}function Cb(t,e){bf(t)&&Bh(t,e)}function Bh(t,e){let r=t[Y],i=t[F],s=t[Lr],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&Fd(s)),o||=!1,s&&(s.dirty=!1),t[F]&=-9217,o)zN(r,t,r.template,t[At]);else if(i&8192){Eb(t,1);let a=r.components;a!==null&&Ib(t,a,1)}}function Ib(t,e,n){for(let r=0;r<e.length;r++)qN(t,e[r],n)}function zf(t,e){let n=ww()?64:1088;for(t[sn].changeDetectionScheduler?.notify(e);t;){t[F]|=n;let r=po(t);if(Th(t)&&!r)return t;t=r}return null}var Br=class{get rootNodes(){let e=this._lView,n=e[Y];return $l(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[At]}set context(e){this._lView[At]=e}get destroyed(){return(this._lView[F]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Xe];if(Rn(e)){let n=e[xl],r=n?n.indexOf(this):-1;r>-1&&(Ul(e,r),Al(n,r))}this._attachedToViewContainer=!1}kf(this._lView[Y],this._lView)}onDestroy(e){gw(this._lView,e)}markForCheck(){zf(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[F]&=-129}reattach(){Mh(this._lView),this._lView[F]|=128}detectChanges(){this._lView[F]|=1024,bb(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new _(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Th(this._lView),n=this._lView[Qi];n!==null&&!e&&Of(n,this._lView),nb(this._lView[Y],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new _(902,!1);this._appRef=e;let n=Th(this._lView),r=this._lView[Qi];r!==null&&!n&&rb(r,this._lView),Mh(this._lView)}},wc=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=QN;let t=e;return t})(),KN=wc,YN=class extends KN{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=_b(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Br(i)}};function QN(){return ZN(tt(),ue())}function ZN(t,e){return t.type&4?new YN(e,t,hc(t,e)):null}var k5=new RegExp(`^(\\d+)*(${CM}|${EM})*(.*)`);var JN=()=>null;function $h(t,e){return JN(t,e)}var go=class{},Db=new R("",{providedIn:"root",factory:()=>!1});var Sb=new R(""),Hh=class{},Hl=class{};function XN(t){let e=Error(`No component factory found for ${Je(t)}.`);return e[eR]=t,e}var eR="ngComponent";var zh=class{resolveComponentFactory(e){throw XN(e)}},rp=class rp{};rp.NULL=new zh;var es=rp,Zn=class{},hn=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>tR();let t=e;return t})();function tR(){let t=ue(),e=tt(),n=er(e.index,t);return(qn(n)?n:t)[Fe]}var nR=(()=>{let e=class e{};e.\u0275prov=C({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),hh={};var yv=new Set;function Eo(t){yv.has(t)||(yv.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function Tb(t){let e=!0;return setTimeout(()=>{e&&(e=!1,t())}),typeof St.requestAnimationFrame=="function"&&St.requestAnimationFrame(()=>{e&&(e=!1,t())}),()=>{e=!1}}function _v(t){let e=!0;return queueMicrotask(()=>{e&&t()}),()=>{e=!1}}function vv(...t){}var me=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new le(!1),this.onMicrotaskEmpty=new le(!1),this.onStable=new le(!1),this.onError=new le(!1),typeof Zone>"u")throw new _(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.callbackScheduled=!1,sR(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new _(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new _(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,rR,vv,vv);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},rR={};function Wf(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function iR(t){t.isCheckStableRunning||t.callbackScheduled||(t.callbackScheduled=!0,Zone.root.run(()=>{Tb(()=>{t.callbackScheduled=!1,Wh(t),t.isCheckStableRunning=!0,Wf(t),t.isCheckStableRunning=!1})}),Wh(t))}function sR(t){let e=()=>{iR(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(oR(a))return n.invokeTask(i,s,o,a);try{return wv(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),bv(t)}},onInvoke:(n,r,i,s,o,a,l)=>{try{return wv(t),n.invoke(i,s,o,a,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!aR(a)&&e(),bv(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Wh(t),Wf(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Wh(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function wv(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function bv(t){t._nesting--,Wf(t)}var Gh=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new le,this.onMicrotaskEmpty=new le,this.onStable=new le,this.onError=new le}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function oR(t){return Ab(t,"__ignore_ng_zone__")}function aR(t){return Ab(t,"__scheduler_tick__")}function Ab(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Mb=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=C({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function zl(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=vh(i,a);else if(s==2){let l=a,c=e[++o];r=vh(r,l+": "+c+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Wl=class extends es{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Fr(e);return new mo(n,this.ngModule)}};function Ev(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function lR(t){let e=t.toLowerCase();return e==="svg"?hw:e==="math"?MA:null}var qh=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Xl(r);let i=this.injector.get(e,hh,r);return i!==hh||n===hh?i:this.parentInjector.get(e,n,r)}},mo=class extends Hl{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=Ev(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return Ev(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=cA(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=re(null);try{i=i||this.ngModule;let o=i instanceof Tt?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new qh(e,o):e,l=a.get(Zn,null);if(l===null)throw new _(407,!1);let c=a.get(nR,null),u=a.get(Mb,null),d=a.get(go,null),h={rendererFactory:l,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:d},f=l.createRenderer(null,this.componentDef),p=this.componentDef.selectors[0][0]||"div",m=r?aN(f,r,this.componentDef.encapsulation,a):tb(f,p,lR(p)),w=512;this.componentDef.signals?w|=4096:this.componentDef.onPush||(w|=16);let S=null;m!==null&&(S=Nf(m,a,!0));let K=Uf(0,null,null,1,0,null,null,null,null,null,null),V=_c(null,K,null,w,null,null,h,f,a,null,S);Cf(V);let ie,We;try{let ge=this.componentDef,_e,Te=null;ge.findHostDirectiveDefs?(_e=[],Te=new Map,ge.findHostDirectiveDefs(ge,_e,Te),_e.push(ge)):_e=[ge];let ht=cR(V,m),Jt=uR(ht,m,ge,_e,V,h,f);We=wf(K,yt),m&&fR(f,ge,m,r),n!==void 0&&pR(We,this.ngContentSelectors,n),ie=hR(Jt,ge,_e,Te,V,[gR]),Hf(K,V,null)}finally{If()}return new Kh(this.componentType,ie,hc(We,V),V,We)}finally{re(s)}}},Kh=class extends Hh{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Br(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;$f(s[Y],s,i,e,n),this.previousInputValues.set(e,n);let o=er(this._tNode.index,s);zf(o,1)}}get injector(){return new kr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function cR(t,e){let n=t[Y],r=yt;return t[r]=e,bo(n,r,2,"#host",null)}function uR(t,e,n,r,i,s,o){let a=i[Y];dR(r,t,e,o);let l=null;e!==null&&(l=Nf(e,i[Yi]));let c=s.rendererFactory.createRenderer(e,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let d=_c(i,hb(n),null,u,i[t.index],t,s,c,null,null,l);return a.firstCreatePass&&Vh(a,t,r.length-1),vc(i,d),i[t.index]=d}function dR(t,e,n,r){for(let i of t)e.mergedAttrs=co(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(zl(e,e.mergedAttrs,!0),n!==null&&ab(r,n,e))}function hR(t,e,n,r,i,s){let o=tt(),a=i[Y],l=Mt(o,i);fb(a,i,o,n,null,r);for(let u=0;u<n.length;u++){let d=o.directiveStart+u,h=Xi(i,a,d,o);Qn(h,i)}pb(a,i,o),l&&Qn(l,i);let c=Xi(i,a,o.directiveStart+o.componentOffset,o);if(t[At]=i[At]=c,s!==null)for(let u of s)u(c,e);return Lf(a,o,i),c}function fR(t,e,n,r){if(r)Ch(t,n,["ng-version","18.0.2"]);else{let{attrs:i,classes:s}=uA(e.selectors[0]);i&&Ch(t,n,i),s&&s.length>0&&ob(t,n,s.join(" "))}}function pR(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function gR(){let t=tt();dc(ue()[Y],t)}var is=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=mR;let t=e;return t})();function mR(){let t=tt();return _R(t,ue())}var yR=is,Nb=class extends yR{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return hc(this._hostTNode,this._hostLView)}get injector(){return new kr(this._hostTNode,this._hostLView)}get parentInjector(){let e=Df(this._hostTNode,this._hostLView);if(xw(e)){let n=Fl(e,this._hostLView),r=Pl(e),i=n[Y].data[r+8];return new kr(i,n)}else return new kr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Cv(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-mt}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=$h(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,Uh(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!DA(e),a;if(o)a=n;else{let p=n||{};a=p.index,r=p.injector,i=p.projectableNodes,s=p.environmentInjector||p.ngModuleRef}let l=o?e:new mo(Fr(e)),c=r||this.parentInjector;if(!s&&l.ngModule==null){let m=(o?c:this.parentInjector).get(Tt,null);m&&(s=m)}let u=Fr(l.componentType??{}),d=$h(this._lContainer,u?.id??null),h=d?.firstChild??null,f=l.create(c,i,h,s);return this.insertImpl(f.hostView,a,Uh(this._hostTNode,d)),f}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(RA(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=i[Xe],c=new Nb(l,l[$t],l[Xe]);c.detach(c.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return vb(o,i,s,r),e.attachToViewContainerRef(),zv(fh(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Cv(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Ul(this._lContainer,n);r&&(Al(fh(this._lContainer),n),kf(r[Y],r))}detach(e){let n=this._adjustIndex(e,-1),r=Ul(this._lContainer,n);return r&&Al(fh(this._lContainer),n)!=null?new Br(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Cv(t){return t[xl]}function fh(t){return t[xl]||(t[xl]=[])}function _R(t,e){let n,r=e[t.index];return Rn(r)?n=r:(n=gb(r,e,null,t),e[t.index]=n,vc(e,n)),wR(n,e,t,r),new Nb(n,t,e)}function vR(t,e){let n=t[Fe],r=n.createComment(""),i=Mt(e,t),s=Pf(n,i);return Bl(n,s,r,YM(n,i),!1),r}var wR=CR,bR=()=>!1;function ER(t,e,n){return bR(t,e,n)}function CR(t,e,n,r){if(t[Vr])return;let i;n.type&8?i=an(r):i=vR(e,n),t[Vr]=i}function IR(t){return Object.getPrototypeOf(t.prototype).constructor}function zt(t){let e=IR(t.type),n=!0,r=[t];for(;e;){let i;if(Kn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new _(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=vl(t.inputs),o.inputTransforms=vl(t.inputTransforms),o.declaredInputs=vl(t.declaredInputs),o.outputs=vl(t.outputs);let a=i.hostBindings;a&&MR(t,a);let l=i.viewQuery,c=i.contentQueries;if(l&&TR(t,l),c&&AR(t,c),DR(t,i),xT(t.outputs,i.outputs),Kn(i)&&i.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===zt&&(n=!1)}}e=Object.getPrototypeOf(e)}SR(r)}function DR(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function SR(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=co(i.hostAttrs,n=co(n,i.hostAttrs))}}function vl(t){return t===Wi?{}:t===ot?[]:t}function TR(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function AR(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function MR(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Gf(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Jn=class{},yo=class{};var Yh=class extends Jn{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Wl(this);let i=Xv(e);this._bootstrapComponents=eb(i.bootstrap),this._r3Injector=Bw(e,n,[{provide:Jn,useValue:this},{provide:es,useValue:this.componentFactoryResolver},...r],Je(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Qh=class extends yo{constructor(e){super(),this.moduleType=e}create(e){return new Yh(this.moduleType,e,[])}};var Gl=class extends Jn{constructor(e){super(),this.componentFactoryResolver=new Wl(this),this.instance=null;let n=new uo([...e.providers,{provide:Jn,useValue:this},{provide:es,useValue:this.componentFactoryResolver}],e.parent||_f(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function qf(t,e,n=null){return new Gl({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var ss=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Be(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Rb(t){return Kf(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function NR(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function Kf(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function RR(t,e,n){return t[e]=n}function qr(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function xR(t){return(t.flags&32)===32}function OR(t,e,n,r,i,s,o,a,l){let c=e.consts,u=bo(e,t,4,o||null,a||null);Bf(e,n,u,Ji(c,l)),dc(e,u);let d=u.tView=Uf(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function kR(t,e,n,r,i,s,o,a,l,c){let u=n+yt,d=e.firstCreatePass?OR(u,e,t,r,i,s,o,a,l):e.data[u];Hr(d,!1);let h=PR(e,t,d,n);cc()&&mc(e,t,h,d),Qn(h,t);let f=gb(h,t,h,d);return t[u]=f,vc(t,f),ER(f,d,t),oc(d)&&Vf(e,t,d),l!=null&&jf(t,d,c),d}function De(t,e,n,r,i,s,o,a){let l=ue(),c=et(),u=Ji(c.consts,s);return kR(l,c,t,e,n,r,i,u,o,a),De}var PR=FR;function FR(t,e,n,r){return uc(!0),e[Fe].createComment("")}function bc(t,e,n,r){let i=ue(),s=lc();if(qr(i,s,e)){let o=et(),a=Mw();DN(a,i,t,e,n,r)}return bc}function LR(t,e,n,r){return qr(t,lc(),n)?e+Jl(n)+r:dn}function wl(t,e){return t<<17|e<<2}function $r(t){return t>>17&32767}function VR(t){return(t&2)==2}function jR(t,e){return t&131071|e<<17}function Zh(t){return t|2}function ts(t){return(t&131068)>>2}function ph(t,e){return t&-131069|e<<2}function UR(t){return(t&1)===1}function Jh(t){return t|1}function BR(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=$r(o),l=ts(o);t[r]=n;let c=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||wo(d,u)>0)&&(c=!0)}else u=n;if(i)if(l!==0){let h=$r(t[a+1]);t[r+1]=wl(h,a),h!==0&&(t[h+1]=ph(t[h+1],r)),t[a+1]=jR(t[a+1],r)}else t[r+1]=wl(a,0),a!==0&&(t[a+1]=ph(t[a+1],r)),a=r;else t[r+1]=wl(l,0),a===0?a=r:t[l+1]=ph(t[l+1],r),l=r;c&&(t[r+1]=Zh(t[r+1])),Iv(t,u,r,!0),Iv(t,u,r,!1),$R(e,u,t,r,s),o=wl(a,l),s?e.classBindings=o:e.styleBindings=o}function $R(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&wo(s,e)>=0&&(n[r+1]=Jh(n[r+1]))}function Iv(t,e,n,r){let i=t[n+1],s=e===null,o=r?$r(i):ts(i),a=!1;for(;o!==0&&(a===!1||s);){let l=t[o],c=t[o+1];HR(l,e)&&(a=!0,t[o+1]=r?Jh(c):Zh(c)),o=r?$r(c):ts(c)}a&&(t[n+1]=r?Zh(i):Jh(i))}function HR(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?wo(t,e)>=0:!1}var Pe={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function xb(t){return t.substring(Pe.key,Pe.keyEnd)}function zR(t){return t.substring(Pe.value,Pe.valueEnd)}function WR(t){return Pb(t),Ob(t,ns(t,0,Pe.textEnd))}function Ob(t,e){let n=Pe.textEnd;return n===e?-1:(e=Pe.keyEnd=qR(t,Pe.key=e,n),ns(t,e,n))}function GR(t){return Pb(t),kb(t,ns(t,0,Pe.textEnd))}function kb(t,e){let n=Pe.textEnd,r=Pe.key=ns(t,e,n);return n===r?-1:(r=Pe.keyEnd=KR(t,r,n),r=Dv(t,r,n,58),r=Pe.value=ns(t,r,n),r=Pe.valueEnd=YR(t,r,n),Dv(t,r,n,59))}function Pb(t){Pe.key=0,Pe.keyEnd=0,Pe.value=0,Pe.valueEnd=0,Pe.textEnd=t.length}function ns(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function qR(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function KR(t,e,n){let r;for(;e<n&&((r=t.charCodeAt(e))===45||r===95||(r&-33)>=65&&(r&-33)<=90||r>=48&&r<=57);)e++;return e}function Dv(t,e,n,r){return e=ns(t,e,n),e<n&&e++,e}function YR(t,e,n){let r=-1,i=-1,s=-1,o=e,a=o;for(;o<n;){let l=t.charCodeAt(o++);if(l===59)return a;l===34||l===39?a=o=Sv(t,l,o,n):e===o-4&&s===85&&i===82&&r===76&&l===40?a=o=Sv(t,41,o,n):l>32&&(a=o),s=i,i=r,r=l&-33}return a}function Sv(t,e,n,r){let i=-1,s=n;for(;s<r;){let o=t.charCodeAt(s++);if(o==e&&i!==92)return s;o==92&&i===92?i=0:i=o}throw new Error}function L(t,e,n){let r=ue(),i=lc();if(qr(r,i,e)){let s=et(),o=Mw();fN(s,o,r,t,e,r[Fe],n,!1)}return L}function Xh(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";$f(t,n,s[o],o,r)}function os(t,e,n){return Fb(t,e,n,!1),os}function Ec(t,e){return Fb(t,e,null,!0),Ec}function as(t){Lb(Ub,QR,t,!1)}function QR(t,e){for(let n=GR(e);n>=0;n=kb(e,n))Ub(t,xb(e),zR(e))}function Kr(t){Lb(rx,ZR,t,!0)}function ZR(t,e){for(let n=WR(e);n>=0;n=Ob(e,n))tc(t,xb(e),!0)}function Fb(t,e,n,r){let i=ue(),s=et(),o=Ew(2);if(s.firstUpdatePass&&jb(s,t,o,r),e!==dn&&qr(i,o,e)){let a=s.data[zr()];Bb(s,a,i,i[Fe],t,i[o+1]=sx(e,n),r,o)}}function Lb(t,e,n,r){let i=et(),s=Ew(2);i.firstUpdatePass&&jb(i,null,s,r);let o=ue();if(n!==dn&&qr(o,s,n)){let a=i.data[zr()];if($b(a,r)&&!Vb(i,s)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(n=vh(l,n||"")),Xh(i,a,o,n,r)}else ix(i,a,o,o[Fe],o[s+1],o[s+1]=nx(t,e,n),r,s)}}function Vb(t,e){return e>=t.expandoStartIndex}function jb(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[zr()],o=Vb(t,n);$b(s,r)&&e===null&&!o&&(e=!1),e=JR(i,s,e,r),BR(i,s,e,n,o,r)}}function JR(t,e,n,r){let i=GA(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=gh(null,t,e,n,r),n=_o(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=gh(i,t,e,n,r),s===null){let l=XR(t,e,r);l!==void 0&&Array.isArray(l)&&(l=gh(null,t,e,l[1],r),l=_o(l,e.attrs,r),ex(t,e,r,l))}else s=tx(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function XR(t,e,n){let r=n?e.classBindings:e.styleBindings;if(ts(r)!==0)return t[$r(r)]}function ex(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[$r(i)]=r}function tx(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=_o(r,o,n)}return _o(r,e.attrs,n)}function gh(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=_o(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function _o(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),tc(t,o,n?!0:e[++s]))}return t===void 0?null:t}function nx(t,e,n){if(n==null||n==="")return ot;let r=[],i=Gr(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if(typeof i=="object")for(let s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else typeof i=="string"&&e(r,i);return r}function Ub(t,e,n){tc(t,e,Gr(n))}function rx(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&tc(t,r,n)}function ix(t,e,n,r,i,s,o,a){i===dn&&(i=ot);let l=0,c=0,u=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;u!==null||d!==null;){let h=l<i.length?i[l+1]:void 0,f=c<s.length?s[c+1]:void 0,p=null,m;u===d?(l+=2,c+=2,h!==f&&(p=d,m=f)):d===null||u!==null&&u<d?(l+=2,p=u):(c+=2,p=d,m=f),p!==null&&Bb(t,e,n,r,p,m,o,a),u=l<i.length?i[l]:null,d=c<s.length?s[c]:null}}function Bb(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let l=t.data,c=l[a+1],u=UR(c)?Tv(l,e,n,i,ts(c),o):void 0;if(!ql(u)){ql(s)||VR(c)&&(s=Tv(l,null,n,i,a,o));let d=fw(zr(),n);nN(r,o,d,i,s)}}function Tv(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let l=t[i],c=Array.isArray(l),u=c?l[1]:l,d=u===null,h=n[i+1];h===dn&&(h=d?ot:void 0);let f=d?ih(h,r):u===r?h:void 0;if(c&&!ql(f)&&(f=ih(l,r)),ql(f)&&(a=f,o))return a;let p=t[i+1];i=o?$r(p):ts(p)}if(e!==null){let l=s?e.residualClasses:e.residualStyles;l!=null&&(a=ih(l,r))}return a}function ql(t){return t!==void 0}function sx(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Je(Gr(t)))),t}function $b(t,e){return(t.flags&(e?8:16))!==0}function Yr(t,e){Eo("NgControlFlow");let n=ue(),r=lc(),i=n[r]!==dn?n[r]:-1,s=i!==-1?Av(n,yt+i):void 0,o=0;if(qr(n,r,t)){let a=re(null);try{if(s!==void 0&&FN(s,o),t!==-1){let l=yt+t,c=Av(n,l),u=ox(n[Y],l),d=$h(c,u.tView.ssrId),h=_b(n,u,e,{dehydratedView:d});vb(c,h,o,Uh(u,d))}}finally{re(a)}}else if(s!==void 0){let a=PN(s,o);a!==void 0&&(a[At]=e)}}function Av(t,e){return t[e]}function ox(t,e){return wf(t,e)}function ax(t,e,n,r,i,s){let o=e.consts,a=Ji(o,i),l=bo(e,t,2,r,a);return Bf(e,n,l,Ji(o,s)),l.attrs!==null&&zl(l,l.attrs,!1),l.mergedAttrs!==null&&zl(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function y(t,e,n,r){let i=ue(),s=et(),o=yt+t,a=i[Fe],l=s.firstCreatePass?ax(o,s,i,e,n,r):s.data[o],c=lx(s,i,l,a,e,t);i[o]=c;let u=oc(l);return Hr(l,!0),ab(a,c,l),!xR(l)&&cc()&&mc(s,i,c,l),PA()===0&&Qn(c,i),FA(),u&&(Vf(s,i,l),Lf(s,l,i)),r!==null&&jf(i,l),y}function I(){let t=tt();Ef()?vw():(t=t.parent,Hr(t,!1));let e=t;jA(e)&&UA(),LA();let n=et();return n.firstCreatePass&&(dc(n,t),vf(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&eM(e)&&Xh(n,e,ue(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&tM(e)&&Xh(n,e,ue(),e.stylesWithoutHost,!1),I}function M(t,e,n,r){return y(t,e,n,r),I(),M}var lx=(t,e,n,r,i,s)=>(uc(!0),tb(r,i,QA()));function cx(t,e,n,r,i){let s=e.consts,o=Ji(s,r),a=bo(e,t,8,"ng-container",o);o!==null&&zl(a,o,!0);let l=Ji(s,i);return Bf(e,n,a,l),e.queries!==null&&e.queries.elementStart(e,a),a}function Yf(t,e,n){let r=ue(),i=et(),s=t+yt,o=i.firstCreatePass?cx(s,i,r,e,n):i.data[s];Hr(o,!0);let a=ux(i,r,o,t);return r[s]=a,cc()&&mc(i,r,a,o),Qn(a,r),oc(o)&&(Vf(i,r,o),Lf(i,o,r)),n!=null&&jf(r,o),Yf}function Qf(){let t=tt(),e=et();return Ef()?vw():(t=t.parent,Hr(t,!1)),e.firstCreatePass&&(dc(e,t),vf(t)&&e.queries.elementEnd(t)),Qf}var ux=(t,e,n,r)=>(uc(!0),jM(e[Fe],""));function at(){return ue()}var Kl="en-US";var dx=Kl;function hx(t){typeof t=="string"&&(dx=t.toLowerCase().replace(/_/g,"-"))}var fx=(t,e,n)=>{};function U(t,e,n,r){let i=ue(),s=et(),o=tt();return gx(s,i,i[Fe],o,t,e,r),U}function px(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[Rl],l=i[s+2];return a.length>l?a[l]:null}typeof o=="string"&&(s+=2)}return null}function gx(t,e,n,r,i,s,o){let a=oc(r),c=t.firstCreatePass&&NN(t),u=e[At],d=MN(e),h=!0;if(r.type&3||o){let m=Mt(r,e),w=o?o(m):m,S=d.length,K=o?ie=>o(an(ie[r.index])):r.index,V=null;if(!o&&a&&(V=px(t,e,i,r.index)),V!==null){let ie=V.__ngLastListenerFn__||V;ie.__ngNextListenerFn__=s,V.__ngLastListenerFn__=s,h=!1}else{s=Nv(r,e,u,s),fx(m,i,s);let ie=n.listen(w,i,s);d.push(s,ie),c&&c.push(i,K,S,S+1)}}else s=Nv(r,e,u,s);let f=r.outputs,p;if(h&&f!==null&&(p=f[i])){let m=p.length;if(m)for(let w=0;w<m;w+=2){let S=p[w],K=p[w+1],We=e[S][K].subscribe(s),ge=d.length;d.push(s,We),c&&c.push(i,r.index,ge,-(ge+1))}}}function Mv(t,e,n,r){let i=re(null);try{return tn(6,e,n),n(r)!==!1}catch(s){return yb(t,s),!1}finally{tn(7,e,n),re(i)}}function Nv(t,e,n,r){return function i(s){if(s===Function)return r;let o=t.componentOffset>-1?er(t.index,e):e;zf(o,5);let a=Mv(e,n,r,s),l=i.__ngNextListenerFn__;for(;l;)a=Mv(e,n,l,s)&&a,l=l.__ngNextListenerFn__;return a}}function z(t=1){return KA(t)}function mx(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function oe(t,e=""){let n=ue(),r=et(),i=t+yt,s=r.firstCreatePass?bo(r,i,1,e,null):r.data[i],o=yx(r,n,s,e,t);n[i]=o,cc()&&mc(r,n,o,s),Hr(s,!1)}var yx=(t,e,n,r,i)=>(uc(!0),LM(e[Fe],r));function wt(t){return Qr("",t,""),wt}function Qr(t,e,n){let r=ue(),i=LR(r,t,e,n);return i!==dn&&RN(r,zr(),i),Qr}function _x(t,e,n){let r=et();if(r.firstCreatePass){let i=Kn(t);ef(n,r.data,r.blueprint,i,!0),ef(e,r.data,r.blueprint,i,!1)}}function ef(t,e,n,r,i){if(t=Ze(t),Array.isArray(t))for(let s=0;s<t.length;s++)ef(t[s],e,n,r,i);else{let s=et(),o=ue(),a=tt(),l=Ki(t)?t:Ze(t.provide),c=sw(t),u=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(Ki(t)||!t.multi){let f=new Ur(c,i,T),p=yh(l,e,i?u:u+h,d);p===-1?(xh(Vl(a,o),s,l),mh(s,t,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{let f=yh(l,e,u+h,d),p=yh(l,e,u,u+h),m=f>=0&&n[f],w=p>=0&&n[p];if(i&&!w||!i&&!m){xh(Vl(a,o),s,l);let S=bx(i?wx:vx,n.length,i,r,c);!i&&w&&(n[p].providerFactory=S),mh(s,t,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(S),o.push(S)}else{let S=Hb(n[i?p:f],c,!i&&r);mh(s,t,f>-1?f:p,S)}!i&&r&&w&&n[p].componentProviders++}}}function mh(t,e,n,r){let i=Ki(e),s=yA(e);if(i||s){let l=(s?Ze(e.useClass):e).prototype.ngOnDestroy;if(l){let c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let u=c.indexOf(n);u===-1?c.push(n,[r,l]):c[u+1].push(r,l)}else c.push(n,l)}}}function Hb(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function yh(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function vx(t,e,n,r){return tf(this.multi,[])}function wx(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=Xi(n,n[Y],this.providerFactory.index,r);s=a.slice(0,o),tf(i,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],tf(i,s);return s}function tf(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function bx(t,e,n,r,i){let s=new Ur(t,n,T);return s.multi=[],s.index=e,s.componentProviders=0,Hb(s,i,r&&!n),s}function Zr(t,e=[]){return n=>{n.providersResolver=(r,i)=>_x(r,i?i(t):t,e)}}var Ex=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=nw(!1,r.type),s=i.length>0?qf([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=C({token:e,providedIn:"environment",factory:()=>new e(A(Tt))});let t=e;return t})();function Oe(t){Eo("NgStandalone"),t.getStandaloneInjector=e=>e.get(Ex).getOrCreateStandaloneInjector(t)}function nr(t,e,n,r){return zb(ue(),bw(),t,e,n,r)}function Cx(t,e){let n=t[e];return n===dn?void 0:n}function zb(t,e,n,r,i,s){let o=e+n;return qr(t,o,i)?RR(t,o+1,s?r.call(s,i):r(i)):Cx(t,o+1)}function ls(t,e){let n=et(),r,i=t+yt;n.firstCreatePass?(r=Ix(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let s=r.factory||(r.factory=Pr(r.type,!0)),o,a=st(T);try{let l=Ll(!1),c=s();return Ll(l),mx(n,ue(),i,c),c}finally{st(a)}}function Ix(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function cs(t,e,n){let r=t+yt,i=ue(),s=NA(i,r);return Dx(i,r)?zb(i,bw(),e,s.transform,n,s):s.transform(n)}function Dx(t,e){return t[Y].data[e].pure}var Cc=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var Zf=new R(""),Co=new R(""),Ic=(()=>{let e=class e{constructor(r,i,s){this._ngZone=r,this.registry=i,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Jf||(Sx(s),s.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{me.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(r)?(clearTimeout(i.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,s){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),r()},i)),this._callbacks.push({doneCb:r,timeoutId:o,updateCb:s})}whenStable(r,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,s),this._runCallbacksIfReady()}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,s){return[]}};e.\u0275fac=function(i){return new(i||e)(A(me),A(Dc),A(Co))},e.\u0275prov=C({token:e,factory:e.\u0275fac});let t=e;return t})(),Dc=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return Jf?.findTestabilityInTree(this,r,i)??null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function Sx(t){Jf=t}var Jf;function Jr(t){return!!t&&typeof t.then=="function"}function Wb(t){return!!t&&typeof t.subscribe=="function"}var Gb=new R(""),qb=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=E(Gb,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(Jr(o))r.push(o);else if(Wb(o)){let a=new Promise((l,c)=>{o.subscribe({complete:l,error:c})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Sc=new R("");function Tx(){I_(()=>{throw new _(600,!1)})}function Ax(t){return t.isBoundToModule}var Mx=10;function Nx(t,e,n){try{let r=n();return Jr(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var rr=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=E($w),this.afterRenderEffectManager=E(Mb),this.zonelessEnabled=E(Db),this.externalTestViews=new Set,this.beforeRender=new fe,this.afterTick=new fe,this.componentTypes=[],this.components=[],this.isStable=E(ss).hasPendingTasks.pipe(W(r=>!r)),this._injector=E(Tt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof Hl;if(!this._injector.get(qb).done){let f=!s&&Jv(r),p=!1;throw new _(405,p)}let a;s?a=r:a=this._injector.get(es).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let l=Ax(a)?void 0:this._injector.get(Jn),c=i||a.selector,u=a.create(Yn.NULL,[],c,l),d=u.location.nativeElement,h=u.injector.get(Zf,null);return h?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),_h(this.components,u),h?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new _(101,!1);let i=re(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1,re(i),this.afterTick.next()}}detectChangesInAttachedViews(r){let i=null;this._injector.destroyed||(i=this._injector.get(Zn,null,{optional:!0}));let s=0,o=this.afterRenderEffectManager;for(;s<Mx;){let a=s===0;if(r||!a){this.beforeRender.next(a);for(let{_lView:l,notifyErrorHandler:c}of this._views)Rx(l,c,a,this.zonelessEnabled)}else i?.begin?.(),i?.end?.();if(s++,o.executeInternalCallbacks(),!this.allViews.some(({_lView:l})=>fo(l))&&(o.execute(),!this.allViews.some(({_lView:l})=>fo(l))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;_h(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Sc,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>_h(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new _(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function _h(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Rx(t,e,n,r){if(!n&&!fo(t))return;bb(t,e,n&&!r?0:1)}var nf=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Xf=(()=>{let e=class e{compileModuleSync(r){return new Qh(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=Xv(r),o=eb(s.declarations).reduce((a,l)=>{let c=Fr(l);return c&&a.push(new mo(c)),a},[]);return new nf(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var xx=(()=>{let e=class e{constructor(){this.zone=E(me),this.changeDetectionScheduler=E(go),this.applicationRef=E(rr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Ox({ngZoneFactory:t,ignoreChangesOutsideZone:e}){return t??=()=>new me(Px()),[{provide:me,useFactory:t},{provide:Gi,multi:!0,useFactory:()=>{let n=E(xx,{optional:!0});return()=>n.initialize()}},{provide:Gi,multi:!0,useFactory:()=>{let n=E(Fx);return()=>{n.initialize()}}},{provide:$w,useFactory:kx},e===!0?{provide:Sb,useValue:!0}:[]]}function kx(){let t=E(me),e=E(An);return n=>t.runOutsideAngular(()=>e.handleError(n))}function Px(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var Fx=(()=>{let e=class e{constructor(){this.subscription=new Ae,this.initialized=!1,this.zone=E(me),this.pendingTasks=E(ss)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{me.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{me.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Lx=(()=>{let e=class e{constructor(){this.appRef=E(rr),this.taskService=E(ss),this.ngZone=E(me),this.zonelessEnabled=E(Db),this.disableScheduling=E(Sb,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Ae,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Gh||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&r===5)return;switch(r){case 3:case 2:case 0:case 4:case 5:case 1:{this.shouldRefreshViews=!0;break}case 8:case 7:case 6:case 9:default:}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?_v:Tb;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&me.isInAngularZone())}tick(r){if(this.runningTick||this.appRef.destroyed)return;let i=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(r)},void 0,this.schedulerTickApplyArgs)}catch(s){throw this.taskService.remove(i),s}finally{this.cleanup()}this.useMicrotaskScheduler=!0,_v(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(i)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Vx(){return typeof $localize<"u"&&$localize.locale||Kl}var ep=new R("",{providedIn:"root",factory:()=>E(ep,G.Optional|G.SkipSelf)||Vx()});var Kb=new R("");var Dl=null;function jx(t=[],e){return Yn.create({name:e,providers:[{provide:rc,useValue:"platform"},{provide:Kb,useValue:new Set([()=>Dl=null])},...t]})}function Ux(t=[]){if(Dl)return Dl;let e=jx(t);return Dl=e,Tx(),Bx(e),e}function Bx(t){t.get(Tf,null)?.forEach(n=>n())}var us=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=$x;let t=e;return t})();function $x(t){return Hx(tt(),ue(),(t&16)===16)}function Hx(t,e,n){if(sc(t)&&!n){let r=er(t.index,e);return new Br(r,r)}else if(t.type&47){let r=e[on];return new Br(r,e)}return null}var rf=class{constructor(){}supports(e){return Rb(e)}create(e){return new sf(e)}},zx=(t,e)=>e,sf=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||zx}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<Rv(r,i,s)?n:r,a=Rv(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let c=a-i,u=l-i;if(c!=u){for(let h=0;h<c;h++){let f=h<s.length?s[h]:s[h]=0,p=f+h;u<=p&&p<c&&(s[h]=f+1)}let d=o.previousIndex;s[d]=u-c}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!Rb(e))throw new _(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,NR(e,a=>{o=this._trackByFn(i,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new of(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Yl),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Yl),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},of=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},af=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Yl=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new af,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Rv(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var lf=class{constructor(){}supports(e){return e instanceof Map||Kf(e)}create(){return new cf}},cf=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let n;for(n=this._mapHead;n!==null;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||Kf(e)))throw new _(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{let s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){let r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,n);let s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}let r=new uf(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}},uf=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function xv(){return new tp([new rf])}var tp=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||xv()),deps:[[e,new hf,new ec]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i!=null)return i;throw new _(901,!1)}};e.\u0275prov=C({token:e,providedIn:"root",factory:xv});let t=e;return t})();function Ov(){return new np([new lf])}var np=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||Ov()),deps:[[e,new hf,new ec]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i)return i;throw new _(901,!1)}};e.\u0275prov=C({token:e,providedIn:"root",factory:Ov});let t=e;return t})();var Yb=(()=>{let e=class e{constructor(r){}};e.\u0275fac=function(i){return new(i||e)(A(rr))},e.\u0275mod=vt({type:e}),e.\u0275inj=_t({});let t=e;return t})();function Qb(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=Ux(r),s=[Ox({}),{provide:go,useExisting:Lx},...n||[]],a=new Gl({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,l=a.get(me);return l.run(()=>{a.resolveInjectorInitializers();let c=a.get(An,null),u;l.runOutsideAngular(()=>{u=l.onError.subscribe({next:f=>{c.handleError(f)}})});let d=()=>a.destroy(),h=i.get(Kb);return h.add(d),a.onDestroy(()=>{u.unsubscribe(),h.delete(d)}),Nx(c,l,()=>{let f=a.get(qb);return f.runInitializers(),f.donePromise.then(()=>{let p=a.get(ep,Kl);hx(p||Kl);let m=a.get(rr);return e!==void 0&&m.bootstrap(e),m})})})}catch(e){return Promise.reject(e)}}function ds(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var tE=null;function fn(){return tE}function nE(t){tE??=t}var Tc=class{};var qe=new R(""),rE=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:()=>E(Wx),providedIn:"platform"});let t=e;return t})();var Wx=(()=>{let e=class e extends rE{constructor(){super(),this._doc=E(qe),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return fn().getBaseHref(this._doc)}onPopState(r){let i=fn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=fn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function iE(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function Zb(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Xr(t){return t&&t[0]!=="?"?"?"+t:t}var hs=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:()=>E(sE),providedIn:"root"});let t=e;return t})(),Gx=new R(""),sE=(()=>{let e=class e extends hs{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??E(qe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return iE(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Xr(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Xr(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Xr(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(A(rE),A(Gx,8))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Io=(()=>{let e=class e{constructor(r){this._subject=new le,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=Yx(Zb(Jb(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Xr(i))}normalize(r){return e.stripTrailingSlash(Kx(this._basePath,Jb(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Xr(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Xr(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=Xr,e.joinWithSlash=iE,e.stripTrailingSlash=Zb,e.\u0275fac=function(i){return new(i||e)(A(hs))},e.\u0275prov=C({token:e,factory:()=>qx(),providedIn:"root"});let t=e;return t})();function qx(){return new Io(A(hs))}function Kx(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Jb(t){return t.replace(/\/index.html$/,"")}function Yx(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function oE(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var ip=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},ir=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((s,o,a)=>{if(s.previousIndex==null)i.createEmbeddedView(this._template,new ip(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(o===null?void 0:o);else if(o!==null){let l=i.get(o);i.move(l,a),Xb(l,s)}});for(let s=0,o=i.length;s<o;s++){let l=i.get(s).context;l.index=s,l.count=o,l.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{let o=i.get(s.currentIndex);Xb(o,s)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(T(is),T(wc),T(tp))},e.\u0275dir=Ie({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function Xb(t,e){t.context.$implicit=e.item}var sr=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new sp,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){eE("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){eE("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(T(is),T(wc))},e.\u0275dir=Ie({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),sp=class{constructor(){this.$implicit=null,this.ngIf=null}};function eE(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Je(e)}'.`)}var aE=(()=>{let e=class e{constructor(r,i,s){this._ngEl=r,this._differs=i,this._renderer=s,this._ngStyle=null,this._differ=null}set ngStyle(r){this._ngStyle=r,!this._differ&&r&&(this._differ=this._differs.find(r).create())}ngDoCheck(){if(this._differ){let r=this._differ.diff(this._ngStyle);r&&this._applyChanges(r)}}_setStyle(r,i){let[s,o]=r.split("."),a=s.indexOf("-")===-1?void 0:ln.DashCase;i!=null?this._renderer.setStyle(this._ngEl.nativeElement,s,o?`${i}${o}`:i,a):this._renderer.removeStyle(this._ngEl.nativeElement,s,a)}_applyChanges(r){r.forEachRemovedItem(i=>this._setStyle(i.key,null)),r.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),r.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}};e.\u0275fac=function(i){return new(i||e)(T(Ht),T(np),T(hn))},e.\u0275dir=Ie({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0});let t=e;return t})();var lt=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=vt({type:e}),e.\u0275inj=_t({});let t=e;return t})(),lE="browser",Qx="server";function ap(t){return t===Qx}var Ac=class{};var cE=new R("");var up=class extends Tc{constructor(){super(...arguments),this.supportsDOMEvents=!0}},dp=class t extends up{static makeCurrent(){nE(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=Zx();return n==null?null:Jx(n)}resetBaseElement(){Do=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return oE(document.cookie,e)}},Do=null;function Zx(){return Do=Do||document.querySelector("base"),Do?Do.getAttribute("href"):null}function Jx(t){return new URL(t,document.baseURI).pathname}var hp=class{addToWindow(e){St.getAngularTestability=(r,i=!0)=>{let s=e.findTestabilityInTree(r,i);if(s==null)throw new _(5103,!1);return s},St.getAllAngularTestabilities=()=>e.getAllTestabilities(),St.getAllAngularRootElements=()=>e.getAllRootElements();let n=r=>{let i=St.getAllAngularTestabilities(),s=i.length,o=function(){s--,s==0&&r()};i.forEach(a=>{a.whenStable(o)})};St.frameworkStabilizers||(St.frameworkStabilizers=[]),St.frameworkStabilizers.push(n)}findTestabilityInTree(e,n,r){if(n==null)return null;let i=e.getTestability(n);return i??(r?fn().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},Xx=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac});let t=e;return t})(),fp=new R(""),hE=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new _(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(A(fp),A(me))},e.\u0275prov=C({token:e,factory:e.\u0275fac});let t=e;return t})(),Mc=class{constructor(e){this._doc=e}},lp="ng-app-id",fE=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=ap(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${lp}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(lp),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(lp,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(A(qe),A(fc),A(Mf,8),A(Wr))},e.\u0275prov=C({token:e,factory:e.\u0275fac});let t=e;return t})(),cp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},gp=/%COMP%/g,pE="%COMP%",eO=`_nghost-${pE}`,tO=`_ngcontent-${pE}`,nO=!0,rO=new R("",{providedIn:"root",factory:()=>nO});function iO(t){return tO.replace(gp,t)}function sO(t){return eO.replace(gp,t)}function gE(t,e){return e.map(n=>n.replace(gp,t))}var Nc=(()=>{let e=class e{constructor(r,i,s,o,a,l,c,u=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=l,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=ap(l),this.defaultRenderer=new So(r,a,c,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===rn.ShadowDom&&(i=ee(b({},i),{encapsulation:rn.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof Rc?s.applyToHost(r):s instanceof To&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,l=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case rn.Emulated:o=new Rc(c,u,i,this.appId,d,a,l,h);break;case rn.ShadowDom:return new pp(c,u,r,i,a,l,this.nonce,h);default:o=new To(c,u,i,d,a,l,h);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(A(hE),A(fE),A(fc),A(rO),A(qe),A(Wr),A(me),A(Mf))},e.\u0275prov=C({token:e,factory:e.\u0275fac});let t=e;return t})(),So=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(cp[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(uE(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(uE(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new _(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=cp[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=cp[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(ln.DashCase|ln.Important)?e.style.setProperty(n,r,i&ln.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&ln.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=fn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function uE(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var pp=class extends So{constructor(e,n,r,i,s,o,a,l){super(e,s,o,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=gE(i.id,i.styles);for(let u of c){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},To=class extends So{constructor(e,n,r,i,s,o,a,l){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=l?gE(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Rc=class extends To{constructor(e,n,r,i,s,o,a,l){let c=i+"-"+r.id;super(e,n,r,s,o,a,l,c),this.contentAttr=iO(c),this.hostAttr=sO(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},oO=(()=>{let e=class e extends Mc{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(A(qe))},e.\u0275prov=C({token:e,factory:e.\u0275fac});let t=e;return t})(),dE=["alt","control","meta","shift"],aO={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},lO={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},cO=(()=>{let e=class e extends Mc{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>fn().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",l=i.indexOf("code");if(l>-1&&(i.splice(l,1),a="code."),dE.forEach(u=>{let d=i.indexOf(u);d>-1&&(i.splice(d,1),a+=u+".")}),a+=o,i.length!=0||o.length===0)return null;let c={};return c.domEventName=s,c.fullKey=a,c}static matchEventFullKeyCode(r,i){let s=aO[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),dE.forEach(a=>{if(a!==s){let l=lO[a];l(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(A(qe))},e.\u0275prov=C({token:e,factory:e.\u0275fac});let t=e;return t})();function mE(t,e){return Qb(b({rootComponent:t},uO(e)))}function uO(t){return{appProviders:[...yE,...t?.providers??[]],platformProviders:pO}}function dO(){dp.makeCurrent()}function hO(){return new An}function fO(){return Yw(document),document}var pO=[{provide:Wr,useValue:lE},{provide:Tf,useValue:dO,multi:!0},{provide:qe,useFactory:fO,deps:[]}];var gO=new R(""),mO=[{provide:Co,useClass:hp,deps:[]},{provide:Zf,useClass:Ic,deps:[me,Dc,Co]},{provide:Ic,useClass:Ic,deps:[me,Dc,Co]}],yE=[{provide:rc,useValue:"root"},{provide:An,useFactory:hO,deps:[]},{provide:fp,useClass:oO,multi:!0,deps:[qe,me,Wr]},{provide:fp,useClass:cO,multi:!0,deps:[qe]},Nc,fE,hE,{provide:Zn,useExisting:Nc},{provide:Ac,useClass:Xx,deps:[]},[]],_E=(()=>{let e=class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:fc,useValue:r.appId}]}}};e.\u0275fac=function(i){return new(i||e)(A(gO,12))},e.\u0275mod=vt({type:e}),e.\u0275inj=_t({providers:[...yE,...mO],imports:[lt,Yb]});let t=e;return t})();var vE=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(A(qe))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var H="primary",zo=Symbol("RouteTitle"),wp=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function vs(t){return new wp(t)}function _O(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function vO(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!pn(t[n],e[n]))return!1;return!0}function pn(t,e){let n=t?bp(t):void 0,r=e?bp(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!TE(t[i],e[i]))return!1;return!0}function bp(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function TE(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function AE(t){return t.length>0?t[t.length-1]:null}function lr(t){return Qd(t)?t:Jr(t)?Ce(Promise.resolve(t)):P(t)}var wO={exact:NE,subset:RE},ME={exact:bO,subset:EO,ignored:()=>!0};function wE(t,e,n){return wO[n.paths](t.root,e.root,n.matrixParams)&&ME[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function bO(t,e){return pn(t,e)}function NE(t,e,n){if(!ti(t.segments,e.segments)||!kc(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!NE(t.children[r],e.children[r],n))return!1;return!0}function EO(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>TE(t[n],e[n]))}function RE(t,e,n){return xE(t,e,e.segments,n)}function xE(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!ti(i,n)||e.hasChildren()||!kc(i,n,r))}else if(t.segments.length===n.length){if(!ti(t.segments,n)||!kc(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!RE(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!ti(t.segments,i)||!kc(t.segments,i,r)||!t.children[H]?!1:xE(t.children[H],e,s,r)}}function kc(t,e,n){return e.every((r,i)=>ME[n](t[i].parameters,r.parameters))}var or=class{constructor(e=new ce([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=vs(this.queryParams),this._queryParamMap}toString(){return DO.serialize(this)}},ce=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Pc(this)}},ei=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=vs(this.parameters),this._parameterMap}toString(){return kE(this)}};function CO(t,e){return ti(t,e)&&t.every((n,r)=>pn(n.parameters,e[r].parameters))}function ti(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function IO(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===H&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==H&&(n=n.concat(e(i,r)))}),n}var qp=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:()=>new ko,providedIn:"root"});let t=e;return t})(),ko=class{parse(e){let n=new Cp(e);return new or(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Ao(e.root,!0)}`,r=AO(e.queryParams),i=typeof e.fragment=="string"?`#${SO(e.fragment)}`:"";return`${n}${r}${i}`}},DO=new ko;function Pc(t){return t.segments.map(e=>kE(e)).join("/")}function Ao(t,e){if(!t.hasChildren())return Pc(t);if(e){let n=t.children[H]?Ao(t.children[H],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==H&&r.push(`${i}:${Ao(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=IO(t,(r,i)=>i===H?[Ao(t.children[H],!1)]:[`${i}:${Ao(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[H]!=null?`${Pc(t)}/${n[0]}`:`${Pc(t)}/(${n.join("//")})`}}function OE(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function xc(t){return OE(t).replace(/%3B/gi,";")}function SO(t){return encodeURI(t)}function Ep(t){return OE(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Fc(t){return decodeURIComponent(t)}function bE(t){return Fc(t.replace(/\+/g,"%20"))}function kE(t){return`${Ep(t.path)}${TO(t.parameters)}`}function TO(t){return Object.entries(t).map(([e,n])=>`;${Ep(e)}=${Ep(n)}`).join("")}function AO(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${xc(n)}=${xc(i)}`).join("&"):`${xc(n)}=${xc(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var MO=/^[^\/()?;#]+/;function mp(t){let e=t.match(MO);return e?e[0]:""}var NO=/^[^\/()?;=#]+/;function RO(t){let e=t.match(NO);return e?e[0]:""}var xO=/^[^=?&#]+/;function OO(t){let e=t.match(xO);return e?e[0]:""}var kO=/^[^&#]+/;function PO(t){let e=t.match(kO);return e?e[0]:""}var Cp=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ce([],{}):new ce([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[H]=new ce(e,n)),r}parseSegment(){let e=mp(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new _(4009,!1);return this.capture(e),new ei(Fc(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=RO(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=mp(this.remaining);i&&(r=i,this.capture(r))}e[Fc(n)]=Fc(r)}parseQueryParam(e){let n=OO(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=PO(this.remaining);o&&(r=o,this.capture(r))}let i=bE(n),s=bE(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=mp(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new _(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=H);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[H]:new ce([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new _(4011,!1)}};function PE(t){return t.segments.length>0?new ce([],{[H]:t}):t}function FE(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=FE(i);if(r===H&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new ce(t.segments,e);return FO(n)}function FO(t){if(t.numberOfChildren===1&&t.children[H]){let e=t.children[H];return new ce(t.segments.concat(e.segments),e.children)}return t}function Po(t){return t instanceof or}function LO(t,e,n=null,r=null){let i=LE(t);return VE(i,e,n,r)}function LE(t){let e;function n(s){let o={};for(let l of s.children){let c=n(l);o[l.outlet]=c}let a=new ce(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=PE(r);return e??i}function VE(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return yp(i,i,i,n,r);let s=VO(e);if(s.toRoot())return yp(i,i,new ce([],{}),n,r);let o=jO(s,i,t),a=o.processChildren?Ro(o.segmentGroup,o.index,s.commands):UE(o.segmentGroup,o.index,s.commands);return yp(i,o.segmentGroup,a,n,r)}function Lc(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Fo(t){return typeof t=="object"&&t!=null&&t.outlets}function yp(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let o;t===e?o=n:o=jE(t,e,n);let a=PE(FE(o));return new or(a,s,i)}function jE(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=jE(s,e,n)}),new ce(t.segments,r)}var Vc=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Lc(r[0]))throw new _(4003,!1);let i=r.find(Fo);if(i&&i!==AE(r))throw new _(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function VO(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Vc(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new Vc(n,e,r)}var ms=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function jO(t,e,n){if(t.isAbsolute)return new ms(e,!0,0);if(!n)return new ms(e,!1,NaN);if(n.parent===null)return new ms(n,!0,0);let r=Lc(t.commands[0])?0:1,i=n.segments.length-1+r;return UO(n,i,t.numberOfDoubleDots)}function UO(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new _(4005,!1);i=r.segments.length}return new ms(r,!1,i-s)}function BO(t){return Fo(t[0])?t[0].outlets:{[H]:t}}function UE(t,e,n){if(t??=new ce([],{}),t.segments.length===0&&t.hasChildren())return Ro(t,e,n);let r=$O(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new ce(t.segments.slice(0,r.pathIndex),{});return s.children[H]=new ce(t.segments.slice(r.pathIndex),t.children),Ro(s,0,i)}else return r.match&&i.length===0?new ce(t.segments,{}):r.match&&!t.hasChildren()?Ip(t,e,n):r.match?Ro(t,0,i):Ip(t,e,n)}function Ro(t,e,n){if(n.length===0)return new ce(t.segments,{});{let r=BO(n),i={};if(Object.keys(r).some(s=>s!==H)&&t.children[H]&&t.numberOfChildren===1&&t.children[H].segments.length===0){let s=Ro(t.children[H],e,n);return new ce(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=UE(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new ce(t.segments,i)}}function $O(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(Fo(a))break;let l=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!CE(l,c,o))return s;r+=2}else{if(!CE(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Ip(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(Fo(s)){let l=HO(s.outlets);return new ce(r,l)}if(i===0&&Lc(n[0])){let l=t.segments[e];r.push(new ei(l.path,EE(n[0]))),i++;continue}let o=Fo(s)?s.outlets[H]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Lc(a)?(r.push(new ei(o,EE(a))),i+=2):(r.push(new ei(o,{})),i++)}return new ce(r,{})}function HO(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Ip(new ce([],{}),0,r))}),e}function EE(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function CE(t,e,n){return t==n.path&&pn(e,n.parameters)}var xo="imperative",He=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(He||{}),Nt=class{constructor(e,n){this.id=e,this.url=n}},Lo=class extends Nt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=He.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ar=class extends Nt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=He.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Et=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Et||{}),Dp=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Dp||{}),xn=class extends Nt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=He.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ni=class extends Nt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=He.NavigationSkipped}},Vo=class extends Nt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=He.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},jc=class extends Nt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=He.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Sp=class extends Nt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=He.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Tp=class extends Nt{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=He.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Ap=class extends Nt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=He.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Mp=class extends Nt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=He.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Np=class{constructor(e){this.route=e,this.type=He.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Rp=class{constructor(e){this.route=e,this.type=He.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},xp=class{constructor(e){this.snapshot=e,this.type=He.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Op=class{constructor(e){this.snapshot=e,this.type=He.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},kp=class{constructor(e){this.snapshot=e,this.type=He.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Pp=class{constructor(e){this.snapshot=e,this.type=He.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var jo=class{},ws=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};var Fp=class{constructor(e){this.injector=e,this.outlet=null,this.route=null,this.children=new Gc(this.injector),this.attachRef=null}},Gc=(()=>{let e=class e{constructor(r){this.parentInjector=r,this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Fp(this.parentInjector),this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)(A(Tt))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Uc=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Lp(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Lp(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Vp(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Vp(e,this._root).map(n=>n.value)}};function Lp(t,e){if(t===e.value)return e;for(let n of e.children){let r=Lp(t,n);if(r)return r}return null}function Vp(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Vp(t,n);if(r.length)return r.unshift(e),r}return[]}var bt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function gs(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Bc=class extends Uc{constructor(e,n){super(e),this.snapshot=n,Kp(this,e)}toString(){return this.snapshot.toString()}};function BE(t){let e=zO(t),n=new Be([new ei("",{})]),r=new Be({}),i=new Be({}),s=new Be({}),o=new Be(""),a=new ri(n,r,s,o,i,H,t,e.root);return a.snapshot=e.root,new Bc(new bt(a,[]),e)}function zO(t){let e={},n={},r={},i="",s=new ys([],e,r,i,n,H,t,null,{});return new Hc("",new bt(s,[]))}var ri=class{constructor(e,n,r,i,s,o,a,l){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(W(c=>c[zo]))??P(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(W(e=>vs(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(W(e=>vs(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function $c(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:b(b({},e.params),t.params),data:b(b({},e.data),t.data),resolve:b(b(b(b({},t.data),e.data),i?.data),t._resolvedData)}:r={params:b({},t.params),data:b({},t.data),resolve:b(b({},t.data),t._resolvedData??{})},i&&HE(i)&&(r.resolve[zo]=i.title),r}var ys=class{get title(){return this.data?.[zo]}constructor(e,n,r,i,s,o,a,l,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=vs(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=vs(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Hc=class extends Uc{constructor(e,n){super(n),this.url=e,Kp(this,n)}toString(){return $E(this._root)}};function Kp(t,e){e.value._routerState=t,e.children.forEach(n=>Kp(t,n))}function $E(t){let e=t.children.length>0?` { ${t.children.map($E).join(", ")} } `:"";return`${t.value}${e}`}function _p(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,pn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),pn(e.params,n.params)||t.paramsSubject.next(n.params),vO(e.url,n.url)||t.urlSubject.next(n.url),pn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function jp(t,e){let n=pn(t.params,e.params)&&CO(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||jp(t.parent,e.parent))}function HE(t){return typeof t.title=="string"||t.title===null}var Yp=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=H,this.activateEvents=new le,this.deactivateEvents=new le,this.attachEvents=new le,this.detachEvents=new le,this.parentContexts=E(Gc),this.location=E(is),this.changeDetector=E(us),this.inputBinder=E(Qp,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new _(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new _(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new _(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new _(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new Up(r,l,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:c,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ie({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Xn]});let t=e;return t})(),Up=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===ri?this.route:e===Gc?this.childContexts:this.parent.get(e,n)}},Qp=new R("");function WO(t,e,n){let r=Uo(t,e._root,n?n._root:void 0);return new Bc(r,e)}function Uo(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=GO(t,e,n);return new bt(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Uo(t,a)),o}}let r=qO(e.value),i=e.children.map(s=>Uo(t,s));return new bt(r,i)}}function GO(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Uo(t,r,i);return Uo(t,r)})}function qO(t){return new ri(new Be(t.url),new Be(t.params),new Be(t.queryParams),new Be(t.fragment),new Be(t.data),t.outlet,t.component,t)}var Bo=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},zE="ngNavigationCancelingError";function zc(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Po(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=WE(!1,Et.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function WE(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[zE]=!0,n.cancellationCode=e,n}function KO(t){return GE(t)&&Po(t.url)}function GE(t){return!!t&&t[zE]}var YO=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ne({type:e,selectors:[["ng-component"]],standalone:!0,features:[Oe],decls:1,vars:0,template:function(i,s){i&1&&M(0,"router-outlet")},dependencies:[Yp],encapsulation:2});let t=e;return t})();function QO(t,e){return t.providers&&!t._injector&&(t._injector=qf(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Zp(t){let e=t.children&&t.children.map(Zp),n=e?ee(b({},t),{children:e}):b({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==H&&(n.component=YO),n}function Wt(t){return t.outlet||H}function ZO(t,e){let n=t.filter(r=>Wt(r)===e);return n.push(...t.filter(r=>Wt(r)!==e)),n}function Wo(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var JO=(t,e,n,r)=>W(i=>(new Bp(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Bp=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),_p(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=gs(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=gs(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=gs(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=gs(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Pp(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Op(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(_p(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),_p(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=Wo(i.snapshot);o.attachRef=null,o.route=i,o.injector=a??o.injector,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},Wc=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},_s=class{constructor(e,n){this.component=e,this.route=n}};function XO(t,e,n){let r=t._root,i=e?e._root:null;return Mo(r,i,n,[r.value])}function ek(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Es(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!Lv(t)?t:e.get(t):r}function Mo(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=gs(e);return t.children.forEach(o=>{tk(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Oo(a,n.getContext(o),i)),i}function tk(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let l=nk(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Wc(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Mo(t,e,a?a.children:null,r,i):Mo(t,e,n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new _s(a.outlet.component,o))}else o&&Oo(e,a,i),i.canActivateChecks.push(new Wc(r)),s.component?Mo(t,null,a?a.children:null,r,i):Mo(t,null,n,r,i);return i}function nk(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!ti(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ti(t.url,e.url)||!pn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!jp(t,e)||!pn(t.queryParams,e.queryParams);case"paramsChange":default:return!jp(t,e)}}function Oo(t,e,n){let r=gs(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Oo(o,e.children.getContext(s),n):Oo(o,null,n):Oo(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new _s(e.outlet.component,i)):n.canDeactivateChecks.push(new _s(null,i)):n.canDeactivateChecks.push(new _s(null,i))}function Go(t){return typeof t=="function"}function rk(t){return typeof t=="boolean"}function ik(t){return t&&Go(t.canLoad)}function sk(t){return t&&Go(t.canActivate)}function ok(t){return t&&Go(t.canActivateChild)}function ak(t){return t&&Go(t.canDeactivate)}function lk(t){return t&&Go(t.canMatch)}function qE(t){return t instanceof Sn||t?.name==="EmptyError"}var Oc=Symbol("INITIAL_VALUE");function bs(){return jt(t=>gl(t.map(e=>e.pipe(Tn(1),nh(Oc)))).pipe(W(e=>{for(let n of e)if(n!==!0){if(n===Oc)return Oc;if(n===!1||ck(n))return n}return!0}),Vt(e=>e!==Oc),Tn(1)))}function ck(t){return Po(t)||t instanceof Bo}function uk(t,e){return be(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?P(ee(b({},n),{guardsResult:!0})):dk(o,r,i,t).pipe(be(a=>a&&rk(a)?hk(r,s,t,e):P(a)),W(a=>ee(b({},n),{guardsResult:a})))})}function dk(t,e,n,r){return Ce(t).pipe(be(i=>yk(i.component,i.route,n,e,r)),en(i=>i!==!0,!0))}function hk(t,e,n,r){return Ce(e).pipe(Vi(i=>Fi(pk(i.route.parent,r),fk(i.route,r),mk(t,i.path,n),gk(t,i.route,n))),en(i=>i!==!0,!0))}function fk(t,e){return t!==null&&e&&e(new kp(t)),P(!0)}function pk(t,e){return t!==null&&e&&e(new xp(t)),P(!0)}function gk(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return P(!0);let i=r.map(s=>Li(()=>{let o=Wo(e)??n,a=Es(s,o),l=sk(a)?a.canActivate(e,t):cn(o,()=>a(e,t));return lr(l).pipe(en())}));return P(i).pipe(bs())}function mk(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>ek(o)).filter(o=>o!==null).map(o=>Li(()=>{let a=o.guards.map(l=>{let c=Wo(o.node)??n,u=Es(l,c),d=ok(u)?u.canActivateChild(r,t):cn(c,()=>u(r,t));return lr(d).pipe(en())});return P(a).pipe(bs())}));return P(s).pipe(bs())}function yk(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return P(!0);let o=s.map(a=>{let l=Wo(e)??i,c=Es(a,l),u=ak(c)?c.canDeactivate(t,e,n,r):cn(l,()=>c(t,e,n,r));return lr(u).pipe(en())});return P(o).pipe(bs())}function _k(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return P(!0);let s=i.map(o=>{let a=Es(o,t),l=ik(a)?a.canLoad(e,n):cn(t,()=>a(e,n));return lr(l)});return P(s).pipe(bs(),KE(r))}function KE(t){return Wd($e(e=>{if(typeof e!="boolean")throw zc(t,e)}),W(e=>e===!0))}function vk(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return P(!0);let s=i.map(o=>{let a=Es(o,t),l=lk(a)?a.canMatch(e,n):cn(t,()=>a(e,n));return lr(l)});return P(s).pipe(bs(),KE(r))}var $o=class{constructor(e){this.segmentGroup=e||null}},Ho=class extends Error{constructor(e){super(),this.urlTree=e}};function ps(t){return Pi(new $o(t))}function wk(t){return Pi(new _(4e3,!1))}function bk(t){return Pi(WE(!1,Et.GuardRejected))}var $p=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return P(r);if(i.numberOfChildren>1||!i.children[H])return wk(`${e.redirectTo}`);i=i.children[H]}}applyRedirectCommands(e,n,r,i,s){if(typeof n!="string"){let a=n,{queryParams:l,fragment:c,routeConfig:u,url:d,outlet:h,params:f,data:p,title:m}=i,w=cn(s,()=>a({params:f,data:p,queryParams:l,fragment:c,routeConfig:u,url:d,outlet:h,title:m}));if(w instanceof or)throw new Ho(w);n=w}let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Ho(o);return o}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new or(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(e,l,r,i)}),new ce(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new _(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Hp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ek(t,e,n,r,i){let s=Jp(t,e,n);return s.matched?(r=QO(e,r),vk(r,e,n,i).pipe(W(o=>o===!0?s:b({},Hp)))):P(s)}function Jp(t,e,n){if(e.path==="**")return Ck(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?b({},Hp):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||_O)(n,t,e);if(!i)return b({},Hp);let s={};Object.entries(i.posParams??{}).forEach(([a,l])=>{s[a]=l.path});let o=i.consumed.length>0?b(b({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function Ck(t){return{matched:!0,parameters:t.length>0?AE(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function IE(t,e,n,r){return n.length>0&&Sk(t,n,r)?{segmentGroup:new ce(e,Dk(r,new ce(n,t.children))),slicedSegments:[]}:n.length===0&&Tk(t,n,r)?{segmentGroup:new ce(t.segments,Ik(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ce(t.segments,t.children),slicedSegments:n}}function Ik(t,e,n,r){let i={};for(let s of n)if(qc(t,e,s)&&!r[Wt(s)]){let o=new ce([],{});i[Wt(s)]=o}return b(b({},r),i)}function Dk(t,e){let n={};n[H]=e;for(let r of t)if(r.path===""&&Wt(r)!==H){let i=new ce([],{});n[Wt(r)]=i}return n}function Sk(t,e,n){return n.some(r=>qc(t,e,r)&&Wt(r)!==H)}function Tk(t,e,n){return n.some(r=>qc(t,e,r))}function qc(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function Ak(t,e,n,r){return Wt(t)!==r&&(r===H||!qc(e,n,t))?!1:Jp(e,t,n).matched}function Mk(t,e,n){return e.length===0&&!t.children[n]}var zp=class{};function Nk(t,e,n,r,i,s,o="emptyOnly"){return new Wp(t,e,n,r,i,o,s).recognize()}var Rk=31,Wp=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new $p(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new _(4002,`'${e.segmentGroup}'`)}recognize(){let e=IE(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(W(({children:n,rootSnapshot:r})=>{let i=new bt(r,n),s=new Hc("",i),o=LO(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let n=new ys([],Object.freeze({}),Object.freeze(b({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),H,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,H,n).pipe(W(r=>({children:r,rootSnapshot:n})),Hn(r=>{if(r instanceof Ho)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof $o?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,s):this.processSegment(e,n,r,r.segments,i,!0,s).pipe(W(o=>o instanceof bt?[o]:[]))}processChildren(e,n,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return Ce(s).pipe(Vi(o=>{let a=r.children[o],l=ZO(n,o);return this.processSegmentGroup(e,l,a,o,i)}),th((o,a)=>(o.push(...a),o)),zn(null),eh(),be(o=>{if(o===null)return ps(r);let a=YE(o);return xk(a),P(a)}))}processSegment(e,n,r,i,s,o,a){return Ce(n).pipe(Vi(l=>this.processSegmentAgainstRoute(l._injector??e,n,l,r,i,s,o,a).pipe(Hn(c=>{if(c instanceof $o)return P(null);throw c}))),en(l=>!!l),Hn(l=>{if(qE(l))return Mk(r,i,s)?P(new zp):ps(r);throw l}))}processSegmentAgainstRoute(e,n,r,i,s,o,a,l){return Ak(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o,l):ps(i):ps(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o,a){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:d,remainingSegments:h}=Jp(n,i,s);if(!l)return ps(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Rk&&(this.allowRedirects=!1));let f=new ys(s,c,Object.freeze(b({},this.urlTree.queryParams)),this.urlTree.fragment,DE(i),Wt(i),i.component??i._loadedComponent??null,i,SE(i)),p=$c(f,a,this.paramsInheritanceStrategy);f.params=Object.freeze(p.params),f.data=Object.freeze(p.data);let m=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,f,e);return this.applyRedirects.lineralizeSegments(i,m).pipe(be(w=>this.processSegment(e,r,n,w.concat(h),o,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a=Ek(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(jt(l=>l.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(jt(({routes:c})=>{let u=r._loadedInjector??e,{parameters:d,consumedSegments:h,remainingSegments:f}=l,p=new ys(h,d,Object.freeze(b({},this.urlTree.queryParams)),this.urlTree.fragment,DE(r),Wt(r),r.component??r._loadedComponent??null,r,SE(r)),m=$c(p,o,this.paramsInheritanceStrategy);p.params=Object.freeze(m.params),p.data=Object.freeze(m.data);let{segmentGroup:w,slicedSegments:S}=IE(n,h,f,c);if(S.length===0&&w.hasChildren())return this.processChildren(u,c,w,p).pipe(W(V=>new bt(p,V)));if(c.length===0&&S.length===0)return P(new bt(p,[]));let K=Wt(r)===s;return this.processSegment(u,c,w,S,K?H:s,!0,p).pipe(W(V=>new bt(p,V instanceof bt?[V]:[])))}))):ps(n)))}getChildConfig(e,n,r){return n.children?P({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?P({routes:n._loadedRoutes,injector:n._loadedInjector}):_k(e,n,r,this.urlSerializer).pipe(be(i=>i?this.configLoader.loadChildren(e,n).pipe($e(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):bk(n))):P({routes:[],injector:e})}};function xk(t){t.sort((e,n)=>e.value.outlet===H?-1:n.value.outlet===H?1:e.value.outlet.localeCompare(n.value.outlet))}function Ok(t){let e=t.value.routeConfig;return e&&e.path===""}function YE(t){let e=[],n=new Set;for(let r of t){if(!Ok(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=YE(r.children);e.push(new bt(r.value,i))}return e.filter(r=>!n.has(r))}function DE(t){return t.data||{}}function SE(t){return t.resolve||{}}function kk(t,e,n,r,i,s){return be(o=>Nk(t,e,n,r,o.extractedUrl,i,s).pipe(W(({state:a,tree:l})=>ee(b({},o),{targetSnapshot:a,urlAfterRedirects:l}))))}function Pk(t,e){return be(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return P(n);let s=new Set(i.map(l=>l.route)),o=new Set;for(let l of s)if(!o.has(l))for(let c of QE(l))o.add(c);let a=0;return Ce(o).pipe(Vi(l=>s.has(l)?Fk(l,r,t,e):(l.data=$c(l,l.parent,t).resolve,P(void 0))),$e(()=>a++),ji(1),be(l=>a===o.size?P(n):gt))})}function QE(t){let e=t.children.map(n=>QE(n)).flat();return[t,...e]}function Fk(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!HE(i)&&(s[zo]=i.title),Lk(s,t,e,r).pipe(W(o=>(t._resolvedData=o,t.data=$c(t,t.parent,n).resolve,null)))}function Lk(t,e,n,r){let i=bp(t);if(i.length===0)return P({});let s={};return Ce(i).pipe(be(o=>Vk(t[o],e,n,r).pipe(en(),$e(a=>{if(a instanceof Bo)throw zc(new ko,a);s[o]=a}))),ji(1),Xd(s),Hn(o=>qE(o)?gt:Pi(o)))}function Vk(t,e,n,r){let i=Wo(e)??r,s=Es(t,i),o=s.resolve?s.resolve(e,n):cn(i,()=>s(e,n));return lr(o)}function vp(t){return jt(e=>{let n=t(e);return n?Ce(n).pipe(W(()=>e)):P(e)})}var ZE=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===H);return i}getResolvedTitleForRoute(r){return r.data[zo]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:()=>E(jk),providedIn:"root"});let t=e;return t})(),jk=(()=>{let e=class e extends ZE{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(A(vE))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Xp=new R("",{providedIn:"root",factory:()=>({})}),eg=new R(""),Uk=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=E(Xf)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return P(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=lr(r.loadComponent()).pipe(W(JE),$e(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),oo(()=>{this.componentLoaders.delete(r)})),s=new ki(i,()=>new fe).pipe(Oi());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return P({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=Bk(i,this.compiler,r,this.onLoadEndListener).pipe(oo(()=>{this.childrenLoaders.delete(i)})),a=new ki(o,()=>new fe).pipe(Oi());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Bk(t,e,n,r){return lr(t.loadChildren()).pipe(W(JE),be(i=>i instanceof yo||Array.isArray(i)?P(i):Ce(e.compileModuleAsync(i))),W(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(eg,[],{optional:!0,self:!0}).flat()),{routes:o.map(Zp),injector:s}}))}function $k(t){return t&&typeof t=="object"&&"default"in t}function JE(t){return $k(t)?t.default:t}var tg=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:()=>E(Hk),providedIn:"root"});let t=e;return t})(),Hk=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),zk=new R("");var Wk=new R(""),Gk=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new fe,this.transitionAbortSubject=new fe,this.configLoader=E(Uk),this.environmentInjector=E(Tt),this.urlSerializer=E(qp),this.rootContexts=E(Gc),this.location=E(Io),this.inputBindingEnabled=E(Qp,{optional:!0})!==null,this.titleStrategy=E(ZE),this.options=E(Xp,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=E(tg),this.createViewTransition=E(zk,{optional:!0}),this.navigationErrorHandler=E(Wk,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>P(void 0),this.rootComponentType=null;let r=s=>this.events.next(new Np(s)),i=s=>this.events.next(new Rp(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(ee(b(b({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new Be({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:xo,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Vt(o=>o.id!==0),W(o=>ee(b({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),jt(o=>{let a=!1,l=!1;return P(o).pipe(jt(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Et.SupersededByNewNavigation),gt;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?ee(b({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=c.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!u&&d!=="reload"){let h="";return this.events.next(new ni(c.id,this.urlSerializer.serialize(c.rawUrl),h,Dp.IgnoredSameUrlNavigation)),c.resolve(!1),gt}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return P(c).pipe(jt(h=>{let f=this.transitions?.getValue();return this.events.next(new Lo(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?gt:Promise.resolve(h)}),kk(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),$e(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=ee(b({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let f=new jc(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:h,extractedUrl:f,source:p,restoredState:m,extras:w}=c,S=new Lo(h,this.urlSerializer.serialize(f),p,m);this.events.next(S);let K=BE(this.rootComponentType).snapshot;return this.currentTransition=o=ee(b({},c),{targetSnapshot:K,urlAfterRedirects:f,extras:ee(b({},w),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,P(o)}else{let h="";return this.events.next(new ni(c.id,this.urlSerializer.serialize(c.extractedUrl),h,Dp.IgnoredByUrlHandlingStrategy)),c.resolve(!1),gt}}),$e(c=>{let u=new Sp(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),W(c=>(this.currentTransition=o=ee(b({},c),{guards:XO(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),uk(this.environmentInjector,c=>this.events.next(c)),$e(c=>{if(o.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw zc(this.urlSerializer,c.guardsResult);let u=new Tp(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),Vt(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",Et.GuardRejected),!1)),vp(c=>{if(c.guards.canActivateChecks.length)return P(c).pipe($e(u=>{let d=new Ap(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),jt(u=>{let d=!1;return P(u).pipe(Pk(this.paramsInheritanceStrategy,this.environmentInjector),$e({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",Et.NoDataFromResolver)}}))}),$e(u=>{let d=new Mp(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),vp(c=>{let u=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe($e(f=>{d.component=f}),W(()=>{})));for(let f of d.children)h.push(...u(f));return h};return gl(u(c.targetSnapshot.root)).pipe(zn(null),Tn(1))}),vp(()=>this.afterPreactivation()),jt(()=>{let{currentSnapshot:c,targetSnapshot:u}=o,d=this.createViewTransition?.(this.environmentInjector,c.root,u.root);return d?Ce(d).pipe(W(()=>o)):P(o)}),W(c=>{let u=WO(r.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=ee(b({},c),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,o}),$e(()=>{this.events.next(new jo)}),JO(this.rootContexts,r.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Tn(1),$e({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ar(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),rh(this.transitionAbortSubject.pipe($e(c=>{throw c}))),oo(()=>{!a&&!l&&this.cancelNavigationTransition(o,"",Et.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Hn(c=>{if(l=!0,GE(c))this.events.next(new xn(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),KO(c)?this.events.next(new ws(c.url,c.navigationBehaviorOptions)):o.resolve(!1);else{let u=new Vo(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0);try{let d=cn(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(d instanceof Bo){let{message:h,cancellationCode:f}=zc(this.urlSerializer,d);this.events.next(new xn(o.id,this.urlSerializer.serialize(o.extractedUrl),h,f)),this.events.next(new ws(d.redirectTo,d.navigationBehaviorOptions))}else{this.events.next(u);let h=r.errorHandler(c);o.resolve(!!h)}}catch(d){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(d)}}return gt}))}))}cancelNavigationTransition(r,i,s){let o=new xn(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function qk(t){return t!==xo}var Kk=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:()=>E(Yk),providedIn:"root"});let t=e;return t})(),Gp=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},Yk=(()=>{let e=class e extends Gp{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=tr(e)))(s||e)}})(),e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),XE=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:()=>E(Qk),providedIn:"root"});let t=e;return t})(),Qk=(()=>{let e=class e extends XE{constructor(){super(...arguments),this.location=E(Io),this.urlSerializer=E(qp),this.options=E(Xp,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=E(tg),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new or,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=BE(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Lo)this.stateMemento=this.createStateMemento();else if(r instanceof ni)this.rawUrlTree=i.initialUrl;else if(r instanceof jc){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof jo?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof xn&&(r.code===Et.GuardRejected||r.code===Et.NoDataFromResolver)?this.restoreHistory(i):r instanceof Vo?this.restoreHistory(i,!0):r instanceof ar&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=b(b({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=b(b({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=tr(e)))(s||e)}})(),e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),No=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(No||{});function Zk(t,e){t.events.pipe(Vt(n=>n instanceof ar||n instanceof xn||n instanceof Vo||n instanceof ni),W(n=>n instanceof ar||n instanceof ni?No.COMPLETE:(n instanceof xn?n.code===Et.Redirect||n.code===Et.SupersededByNewNavigation:!1)?No.REDIRECTING:No.FAILED),Vt(n=>n!==No.REDIRECTING),Tn(1)).subscribe(()=>{e()})}function Jk(t){throw t}var Xk={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},eP={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},On=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=E(Cc),this.stateManager=E(XE),this.options=E(Xp,{optional:!0})||{},this.pendingTasks=E(ss),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=E(Gk),this.urlSerializer=E(qp),this.location=E(Io),this.urlHandlingStrategy=E(tg),this._events=new fe,this.errorHandler=this.options.errorHandler||Jk,this.navigated=!1,this.routeReuseStrategy=E(Kk),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=E(eg,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!E(Qp,{optional:!0}),this.eventsSubscription=new Ae,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof xn&&i.code!==Et.Redirect&&i.code!==Et.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof ar)this.navigated=!0;else if(i instanceof ws){let a=i.navigationBehaviorOptions,l=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),c=b({info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||this.urlUpdateStrategy==="eager"||qk(s.source)},a);this.scheduleNavigation(l,xo,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}nP(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),xo,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let c=b({},s);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let l=this.parseUrl(r);this.scheduleNavigation(l,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Zp),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:l,preserveFragment:c}=i,u=c?this.currentUrlTree.fragment:a,d=null;switch(l){case"merge":d=b(b({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let f=s?s.snapshot:this.routerState.snapshot.root;h=LE(f)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),h=this.currentUrlTree.root}return VE(h,r,d,u??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=Po(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,xo,null,i)}navigate(r,i={skipLocationChange:!1}){return tP(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=b({},Xk):i===!1?s=b({},eP):s=i,Po(r))return wE(this.currentUrlTree,r,s);let o=this.parseUrl(r);return wE(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let l,c,u;a?(l=a.resolve,c=a.reject,u=a.promise):u=new Promise((h,f)=>{l=h,c=f});let d=this.pendingTasks.add();return Zk(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:l,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(h=>Promise.reject(h))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function tP(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new _(4008,!1)}function nP(t){return!(t instanceof jo)&&!(t instanceof ws)}var eC=(()=>{let e=class e{constructor(r,i,s,o,a,l){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=l,this.href=null,this.commands=null,this.onChanges=new fe,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let c=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=r.events.subscribe(u=>{u instanceof ar&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,s,o,a){let l=this.urlTree;if(l===null||this.isAnchorElement&&(r!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(l,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:Jw(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(T(On),T(ri),Sf("tabindex"),T(hn),T(Ht),T(hs))},e.\u0275dir=Ie({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&U("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&bc("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",ds],skipLocationChange:[2,"skipLocationChange","skipLocationChange",ds],replaceUrl:[2,"replaceUrl","replaceUrl",ds],routerLink:"routerLink"},standalone:!0,features:[Gf,Xn]});let t=e;return t})();var rP=new R("");function tC(t,...e){return nc([{provide:eg,multi:!0,useValue:t},[],{provide:ri,useFactory:iP,deps:[On]},{provide:Sc,multi:!0,useFactory:sP},e.map(n=>n.\u0275providers)])}function iP(t){return t.routerState.root}function sP(){let t=E(Yn);return e=>{let n=t.get(rr);if(e!==n.components[0])return;let r=t.get(On),i=t.get(oP);t.get(aP)===1&&r.initialNavigation(),t.get(lP,null,G.Optional)?.setUpPreloading(),t.get(rP,null,G.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var oP=new R("",{factory:()=>new fe}),aP=new R("",{providedIn:"root",factory:()=>1});var lP=new R("");var ig={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var v=function(t,e){if(!t)throw ii(e)},ii=function(t){return new Error("Firebase Database ("+ig.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};var rC=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},cP=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Yc={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=s>>2,d=(s&3)<<4|a>>4,h=(a&15)<<2|c>>6,f=c&63;l||(f=64,o||(h=64)),r.push(n[u],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(rC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):cP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let c=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||d==null)throw new sg;let h=s<<2|a>>4;if(r.push(h),c!==64){let f=a<<4&240|c>>2;if(r.push(f),d!==64){let p=c<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},sg=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},ag=function(t){let e=rC(t);return Yc.encodeByteArray(e,!0)},qo=function(t){return ag(t).replace(/\./g,"")},Ko=function(t){try{return Yc.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function iC(t){return sC(void 0,t)}function sC(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(let n in e)!e.hasOwnProperty(n)||!uP(n)||(t[n]=sC(t[n],e[n]));return t}function uP(t){return t!=="__proto__"}function dP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var hP=()=>dP().__FIREBASE_DEFAULTS__,fP=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},pP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Ko(t[1]);return e&&JSON.parse(e)},lg=()=>{try{return hP()||fP()||pP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},cg=t=>{var e,n;return(n=(e=lg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},oC=t=>{let e=cg(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ug=()=>{var t;return(t=lg())===null||t===void 0?void 0:t.config},dg=t=>{var e;return(e=lg())===null||e===void 0?void 0:e[`_${t}`]};var cr=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function aC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[qo(JSON.stringify(n)),qo(JSON.stringify(o)),""].join(".")}function ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Yo(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ze())}function lC(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Qc(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function cC(){let t=ze();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function gn(){return ig.NODE_CLIENT===!0||ig.NODE_ADMIN===!0}function uC(){try{return typeof indexedDB=="object"}catch{return!1}}function dC(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var gP="FirebaseError",Gt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=gP,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,kn.prototype.create)}},kn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?mP(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Gt(i,a,r)}};function mP(t,e){return t.replace(yP,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var yP=/\{\$([^}]+)}/g;function Cs(t){return JSON.parse(t)}function ke(t){return JSON.stringify(t)}var hC=function(t){let e={},n={},r={},i="";try{let s=t.split(".");e=Cs(Ko(s[0])||""),n=Cs(Ko(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}};var fC=function(t){let e=hC(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},pC=function(t){let e=hC(t).claims;return typeof e=="object"&&e.admin===!0};function mn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function si(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Qo(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Zo(t,e,n){let r={};for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Is(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(nC(s)&&nC(o)){if(!Is(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function nC(t){return t!==null&&typeof t=="object"}function oi(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ds(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Ss(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}var Kc=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);let r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){let h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let d=0;d<80;d++){d<40?d<20?(c=a^s&(o^a),u=1518500249):(c=s^o^a,u=1859775393):d<60?(c=s&o|a&(s|o),u=2400959708):(c=s^o^a,u=3395469782);let h=(i<<5|i>>>27)+c+l+u+r[d]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);let r=n-this.blockSize,i=0,s=this.buf_,o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){let e=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}};function gC(t,e){let n=new og(t,e);return n.subscribe.bind(n)}var og=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");_P(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=rg),i.error===void 0&&(i.error=rg),i.complete===void 0&&(i.complete=rg);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function _P(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function rg(){}function Zc(t,e){return`${t} failed: ${e} argument `}var mC=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){let s=i-55296;r++,v(r<t.length,"Surrogate pair missing trail surrogate.");let o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Jo=function(t){let e=0;for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};var lW=4*60*60*1e3;function Ke(t){return t&&t._delegate?t._delegate:t}var Rt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var ai="[DEFAULT]";var Jc=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new cr;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(wP(e))try{this.getOrInitializeService({instanceIdentifier:ai})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ai){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return g(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=ai){return this.instances.has(e)}getOptions(e=ai){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:vP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ai){return this.component?this.component.multipleInstances?e:ai:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function vP(t){return t===ai?void 0:t}function wP(t){return t.instantiationMode==="EAGER"}var Xo=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Jc(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var bP=[],de=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(de||{}),EP={debug:de.DEBUG,verbose:de.VERBOSE,info:de.INFO,warn:de.WARN,error:de.ERROR,silent:de.SILENT},CP=de.INFO,IP={[de.DEBUG]:"log",[de.VERBOSE]:"log",[de.INFO]:"info",[de.WARN]:"warn",[de.ERROR]:"error"},DP=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=IP[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},ur=class{constructor(e){this.name=e,this._logLevel=CP,this._logHandler=DP,this._userLogHandler=null,bP.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in de))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?EP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,de.DEBUG,...e),this._logHandler(this,de.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,de.VERBOSE,...e),this._logHandler(this,de.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,de.INFO,...e),this._logHandler(this,de.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,de.WARN,...e),this._logHandler(this,de.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,de.ERROR,...e),this._logHandler(this,de.ERROR,...e)}};var SP=(t,e)=>e.some(n=>t instanceof n),yC,_C;function TP(){return yC||(yC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function AP(){return _C||(_C=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var vC=new WeakMap,fg=new WeakMap,wC=new WeakMap,hg=new WeakMap,gg=new WeakMap;function MP(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(yn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&vC.set(n,t)}).catch(()=>{}),gg.set(e,t),e}function NP(t){if(fg.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});fg.set(t,e)}var pg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return fg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||wC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return yn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function bC(t){pg=t(pg)}function RP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Xc(this),e,...n);return wC.set(r,e.sort?e.sort():[e]),yn(r)}:AP().includes(t)?function(...e){return t.apply(Xc(this),e),yn(vC.get(this))}:function(...e){return yn(t.apply(Xc(this),e))}}function xP(t){return typeof t=="function"?RP(t):(t instanceof IDBTransaction&&NP(t),SP(t,TP())?new Proxy(t,pg):t)}function yn(t){if(t instanceof IDBRequest)return MP(t);if(hg.has(t))return hg.get(t);let e=xP(t);return e!==t&&(hg.set(t,e),gg.set(e,t)),e}var Xc=t=>gg.get(t);function CC(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=yn(o);return r&&o.addEventListener("upgradeneeded",l=>{r(yn(o.result),l.oldVersion,l.newVersion,yn(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}var OP=["get","getKey","getAll","getAllKeys","count"],kP=["put","add","delete","clear"],mg=new Map;function EC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(mg.get(e))return mg.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=kP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||OP.includes(n)))return;let s=function(o,...a){return g(this,null,function*(){let l=this.transaction(o,i?"readwrite":"readonly"),c=l.store;return r&&(c=c.index(a.shift())),(yield Promise.all([c[n](...a),i&&l.done]))[0]})};return mg.set(e,s),s}bC(t=>ee(b({},t),{get:(e,n,r)=>EC(e,n)||t.get(e,n,r),has:(e,n)=>!!EC(e,n)||t.has(e,n)}));var _g=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(PP(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function PP(t){let e=t.getComponent();return e?.type==="VERSION"}var vg="@firebase/app",IC="0.10.5";var li=new ur("@firebase/app"),FP="@firebase/app-compat",LP="@firebase/analytics-compat",VP="@firebase/analytics",jP="@firebase/app-check-compat",UP="@firebase/app-check",BP="@firebase/auth",$P="@firebase/auth-compat",HP="@firebase/database",zP="@firebase/database-compat",WP="@firebase/functions",GP="@firebase/functions-compat",qP="@firebase/installations",KP="@firebase/installations-compat",YP="@firebase/messaging",QP="@firebase/messaging-compat",ZP="@firebase/performance",JP="@firebase/performance-compat",XP="@firebase/remote-config",e1="@firebase/remote-config-compat",t1="@firebase/storage",n1="@firebase/storage-compat",r1="@firebase/firestore",i1="@firebase/vertexai-preview",s1="@firebase/firestore-compat",o1="firebase",a1="10.12.2";var wg="[DEFAULT]",l1={[vg]:"fire-core",[FP]:"fire-core-compat",[VP]:"fire-analytics",[LP]:"fire-analytics-compat",[UP]:"fire-app-check",[jP]:"fire-app-check-compat",[BP]:"fire-auth",[$P]:"fire-auth-compat",[HP]:"fire-rtdb",[zP]:"fire-rtdb-compat",[WP]:"fire-fn",[GP]:"fire-fn-compat",[qP]:"fire-iid",[KP]:"fire-iid-compat",[YP]:"fire-fcm",[QP]:"fire-fcm-compat",[ZP]:"fire-perf",[JP]:"fire-perf-compat",[XP]:"fire-rc",[e1]:"fire-rc-compat",[t1]:"fire-gcs",[n1]:"fire-gcs-compat",[r1]:"fire-fst",[s1]:"fire-fst-compat",[i1]:"fire-vertex","fire-js":"fire-js",[o1]:"fire-js-all"};var eu=new Map,c1=new Map,bg=new Map;function DC(t,e){try{t.container.addComponent(e)}catch(n){li.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function hr(t){let e=t.name;if(bg.has(e))return li.debug(`There were multiple attempts to register component ${e}.`),!1;bg.set(e,t);for(let n of eu.values())DC(n,t);for(let n of c1.values())DC(n,t);return!0}function ta(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function _n(t){return t.settings!==void 0}var u1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},dr=new kn("app","Firebase",u1);var Eg=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Rt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw dr.create("app-deleted",{appName:this._name})}};var fr=a1;function Dg(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:wg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw dr.create("bad-app-name",{appName:String(i)});if(n||(n=ug()),!n)throw dr.create("no-options");let s=eu.get(i);if(s){if(Is(n,s.options)&&Is(r,s.config))return s;throw dr.create("duplicate-app",{appName:i})}let o=new Xo(i);for(let l of bg.values())o.addComponent(l);let a=new Eg(n,r,o);return eu.set(i,a),a}function tu(t=wg){let e=eu.get(t);if(!e&&t===wg&&ug())return Dg();if(!e)throw dr.create("no-app",{appName:t});return e}function qt(t,e,n){var r;let i=(r=l1[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),li.warn(a.join(" "));return}hr(new Rt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var d1="firebase-heartbeat-database",h1=1,ea="firebase-heartbeat-store",yg=null;function MC(){return yg||(yg=CC(d1,h1,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ea)}catch(n){console.warn(n)}}}}).catch(t=>{throw dr.create("idb-open",{originalErrorMessage:t.message})})),yg}function f1(t){return g(this,null,function*(){try{let n=(yield MC()).transaction(ea),r=yield n.objectStore(ea).get(NC(t));return yield n.done,r}catch(e){if(e instanceof Gt)li.warn(e.message);else{let n=dr.create("idb-get",{originalErrorMessage:e?.message});li.warn(n.message)}}})}function SC(t,e){return g(this,null,function*(){try{let r=(yield MC()).transaction(ea,"readwrite");yield r.objectStore(ea).put(e,NC(t)),yield r.done}catch(n){if(n instanceof Gt)li.warn(n.message);else{let r=dr.create("idb-set",{originalErrorMessage:n?.message});li.warn(r.message)}}})}function NC(t){return`${t.name}!${t.options.appId}`}var p1=1024,g1=30*24*60*60*1e3,Cg=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Ig(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return g(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=TC();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=g1}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return g(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=TC(),{heartbeatsToSend:r,unsentEntries:i}=m1(this._heartbeatsCache.heartbeats),s=qo(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function TC(){return new Date().toISOString().substring(0,10)}function m1(t,e=p1){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),AC(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),AC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Ig=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return g(this,null,function*(){return uC()?dC().then(()=>!0).catch(()=>!1):!1})}read(){return g(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield f1(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return g(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return SC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return g(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return SC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function AC(t){return qo(JSON.stringify({version:2,heartbeats:t})).length}function y1(t){hr(new Rt("platform-logger",e=>new _g(e),"PRIVATE")),hr(new Rt("heartbeat",e=>new Cg(e),"PRIVATE")),qt(vg,IC,t),qt(vg,IC,"esm2017"),qt("fire-js","")}y1("");function KC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var YC=KC,QC=new kn("auth","Firebase",KC());var au=new ur("@firebase/auth");function _1(t,...e){au.logLevel<=de.WARN&&au.warn(`Auth (${fr}): ${t}`,...e)}function ru(t,...e){au.logLevel<=de.ERROR&&au.error(`Auth (${fr}): ${t}`,...e)}function wn(t,...e){throw qg(t,...e)}function ci(t,...e){return qg(t,...e)}function ZC(t,e,n){let r=Object.assign(Object.assign({},YC()),{[e]:n});return new kn("auth","Firebase",r).create(e,{appName:t.name})}function gr(t){return ZC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qg(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return QC.create(t,...e)}function k(t,e,...n){if(!t)throw qg(e,...n)}function Pn(t){let e="INTERNAL ASSERTION FAILED: "+t;throw ru(e),new Error(e)}function mr(t,e){t||Pn(e)}function Mg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function v1(){return RC()==="http:"||RC()==="https:"}function RC(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function w1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(v1()||lC()||"connection"in navigator)?navigator.onLine:!0}function b1(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var ui=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,mr(n>e,"Short delay should be less than long delay!"),this.isMobile=Yo()||Qc()}get(){return w1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Kg(t,e){mr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var lu=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Pn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Pn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Pn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var E1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var C1=new ui(3e4,6e4);function hi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function yr(s,o,a,l){return g(this,arguments,function*(t,e,n,r,i={}){return JC(t,i,()=>g(this,null,function*(){let c={},u={};r&&(e==="GET"?u=r:c={body:JSON.stringify(r)});let d=oi(Object.assign({key:t.config.apiKey},u)).slice(1),h=yield t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),lu.fetch()(XC(t,t.config.apiHost,n,d),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},c))}))})}function JC(t,e,n){return g(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},E1),e);try{let i=new Ng(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw nu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw nu(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw nu(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw nu(t,"user-disabled",o);let u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw ZC(t,u,c);wn(t,u)}}catch(i){if(i instanceof Gt)throw i;wn(t,"network-request-failed",{message:String(i)})}})}function _u(s,o,a,l){return g(this,arguments,function*(t,e,n,r,i={}){let c=yield yr(t,e,n,r,i);return"mfaPendingCredential"in c&&wn(t,"multi-factor-auth-required",{_serverResponse:c}),c})}function XC(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?Kg(t.config,i):`${t.config.apiScheme}://${i}`}function I1(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Ng=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ci(this.auth,"network-request-failed")),C1.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function nu(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=ci(t,e,r);return i.customData._tokenResponse=n,i}function xC(t){return t!==void 0&&t.enterprise!==void 0}var Rg=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return I1(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function D1(t,e){return g(this,null,function*(){return yr(t,"GET","/v2/recaptchaConfig",hi(t,e))})}function S1(t,e){return g(this,null,function*(){return yr(t,"POST","/v1/accounts:delete",e)})}function e0(t,e){return g(this,null,function*(){return yr(t,"POST","/v1/accounts:lookup",e)})}function na(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function t0(t,e=!1){return g(this,null,function*(){let n=Ke(t),r=yield n.getIdToken(e),i=Yg(r);k(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:na(Sg(i.auth_time)),issuedAtTime:na(Sg(i.iat)),expirationTime:na(Sg(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Sg(t){return Number(t)*1e3}function Yg(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ru("JWT malformed, contained fewer than 3 sections"),null;try{let i=Ko(n);return i?JSON.parse(i):(ru("Failed to decode base64 JWT payload"),null)}catch(i){return ru("Caught error parsing JWT payload as JSON",i?.toString()),null}}function OC(t){let e=Yg(t);return k(e,"internal-error"),k(typeof e.exp<"u","internal-error"),k(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function ia(t,e,n=!1){return g(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Gt&&T1(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function T1({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var xg=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>g(this,null,function*(){yield this.iteration()}),n)}iteration(){return g(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var sa=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=na(this.lastLoginAt),this.creationTime=na(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function cu(t){return g(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield ia(t,e0(n,{idToken:r}));k(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?r0(s.providerUserInfo):[],a=A1(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!a?.length,u=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new sa(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)})}function n0(t){return g(this,null,function*(){let e=Ke(t);yield cu(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function A1(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function r0(t){return t.map(e=>{var{providerId:n}=e,r=Yd(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function M1(t,e){return g(this,null,function*(){let n=yield JC(t,{},()=>g(this,null,function*(){let r=oi({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=XC(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",lu.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function N1(t,e){return g(this,null,function*(){return yr(t,"POST","/v2/accounts:revokeToken",hi(t,e))})}var ra=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){k(e.idToken,"internal-error"),k(typeof e.idToken<"u","internal-error"),k(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):OC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){k(e.length!==0,"internal-error");let n=OC(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return g(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(k(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return g(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield M1(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(k(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(k(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(k(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Pn("not implemented")}};function pr(t,e){k(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Ts=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Yd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new xg(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new sa(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return g(this,null,function*(){let n=yield ia(this,this.stsTokenManager.getToken(this.auth,e));return k(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return t0(this,e)}reload(){return n0(this)}_assign(e){this!==e&&(k(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){k(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return g(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield cu(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return g(this,null,function*(){if(_n(this.auth.app))return Promise.reject(gr(this.auth));let e=yield this.getIdToken();return yield ia(this,S1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,u;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,S=(c=n.createdAt)!==null&&c!==void 0?c:void 0,K=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:V,emailVerified:ie,isAnonymous:We,providerData:ge,stsTokenManager:_e}=n;k(V&&_e,e,"internal-error");let Te=ra.fromJSON(this.name,_e);k(typeof V=="string",e,"internal-error"),pr(d,e.name),pr(h,e.name),k(typeof ie=="boolean",e,"internal-error"),k(typeof We=="boolean",e,"internal-error"),pr(f,e.name),pr(p,e.name),pr(m,e.name),pr(w,e.name),pr(S,e.name),pr(K,e.name);let ht=new t({uid:V,auth:e,email:h,emailVerified:ie,displayName:d,isAnonymous:We,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:Te,createdAt:S,lastLoginAt:K});return ge&&Array.isArray(ge)&&(ht.providerData=ge.map(Jt=>Object.assign({},Jt))),w&&(ht._redirectEventId=w),ht}static _fromIdTokenResponse(e,n,r=!1){return g(this,null,function*(){let i=new ra;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield cu(s),s})}static _fromGetAccountInfoResponse(e,n,r){return g(this,null,function*(){let i=n.users[0];k(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?r0(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new ra;a.updateFromIdToken(r);let l=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new sa(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(l,c),l})}};var kC=new Map;function Fn(t){mr(t instanceof Function,"Expected a class definition");let e=kC.get(t);return e?(mr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,kC.set(t,e),e)}var R1=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return g(this,null,function*(){return!0})}_set(n,r){return g(this,null,function*(){this.storage[n]=r})}_get(n){return g(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return g(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Og=R1;function iu(t,e,n){return`firebase:${t}:${e}:${n}`}var uu=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=iu(this.userKey,i.apiKey,s),this.fullPersistenceKey=iu("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return g(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Ts._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return g(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return g(this,null,function*(){if(!n.length)return new t(Fn(Og),e,r);let i=(yield Promise.all(n.map(c=>g(this,null,function*(){if(yield c._isAvailable())return c})))).filter(c=>c),s=i[0]||Fn(Og),o=iu(r,e.config.apiKey,e.name),a=null;for(let c of n)try{let u=yield c._get(o);if(u){let d=Ts._fromJSON(e,u);c!==s&&(a=d),s=c;break}}catch{}let l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new t(s,e,r):(s=l[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(c=>g(this,null,function*(){if(c!==s)try{yield c._remove(o)}catch{}}))),new t(s,e,r))})}};function PC(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(o0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(i0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(l0(e))return"Blackberry";if(c0(e))return"Webos";if(Qg(e))return"Safari";if((e.includes("chrome/")||s0(e))&&!e.includes("edge/"))return"Chrome";if(a0(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function i0(t=ze()){return/firefox\//i.test(t)}function Qg(t=ze()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function s0(t=ze()){return/crios\//i.test(t)}function o0(t=ze()){return/iemobile/i.test(t)}function a0(t=ze()){return/android/i.test(t)}function l0(t=ze()){return/blackberry/i.test(t)}function c0(t=ze()){return/webos/i.test(t)}function vu(t=ze()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function x1(t=ze()){var e;return vu(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function O1(){return cC()&&document.documentMode===10}function u0(t=ze()){return vu(t)||a0(t)||c0(t)||l0(t)||/windows phone/i.test(t)||o0(t)}function k1(){try{return!!(window&&window!==window.top)}catch{return!1}}function d0(t,e=[]){let n;switch(t){case"Browser":n=PC(ze());break;case"Worker":n=`${PC(ze())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${fr}/${r}`}var kg=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return g(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function P1(n){return g(this,arguments,function*(t,e={}){return yr(t,"GET","/v2/passwordPolicy",hi(t,e))})}var F1=6,Pg=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:F1,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Fg=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new du(this),this.idTokenSubscription=new du(this),this.beforeStateQueue=new kg(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=QC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Fn(n)),this._initializationPromise=this.queue(()=>g(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield uu.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return g(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return g(this,null,function*(){try{let n=yield e0(this,{idToken:e}),r=yield Ts._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return g(this,null,function*(){var n;if(_n(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,l=yield this.tryRedirectSignIn(e);(!o||o===a)&&l?.user&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return k(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return g(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return g(this,null,function*(){try{yield cu(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=b1()}_delete(){return g(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return g(this,null,function*(){if(_n(this.app))return Promise.reject(gr(this));let n=e?Ke(e):null;return n&&k(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return g(this,null,function*(){if(!this._deleted)return e&&k(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>g(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return g(this,null,function*(){return _n(this.app)?Promise.reject(gr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return _n(this.app)?Promise.reject(gr(this)):this.queue(()=>g(this,null,function*(){yield this.assertedPersistence.setPersistence(Fn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return g(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return g(this,null,function*(){let e=yield P1(this),n=new Pg(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new kn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return g(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield N1(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return g(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return g(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Fn(e)||this._popupRedirectResolver;k(n,this,"argument-error"),this.redirectPersistenceManager=yield uu.create(this,[Fn(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return g(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>g(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return g(this,null,function*(){if(e===this.currentUser)return this.queue(()=>g(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(k(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{let l=e.addObserver(n);return()=>{o=!0,l()}}}directlySetCurrentUser(e){return g(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return k(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=d0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return g(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return g(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&_1(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function As(t){return Ke(t)}var du=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=gC(n=>this.observer=n)}get next(){return k(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var wu={loadJS(){return g(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function L1(t){wu=t}function h0(t){return wu.loadJS(t)}function V1(){return wu.recaptchaEnterpriseScript}function j1(){return wu.gapiScript}function f0(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var U1="recaptcha-enterprise",B1="NO_RECAPTCHA",Lg=class{constructor(e){this.type=U1,this.auth=As(e)}verify(e="verify",n=!1){return g(this,null,function*(){function r(s){return g(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>g(this,null,function*(){D1(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let c=new Rg(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})}))})}function i(s,o,a){let l=window.grecaptcha;xC(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(B1)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&xC(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=V1();l.length!==0&&(l+=a),h0(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})})}};function FC(t,e,n,r=!1){return g(this,null,function*(){let i=new Lg(t),s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function LC(t,e,n,r){return g(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield FC(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(s=>g(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield FC(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)}))})}function p0(t,e){let n=ta(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(Is(s,e??{}))return i;wn(i,"already-initialized")}return n.initialize({options:e})}function $1(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Fn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function g0(t,e,n){let r=As(t);k(r._canInitEmulator,r,"emulator-config-failed"),k(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=m0(e),{host:o,port:a}=H1(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||z1()}function m0(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function H1(t){let e=m0(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:VC(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:VC(o)}}}function VC(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function z1(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var oa=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Pn("not implemented")}_getIdTokenResponse(e){return Pn("not implemented")}_linkToIdToken(e,n){return Pn("not implemented")}_getReauthenticationResolver(e){return Pn("not implemented")}};function W1(t,e){return g(this,null,function*(){return yr(t,"POST","/v1/accounts:signUp",e)})}function G1(t,e){return g(this,null,function*(){return _u(t,"POST","/v1/accounts:signInWithPassword",hi(t,e))})}function q1(t,e){return g(this,null,function*(){return _u(t,"POST","/v1/accounts:signInWithEmailLink",hi(t,e))})}function K1(t,e){return g(this,null,function*(){return _u(t,"POST","/v1/accounts:signInWithEmailLink",hi(t,e))})}var aa=class t extends oa{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return g(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return LC(e,n,"signInWithPassword",G1);case"emailLink":return q1(e,{email:this._email,oobCode:this._password});default:wn(e,"internal-error")}})}_linkToIdToken(e,n){return g(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return LC(e,r,"signUpPassword",W1);case"emailLink":return K1(e,{idToken:n,email:this._email,oobCode:this._password});default:wn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Tg(t,e){return g(this,null,function*(){return _u(t,"POST","/v1/accounts:signInWithIdp",hi(t,e))})}function Y1(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Q1(t){let e=Ds(Ss(t)).link,n=e?Ds(Ss(e)).deep_link_id:null,r=Ds(Ss(t)).deep_link_id;return(r?Ds(Ss(r)).link:null)||r||n||e||t}var hu=class t{constructor(e){var n,r,i,s,o,a;let l=Ds(Ss(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,d=Y1((i=l.mode)!==null&&i!==void 0?i:null);k(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=Q1(e);try{return new t(n)}catch{return null}}};var y0=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return aa._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=hu.parseLink(r);return k(i,"argument-error"),aa._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),fu=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Vg=class extends fu{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var la=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return g(this,null,function*(){let s=yield Ts._fromIdTokenResponse(e,r,i),o=jC(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return g(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=jC(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function jC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var jg=class t extends Gt{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function _0(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?jg._fromErrorAndOperation(t,s,e,r):s})}function Z1(t,e,n=!1){return g(this,null,function*(){let r=yield ia(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return la._forOperation(t,"link",r)})}function J1(t,e,n=!1){return g(this,null,function*(){let{auth:r}=t;if(_n(r.app))return Promise.reject(gr(r));let i="reauthenticate";try{let s=yield ia(t,_0(r,i,e,t),n);k(s.idToken,r,"internal-error");let o=Yg(s.idToken);k(o,r,"internal-error");let{sub:a}=o;return k(t.uid===a,r,"user-mismatch"),la._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&wn(r,"user-mismatch"),s}})}function v0(t,e,n=!1){return g(this,null,function*(){if(_n(t.app))return Promise.reject(gr(t));let r="signIn",i=yield _0(t,r,e),s=yield la._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function w0(t,e){return g(this,null,function*(){return v0(As(t),e)})}function X1(t){return g(this,null,function*(){let e=As(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Zg(t,e,n){return _n(t.app)?Promise.reject(gr(t)):w0(Ke(t),y0.credential(e,n)).catch(r=>g(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&X1(t),r}))}function b0(t,e,n,r){return Ke(t).onIdTokenChanged(e,n,r)}function E0(t,e,n){return Ke(t).beforeAuthStateChanged(e,n)}function Jg(t,e,n,r){return Ke(t).onAuthStateChanged(e,n,r)}var pu="__sak";var gu=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(pu,"1"),this.storage.removeItem(pu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function eF(){let t=ze();return Qg(t)||vu(t)}var tF=1e3,nF=10,rF=(()=>{class t extends gu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=eF()&&k1(),this.fallbackToPolling=u0(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}let i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(i);if(n.newValue!==a)n.newValue!==null?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);O1()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,nF):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},tF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return g(this,null,function*(){yield Mr(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return g(this,null,function*(){let r=yield Mr(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return g(this,null,function*(){yield Mr(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),C0=rF;var iF=(()=>{class t extends gu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),Xg=iF;function sF(t){return Promise.all(t.map(e=>g(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var oF=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return g(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let l=Array.from(a).map(u=>g(this,null,function*(){return u(r.origin,o)})),c=yield sF(l);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:c})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function I0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Ug=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return g(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{let c=I0("",20);i.port1.start();let u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){let h=d;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function vn(){return window}function aF(t){vn().location.href=t}function D0(){return typeof vn().WorkerGlobalScope<"u"&&typeof vn().importScripts=="function"}function lF(){return g(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function cF(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function uF(){return D0()?self:null}var S0="firebaseLocalStorageDb",dF=1,mu="firebaseLocalStorage",T0="fbase_key",di=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function bu(t,e){return t.transaction([mu],e?"readwrite":"readonly").objectStore(mu)}function hF(){let t=indexedDB.deleteDatabase(S0);return new di(t).toPromise()}function Bg(){let t=indexedDB.open(S0,dF);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(mu,{keyPath:T0})}catch(i){n(i)}}),t.addEventListener("success",()=>g(this,null,function*(){let r=t.result;r.objectStoreNames.contains(mu)?e(r):(r.close(),yield hF(),e(yield Bg()))}))})}function UC(t,e,n){return g(this,null,function*(){let r=bu(t,!0).put({[T0]:e,value:n});return new di(r).toPromise()})}function fF(t,e){return g(this,null,function*(){let n=bu(t,!1).get(e),r=yield new di(n).toPromise();return r===void 0?null:r.value})}function BC(t,e){let n=bu(t,!0).delete(e);return new di(n).toPromise()}var pF=800,gF=3,mF=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return g(this,null,function*(){return this.db?this.db:(this.db=yield Bg(),this.db)})}_withRetries(n){return g(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>gF)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return g(this,null,function*(){return D0()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return g(this,null,function*(){this.receiver=oF._getInstance(uF()),this.receiver._subscribe("keyChanged",(n,r)=>g(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>g(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return g(this,null,function*(){var n,r;if(this.activeServiceWorker=yield lF(),!this.activeServiceWorker)return;this.sender=new Ug(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return g(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||cF()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return g(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Bg();return yield UC(n,pu,"1"),yield BC(n,pu),!0}catch{}return!1})}_withPendingWrite(n){return g(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return g(this,null,function*(){return this._withPendingWrite(()=>g(this,null,function*(){return yield this._withRetries(i=>UC(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return g(this,null,function*(){let r=yield this._withRetries(i=>fF(i,n));return this.localCache[n]=r,r})}_remove(n){return g(this,null,function*(){return this._withPendingWrite(()=>g(this,null,function*(){return yield this._withRetries(r=>BC(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return g(this,null,function*(){let n=yield this._withRetries(s=>{let o=bu(s,!1).getAll();return new di(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>g(this,null,function*(){return this._poll()}),pF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),A0=mF;var kW=f0("rcb"),PW=new ui(3e4,6e4);function yF(t,e){return e?Fn(e):(k(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var ca=class extends oa{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Tg(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Tg(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Tg(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function _F(t){return v0(t.auth,new ca(t),t.bypassAuthState)}function vF(t){let{auth:e,user:n}=t;return k(n,e,"internal-error"),J1(n,new ca(t),t.bypassAuthState)}function wF(t){return g(this,null,function*(){let{auth:e,user:n}=t;return k(n,e,"internal-error"),Z1(n,new ca(t),t.bypassAuthState)})}var $g=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>g(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return g(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(l))}catch(c){this.reject(c)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _F;case"linkViaPopup":case"linkViaRedirect":return wF;case"reauthViaPopup":case"reauthViaRedirect":return vF;default:wn(this.auth,"internal-error")}}resolve(e){mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var FW=new ui(2e3,1e4);var bF="pendingRedirect",su=new Map,Hg=class t extends $g{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return g(this,null,function*(){let e=su.get(this.auth._key());if(!e){try{let r=(yield EF(this.resolver,this.auth))?yield Mr(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}su.set(this.auth._key(),e)}return this.bypassAuthState||su.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return g(this,null,function*(){if(e.type==="signInViaRedirect")return Mr(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Mr(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return g(this,null,function*(){})}cleanUp(){}};function EF(t,e){return g(this,null,function*(){let n=DF(e),r=IF(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function CF(t,e){su.set(t._key(),e)}function IF(t){return Fn(t._redirectPersistence)}function DF(t){return iu(bF,t.config.apiKey,t.name)}function SF(t,e,n=!1){return g(this,null,function*(){if(_n(t.app))return Promise.reject(gr(t));let r=As(t),i=yF(r,e),o=yield new Hg(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var TF=10*60*1e3,zg=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!AF(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!M0(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ci(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=TF&&this.cachedEventUids.clear(),this.cachedEventUids.has($C(e))}saveEventToCache(e){this.cachedEventUids.add($C(e)),this.lastProcessedEventTime=Date.now()}};function $C(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function M0({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function AF(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return M0(t);default:return!1}}function MF(n){return g(this,arguments,function*(t,e={}){return yr(t,"GET","/v1/projects",e)})}var NF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,RF=/^https?/;function xF(t){return g(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield MF(t);for(let n of e)try{if(OF(n))return}catch{}wn(t,"unauthorized-domain")})}function OF(t){let e=Mg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!RF.test(n))return!1;if(NF.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var kF=new ui(3e4,6e4);function HC(){let t=vn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function PF(t){return new Promise((e,n)=>{var r,i,s;function o(){HC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{HC(),n(ci(t,"network-request-failed"))},timeout:kF.get()})}if(!((i=(r=vn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=vn().gapi)===null||s===void 0)&&s.load)o();else{let a=f0("iframefcb");return vn()[a]=()=>{gapi.load?o():n(ci(t,"network-request-failed"))},h0(`${j1()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw ou=null,e})}var ou=null;function FF(t){return ou=ou||PF(t),ou}var LF=new ui(5e3,15e3),VF="__/auth/iframe",jF="emulator/auth/iframe",UF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},BF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $F(t){let e=t.config;k(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Kg(e,jF):`https://${t.config.authDomain}/${VF}`,r={apiKey:e.apiKey,appName:t.name,v:fr},i=BF.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${oi(r).slice(1)}`}function HF(t){return g(this,null,function*(){let e=yield FF(t),n=vn().gapi;return k(n,t,"internal-error"),e.open({where:document.body,url:$F(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:UF,dontclear:!0},r=>new Promise((i,s)=>g(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=ci(t,"network-request-failed"),a=vn().setTimeout(()=>{s(o)},LF.get());function l(){vn().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})})))})}var zF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},WF=500,GF=600,qF="_blank",KF="http://localhost",yu=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function YF(t,e,n,r=WF,i=GF){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",l=Object.assign(Object.assign({},zF),{width:r.toString(),height:i.toString(),top:s,left:o}),c=ze().toLowerCase();n&&(a=s0(c)?qF:n),i0(c)&&(e=e||KF,l.scrollbars="yes");let u=Object.entries(l).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(x1(c)&&a!=="_self")return QF(e||"",a),new yu(null);let d=window.open(e||"",a,u);k(d,t,"popup-blocked");try{d.focus()}catch{}return new yu(d)}function QF(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var ZF="__/auth/handler",JF="emulator/auth/handler",XF=encodeURIComponent("fac");function zC(t,e,n,r,i,s){return g(this,null,function*(){k(t.config.authDomain,t,"auth-domain-config-required"),k(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:fr,eventId:i};if(e instanceof fu){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Qo(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[u,d]of Object.entries(s||{}))o[u]=d}if(e instanceof Vg){let u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let u of Object.keys(a))a[u]===void 0&&delete a[u];let l=yield t._getAppCheckToken(),c=l?`#${XF}=${encodeURIComponent(l)}`:"";return`${eL(t)}?${oi(a).slice(1)}${c}`})}function eL({config:t}){return t.emulator?Kg(t,JF):`https://${t.authDomain}/${ZF}`}var Ag="webStorageSupport",Wg=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Xg,this._completeRedirectFn=SF,this._overrideRedirectResult=CF}_openPopup(e,n,r,i){return g(this,null,function*(){var s;mr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield zC(e,n,r,Mg(),i);return YF(e,o,I0())})}_openRedirect(e,n,r,i){return g(this,null,function*(){yield this._originValidation(e);let s=yield zC(e,n,r,Mg(),i);return aF(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(mr(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return g(this,null,function*(){let n=yield HF(e),r=new zg(e);return n.register("authEvent",i=>(k(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ag,{type:Ag},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[Ag];o!==void 0&&n(!!o),wn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=xF(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return u0()||Qg()||vu()}},N0=Wg;var WC="@firebase/auth",GC="1.7.4";var Gg=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return g(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){k(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function tL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function nL(t){hr(new Rt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;k(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:d0(t)},c=new Fg(r,i,s,l);return $1(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),hr(new Rt("auth-internal",e=>{let n=As(e.getProvider("auth").getImmediate());return(r=>new Gg(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),qt(WC,GC,tL(t)),qt(WC,GC,"esm2017")}var rL=5*60,iL=dg("authIdTokenMaxAge")||rL,qC=null,sL=t=>e=>g(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>iL)return;let i=n?.token;qC!==i&&(qC=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function ua(t=tu()){let e=ta(t,"auth");if(e.isInitialized())return e.getImmediate();let n=p0(t,{popupRedirectResolver:N0,persistence:[A0,C0,Xg]}),r=dg("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=sL(s.toString());E0(n,o,()=>o(n.currentUser)),b0(n,a=>o(a))}}let i=cg("auth");return i&&g0(n,`http://${i}`),n}function oL(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}L1({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=ci("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",oL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});nL("Browser");var aL="firebase",lL="10.12.2";qt(aL,lL,"app");var R0={apiKey:"AIzaSyBFNn8bOJwSlczp0HZKzrrH4g0iH0PHfd4",authDomain:"cardo-425721.firebaseapp.com",databaseURL:"https://cardo-425721-default-rtdb.firebaseio.com",projectId:"cardo-425721",storageBucket:"cardo-425721.appspot.com",messagingSenderId:"887682909859",appId:"1:887682909859:web:d3bee13fad508780f52116"};var em=new R("JWT_OPTIONS"),Eu=(()=>{class t{constructor(n=null){this.tokenGetter=n&&n.tokenGetter||function(){}}urlBase64Decode(n){let r=n.replace(/-/g,"+").replace(/_/g,"/");switch(r.length%4){case 0:break;case 2:{r+="==";break}case 3:{r+="=";break}default:throw new Error("Illegal base64url string!")}return this.b64DecodeUnicode(r)}b64decode(n){let r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i="";if(n=String(n).replace(/=+$/,""),n.length%4===1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(let s=0,o,a,l=0;a=n.charAt(l++);~a&&(o=s%4?o*64+a:a,s++%4)?i+=String.fromCharCode(255&o>>(-2*s&6)):0)a=r.indexOf(a);return i}b64DecodeUnicode(n){return decodeURIComponent(Array.prototype.map.call(this.b64decode(n),r=>"%"+("00"+r.charCodeAt(0).toString(16)).slice(-2)).join(""))}decodeToken(n=this.tokenGetter()){return n instanceof Promise?n.then(r=>this._decodeToken(r)):this._decodeToken(n)}_decodeToken(n){if(!n||n==="")return null;let r=n.split(".");if(r.length!==3)throw new Error("The inspected token doesn't appear to be a JWT. Check to make sure it has three parts and see https://jwt.io for more.");let i=this.urlBase64Decode(r[1]);if(!i)throw new Error("Cannot decode the token.");return JSON.parse(i)}getTokenExpirationDate(n=this.tokenGetter()){return n instanceof Promise?n.then(r=>this._getTokenExpirationDate(r)):this._getTokenExpirationDate(n)}_getTokenExpirationDate(n){let r;if(r=this.decodeToken(n),!r||!r.hasOwnProperty("exp"))return null;let i=new Date(0);return i.setUTCSeconds(r.exp),i}isTokenExpired(n=this.tokenGetter(),r){return n instanceof Promise?n.then(i=>this._isTokenExpired(i,r)):this._isTokenExpired(n,r)}_isTokenExpired(n,r){if(!n||n==="")return!0;let i=this.getTokenExpirationDate(n);return r=r||0,i===null?!1:!(i.valueOf()>new Date().valueOf()+r*1e3)}getAuthScheme(n,r){return typeof n=="function"?n(r):n}}return t.\u0275fac=function(n){return new(n||t)(A(em))},t.\u0275prov=C({token:t,factory:t.\u0275fac}),t})(),x0=t=>t instanceof Promise?Li(()=>t):P(t),cL=(()=>{class t{constructor(n,r,i){this.jwtHelper=r,this.document=i,this.standardPorts=["80","443"],this.tokenGetter=n.tokenGetter,this.headerName=n.headerName||"Authorization",this.authScheme=n.authScheme||n.authScheme===""?n.authScheme:"Bearer ",this.allowedDomains=n.allowedDomains||[],this.disallowedRoutes=n.disallowedRoutes||[],this.throwNoTokenError=n.throwNoTokenError||!1,this.skipWhenExpired=n.skipWhenExpired}isAllowedDomain(n){let r=new URL(n.url,this.document.location.origin);if(r.host===this.document.location.host)return!0;let i=`${r.hostname}${r.port&&!this.standardPorts.includes(r.port)?":"+r.port:""}`;return this.allowedDomains.findIndex(s=>typeof s=="string"?s===i:s instanceof RegExp?s.test(i):!1)>-1}isDisallowedRoute(n){let r=new URL(n.url,this.document.location.origin);return this.disallowedRoutes.findIndex(i=>{if(typeof i=="string"){let s=new URL(i,this.document.location.origin);return s.hostname===r.hostname&&s.pathname===r.pathname}return i instanceof RegExp?i.test(n.url):!1})>-1}handleInterception(n,r,i){let s=this.jwtHelper.getAuthScheme(this.authScheme,r);if(!n&&this.throwNoTokenError)throw new Error("Could not get token from tokenGetter function.");let o=P(!1);return this.skipWhenExpired&&(o=n?x0(this.jwtHelper.isTokenExpired(n)):P(!0)),n?o.pipe(W(a=>a&&this.skipWhenExpired?r.clone():r.clone({setHeaders:{[this.headerName]:`${s}${n}`}})),be(a=>i.handle(a))):i.handle(r)}intercept(n,r){if(!this.isAllowedDomain(n)||this.isDisallowedRoute(n))return r.handle(n);let i=this.tokenGetter(n);return x0(i).pipe(be(s=>this.handleInterception(s,n,r)))}}return t.\u0275fac=function(n){return new(n||t)(A(em),A(Eu),A(qe))},t.\u0275prov=C({token:t,factory:t.\u0275fac}),t})(),O0=(()=>{class t{constructor(n){if(n)throw new Error("JwtModule is already loaded. It should only be imported in your application's main module.")}static forRoot(n){return{ngModule:t,providers:[{provide:cE,useClass:cL,multi:!0},n.jwtOptionsProvider||{provide:em,useValue:n.config},Eu]}}}return t.\u0275fac=function(n){return new(n||t)(A(t,12))},t.\u0275mod=vt({type:t}),t.\u0275inj=_t({}),t})();var Ms=(()=>{let e=class e{constructor(r,i){this.jwtHelper=r,this.router=i,this.firebaseApp=Dg(R0),Jg(ua(this.firebaseApp),s=>{s||this.signOut()})}parseEmail(r){return r.replaceAll("@","_").replaceAll(".","_")}signIn(r,i){return g(this,null,function*(){let s=ua(this.firebaseApp);return Zg(s,r,i).then(o=>g(this,null,function*(){let a=yield o.user.getIdToken();return localStorage.setItem("jwt",a),this.user=this.parseEmail(r),!0})).catch(()=>!1)})}signOut(){ua(this.firebaseApp).signOut()}isAuthenticated(){let r=localStorage.getItem("jwt");if(!r||this.jwtHelper.isTokenExpired(r))return!1;let i=this.jwtHelper.decodeToken(r);return i.email?(this.user=this.parseEmail(i.email),!0):!1}canActivate(){return this.isAuthenticated()?!0:(this.router.navigate(["auth"]),!1)}};e.\u0275fac=function(i){return new(i||e)(A(Eu),A(On))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ns=(()=>{let e=class e{constructor(){this.notificationAdded=new fe}push(r){this.notificationAdded.next(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var dL=t=>({background:t});function hL(t,e){if(t&1&&(y(0,"div",3),oe(1),I()),t&2){let n=e.$implicit;as(nr(3,dL,n.success?"aquamarine":"lightcoral")),O(),wt(n.message)}}var P0=(()=>{let e=class e{constructor(r){this.notificationsService=r,this.notifications=[],this.timeout=1500}ngOnInit(){this.notificationsService.notificationAdded.subscribe(r=>this.handleNotification(r))}handleNotification(r){this.notifications.push(r),this.clearNext()}clearNext(){setTimeout(()=>this.notifications.splice(0,1),this.timeout)}};e.\u0275fac=function(i){return new(i||e)(T(Ns))},e.\u0275cmp=Ne({type:e,selectors:[["app-notifications"]],standalone:!0,features:[Oe],decls:3,vars:1,consts:[[1,"container"],[1,"bubble-container"],["class","bubble",3,"style",4,"ngFor","ngForOf"],[1,"bubble"]],template:function(i,s){i&1&&(y(0,"div",0)(1,"div",1),De(2,hL,2,5,"div",2),I()()),i&2&&(O(2),L("ngForOf",s.notifications))},dependencies:[lt,ir],styles:["body[_ngcontent-%COMP%]{margin:0;background:#dedede;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{height:2.5rem;margin:0 .5rem;padding:.25rem;border:none;outline:none;border-radius:5px;background-color:#f0f8ff;font-size:large;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}textarea[_ngcontent-%COMP%]{height:3.5rem}button[_ngcontent-%COMP%]{font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}.label[_ngcontent-%COMP%]{font-size:20px}.btn[_ngcontent-%COMP%]{width:fit-content;margin:auto;padding:.5rem 1rem;border:none;outline:none;height:3rem;border-radius:5px;font-size:20px;box-shadow:0 1px 2px #d3d3d3}.icon-btn[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;outline:none;border:none;background:none;width:4rem;height:4rem;padding:0 .5rem}.icon-btn[_ngcontent-%COMP%]:hover{cursor:pointer;outline:solid 1px black}.navbar[_ngcontent-%COMP%]{height:4rem;width:100%;display:flex;flex-direction:row;justify-content:space-between}.border-input[_ngcontent-%COMP%]{background:#ffffff10;border:solid 1px black}.container[_ngcontent-%COMP%]{position:absolute;z-index:2;top:0;left:0;width:100%;display:flex;flex-direction:row;justify-content:center}.bubble-container[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse;justify-content:center;margin-top:.5rem;gap:.5rem}.bubble[_ngcontent-%COMP%]{border-radius:16px;width:fit-content;padding:.25rem 1rem;box-shadow:0 1px 3px gray;margin:auto;font-size:20px}"]});let t=e;return t})();var z0=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(T(hn),T(Ht))},e.\u0275dir=Ie({type:e});let t=e;return t})(),Ru=(()=>{let e=class e extends z0{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=tr(e)))(s||e)}})(),e.\u0275dir=Ie({type:e,features:[zt]});let t=e;return t})(),ma=new R("");var fL={provide:ma,useExisting:Mn(()=>wr),multi:!0};function pL(){let t=fn()?fn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var gL=new R(""),wr=(()=>{let e=class e extends z0{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!pL())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(T(hn),T(Ht),T(gL,8))},e.\u0275dir=Ie({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&U("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[Zr([fL]),zt]});let t=e;return t})();function _r(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function W0(t){return t!=null&&typeof t.length=="number"}var G0=new R(""),q0=new R(""),mL=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Ye=class{static min(e){return yL(e)}static max(e){return _L(e)}static required(e){return vL(e)}static requiredTrue(e){return wL(e)}static email(e){return bL(e)}static minLength(e){return EL(e)}static maxLength(e){return CL(e)}static pattern(e){return IL(e)}static nullValidator(e){return K0(e)}static compose(e){return eI(e)}static composeAsync(e){return nI(e)}};function yL(t){return e=>{if(_r(e.value)||_r(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function _L(t){return e=>{if(_r(e.value)||_r(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function vL(t){return _r(t.value)?{required:!0}:null}function wL(t){return t.value===!0?null:{required:!0}}function bL(t){return _r(t.value)||mL.test(t.value)?null:{email:!0}}function EL(t){return e=>_r(e.value)||!W0(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function CL(t){return e=>W0(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function IL(t){if(!t)return K0;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(_r(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function K0(t){return null}function Y0(t){return t!=null}function Q0(t){return Jr(t)?Ce(t):t}function Z0(t){let e={};return t.forEach(n=>{e=n!=null?b(b({},e),n):e}),Object.keys(e).length===0?null:e}function J0(t,e){return e.map(n=>n(t))}function DL(t){return!t.validate}function X0(t){return t.map(e=>DL(e)?e:n=>e.validate(n))}function eI(t){if(!t)return null;let e=t.filter(Y0);return e.length==0?null:function(n){return Z0(J0(n,e))}}function tI(t){return t!=null?eI(X0(t)):null}function nI(t){if(!t)return null;let e=t.filter(Y0);return e.length==0?null:function(n){let r=J0(n,e).map(Q0);return Jd(r).pipe(W(Z0))}}function rI(t){return t!=null?nI(X0(t)):null}function F0(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function iI(t){return t._rawValidators}function sI(t){return t._rawAsyncValidators}function nm(t){return t?Array.isArray(t)?t:[t]:[]}function Iu(t,e){return Array.isArray(t)?t.includes(e):t===e}function L0(t,e){let n=nm(e);return nm(t).forEach(i=>{Iu(n,i)||n.push(i)}),n}function V0(t,e){return nm(e).filter(n=>!Iu(t,n))}var Du=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=tI(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=rI(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Os=class extends Du{get formDirective(){return null}get path(){return null}},ga=class extends Du{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Su=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},SL={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},j6=ee(b({},SL),{"[class.ng-submitted]":"isSubmitted"}),ks=(()=>{let e=class e extends Su{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(T(ga,2))},e.\u0275dir=Ie({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&Ec("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[zt]});let t=e;return t})(),Ps=(()=>{let e=class e extends Su{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(T(Os,10))},e.\u0275dir=Ie({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,s){i&2&&Ec("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[zt]});let t=e;return t})();var da="VALID",Cu="INVALID",Rs="PENDING",ha="DISABLED",vr=class{},Tu=class extends vr{constructor(e,n){super(),this.value=e,this.source=n}},fa=class extends vr{constructor(e,n){super(),this.pristine=e,this.source=n}},pa=class extends vr{constructor(e,n){super(),this.touched=e,this.source=n}},xs=class extends vr{constructor(e,n){super(),this.status=e,this.source=n}},rm=class extends vr{constructor(e){super(),this.source=e}},im=class extends vr{constructor(e){super(),this.source=e}};function oI(t){return(xu(t)?t.validators:t)||null}function TL(t){return Array.isArray(t)?tI(t):t||null}function aI(t,e){return(xu(e)?e.asyncValidators:t)||null}function AL(t){return Array.isArray(t)?rI(t):t||null}function xu(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function ML(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new _(1e3,"");if(!r[n])throw new _(1001,"")}function NL(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new _(1002,"")})}var Au=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._events=new fe,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===da}get invalid(){return this.status===Cu}get pending(){return this.status==Rs}get disabled(){return this.status===ha}get enabled(){return this.status!==ha}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(L0(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(L0(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(V0(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(V0(e,this._rawAsyncValidators))}hasValidator(e){return Iu(this._rawValidators,e)}hasAsyncValidator(e){return Iu(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ee(b({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new pa(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new pa(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ee(b({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new fa(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new fa(!0,r))}markAsPending(e={}){this.status=Rs;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new xs(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ee(b({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ha,this.errors=null,this._forEachChild(i=>{i.disable(ee(b({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Tu(this.value,r)),this._events.next(new xs(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ee(b({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=da,this._forEachChild(r=>{r.enable(ee(b({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ee(b({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===da||this.status===Rs)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Tu(this.value,n)),this._events.next(new xs(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ee(b({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ha:da}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Rs,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=Q0(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new xs(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new le,this.statusChanges=new le}_calculateStatus(){return this._allControlsDisabled()?ha:this.errors?Cu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Rs)?Rs:this._anyControlsHaveStatus(Cu)?Cu:da}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new fa(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new pa(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){xu(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=TL(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=AL(this._rawAsyncValidators)}},Ln=class extends Au{constructor(e,n,r){super(oI(n),aI(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){NL(this,!0,e),Object.keys(e).forEach(r=>{ML(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var lI=new R("CallSetDisabledState",{providedIn:"root",factory:()=>sm}),sm="always";function RL(t,e){return[...e.path,t]}function j0(t,e,n=sm){om(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),OL(t,e),PL(t,e),kL(t,e),xL(t,e)}function U0(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Nu(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Mu(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function xL(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function om(t,e){let n=iI(t);e.validator!==null?t.setValidators(F0(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=sI(t);e.asyncValidator!==null?t.setAsyncValidators(F0(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();Mu(e._rawValidators,i),Mu(e._rawAsyncValidators,i)}function Nu(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=iI(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(e.asyncValidator!==null){let i=sI(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}let r=()=>{};return Mu(e._rawValidators,r),Mu(e._rawAsyncValidators,r),n}function OL(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&cI(t,e)})}function kL(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&cI(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function cI(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function PL(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function FL(t,e){t==null,om(t,e)}function LL(t,e){return Nu(t,e)}function VL(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function jL(t){return Object.getPrototypeOf(t.constructor)===Ru}function UL(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function BL(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===wr?n=s:jL(s)?r=s:i=s}),i||r||n||null}function $L(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function B0(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function $0(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Se=class extends Au{constructor(e=null,n,r){super(oI(n),aI(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),xu(n)&&(n.nonNullable||n.initialValueIsDefault)&&($0(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){B0(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){B0(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){$0(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var HL=t=>t instanceof Se;var Fs=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ie({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})(),zL={provide:ma,useExisting:Mn(()=>am),multi:!0},am=(()=>{let e=class e extends Ru{writeValue(r){let i=r??"";this.setProperty("value",i)}registerOnChange(r){this.onChange=i=>{r(i==""?null:parseFloat(i))}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=tr(e)))(s||e)}})(),e.\u0275dir=Ie({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,s){i&1&&U("input",function(a){return s.onChange(a.target.value)})("blur",function(){return s.onTouched()})},features:[Zr([zL]),zt]});let t=e;return t})();var uI=new R("");var WL={provide:Os,useExisting:Mn(()=>fi)},fi=(()=>{let e=class e extends Os{constructor(r,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new le,this._setValidators(r),this._setAsyncValidators(i)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Nu(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){let i=this.form.get(r.path);return j0(i,r,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),i}getControl(r){return this.form.get(r.path)}removeControl(r){U0(r.control||null,r,!1),$L(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,i){this.form.get(r.path).setValue(i)}onSubmit(r){return this.submitted=!0,UL(this.form,this.directives),this.ngSubmit.emit(r),this.form._events.next(new rm(this.control)),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1,this.form._events.next(new im(this.form))}_updateDomValue(){this.directives.forEach(r=>{let i=r.control,s=this.form.get(r.path);i!==s&&(U0(i||null,r),HL(s)&&(j0(s,r,this.callSetDisabledState),r.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){let i=this.form.get(r.path);FL(i,r),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){let i=this.form.get(r.path);i&&LL(i,r)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){om(this.form,this),this._oldForm&&Nu(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(i){return new(i||e)(T(G0,10),T(q0,10),T(lI,8))},e.\u0275dir=Ie({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,s){i&1&&U("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Zr([WL]),zt,Xn]});let t=e;return t})();var GL={provide:ga,useExisting:Mn(()=>pi)},pi=(()=>{let e=class e extends ga{set isDisabled(r){}constructor(r,i,s,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new le,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=BL(this,o)}ngOnChanges(r){this._added||this._setUpControl(),VL(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return RL(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(T(Os,13),T(G0,10),T(q0,10),T(ma,10),T(uI,8))},e.\u0275dir=Ie({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Zr([GL]),zt,Xn]});let t=e;return t})(),qL={provide:ma,useExisting:Mn(()=>Ls),multi:!0};function dI(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function KL(t){return t.split(":")[0]}var Ls=(()=>{let e=class e extends Ru{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i=this._getOptionId(r),s=dI(i,r);this.setProperty("value",s)}registerOnChange(r){this.onChange=i=>{this.value=this._getOptionValue(i),r(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),r))return i;return null}_getOptionValue(r){let i=KL(r);return this._optionMap.has(i)?this._optionMap.get(i):r}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=tr(e)))(s||e)}})(),e.\u0275dir=Ie({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,s){i&1&&U("change",function(a){return s.onChange(a.target.value)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[Zr([qL]),zt]});let t=e;return t})(),Ou=(()=>{let e=class e{constructor(r,i,s){this._element=r,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(r){this._select!=null&&(this._select._optionMap.set(this.id,r),this._setElementValue(dI(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._setElementValue(r),this._select&&this._select.writeValue(this._select.value)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(T(Ht),T(hn),T(Ls,9))},e.\u0275dir=Ie({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})(),YL={provide:ma,useExisting:Mn(()=>hI),multi:!0};function H0(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function QL(t){return t.split(":")[0]}var hI=(()=>{let e=class e extends Ru{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i;if(Array.isArray(r)){let s=r.map(o=>this._getOptionId(o));i=(o,a)=>{o._setSelected(s.indexOf(a.toString())>-1)}}else i=(s,o)=>{s._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(r){this.onChange=i=>{let s=[],o=i.selectedOptions;if(o!==void 0){let a=o;for(let l=0;l<a.length;l++){let c=a[l],u=this._getOptionValue(c.value);s.push(u)}}else{let a=i.options;for(let l=0;l<a.length;l++){let c=a[l];if(c.selected){let u=this._getOptionValue(c.value);s.push(u)}}}this.value=s,r(s)}}_registerOption(r){let i=(this._idCounter++).toString();return this._optionMap.set(i,r),i}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,r))return i;return null}_getOptionValue(r){let i=QL(r);return this._optionMap.has(i)?this._optionMap.get(i)._value:r}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=tr(e)))(s||e)}})(),e.\u0275dir=Ie({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,s){i&1&&U("change",function(a){return s.onChange(a.target)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[Zr([YL]),zt]});let t=e;return t})(),ku=(()=>{let e=class e{constructor(r,i,s){this._element=r,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(r){this._select!=null&&(this._value=r,this._setElementValue(H0(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._select?(this._value=r,this._setElementValue(H0(this.id,r)),this._select.writeValue(this._select.value)):this._setElementValue(r)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}_setSelected(r){this._renderer.setProperty(this._element.nativeElement,"selected",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(T(Ht),T(hn),T(hI,9))},e.\u0275dir=Ie({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();var ZL=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=vt({type:e}),e.\u0275inj=_t({});let t=e;return t})();var Vs=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:uI,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:lI,useValue:r.callSetDisabledState??sm}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=vt({type:e}),e.\u0275inj=_t({imports:[ZL]});let t=e;return t})();var B=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(B||{}),bn="*";function gi(t,e){return{type:B.Trigger,name:t,definitions:e,options:{}}}function xt(t,e=null){return{type:B.Animate,styles:e,timings:t}}function fI(t,e=null){return{type:B.Sequence,steps:t,options:e}}function nt(t){return{type:B.Style,styles:t,offset:null}}function Ot(t,e,n){return{type:B.State,name:t,styles:e,options:n}}function kt(t,e,n=null){return{type:B.Transition,expr:t,animation:e,options:n}}var br=class{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},ya=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,r=0,i=0,s=this.players.length;s==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++n==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let n=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,n/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((n,r)=>n===null||r.totalTime>n.totalTime?r:n,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},Pu="!";var pI=gi("drop",[Ot("active",nt({top:"0"})),Ot("inactive",nt({top:"-100%"})),kt("active => inactive",xt("200ms ease-out")),kt("inactive => active",xt("200ms ease-in"))]);var JL=t=>({background:t}),gI=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ne({type:e,selectors:[["app-action-slider"]],inputs:{active:"active"},standalone:!0,features:[Oe],decls:2,vars:5,consts:[[1,"track",3,"ngStyle"]],template:function(i,s){i&1&&(y(0,"div",0),M(1,"div"),I()),i&2&&(L("ngStyle",nr(3,JL,s.active?"lightgreen":"gray")),O(),Kr(s.active?"slider right":"slider left"))},dependencies:[aE],styles:["body[_ngcontent-%COMP%]{margin:0;background:#dedede;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{height:2.5rem;margin:0 .5rem;padding:.25rem;border:none;outline:none;border-radius:5px;background-color:#f0f8ff;font-size:large;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}textarea[_ngcontent-%COMP%]{height:3.5rem}button[_ngcontent-%COMP%]{font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}.label[_ngcontent-%COMP%]{font-size:20px}.btn[_ngcontent-%COMP%]{width:fit-content;margin:auto;padding:.5rem 1rem;border:none;outline:none;height:3rem;border-radius:5px;font-size:20px;box-shadow:0 1px 2px #d3d3d3}.icon-btn[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;outline:none;border:none;background:none;width:4rem;height:4rem;padding:0 .5rem}.icon-btn[_ngcontent-%COMP%]:hover{cursor:pointer;outline:solid 1px black}.navbar[_ngcontent-%COMP%]{height:4rem;width:100%;display:flex;flex-direction:row;justify-content:space-between}.border-input[_ngcontent-%COMP%]{background:#ffffff10;border:solid 1px black}[_nghost-%COMP%]{display:flex;flex-direction:column;justify-content:center;padding:4px;margin-right:4px}.track[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;border-radius:2rem;width:42px;height:24px;box-shadow:0 1px 1px gray}.slider[_ngcontent-%COMP%]{border-radius:2rem;width:18px;height:18px;background:#dedede;box-shadow:1px 1px 2px #00000070}.left[_ngcontent-%COMP%]{transition:all .3s ease;margin-left:4px}.right[_ngcontent-%COMP%]{transition:all .3s ease;margin-left:20px}"]});let t=e;return t})();var js=(()=>{let e=class e{transform(r){switch(r){case"masculine":return"lightblue";case"feminine":return"lightpink";case"neuter":return"palegoldenrod";case"verb":return"plum";case"other":return"lightgreen";default:return"gray"}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275pipe=gf({name:"typeColor",type:e,pure:!0,standalone:!0});let t=e;return t})();var mI=[{id:0,goal:"ab",base:"from, off",goal_sent_1:"Die Fahrt kostet ab Hamburg 200 Euro.",base_sent_1:"The journey costs 200 Euro from Hamburg.",goal_sent_2:"Ab n\xE4chster Woche bleibt unser Gesch\xE4ft samstags geschlossen.",base_sent_2:"From next week, our business will be closed on Saturdays.",starred:!1,type:"other"},{id:1,goal:"abbiegen, biegt ab, bog ab, ist abgebogen",base:"to turn off, bend",goal_sent_1:"An der n\xE4chsten Kreuzung m\xFCssen Sie links abbiegen.",base_sent_1:"At the next junction you have to turn left.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:2,goal:"die Abbildung, -en",base:"Illustration",goal_sent_1:"Hier in der Abbildung sehen Sie, wie man das Ger\xE4t einschaltet.",base_sent_1:"Here you can see how to turn on the device.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"feminine"},{id:3,goal:"aber",base:"but",goal_sent_1:"Heute kann ich nicht, aber morgen ganz bestimmt.",base_sent_1:"I can not today, but certainly tomorrow.",goal_sent_2:"Es lag sehr viel Schnee, aber Enzo ist trotzdem mit dem Motorrad gefahren.",base_sent_2:"There was a lot of snow, but Enzo went by motorbike anyway.",starred:!1,type:"other"},{id:4,goal:'der Abfall, -"e',base:"waste, rubbish, garbage",goal_sent_1:"Werfen Sie den Bioabfall in die gr\xFCne Tonne.",base_sent_1:"Throw the bio-waste into the green bin.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"masculine"},{id:5,goal:"abfahren, f\xE4hrt ab, fuhr ab, ist abgefahren",base:"to depart",goal_sent_1:"Unser Zug ist p\xFCnktlich abgefahren.",base_sent_1:"Our train left on time.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:6,goal:"das Abgas, -e",base:"exhaust, waste gas",goal_sent_1:"Abgase aus Industrie und Haushalten verschmutzen die Luft.",base_sent_1:"Exhaust gases from industry and households pollute the air.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"neuter"},{id:7,goal:"abgeben, gibt ab, gab ab, hat abgegeben",base:"to hand in",goal_sent_1:"Ich soll dieses P\xE4ckchen bei Herrn M\xFCller abgeben.",base_sent_1:"I should hand over this package to Mr. M\xFCller.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:8,goal:"abh\xE4ngen, h\xE4ngt ab, hing ab, hat abgehangen",base:"to take down, uncouple, depend upon",goal_sent_1:"Vielleicht bleiben wir ein paar Tage l\xE4nger, das h\xE4ngt vom Wetter ab.",base_sent_1:"Maybe we stay a few days longer, it depends on the weather.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:9,goal:"abh\xE4ngig",base:"dependent on",goal_sent_1:"Gregor ist finanziell von seinen Eltern abh\xE4ngig.",base_sent_1:"Gregor is financially dependent on his parents.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"other"},{id:10,goal:"abheben, hebt ab, hob ab, hat abgehoben",base:"to lift (up)",goal_sent_1:"F\xFCr die Reise habe ich 500 Euro von meinem Konto abgehoben.",base_sent_1:"For the trip, I have lifted 500 \u20AC from my account.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:11,goal:"abholen, holt ab, holte ab, hat abgeholt",base:"to pick up (from a place)",goal_sent_1:"Meine Freundin hat mich vom Bahnhof abgeholt.",base_sent_1:"My girlfriend picked me up from the train station.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:12,goal:"das Abitur (Sg.)",base:"school graduation exam",goal_sent_1:"Meine Tochter hat gerade Abitur gemacht.",base_sent_1:"My daughter just graduated from high school.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"neuter"},{id:13,goal:"ablehnen, lehnt ab, lehnte ab, hat abgelehnt",base:"to refuse",goal_sent_1:"Es tut mir leid, Ihr Antrag ist abgelehnt.",base_sent_1:"I'm sorry, your application is rejected.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:14,goal:"abmachen, macht ab, machte ab, hat abgemacht",base:"to take off, agree",goal_sent_1:"Wir hatten doch abgemacht, dass du die Getr\xE4nke besorgst.",base_sent_1:"We had agreed that you get the drinks.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:15,goal:"abnehmen, nimmt ab, nahm ab, hat abgenommen",base:"to take off, remove, take away, loose weight",goal_sent_1:"Morgen k\xF6nnen wir den Verband abnehmen.",base_sent_1:"Tomorrow we can remove the bandage.",goal_sent_2:"Ich habe zehn Kilo abgenommen.",base_sent_2:"I lost ten pounds.",starred:!1,type:"verb"},{id:16,goal:"abonnieren, abonniert, abonnierte, hat abonniert",base:"to subscribe",goal_sent_1:"Diese Zeitschrift w\xFCrde ich gerne abonnieren.",base_sent_1:"I would like to subscribe to this magazine.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:17,goal:"das Abonnement, -s",base:"subscription",goal_sent_1:"Ich habe das Abonnement gek\xFCndigt.",base_sent_1:"I have canceled the subscription.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"neuter"},{id:18,goal:'der Abschluss, -"sse',base:"school graduation or result",goal_sent_1:"Ein guter Schulabschluss ist sehr wichtig.",base_sent_1:"A good education is very important.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"masculine"},{id:19,goal:"der Absender, -",base:"sender",goal_sent_1:"Schicken Sie das P\xE4ckchen an den Absender zur\xFCck.",base_sent_1:"Send the parcel back to the sender.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"masculine"},{id:20,goal:"die Absicht, -en",base:"intention",goal_sent_1:"Entschuldigen Sie bitte. Meine Tochter hat das nicht mit Absicht gemacht.",base_sent_1:"Excuse me please. My daughter did not do that on purpose.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"feminine"},{id:21,goal:"absolut",base:"absolute",goal_sent_1:"Was Sie da sagen, ist absolut falsch.",base_sent_1:"What you say is absolutely wrong.",goal_sent_2:"Ich habe absolutes Vertrauen zu dir.",base_sent_2:"I have absolute confidence in you.",starred:!1,type:"other"},{id:22,goal:"abstimmen, stimmt ab, stimmte ab, hat abgestimmt",base:"to vote",goal_sent_1:"Lasst uns \xFCber diesen Punkt abstimmen.",base_sent_1:"Let's vote on this point.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:23,goal:"die Abteilung, -en",base:"Department",goal_sent_1:"Meine Freundin arbeitet in der Abteilung von Frau Kaufmann.",base_sent_1:"My girlfriend works in the department of Mrs. Kaufmann.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"feminine"},{id:24,goal:"abwaschen, w\xE4scht ab, wusch ab, hat abgewaschen",base:"wash up",goal_sent_1:"Ich muss noch das Geschirr abwaschen.",base_sent_1:"I still have to wash the dishes.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"other"},{id:25,goal:"ach",base:"Oh",goal_sent_1:"Sie sind krank? Ach, das tut mir aber leid.",base_sent_1:"You are sick? Oh, I'm sorry.",goal_sent_2:"Ach so! Jetzt verstehe ich, was Sie meinen.",base_sent_2:"Oh, right! Now I understand what you mean.",starred:!1,type:"other"},{id:26,goal:"achten auf, achtet, achtete, hat geachtet",base:"to pay attention (to)",goal_sent_1:"Achten Sie bitte darauf, dass abends immer alle Fenster geschlossen sind.",base_sent_1:"Please make sure that all windows are closed in the evening.",goal_sent_2:"Hier m\xFCssen Sie auf die Vorfahrt achten.",base_sent_2:"Here you must pay attention to the right of way.",starred:!1,type:"verb"},{id:27,goal:"die Achtung (Sg.)",base:"Danger, Attention",goal_sent_1:"Achtung, hier endet die Stra\xDFe!",base_sent_1:"Attention, the road ends here!",goal_sent_2:"",base_sent_2:"",starred:!1,type:"feminine"},{id:28,goal:"die Adresse, -n",base:"address",goal_sent_1:"Hast du schon meine neue Adresse?",base_sent_1:"Do you already have my new address?",goal_sent_2:"",base_sent_2:"",starred:!1,type:"feminine"},{id:29,goal:"die Agentur, -en",base:"Agency",goal_sent_1:"Ich habe einen Brief von der Agentur f\xFCr Arbeit bekommen.",base_sent_1:"I got a letter from the employment agency.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"feminine"},{id:30,goal:"\xE4hnlich",base:"similar",goal_sent_1:"Oleg sieht seinem Bruder sehr \xE4hnlich.",base_sent_1:"Oleg looks very much like his brother.",goal_sent_2:"Emilia ist in einer ganz \xE4hnlichen Situation wie ich.",base_sent_2:"Emilia is in a similar situation to me.",starred:!1,type:"other"},{id:31,goal:"aha",base:"Aha",goal_sent_1:"Ich gehe bald in Rente. - Aha, dann haben Sie ja viel Zeit f\xFCr Ihre Hobbys.",base_sent_1:"I'm retiring soon. - Aha, then you have a lot of time for your hobbies.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"other"},{id:32,goal:"die Ahnung, -en",base:"idea, suspicion",goal_sent_1:"Ich hatte keine Ahnung, dass du heute Geburtstag hast.",base_sent_1:"I had no idea that you have a birthday today.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"feminine"},{id:33,goal:"die Aktion, -en",base:"action",goal_sent_1:"Die Regierung plant eine Aktion gegen das Rauchen.",base_sent_1:"The government is planning an action against smoking.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"feminine"},{id:34,goal:"aktiv",base:"active",goal_sent_1:"Ich bin sehr aktiv und mache viel Sport.",base_sent_1:"I am very active and do a lot of sports.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"other"},{id:35,goal:"die Aktivit\xE4t, -en",base:"activity",goal_sent_1:"In den Ferien bietet die Stadt f\xFCr Kinder verschiedene Freizeitaktivit\xE4ten.",base_sent_1:"During the holidays, the city offers various leisure activities for children.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"feminine"},{id:36,goal:"aktuell",base:"current (now)",goal_sent_1:"Umweltschutz ist ein aktuelles Thema.",base_sent_1:"Environmental protection is a current topic.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"other"},{id:37,goal:"akzeptieren, akzeptiert, akzeptierte, hat akzeptiert",base:"to accept",goal_sent_1:"Ich kann diese Bedingungen nicht akzeptieren.",base_sent_1:"I can not accept these conditions.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:38,goal:"der Alarm, -e",base:"alarm",goal_sent_1:"Bei Feueralarm d\xFCrfen Sie die Aufz\xFCge nicht benutzen.",base_sent_1:"In case of fire alarm you are not allowed to use the lifts.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"masculine"},{id:39,goal:"der Alkohol, -e",base:"alcohol",goal_sent_1:"Du musst die Wunde mit Alkohol reinigen.",base_sent_1:"You have to clean the wound with alcohol.",goal_sent_2:"Nein, danke! Ich trinke keinen Alkohol.",base_sent_2:"No thanks! I do not drink alcohol.",starred:!1,type:"masculine"},{id:40,goal:"all-",base:"everything",goal_sent_1:"Alles Gute!",base_sent_1:"All the best!",goal_sent_2:"Sonst noch (et)was? - Nein, danke. Das ist alles.",base_sent_2:"Anything else? - No thanks. That's all.",starred:!1,type:"other"},{id:41,goal:"allein",base:"alone",goal_sent_1:"Ich gehe nicht gern allein spazieren.",base_sent_1:"I do not like to go for a walk alone.",goal_sent_2:"Soll ich Ihnen helfen? - Danke, ich schaffe es schon allein.",base_sent_2:"Can I help you? - Thanks, I can do it alone.",starred:!1,type:"other"},{id:42,goal:"aller",base:"all",goal_sent_1:"Am allerbesten ist es, wenn du dich ins Bett legst und lange schl\xE4fst. Dann wirst du schnell wieder gesund.",base_sent_1:"Best of all, when you go to bed and sleep for a long time. Then you will get well soon.",goal_sent_2:"Das ist das Allersch\xF6nste, was ich je gesehen habe.",base_sent_2:"That's the most beautiful thing I've ever seen.",starred:!1,type:"other"},{id:43,goal:"allerdings",base:"admittedly, certainly",goal_sent_1:"Sie k\xF6nnen sich noch f\xFCr den Kurs anmelden, allerdings nur noch bis morgen.",base_sent_1:"You can still register for the course, but only until tomorrow.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"other"},{id:44,goal:"allgemein",base:"general",goal_sent_1:"Im Allgemeinen bin ich mit meiner Arbeit sehr zufrieden.",base_sent_1:"In general I am very satisfied with my work.",goal_sent_2:"Wir haben nur \xFCber allgemeine Probleme gesprochen.",base_sent_2:"We only talked about general problems.",starred:!1,type:"other"},{id:45,goal:"der Alltag, -e",base:"daily routine",goal_sent_1:"Das ist mein Alltag: putzen, waschen, kochen.",base_sent_1:"This is my everyday life: cleaning, washing, cooking.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"masculine"},{id:46,goal:"das Alphabet, -e",base:"alphabet",goal_sent_1:"Wie viele Buchstaben hat das Alphabet Ihrer Sprache?",base_sent_1:"How many letters does the alphabet have in your language?",goal_sent_2:"",base_sent_2:"",starred:!1,type:"neuter"},{id:47,goal:"als",base:"when, as, than",goal_sent_1:"Als mein Mann kam, war die Party schon zu Ende.",base_sent_1:"When my husband came, the party was over.",goal_sent_2:"Sie k\xF6nnen sich sowohl pers\xF6nlich als auch per Internet anmelden.",base_sent_2:"You can register both in person and via the internet.",starred:!1,type:"other"},{id:48,goal:"als ob",base:"as if",goal_sent_1:"Der Chef tat so, als ob wir nie dar\xFCber gesprochen h\xE4tten.",base_sent_1:"The boss pretended we never talked about it.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"other"},{id:49,goal:"also",base:"so, therefore",goal_sent_1:"Also, die Sache ist so: ...",base_sent_1:"So, the thing is ...",goal_sent_2:"Irina hat Urlaub. Sie kann uns also helfen.",base_sent_2:"Irina is on vacation. So she can help us.",starred:!1,type:"other"},{id:50,goal:"alt",base:"old",goal_sent_1:"Wie alt sind Sie?",base_sent_1:"How old are they?",goal_sent_2:"Maria ist eine alte Freundin von mir.",base_sent_2:"Maria is an old friend of mine.",starred:!1,type:"other"},{id:51,goal:"das Alter, -",base:"age",goal_sent_1:"Wir sind etwa im gleichen Alter.",base_sent_1:"We are about the same age.",goal_sent_2:"Im Alter bekomme ich eine ausreichende Rente.",base_sent_2:"At the age I get a sufficient pension.",starred:!1,type:"neuter"},{id:52,goal:"das Altenheim, -e",base:"old people's home, retirement home",goal_sent_1:"In Deutschland leben viele alte Leute in Altenheimen.",base_sent_1:"In Germany, many old people live in retirement homes.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"neuter"},{id:53,goal:"das Altersheim, -e",base:"old people's home, retirement home",goal_sent_1:"Die Gro\xDFeltern unserer Nachbarn sind im Altersheim.",base_sent_1:"The grandparents of our neighbors are in the retirement home.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"neuter"},{id:54,goal:"an",base:"on",goal_sent_1:"Am Anfang war alles sehr schwierig.",base_sent_1:"In the beginning everything was very difficult.",goal_sent_2:"Dann sehen wir uns also am Dienstag.",base_sent_2:"See you on Tuesday.",starred:!1,type:"other"},{id:55,goal:"die Ampel, -n",base:"traffic light",goal_sent_1:"Dort an der Ampel kannst du \xFCber die Stra\xDFe gehen.",base_sent_1:"There at the traffic light you can cross the street.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"feminine"},{id:56,goal:'das Amt, -"er',base:"office",goal_sent_1:"Die \xC4mter haben heute geschlossen.",base_sent_1:"The offices have closed today.",goal_sent_2:"Wissen Sie, wo das Ordnungsamt ist?",base_sent_2:"Do you know where the public order office is?",starred:!1,type:"neuter"},{id:57,goal:"sich am\xFCsieren, am\xFCsiert sich, am\xFCsierte sich, hat sich am\xFCsiert",base:"to amuse oneself",goal_sent_1:"Bei dem Fest haben wir uns sehr gut am\xFCsiert.",base_sent_1:"We had a good time at the party.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:58,goal:"analysieren, analysiert, analysierte, hat analysiert",base:"to analyse",goal_sent_1:"Die Politiker analysieren die Situation auf dem Arbeitsmarkt.",base_sent_1:"The politicians analyze the situation on the job market.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:59,goal:"anbieten, bietet an, bot an, hat angeboten",base:"to offer",goal_sent_1:"Darf ich Ihnen etwas zu trinken anbieten?",base_sent_1:"May I offer you something to drink?",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:60,goal:"das Angebot, -e",base:"offer",goal_sent_1:"Ich habe ein paar g\xFCnstige Wohnungsangebote bekommen.",base_sent_1:"I got a few cheap housing offers.",goal_sent_2:"Dieser K\xE4se ist heute im Angebot.",base_sent_2:"This cheese is on sale today.",starred:!1,type:"neuter"},{id:61,goal:"ander-",base:"other",goal_sent_1:"Die anderen sind schon nach Hause gegangen.",base_sent_1:"The others have already gone home.",goal_sent_2:"Bitte nicht alle auf einmal! - Einer nach dem anderen.",base_sent_2:"Not all at once! - One after the other.",starred:!1,type:"other"},{id:62,goal:"andererseits",base:"on the other hand",goal_sent_1:"Tarek will zwar studieren. Andererseits m\xF6chte er aber auch gleich Geld verdienen.",base_sent_1:"Tarek wants to study. On the other hand, he also wants to earn money right away.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"other"},{id:63,goal:"\xE4ndern, \xE4ndert, \xE4nderte, hat ge\xE4ndert",base:"to change",goal_sent_1:"Das Wetter hat sich ge\xE4ndert.",base_sent_1:"The weather has changed.",goal_sent_2:"Ich habe meine Meinung inzwischen ge\xE4ndert.",base_sent_2:"I have changed my mind by now.",starred:!1,type:"verb"},{id:64,goal:"die \xC4nderung, -en",base:"modification, change",goal_sent_1:"Es gibt eine Programm\xE4nderung.",base_sent_1:"There is a program change.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"feminine"},{id:65,goal:"anders",base:"different",goal_sent_1:"Anders geht das leider nicht.",base_sent_1:"Unfortunately, that is not possible.",goal_sent_2:"Oliver ist anders als seine Freunde.",base_sent_2:"Oliver is different than his friends.",starred:!1,type:"other"},{id:66,goal:"anerkennen, erkennt an, erkannte an, hat anerkannt",base:"to recognize",goal_sent_1:"Meine Ausbildung wird hier nicht anerkannt.",base_sent_1:"My education is not recognized here.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:67,goal:"anfangen, f\xE4ngt an, fing an, hat angefangen",base:"to begin",goal_sent_1:"Wann f\xE4ngst du mit der Arbeit an?",base_sent_1:"When do you start working?",goal_sent_2:"Wann haben Sie angefangen, Deutsch zu lernen?",base_sent_2:"When did you start learning German?",starred:!1,type:"verb"},{id:68,goal:'der Anfang, -"e',base:"beginning",goal_sent_1:"Wie war der Film? - Ich habe nur den Anfang gesehen.",base_sent_1:"How was the movie? - I saw only the beginning.",goal_sent_2:"Am Anfang habe ich mich hier sehr fremd gef\xFChlt.",base_sent_2:"In the beginning I felt very strange here.",starred:!1,type:"masculine"},{id:69,goal:"anfangs",base:"at/ in the beginning",goal_sent_1:"Anfangs ging alles gut.",base_sent_1:"At first everything went well.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"other"},{id:70,goal:"die Angabe,-n",base:"information, specification",goal_sent_1:"Wir brauchen von Ihnen folgende Angaben: Name, Adresse, Geburtsdatum.",base_sent_1:"We need the following information from you: name, address, date of birth.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"feminine"},{id:71,goal:"angeben, gibt an, gab an, hat angegeben",base:"to boast",goal_sent_1:"Bitte geben Sie Ihre genaue Adresse an.",base_sent_1:"Please enter your exact address.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:72,goal:"der Angeh\xF6rige, -n",base:"relative (cousin, etc)",goal_sent_1:"Wir d\xFCrfen nur Familienangeh\xF6rigen Auskunft geben.",base_sent_1:"We may only provide information to family members.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"masculine"},{id:73,goal:"angenehm",base:"pleasant",goal_sent_1:"Wir w\xFCnschen Ihnen eine angenehme Reise.",base_sent_1:"We wish you a pleasant journey.",goal_sent_2:"Welcher Termin w\xE4re Ihnen angenehm?",base_sent_2:"Which date would you like?",starred:!1,type:"other"},{id:74,goal:'die Angst, -"e',base:"fear",goal_sent_1:"Du brauchst keine Angst zu haben. Der Hund tut dir nichts.",base_sent_1:"You do not have to be scared. The dog does nothing to you.",goal_sent_2:"Ich habe Angst, vielleicht ist etwas passiert.",base_sent_2:"I'm scared, maybe something happened.",starred:!1,type:"feminine"},{id:75,goal:"\xE4ngstlich",base:"nervous, worried, timid",goal_sent_1:"Meine Tochter ist etwas \xE4ngstlich. Sie geht nicht gern allein auf die Stra\xDFe.",base_sent_1:"My daughter is a little scared. She does not like to go alone on the street.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"other"},{id:76,goal:"anhaben, hat an, hatte an, hat angehabt",base:"to have on",goal_sent_1:"Gestern hatte Julia ein rotes Kleid an.",base_sent_1:"Yesterday Julia was wearing a red dress.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:77,goal:"ankommen, kommt an, kam an, ist angekommen",base:"to arrive",goal_sent_1:"Wann kommt der Zug in Hamburg an?",base_sent_1:"When does the train arrive in Hamburg?",goal_sent_2:"Es kommt darauf an, dass Sie alle Fragen im Test beantworten.",base_sent_2:"It is important that you answer all the questions in the test.",starred:!1,type:"verb"},{id:78,goal:'die Ankunft, "-e',base:"arrival",goal_sent_1:"Die Abfahrt ist um 0.55 Uhr, die Ankunft um 8.07 Uhr.",base_sent_1:"The departure is at 0.55 clock, the arrival at 8.07 clock.",goal_sent_2:"Gleich nach der Ankunft habe ich meine Eltern angerufen.",base_sent_2:"Immediately after arrival, I called my parents.",starred:!1,type:"feminine"},{id:79,goal:"die Anlage, -n",base:"music system, attachment, investment",goal_sent_1:"Meine Musikanlage ist kaputt.",base_sent_1:"My music system is broken.",goal_sent_2:"In der Anlage finden Sie meinen Lebenslauf.",base_sent_2:"In the attachment you will find my CV.",starred:!1,type:"feminine"},{id:80,goal:"anmelden, meldet an, meldete an, hat angemeldet, angemeldet sein",base:"to announce, make an appointment",goal_sent_1:"F\xFCr diesen Kurs m\xFCssen Sie sich unbedingt vorher anmelden.",base_sent_1:"You absolutely have to register in advance for this course.",goal_sent_2:"Ich melde meinen Sohn im Kindergarten an.",base_sent_2:"I enroll my son in kindergarten.",starred:!1,type:"verb"},{id:81,goal:"die Anmeldung, -en",base:"appointment, announcement",goal_sent_1:"Wo bekomme ich die Formulare f\xFCr die Anmeldung?",base_sent_1:"Where can I get the registration forms?",goal_sent_2:"Die Anmeldung ist im Erdgeschoss, Zimmer 55.",base_sent_2:"The registration is on the ground floor, room 55.",starred:!1,type:"feminine"},{id:82,goal:"die Anrede, -n",base:"form of address",goal_sent_1:"Du darfst im Brief die Anrede nicht vergessen.",base_sent_1:"You must not forget the salutation in the letter.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"feminine"},{id:83,goal:"anrufen, ruft an, rief an, hat angerufen",base:"to telephone, call, call out",goal_sent_1:"Ich rufe Sie heute Abend an.",base_sent_1:"I'll call you tonight.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:84,goal:"der Anruf, -e",base:"call",goal_sent_1:"Ich warte auf einen Anruf aus Berlin.",base_sent_1:"I'm waiting for a call from Berlin.",goal_sent_2:"Meine Tochter bekommt viele Anrufe auf ihrem Handy.",base_sent_2:"My daughter gets many calls on her mobile.",starred:!1,type:"masculine"},{id:85,goal:"der Anrufbeantworter, -",base:"answering machine",goal_sent_1:"Ich habe dir eine Nachricht auf den Anrufbeantworter gesprochen.",base_sent_1:"I have spoken to you on the answering machine.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"masculine"},{id:86,goal:"die Ansage, -n",base:"announcement",goal_sent_1:"Achten Sie auf die Ansage am Bahnsteig.",base_sent_1:"Pay attention to the announcement on the platform.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"feminine"},{id:87,goal:"anschaffen, schafft an, schaffte an, hat angeschafft",base:"to purchase",goal_sent_1:"Wir haben uns neue M\xF6bel angeschafft.",base_sent_1:"We bought new furniture.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:88,goal:"anschlie\xDFen, schlie\xDFt an, schloss an, hat angeschlossen",base:"to connect",goal_sent_1:"Wo kann ich den Computer anschlie\xDFen?",base_sent_1:"Where can I connect the computer?",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:89,goal:'der Anschluss, -"e',base:"connection (TV, internet)",goal_sent_1:"In Mannheim haben Sie Anschluss nach Saarbr\xFCcken.",base_sent_1:"In Mannheim you have connection to Saarbr\xFCcken.",goal_sent_2:"Ich brauche in meiner Wohnung einen Telefonanschluss.",base_sent_2:"I need a telephone connection in my apartment.",starred:!1,type:"masculine"},{id:90,goal:"anschnallen, schnallt an, schnallte an, hat angeschnallt",base:"to strap in, fasten seat belt",goal_sent_1:"Vergiss nicht, dich anzuschnallen!",base_sent_1:"Do not forget to strap on!",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:91,goal:"ansehen, sieht an, sah an, hat angesehen",base:"to look at",goal_sent_1:"Warum siehst du mich so erschrocken an?",base_sent_1:"Why are you looking at me so startled?",goal_sent_2:"Darf ich eure Urlaubsfotos ansehen?",base_sent_2:"May I take a look at your vacation photos?",starred:!1,type:"verb"},{id:92,goal:"ansprechen, spricht an, sprach an, hat angesprochen",base:"to speak to",goal_sent_1:"Gestern hat mich die neue Mieterin im Treppenhaus angesprochen.",base_sent_1:"Yesterday, the new tenant in the stairwell addressed me.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:93,goal:'der Anspruch, - "e',base:"claim",goal_sent_1:"Sie wohnen im Stadtzentrum. Deshalb haben Sie keinen Anspruch auf Fahrgeld.",base_sent_1:"You live in the city center. Therefore, you are not entitled to fare.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"masculine"},{id:94,goal:"anstellen, stellt an, stellte an, hat angestellt",base:"to turn on, employ",goal_sent_1:"K\xF6nnen Sie bitte die Heizung anstellen?",base_sent_1:"Can you please turn on the heating?",goal_sent_2:"Mein Schwager ist bei einer M\xF6belfirma angestellt.",base_sent_2:"My brother-in-law is employed by a furniture company.",starred:!1,type:"verb"},{id:95,goal:"der Angestellte, -n",base:"employee",goal_sent_1:"Bj\xF6rn ist Angestellter in einem Reiseb\xFCro.",base_sent_1:"Bj\xF6rn is a clerk in a travel agency.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"masculine"},{id:96,goal:"sich anstrengen, strengt sich an, strengte sich an, hat sich angestrengt",base:"to tire oneself out, strain oneself",goal_sent_1:"Diese Arbeit strengt mich sehr an.",base_sent_1:"This work is very stressful for me.",goal_sent_2:"Wenn du die Pr\xFCfung schaffen willst, musst du dich mehr anstrengen.",base_sent_2:"If you want to pass the exam, you have to work harder.",starred:!1,type:"verb"},{id:97,goal:"anstrengend",base:"exhausting",goal_sent_1:"Ich finde diese Arbeit sehr anstrengend.",base_sent_1:"I find this work very exhausting.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"other"},{id:98,goal:'der Antrag, -"e',base:"application, proposal, motion",goal_sent_1:"Haben Sie schon einen Antrag auf Wohngeld gestellt?",base_sent_1:"Have you already applied for housing allowance?",goal_sent_2:"Die Antr\xE4ge bekommen Sie in Zimmer 47.",base_sent_2:"You will receive the applications in room 47.",starred:!1,type:"masculine"},{id:99,goal:"anwenden, wendet an, wandte an, hat angewandt/angewendet",base:"to use, employ, apply",goal_sent_1:"Diese Salbe muss man dreimal am Tag anwenden.",base_sent_1:"This ointment must be used three times a day.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"}];var yI="@firebase/database",_I="1.0.5";var hy="";function t2(t){hy=t}var mm=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),ke(n))}get(e){let n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Cs(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var ym=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return mn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var YI=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){let e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new mm(e)}}catch{}return new ym},yi=YI("localStorage"),_m=YI("sessionStorage");var $s=new ur("@firebase/database"),n2=function(){let t=1;return function(){return t++}}(),QI=function(t){let e=mC(t),n=new Kc;n.update(e);let r=n.digest();return Yc.encodeByteArray(r)},ka=function(...t){let e="";for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=ka.apply(null,r):typeof r=="object"?e+=ke(r):e+=r,e+=" "}return e},vi=null,vI=!0,r2=function(t,e){v(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?($s.logLevel=de.VERBOSE,vi=$s.log.bind($s),e&&_m.set("logging_enabled",!0)):typeof t=="function"?vi=t:(vi=null,_m.remove("logging_enabled"))},Qe=function(...t){if(vI===!0&&(vI=!1,vi===null&&_m.get("logging_enabled")===!0&&r2(!0)),vi){let e=ka.apply(null,t);vi(e)}},Pa=function(t){return function(...e){Qe(t,...e)}},vm=function(...t){let e="FIREBASE INTERNAL ERROR: "+ka(...t);$s.error(e)},Vn=function(...t){let e=`FIREBASE FATAL ERROR: ${ka(...t)}`;throw $s.error(e),new Error(e)},ct=function(...t){let e="FIREBASE WARNING: "+ka(...t);$s.warn(e)},i2=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ct("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},ZI=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},s2=function(t){if(gn()||document.readyState==="complete")t();else{let e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},zs="[MIN_NAME]",wi="[MAX_NAME]",Zs=function(t,e){if(t===e)return 0;if(t===zs||e===wi)return-1;if(e===zs||t===wi)return 1;{let n=wI(t),r=wI(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},o2=function(t,e){return t===e?0:t<e?-1:1},_a=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+ke(e))},fy=function(t){if(typeof t!="object"||t===null)return ke(t);let e=[];for(let r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=ke(e[r]),n+=":",n+=fy(t[e[r]]);return n+="}",n},JI=function(t,e){let n=t.length;if(n<=e)return[t];let r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function ut(t,e){for(let n in t)t.hasOwnProperty(n)&&e(n,t[n])}var XI=function(t){v(!ZI(t),"Invalid JSON number");let e=11,n=52,r=(1<<e-1)-1,i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));let c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();let u=c.join(""),d="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},a2=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},l2=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function c2(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");let r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}var u2=new RegExp("^-?(0*)\\d{1,10}$"),d2=-2147483648,h2=2147483647,wI=function(t){if(u2.test(t)){let e=Number(t);if(e>=d2&&e<=h2)return e}return null},Js=function(t){try{t()}catch(e){setTimeout(()=>{let n=e.stack||"";throw ct("Exception was thrown by user callback.",n),e},Math.floor(0))}},f2=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ca=function(t,e){let n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var wm=class{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){ct(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}};var bm=class{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Qe("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ct(e)}},Ia=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}t.OWNER="owner";return t})(),Lu="5",eD="v",tD="s",nD="r",rD="f",iD=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,sD="ls",oD="p",Em="ac",aD="websocket",lD="long_polling";var Vu=class{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=yi.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&yi.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}};function p2(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function cD(t,e,n){v(typeof e=="string","typeof type must == string"),v(typeof n=="object","typeof params must == object");let r;if(e===aD)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===lD)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);p2(t)&&(n.ns=t.namespace);let i=[];return ut(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}var Cm=class{constructor(){this.counters_={}}incrementCounter(e,n=1){mn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return iC(this.counters_)}};var cm={},um={};function py(t){let e=t.toString();return cm[e]||(cm[e]=new Cm),cm[e]}function g2(t,e){let n=t.toString();return um[n]||(um[n]=e()),um[n]}var Im=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Js(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var bI="start",m2="close",y2="pLPCommand",_2="pRTLPCB",uD="id",dD="pw",hD="ser",v2="cb",w2="seg",b2="ts",E2="d",C2="dframe",fD=1870,pD=30,I2=fD-pD,D2=25e3,S2=3e4,Dm=class t{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Pa(e),this.stats_=py(n),this.urlFn=l=>(this.appCheckToken&&(l[Em]=this.appCheckToken),cD(n,lD,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Im(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(S2)),s2(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Sm((...s)=>{let[o,a,l,c,u]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===bI)this.id=a,this.password=l;else if(o===m2)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{let[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[bI]="t",r[hD]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[v2]=this.scriptTagHolder.uniqueCallbackIdentifier),r[eD]=Lu,this.transportSessionId&&(r[tD]=this.transportSessionId),this.lastSessionId&&(r[sD]=this.lastSessionId),this.applicationId&&(r[oD]=this.applicationId),this.appCheckToken&&(r[Em]=this.appCheckToken),typeof location<"u"&&location.hostname&&iD.test(location.hostname)&&(r[nD]=rD);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){t.forceAllow_=!0}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){return gn()?!1:t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!a2()&&!l2()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let n=ke(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=ag(n),i=JI(r,I2);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if(gn())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[C2]="t",r[uD]=e,r[dD]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let n=ke(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},Sm=class t{constructor(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,gn())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=n2(),window[y2+this.uniqueCallbackIdentifier]=e,window[_2+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');let o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Qe("frame writing exception"),a.stack&&Qe(a.stack),Qe(a)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Qe("No IE domain setting required")}catch{let r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[uD]=this.myID,e[dD]=this.myPW,e[hD]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+pD+r.length<=fD;){let o=this.pendingSegs.shift();r=r+"&"+w2+i+"="+o.seg+"&"+b2+i+"="+o.ts+"&"+E2+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(D2)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){gn()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Qe("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var T2=16384,A2=45e3,ju=null;typeof MozWebSocket<"u"?ju=MozWebSocket:typeof WebSocket<"u"&&(ju=WebSocket);var va=(()=>{class t{constructor(n,r,i,s,o,a,l){this.connId=n,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Pa(this.connId),this.stats_=py(r),this.connURL=t.connectionURL_(r,a,l,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,s,o){let a={};return a[eD]=Lu,!gn()&&typeof location<"u"&&location.hostname&&iD.test(location.hostname)&&(a[nD]=rD),r&&(a[tD]=r),i&&(a[sD]=i),s&&(a[Em]=s),o&&(a[oD]=o),cD(n,aD,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,yi.set("previous_websocket_failure",!0);try{let i;if(gn()){let s=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${Lu}/${hy}/${process.platform}/${s}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let o=process.env,a=this.connURL.indexOf("wss://")===0?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new ju(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&ju!==null&&!t.forceDisallow_}static previouslyFailed(){return yi.isInMemoryStorage||yi.get("previous_websocket_failure")===!0}markConnectionHealthy(){yi.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=Cs(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(v(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=ke(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=JI(r,T2);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(A2))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4;return t})(),M2=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[Dm,va]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){let r=va&&va.isAvailable(),i=r&&!va.previouslyFailed();if(n.webSocketOnly&&(r||ct("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[va];else{let s=this.transports_=[];for(let o of t.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}t.globalTransportInitialized_=!1;return t})(),N2=6e4,R2=5e3,x2=10*1024,O2=100*1024,dm="t",EI="d",k2="s",CI="r",P2="e",II="o",DI="a",SI="n",TI="p",F2="h",Tm=class{constructor(e,n,r,i,s,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Pa("c:"+this.id+":"),this.transportManager_=new M2(n),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Ca(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>O2?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>x2?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){let n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(dm in e){let n=e[dm];n===DI?this.upgradeIfSecondaryHealthy_():n===CI?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===II&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let n=_a("t",e),r=_a("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:TI,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:DI,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:SI,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let n=_a("t",e),r=_a("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let n=_a(dm,e);if(EI in e){let r=e[EI];if(n===F2){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===SI){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===k2?this.onConnectionShutdown_(r):n===CI?this.onReset_(r):n===P2?vm("Server Error: "+r):n===II?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):vm("Unknown control packet command: "+n)}}onHandshake_(e){let n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Lu!==r&&ct("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Ca(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(N2))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ca(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(R2))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:TI,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(yi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var Uu=class{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}};var Bu=class{constructor(e){this.allowedEvents_=e,this.listeners_={},v(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){let r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});let i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);let i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){v(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};var $u=class t extends Bu{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Yo()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new t}getInitialEvent(e){return v(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var AI=32,MI=768,he=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function se(){return new he("")}function X(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Ir(t){return t.pieces_.length-t.pieceNum_}function ye(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new he(t.pieces_,e)}function gD(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function L2(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function mD(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function yD(t){if(t.pieceNum_>=t.pieces_.length)return null;let e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new he(e,0)}function Le(t,e){let n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof he)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{let r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new he(n,0)}function Z(t){return t.pieceNum_>=t.pieces_.length}function rt(t,e){let n=X(t),r=X(e);if(n===null)return e;if(n===r)return rt(ye(t),ye(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function _D(t,e){if(Ir(t)!==Ir(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Yt(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Ir(t)>Ir(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var Am=class{constructor(e,n){this.errorPrefix_=n,this.parts_=mD(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Jo(this.parts_[r]);vD(this)}};function V2(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Jo(e),vD(t)}function j2(t){let e=t.parts_.pop();t.byteLength_-=Jo(e),t.parts_.length>0&&(t.byteLength_-=1)}function vD(t){if(t.byteLength_>MI)throw new Error(t.errorPrefix_+"has a key path longer than "+MI+" bytes ("+t.byteLength_+").");if(t.parts_.length>AI)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+AI+") or object contains a cycle "+mi(t))}function mi(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}var Mm=class t extends Bu{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new t}getInitialEvent(e){return v(e==="visible","Unknown event type: "+e),[this.visible_]}};var wa=1e3,U2=60*5*1e3,NI=30*1e3,B2=1.3,$2=3e4,H2="server_kill",RI=3,gy=(()=>{class t extends Uu{constructor(n,r,i,s,o,a,l,c){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=t.nextPersistentConnectionId_++,this.log_=Pa("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=wa,this.maxReconnectDelay_=U2,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!gn())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Mm.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&$u.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let s=++this.requestNumber_,o={r:s,a:n,b:r};this.log_(ke(o)),v(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(n){this.initConnection_();let r=new cr,s={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let l=a.d;a.s==="ok"?r.resolve(l):r.reject(l)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;let o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),r.promise}listen(n,r,i,s){this.initConnection_();let o=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),v(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),v(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");let l={onComplete:s,hashFn:r,query:n,tag:i};this.listens.get(a).set(o,l),this.connected_&&this.sendListen_(l)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);let o={p:i},a="q";n.tag&&(o.q=r._queryObject,o.t=n.tag),o.h=n.hashFn(),this.sendRequest(a,o,l=>{let c=l.d,u=l.s;t.warnOnListenWarnings_(c,r),(this.listens.get(i)&&this.listens.get(i).get(s))===n&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(i,s),n.onComplete&&n.onComplete(u,c))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&mn(n,"w")){let i=si(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();ct(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||pC(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=NI)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=fC(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{let o=s.s,a=s.d||"error";this.authToken_===n&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),s=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),v(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,n._queryObject,r)}sendUnlisten_(n,r,i,s){this.log_("Unlisten on "+n+" for "+r);let o={p:n},a="n";s&&(o.q=i,o.t=s),this.sendRequest(a,o)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,s){let o={p:r,d:i};this.log_("onDisconnect "+n,o),this.sendRequest(n,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(n,r,i,s){this.putInternal("p",n,r,i,s)}merge(n,r,i,s){this.putInternal("m",n,r,i,s)}putInternal(n,r,i,s,o){this.initConnection_();let a={p:r,d:i};o!==void 0&&(a.h=o),this.outstandingPuts_.push({action:n,request:a,onComplete:s}),this.outstandingPutCount_++;let l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,s=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let o=i.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+ke(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):vm("Unrecognized action received from server: "+ke(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){v(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=wa,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=wa,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>$2&&(this.reconnectDelay_=wa),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=new Date().getTime()-this.lastConnectionAttemptTime_,r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*B2)}this.onConnectStatus_(!1)}establishConnection_(){return g(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+t.nextConnectionId_++,o=this.lastSessionId,a=!1,l=null,c=function(){l?l.close():(a=!0,i())},u=function(h){v(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(h)};this.realtime_={close:c,sendRequest:u};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[h,f]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?Qe("getToken() completed but was canceled"):(Qe("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=f&&f.token,l=new Tm(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,p=>{ct(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(H2)},o))}catch(h){this.log_("Failed to get token: "+h),a||(this.repoInfo_.nodeAdmin&&ct(h),c())}}})}interrupt(n){Qe("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Qe("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Qo(this.interruptReasons_)&&(this.reconnectDelay_=wa,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(o=>fy(o)).join("$"):i="default";let s=this.removeListen_(n,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(n,r){let i=new he(n).toString(),s;if(this.listens.has(i)){let o=this.listens.get(i);s=o.get(r),o.delete(r),o.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(n,r){Qe("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=RI&&(this.reconnectDelay_=NI,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){Qe("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=RI&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";gn()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+hy.replace(/\./g,"-")]=1,Yo()?n["framework.cordova"]=1:Qc()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=$u.getInstance().currentlyOnline();return Qo(this.interruptReasons_)&&n}}t.nextPersistentConnectionId_=0,t.nextConnectionId_=0;return t})(),Q=class t{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new t(e,n)}};var Ws=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){let r=new Q(zs,e),i=new Q(zs,n);return this.compare(r,i)!==0}minPost(){return Q.MIN}};var Fu,Hu=class extends Ws{static get __EMPTY_NODE(){return Fu}static set __EMPTY_NODE(e){Fu=e}compare(e,n){return Zs(e.name,n.name)}isDefinedOn(e){throw ii("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Q.MIN}maxPost(){return new Q(wi,Fu)}makePost(e,n){return v(typeof e=="string","KeyIndex indexValue must always be a string."),new Q(e,Fu)}toString(){return".key"}},Hs=new Hu;var Bs=class{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},Kt=(()=>{class t{constructor(n,r,i,s,o){this.key=n,this.value=r,this.color=i??t.RED,this.left=s??Pt.EMPTY_NODE,this.right=o??Pt.EMPTY_NODE}copy(n,r,i,s,o){return new t(n??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let s=this,o=i(n,s.key);return o<0?s=s.copy(null,null,null,s.left.insert(n,r,i),null):o===0?s=s.copy(null,r,null,null,null):s=s.copy(null,null,null,null,s.right.insert(n,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Pt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,s;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return Pt.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})(),Nm=class{copy(e,n,r,i,s){return this}insert(e,n,r){return new Kt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},Pt=class t{constructor(e,n=t.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Kt.BLACK,null,null))}remove(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Kt.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Bs(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Bs(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Bs(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Bs(this.root_,null,this.comparator_,!0,e)}};Pt.EMPTY_NODE=new Nm;function z2(t,e){return Zs(t.name,e.name)}function my(t,e){return Zs(t,e)}var Rm;function W2(t){Rm=t}var wD=function(t){return typeof t=="number"?"number:"+XI(t):"string:"+t},bD=function(t){if(t.isLeafNode()){let e=t.val();v(typeof e=="string"||typeof e=="number"||typeof e=="object"&&mn(e,".sv"),"Priority must be a string or number.")}else v(t===Rm||t.isEmpty(),"priority of unexpected type.");v(t===Rm||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var xI,Gs=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,v(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),bD(this.priorityNode_)}static set __childrenNodeConstructor(n){xI=n}static get __childrenNodeConstructor(){return xI}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return Z(n)?this:X(n)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=X(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(v(i!==".priority"||Ir(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(ye(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+wD(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=XI(this.value_):n+=this.value_,this.lazyHash_=QI(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(v(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,s=t.VALUE_TYPE_ORDER.indexOf(r),o=t.VALUE_TYPE_ORDER.indexOf(i);return v(s>=0,"Unknown leaf type: "+r),v(o>=0,"Unknown leaf type: "+i),s===o?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}t.VALUE_TYPE_ORDER=["object","boolean","number","string"];return t})(),ED,CD;function G2(t){ED=t}function q2(t){CD=t}var xm=class extends Ws{compare(e,n){let r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Zs(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Q.MIN}maxPost(){return new Q(wi,new Gs("[PRIORITY-POST]",CD))}makePost(e,n){let r=ED(e);return new Q(n,new Gs("[PRIORITY-POST]",r))}toString(){return".priority"}},Ee=new xm;var K2=Math.log(2),Om=class{constructor(e){let n=s=>parseInt(Math.log(s)/K2,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;let i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},zu=function(t,e,n,r){t.sort(e);let i=function(l,c){let u=c-l,d,h;if(u===0)return null;if(u===1)return d=t[l],h=n?n(d):d,new Kt(h,d.node,Kt.BLACK,null,null);{let f=parseInt(u/2,10)+l,p=i(l,f),m=i(f+1,c);return d=t[f],h=n?n(d):d,new Kt(h,d.node,Kt.BLACK,p,m)}},s=function(l){let c=null,u=null,d=t.length,h=function(p,m){let w=d-p,S=d;d-=p;let K=i(w+1,S),V=t[w],ie=n?n(V):V;f(new Kt(ie,V.node,m,null,K))},f=function(p){c?(c.left=p,c=p):(u=p,c=p)};for(let p=0;p<l.count;++p){let m=l.nextBitIsOne(),w=Math.pow(2,l.count-(p+1));m?h(w,Kt.BLACK):(h(w,Kt.BLACK),h(w,Kt.RED))}return u},o=new Om(t.length),a=s(o);return new Pt(r||e,a)};var hm,Us={},qs=class t{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return v(Us&&Ee,"ChildrenNode.ts has not been loaded"),hm=hm||new t({".priority":Us},{".priority":Ee}),hm}get(e){let n=si(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Pt?n:null}hasIndex(e){return mn(this.indexSet_,e.toString())}addIndex(e,n){v(e!==Hs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,s=n.getIterator(Q.Wrap),o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=zu(r,e.getCompare()):a=Us;let l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;let u=Object.assign({},this.indexes_);return u[l]=a,new t(u,c)}addToIndexes(e,n){let r=Zo(this.indexes_,(i,s)=>{let o=si(this.indexSet_,s);if(v(o,"Missing index implementation for "+s),i===Us)if(o.isDefinedOn(e.node)){let a=[],l=n.getIterator(Q.Wrap),c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),zu(a,o.getCompare())}else return Us;else{let a=n.get(e.name),l=i;return a&&(l=l.remove(new Q(e.name,a))),l.insert(e,e.node)}});return new t(r,this.indexSet_)}removeFromIndexes(e,n){let r=Zo(this.indexes_,i=>{if(i===Us)return i;{let s=n.get(e.name);return s?i.remove(new Q(e.name,s)):i}});return new t(r,this.indexSet_)}};var ba,$=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&bD(this.priorityNode_),this.children_.isEmpty()&&v(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ba||(ba=new t(new Pt(my),null,qs.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ba}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?ba:r}}getChild(n){let r=X(n);return r===null?this:this.getImmediateChild(r).getChild(ye(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(v(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new Q(n,r),s,o;r.isEmpty()?(s=this.children_.remove(n),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(n,r),o=this.indexMap_.addToIndexes(i,this.children_));let a=s.isEmpty()?ba:this.priorityNode_;return new t(s,a,o)}}updateChild(n,r){let i=X(n);if(i===null)return r;{v(X(n)!==".priority"||Ir(n)===1,".priority must be the last token in a path");let s=this.getImmediateChild(i).updateChild(ye(n),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,s=0,o=!0;if(this.forEachChild(Ee,(a,l)=>{r[a]=l.val(n),i++,o&&t.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!n&&o&&s<2*i){let a=[];for(let l in r)a[l]=r[l];return a}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+wD(this.getPriority().val())+":"),this.forEachChild(Ee,(r,i)=>{let s=i.hash();s!==""&&(n+=":"+r+":"+s)}),this.lazyHash_=n===""?"":QI(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let s=this.resolveIndex_(i);if(s){let o=s.getPredecessorKey(new Q(n,r));return o?o.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new Q(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new Q(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,s=>s);{let s=this.children_.getIteratorFrom(n.name,Q.Wrap),o=s.peek();for(;o!=null&&r.compare(o,n)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,s=>s);{let s=this.children_.getReverseIteratorFrom(n.name,Q.Wrap),o=s.peek();for(;o!=null&&r.compare(o,n)>0;)s.getNext(),o=s.peek();return s}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===Fa?-1:0}withIndex(n){if(n===Hs||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===Hs||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(Ee),s=r.getIterator(Ee),o=i.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=i.getNext(),a=s.getNext()}return o===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===Hs?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})(),km=class extends ${constructor(){super(new Pt(my),$.EMPTY_NODE,qs.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return $.EMPTY_NODE}isEmpty(){return!1}},Fa=new km;Object.defineProperties(Q,{MIN:{value:new Q(zs,$.EMPTY_NODE)},MAX:{value:new Q(wi,Fa)}});Hu.__EMPTY_NODE=$.EMPTY_NODE;Gs.__childrenNodeConstructor=$;W2(Fa);q2(Fa);var Y2=!0;function Ue(t,e=null){if(t===null)return $.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),v(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){let n=t;return new Gs(n,Ue(e))}if(!(t instanceof Array)&&Y2){let n=[],r=!1;if(ut(t,(o,a)=>{if(o.substring(0,1)!=="."){let l=Ue(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Q(o,l)))}}),n.length===0)return $.EMPTY_NODE;let s=zu(n,z2,o=>o.name,my);if(r){let o=zu(n,Ee.getCompare());return new $(s,Ue(e),new qs({".priority":o},{".priority":Ee}))}else return new $(s,Ue(e),qs.Default)}else{let n=$.EMPTY_NODE;return ut(t,(r,i)=>{if(mn(t,r)&&r.substring(0,1)!=="."){let s=Ue(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Ue(e))}}G2(Ue);var Pm=class extends Ws{constructor(e){super(),this.indexPath_=e,v(!Z(e)&&X(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){let r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Zs(e.name,n.name):s}makePost(e,n){let r=Ue(e),i=$.EMPTY_NODE.updateChild(this.indexPath_,r);return new Q(n,i)}maxPost(){let e=$.EMPTY_NODE.updateChild(this.indexPath_,Fa);return new Q(wi,e)}toString(){return mD(this.indexPath_,0).join("/")}};var Fm=class extends Ws{compare(e,n){let r=e.node.compareTo(n.node);return r===0?Zs(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Q.MIN}maxPost(){return Q.MAX}makePost(e,n){let r=Ue(e);return new Q(n,r)}toString(){return".value"}},Q2=new Fm;function ID(t){return{type:"value",snapshotNode:t}}function Ks(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Aa(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Ma(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Z2(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}var Na=class{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){v(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(Aa(n,a)):v(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Ks(n,r)):o.trackChildChange(Ma(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Ee,(i,s)=>{n.hasChild(i)||r.trackChildChange(Aa(i,s))}),n.isLeafNode()||n.forEachChild(Ee,(i,s)=>{if(e.hasChild(i)){let o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(Ma(i,s,o))}else r.trackChildChange(Ks(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?$.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var Wu=class t{constructor(e){this.indexedFilter_=new Na(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){let n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new Q(n,r))||(r=$.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=$.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority($.EMPTY_NODE);let s=this;return n.forEachChild(Ee,(o,a)=>{s.matches(new Q(o,a))||(i=i.updateImmediateChild(o,$.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){let n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){let n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}};var Lm=class{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{let r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{let r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Wu(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new Q(n,r))||(r=$.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=$.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=$.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){let a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority($.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){let a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,$.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){let d=this.index_.getCompare();o=(h,f)=>d(f,h)}else o=this.index_.getCompare();let a=e;v(a.numChildren()===this.limit_,"");let l=new Q(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){let d=a.getImmediateChild(n),h=i.getChildAfterChild(this.index_,c,this.reverse_);for(;h!=null&&(h.name===n||a.hasChild(h.name));)h=i.getChildAfterChild(this.index_,h,this.reverse_);let f=h==null?1:o(h,l);if(u&&!r.isEmpty()&&f>=0)return s?.trackChildChange(Ma(n,r,d)),a.updateImmediateChild(n,r);{s?.trackChildChange(Aa(n,d));let m=a.updateImmediateChild(n,$.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(s?.trackChildChange(Ks(h.name,h.node)),m.updateImmediateChild(h.name,h.node)):m}}else return r.isEmpty()?e:u&&o(c,l)>=0?(s!=null&&(s.trackChildChange(Aa(c.name,c.node)),s.trackChildChange(Ks(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,$.EMPTY_NODE)):e}};var Vm=class t{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ee}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return v(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return v(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:zs}hasEnd(){return this.endSet_}getIndexEndValue(){return v(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return v(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:wi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return v(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ee}copy(){let e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function J2(t){return t.loadsAllData()?new Na(t.getIndex()):t.hasLimit()?new Lm(t):new Wu(t)}function OI(t){let e={};if(t.isDefault())return e;let n;if(t.index_===Ee?n="$priority":t.index_===Q2?n="$value":t.index_===Hs?n="$key":(v(t.index_ instanceof Pm,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=ke(n),t.startSet_){let r=t.startAfterSet_?"startAfter":"startAt";e[r]=ke(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+ke(t.indexStartName_))}if(t.endSet_){let r=t.endBeforeSet_?"endBefore":"endAt";e[r]=ke(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+ke(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function kI(t){let e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Ee&&(e.i=t.index_.toString()),e}var jm=class t extends Uu{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Pa("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(v(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){let s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);let o=t.getListenId_(e,r),a={};this.listens_[o]=a;let l=OI(e._queryParams);this.restRequest_(s+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(s,d,!1,r),si(this.listens_,o)===a){let h;c?c===401?h="permission_denied":h="rest_error:"+c:h="ok",i(h,null)}})}unlisten(e,n){let r=t.getListenId_(e,n);delete this.listens_[r]}get(e){let n=OI(e._queryParams),r=e._path.toString(),i=new cr;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);let o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+oi(n);this.log_("Sending REST request for "+o);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Cs(a.responseText)}catch{ct("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&ct("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}};var Um=class{constructor(){this.rootNode_=$.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}};function Gu(){return{value:null,children:new Map}}function DD(t,e,n){if(Z(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{let r=X(e);t.children.has(r)||t.children.set(r,Gu());let i=t.children.get(r);e=ye(e),DD(i,e,n)}}function Bm(t,e,n){t.value!==null?n(e,t.value):X2(t,(r,i)=>{let s=new he(e.toString()+"/"+r);Bm(i,s,n)})}function X2(t,e){t.children.forEach((n,r)=>{e(r,n)})}var $m=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),n=Object.assign({},e);return this.last_&&ut(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}};var PI=10*1e3,eV=30*1e3,tV=5*60*1e3,Hm=class{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new $m(e);let r=PI+(eV-PI)*Math.random();Ca(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let e=this.statsListener_.get(),n={},r=!1;ut(e,(i,s)=>{s>0&&mn(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Ca(this.reportStats_.bind(this),Math.floor(Math.random()*2*tV))}};var En=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(En||{});function SD(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function yy(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function _y(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var zm=class t{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=En.ACK_USER_WRITE,this.source=SD()}operationForChild(e){if(Z(this.path)){if(this.affectedTree.value!=null)return v(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new he(e));return new t(se(),n,this.revert)}}else return v(X(this.path)===e,"operationForChild called for unrelated child."),new t(ye(this.path),this.affectedTree,this.revert)}};var qu=class t{constructor(e,n){this.source=e,this.path=n,this.type=En.LISTEN_COMPLETE}operationForChild(e){return Z(this.path)?new t(this.source,se()):new t(this.source,ye(this.path))}};var Ys=class t{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=En.OVERWRITE}operationForChild(e){return Z(this.path)?new t(this.source,se(),this.snap.getImmediateChild(e)):new t(this.source,ye(this.path),this.snap)}};var Ku=class t{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=En.MERGE}operationForChild(e){if(Z(this.path)){let n=this.children.subtree(new he(e));return n.isEmpty()?null:n.value?new Ys(this.source,se(),n.value):new t(this.source,se(),n)}else return v(X(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,ye(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var Cn=class{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Z(e))return this.isFullyInitialized()&&!this.filtered_;let n=X(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};var Wm=class{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}};function nV(t,e,n,r){let i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(Z2(o.childName,o.snapshotNode))}),Ea(t,i,"child_removed",e,r,n),Ea(t,i,"child_added",e,r,n),Ea(t,i,"child_moved",s,r,n),Ea(t,i,"child_changed",e,r,n),Ea(t,i,"value",e,r,n),i}function Ea(t,e,n,r,i,s){let o=r.filter(a=>a.type===n);o.sort((a,l)=>iV(t,a,l)),o.forEach(a=>{let l=rV(t,a,s);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function rV(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function iV(t,e,n){if(e.childName==null||n.childName==null)throw ii("Should only compare child_ events.");let r=new Q(e.childName,e.snapshotNode),i=new Q(n.childName,n.snapshotNode);return t.index_.compare(r,i)}function id(t,e){return{eventCache:t,serverCache:e}}function Da(t,e,n,r){return id(new Cn(e,n,r),t.serverCache)}function TD(t,e,n,r){return id(t.eventCache,new Cn(e,n,r))}function Yu(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function bi(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var fm,sV=()=>(fm||(fm=new Pt(o2)),fm),dt=class t{constructor(e,n=sV()){this.value=e,this.children=n}static fromObject(e){let n=new t(null);return ut(e,(r,i)=>{n=n.set(new he(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:se(),value:this.value};if(Z(e))return null;{let r=X(e),i=this.children.get(r);if(i!==null){let s=i.findRootMostMatchingPathAndValue(ye(e),n);return s!=null?{path:Le(new he(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Z(e))return this;{let n=X(e),r=this.children.get(n);return r!==null?r.subtree(ye(e)):new t(null)}}set(e,n){if(Z(e))return new t(n,this.children);{let r=X(e),s=(this.children.get(r)||new t(null)).set(ye(e),n),o=this.children.insert(r,s);return new t(this.value,o)}}remove(e){if(Z(e))return this.children.isEmpty()?new t(null):new t(null,this.children);{let n=X(e),r=this.children.get(n);if(r){let i=r.remove(ye(e)),s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new t(null):new t(this.value,s)}else return this}}get(e){if(Z(e))return this.value;{let n=X(e),r=this.children.get(n);return r?r.get(ye(e)):null}}setTree(e,n){if(Z(e))return n;{let r=X(e),s=(this.children.get(r)||new t(null)).setTree(ye(e),n),o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new t(this.value,o)}}fold(e){return this.fold_(se(),e)}fold_(e,n){let r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Le(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,se(),n)}findOnPath_(e,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if(Z(e))return null;{let s=X(e),o=this.children.get(s);return o?o.findOnPath_(ye(e),Le(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,se(),n)}foreachOnPath_(e,n,r){if(Z(e))return this;{this.value&&r(n,this.value);let i=X(e),s=this.children.get(i);return s?s.foreachOnPath_(ye(e),Le(n,i),r):new t(null)}}foreach(e){this.foreach_(se(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Le(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}};var Qt=class t{constructor(e){this.writeTree_=e}static empty(){return new t(new dt(null))}};function Sa(t,e,n){if(Z(e))return new Qt(new dt(n));{let r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){let i=r.path,s=r.value,o=rt(i,e);return s=s.updateChild(o,n),new Qt(t.writeTree_.set(i,s))}else{let i=new dt(n),s=t.writeTree_.setTree(e,i);return new Qt(s)}}}function FI(t,e,n){let r=t;return ut(n,(i,s)=>{r=Sa(r,Le(e,i),s)}),r}function LI(t,e){if(Z(e))return Qt.empty();{let n=t.writeTree_.setTree(e,new dt(null));return new Qt(n)}}function Gm(t,e){return Ei(t,e)!=null}function Ei(t,e){let n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(rt(n.path,e)):null}function VI(t){let e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ee,(r,i)=>{e.push(new Q(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Q(r,i.value))}),e}function Er(t,e){if(Z(e))return t;{let n=Ei(t,e);return n!=null?new Qt(new dt(n)):new Qt(t.writeTree_.subtree(e))}}function qm(t){return t.writeTree_.isEmpty()}function Qs(t,e){return AD(se(),t.writeTree_,e)}function AD(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(v(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=AD(Le(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Le(t,".priority"),r)),n}}function sd(t,e){return xD(e,t)}function oV(t,e,n,r,i){v(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Sa(t.visibleWrites,e,n)),t.lastWriteId=r}function aV(t,e){for(let n=0;n<t.allWrites.length;n++){let r=t.allWrites[n];if(r.writeId===e)return r}return null}function lV(t,e){let n=t.allWrites.findIndex(a=>a.writeId===e);v(n>=0,"removeWrite called with nonexistent writeId.");let r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){let a=t.allWrites[o];a.visible&&(o>=n&&cV(a,r.path)?i=!1:Yt(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return uV(t),!0;if(r.snap)t.visibleWrites=LI(t.visibleWrites,r.path);else{let a=r.children;ut(a,l=>{t.visibleWrites=LI(t.visibleWrites,Le(r.path,l))})}return!0}else return!1}function cV(t,e){if(t.snap)return Yt(t.path,e);for(let n in t.children)if(t.children.hasOwnProperty(n)&&Yt(Le(t.path,n),e))return!0;return!1}function uV(t){t.visibleWrites=MD(t.allWrites,dV,se()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function dV(t){return t.visible}function MD(t,e,n){let r=Qt.empty();for(let i=0;i<t.length;++i){let s=t[i];if(e(s)){let o=s.path,a;if(s.snap)Yt(n,o)?(a=rt(n,o),r=Sa(r,a,s.snap)):Yt(o,n)&&(a=rt(o,n),r=Sa(r,se(),s.snap.getChild(a)));else if(s.children){if(Yt(n,o))a=rt(n,o),r=FI(r,a,s.children);else if(Yt(o,n))if(a=rt(o,n),Z(a))r=FI(r,se(),s.children);else{let l=si(s.children,X(a));if(l){let c=l.getChild(ye(a));r=Sa(r,se(),c)}}}else throw ii("WriteRecord should have .snap or .children")}}return r}function ND(t,e,n,r,i){if(!r&&!i){let s=Ei(t.visibleWrites,e);if(s!=null)return s;{let o=Er(t.visibleWrites,e);if(qm(o))return n;if(n==null&&!Gm(o,se()))return null;{let a=n||$.EMPTY_NODE;return Qs(o,a)}}}else{let s=Er(t.visibleWrites,e);if(!i&&qm(s))return n;if(!i&&n==null&&!Gm(s,se()))return null;{let o=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(Yt(c.path,e)||Yt(e,c.path))},a=MD(t.allWrites,o,e),l=n||$.EMPTY_NODE;return Qs(a,l)}}}function hV(t,e,n){let r=$.EMPTY_NODE,i=Ei(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Ee,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){let s=Er(t.visibleWrites,e);return n.forEachChild(Ee,(o,a)=>{let l=Qs(Er(s,new he(o)),a);r=r.updateImmediateChild(o,l)}),VI(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{let s=Er(t.visibleWrites,e);return VI(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function fV(t,e,n,r,i){v(r||i,"Either existingEventSnap or existingServerSnap must exist");let s=Le(e,n);if(Gm(t.visibleWrites,s))return null;{let o=Er(t.visibleWrites,s);return qm(o)?i.getChild(n):Qs(o,i.getChild(n))}}function pV(t,e,n,r){let i=Le(e,n),s=Ei(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){let o=Er(t.visibleWrites,i);return Qs(o,r.getNode().getImmediateChild(n))}else return null}function gV(t,e){return Ei(t.visibleWrites,e)}function mV(t,e,n,r,i,s,o){let a,l=Er(t.visibleWrites,e),c=Ei(l,se());if(c!=null)a=c;else if(n!=null)a=Qs(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){let u=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o),f=h.getNext();for(;f&&u.length<i;)d(f,r)!==0&&u.push(f),f=h.getNext();return u}else return[]}function yV(){return{visibleWrites:Qt.empty(),allWrites:[],lastWriteId:-1}}function Qu(t,e,n,r){return ND(t.writeTree,t.treePath,e,n,r)}function vy(t,e){return hV(t.writeTree,t.treePath,e)}function jI(t,e,n,r){return fV(t.writeTree,t.treePath,e,n,r)}function Zu(t,e){return gV(t.writeTree,Le(t.treePath,e))}function _V(t,e,n,r,i,s){return mV(t.writeTree,t.treePath,e,n,r,i,s)}function wy(t,e,n){return pV(t.writeTree,t.treePath,e,n)}function RD(t,e){return xD(Le(t.treePath,e),t.writeTree)}function xD(t,e){return{treePath:t,writeTree:e}}var Km=class{constructor(){this.changeMap=new Map}trackChildChange(e){let n=e.type,r=e.childName;v(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),v(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,Ma(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Aa(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,Ks(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,Ma(r,e.snapshotNode,i.oldSnap));else throw ii("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}};var Ym=class{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}},OD=new Ym,Ra=class{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{let r=this.optCompleteServerCache_!=null?new Cn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return wy(this.writes_,e,r)}}getChildAfterChild(e,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:bi(this.viewCache_),s=_V(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}};function vV(t){return{filter:t}}function wV(t,e){v(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),v(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function bV(t,e,n,r,i){let s=new Km,o,a;if(n.type===En.OVERWRITE){let c=n;c.source.fromUser?o=Qm(t,e,c.path,c.snap,r,i,s):(v(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!Z(c.path),o=Ju(t,e,c.path,c.snap,r,i,a,s))}else if(n.type===En.MERGE){let c=n;c.source.fromUser?o=CV(t,e,c.path,c.children,r,i,s):(v(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=Zm(t,e,c.path,c.children,r,i,a,s))}else if(n.type===En.ACK_USER_WRITE){let c=n;c.revert?o=SV(t,e,c.path,r,i,s):o=IV(t,e,c.path,c.affectedTree,r,i,s)}else if(n.type===En.LISTEN_COMPLETE)o=DV(t,e,n.path,r,s);else throw ii("Unknown operation type: "+n.type);let l=s.getChanges();return EV(e,o,l),{viewCache:o,changes:l}}function EV(t,e,n){let r=e.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Yu(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(ID(Yu(e)))}}function kD(t,e,n,r,i,s){let o=e.eventCache;if(Zu(r,n)!=null)return e;{let a,l;if(Z(n))if(v(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let c=bi(e),u=c instanceof $?c:$.EMPTY_NODE,d=vy(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{let c=Qu(r,bi(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{let c=X(n);if(c===".priority"){v(Ir(n)===1,"Can't have a priority with additional path components");let u=o.getNode();l=e.serverCache.getNode();let d=jI(r,n,u,l);d!=null?a=t.filter.updatePriority(u,d):a=o.getNode()}else{let u=ye(n),d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();let h=jI(r,n,o.getNode(),l);h!=null?d=o.getNode().getImmediateChild(c).updateChild(u,h):d=o.getNode().getImmediateChild(c)}else d=wy(r,c,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),c,d,u,i,s):a=o.getNode()}}return Da(e,a,o.isFullyInitialized()||Z(n),t.filter.filtersNodes())}}function Ju(t,e,n,r,i,s,o,a){let l=e.serverCache,c,u=o?t.filter:t.filter.getIndexedFilter();if(Z(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){let f=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),f,null)}else{let f=X(n);if(!l.isCompleteForPath(n)&&Ir(n)>1)return e;let p=ye(n),w=l.getNode().getImmediateChild(f).updateChild(p,r);f===".priority"?c=u.updatePriority(l.getNode(),w):c=u.updateChild(l.getNode(),f,w,p,OD,null)}let d=TD(e,c,l.isFullyInitialized()||Z(n),u.filtersNodes()),h=new Ra(i,d,s);return kD(t,d,n,i,h,a)}function Qm(t,e,n,r,i,s,o){let a=e.eventCache,l,c,u=new Ra(i,e,s);if(Z(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=Da(e,c,!0,t.filter.filtersNodes());else{let d=X(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=Da(e,c,a.isFullyInitialized(),a.isFiltered());else{let h=ye(n),f=a.getNode().getImmediateChild(d),p;if(Z(h))p=r;else{let m=u.getCompleteChild(d);m!=null?gD(h)===".priority"&&m.getChild(yD(h)).isEmpty()?p=m:p=m.updateChild(h,r):p=$.EMPTY_NODE}if(f.equals(p))l=e;else{let m=t.filter.updateChild(a.getNode(),d,p,h,u,o);l=Da(e,m,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function UI(t,e){return t.eventCache.isCompleteForChild(e)}function CV(t,e,n,r,i,s,o){let a=e;return r.foreach((l,c)=>{let u=Le(n,l);UI(e,X(u))&&(a=Qm(t,a,u,c,i,s,o))}),r.foreach((l,c)=>{let u=Le(n,l);UI(e,X(u))||(a=Qm(t,a,u,c,i,s,o))}),a}function BI(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Zm(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;Z(n)?c=r:c=new dt(null).setTree(n,r);let u=e.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){let f=e.serverCache.getNode().getImmediateChild(d),p=BI(t,f,h);l=Ju(t,l,new he(d),p,i,s,o,a)}}),c.children.inorderTraversal((d,h)=>{let f=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!u.hasChild(d)&&!f){let p=e.serverCache.getNode().getImmediateChild(d),m=BI(t,p,h);l=Ju(t,l,new he(d),m,i,s,o,a)}}),l}function IV(t,e,n,r,i,s,o){if(Zu(i,n)!=null)return e;let a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(Z(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Ju(t,e,n,l.getNode().getChild(n),i,s,a,o);if(Z(n)){let c=new dt(null);return l.getNode().forEachChild(Hs,(u,d)=>{c=c.set(new he(u),d)}),Zm(t,e,n,c,i,s,a,o)}else return e}else{let c=new dt(null);return r.foreach((u,d)=>{let h=Le(n,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),Zm(t,e,n,c,i,s,a,o)}}function DV(t,e,n,r,i){let s=e.serverCache,o=TD(e,s.getNode(),s.isFullyInitialized()||Z(n),s.isFiltered());return kD(t,o,n,r,OD,i)}function SV(t,e,n,r,i,s){let o;if(Zu(r,n)!=null)return e;{let a=new Ra(r,e,i),l=e.eventCache.getNode(),c;if(Z(n)||X(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=Qu(r,bi(e));else{let d=e.serverCache.getNode();v(d instanceof $,"serverChildren would be complete if leaf node"),u=vy(r,d)}u=u,c=t.filter.updateFullNode(l,u,s)}else{let u=X(n),d=wy(r,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=t.filter.updateChild(l,u,d,ye(n),a,s):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,$.EMPTY_NODE,ye(n),a,s):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Qu(r,bi(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||Zu(r,se())!=null,Da(e,c,o,t.filter.filtersNodes())}}var Jm=class{constructor(e,n){this.query_=e,this.eventRegistrations_=[];let r=this.query_._queryParams,i=new Na(r.getIndex()),s=J2(r);this.processor_=vV(s);let o=n.serverCache,a=n.eventCache,l=i.updateFullNode($.EMPTY_NODE,o.getNode(),null),c=s.updateFullNode($.EMPTY_NODE,a.getNode(),null),u=new Cn(l,o.isFullyInitialized(),i.filtersNodes()),d=new Cn(c,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=id(d,u),this.eventGenerator_=new Wm(this.query_)}get query(){return this.query_}};function TV(t){return t.viewCache_.serverCache.getNode()}function AV(t){return Yu(t.viewCache_)}function MV(t,e){let n=bi(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Z(e)&&!n.getImmediateChild(X(e)).isEmpty())?n.getChild(e):null}function $I(t){return t.eventRegistrations_.length===0}function NV(t,e){t.eventRegistrations_.push(e)}function HI(t,e,n){let r=[];if(n){v(e==null,"A cancel should cancel all event registrations.");let i=t.query._path;t.eventRegistrations_.forEach(s=>{let o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){let o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function zI(t,e,n,r){e.type===En.MERGE&&e.source.queryId!==null&&(v(bi(t.viewCache_),"We should always have a full cache before handling merges"),v(Yu(t.viewCache_),"Missing event cache, even though we have a server cache"));let i=t.viewCache_,s=bV(t.processor_,i,e,n,r);return wV(t.processor_,s.viewCache),v(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,PD(t,s.changes,s.viewCache.eventCache.getNode(),null)}function RV(t,e){let n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ee,(s,o)=>{r.push(Ks(s,o))}),n.isFullyInitialized()&&r.push(ID(n.getNode())),PD(t,r,n.getNode(),e)}function PD(t,e,n,r){let i=r?[r]:t.eventRegistrations_;return nV(t.eventGenerator_,e,n,i)}var Xu,ed=class{constructor(){this.views=new Map}};function xV(t){v(!Xu,"__referenceConstructor has already been defined"),Xu=t}function OV(){return v(Xu,"Reference.ts has not been loaded"),Xu}function kV(t){return t.views.size===0}function by(t,e,n,r){let i=e.source.queryId;if(i!==null){let s=t.views.get(i);return v(s!=null,"SyncTree gave us an op for an invalid query."),zI(s,e,n,r)}else{let s=[];for(let o of t.views.values())s=s.concat(zI(o,e,n,r));return s}}function FD(t,e,n,r,i){let s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=Qu(n,i?r:null),l=!1;a?l=!0:r instanceof $?(a=vy(n,r),l=!1):(a=$.EMPTY_NODE,l=!1);let c=id(new Cn(a,l,!1),new Cn(r,i,!1));return new Jm(e,c)}return o}function PV(t,e,n,r,i,s){let o=FD(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),NV(o,n),RV(o,n)}function FV(t,e,n,r){let i=e._queryIdentifier,s=[],o=[],a=Dr(t);if(i==="default")for(let[l,c]of t.views.entries())o=o.concat(HI(c,n,r)),$I(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{let l=t.views.get(i);l&&(o=o.concat(HI(l,n,r)),$I(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!Dr(t)&&s.push(new(OV())(e._repo,e._path)),{removed:s,events:o}}function LD(t){let e=[];for(let n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Cr(t,e){let n=null;for(let r of t.views.values())n=n||MV(r,e);return n}function VD(t,e){if(e._queryParams.loadsAllData())return od(t);{let r=e._queryIdentifier;return t.views.get(r)}}function jD(t,e){return VD(t,e)!=null}function Dr(t){return od(t)!=null}function od(t){for(let e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}var td;function LV(t){v(!td,"__referenceConstructor has already been defined"),td=t}function VV(){return v(td,"Reference.ts has not been loaded"),td}var jV=1,nd=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new dt(null),this.pendingWriteTree_=yV(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function UD(t,e,n,r,i){return oV(t.pendingWriteTree_,e,n,r,i),i?Va(t,new Ys(SD(),e,n)):[]}function _i(t,e,n=!1){let r=aV(t.pendingWriteTree_,e);if(lV(t.pendingWriteTree_,e)){let s=new dt(null);return r.snap!=null?s=s.set(se(),!0):ut(r.children,o=>{s=s.set(new he(o),!0)}),Va(t,new zm(r.path,s,n))}else return[]}function La(t,e,n){return Va(t,new Ys(yy(),e,n))}function UV(t,e,n){let r=dt.fromObject(n);return Va(t,new Ku(yy(),e,r))}function BV(t,e){return Va(t,new qu(yy(),e))}function $V(t,e,n){let r=Cy(t,n);if(r){let i=Iy(r),s=i.path,o=i.queryId,a=rt(s,e),l=new qu(_y(o),a);return Dy(t,s,l)}else return[]}function BD(t,e,n,r,i=!1){let s=e._path,o=t.syncPointTree_.get(s),a=[];if(o&&(e._queryIdentifier==="default"||jD(o,e))){let l=FV(o,e,n,r);kV(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));let c=l.removed;if(a=l.events,!i){let u=c.findIndex(h=>h._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(s,(h,f)=>Dr(f));if(u&&!d){let h=t.syncPointTree_.subtree(s);if(!h.isEmpty()){let f=GV(h);for(let p=0;p<f.length;++p){let m=f[p],w=m.query,S=WD(t,m);t.listenProvider_.startListening(Ta(w),xa(t,w),S.hashFn,S.onComplete)}}}!d&&c.length>0&&!r&&(u?t.listenProvider_.stopListening(Ta(e),null):c.forEach(h=>{let f=t.queryToTagMap.get(ad(h));t.listenProvider_.stopListening(Ta(h),f)}))}qV(t,c)}return a}function $D(t,e,n,r){let i=Cy(t,r);if(i!=null){let s=Iy(i),o=s.path,a=s.queryId,l=rt(o,e),c=new Ys(_y(a),l,n);return Dy(t,o,c)}else return[]}function HV(t,e,n,r){let i=Cy(t,r);if(i){let s=Iy(i),o=s.path,a=s.queryId,l=rt(o,e),c=dt.fromObject(n),u=new Ku(_y(a),l,c);return Dy(t,o,u)}else return[]}function zV(t,e,n,r=!1){let i=e._path,s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(h,f)=>{let p=rt(h,i);s=s||Cr(f,p),o=o||Dr(f)});let a=t.syncPointTree_.get(i);a?(o=o||Dr(a),s=s||Cr(a,se())):(a=new ed,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;s!=null?l=!0:(l=!1,s=$.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((f,p)=>{let m=Cr(p,se());m&&(s=s.updateImmediateChild(f,m))}));let c=jD(a,e);if(!c&&!e._queryParams.loadsAllData()){let h=ad(e);v(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");let f=KV();t.queryToTagMap.set(h,f),t.tagToQueryMap.set(f,h)}let u=sd(t.pendingWriteTree_,i),d=PV(a,e,n,u,s,l);if(!c&&!o&&!r){let h=VD(a,e);d=d.concat(YV(t,e,h))}return d}function Ey(t,e,n){let i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{let l=rt(o,e),c=Cr(a,l);if(c)return c});return ND(i,e,s,n,!0)}function WV(t,e){let n=e._path,r=null;t.syncPointTree_.foreachOnPath(n,(c,u)=>{let d=rt(c,n);r=r||Cr(u,d)});let i=t.syncPointTree_.get(n);i?r=r||Cr(i,se()):(i=new ed,t.syncPointTree_=t.syncPointTree_.set(n,i));let s=r!=null,o=s?new Cn(r,!0,!1):null,a=sd(t.pendingWriteTree_,e._path),l=FD(i,e,a,s?o.getNode():$.EMPTY_NODE,s);return AV(l)}function Va(t,e){return HD(e,t.syncPointTree_,null,sd(t.pendingWriteTree_,se()))}function HD(t,e,n,r){if(Z(t.path))return zD(t,e,n,r);{let i=e.get(se());n==null&&i!=null&&(n=Cr(i,se()));let s=[],o=X(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){let c=n?n.getImmediateChild(o):null,u=RD(r,o);s=s.concat(HD(a,l,c,u))}return i&&(s=s.concat(by(i,t,r,n))),s}}function zD(t,e,n,r){let i=e.get(se());n==null&&i!=null&&(n=Cr(i,se()));let s=[];return e.children.inorderTraversal((o,a)=>{let l=n?n.getImmediateChild(o):null,c=RD(r,o),u=t.operationForChild(o);u&&(s=s.concat(zD(u,a,l,c)))}),i&&(s=s.concat(by(i,t,r,n))),s}function WD(t,e){let n=e.query,r=xa(t,n);return{hashFn:()=>(TV(e)||$.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?$V(t,n._path,r):BV(t,n._path);{let s=c2(i,n);return BD(t,n,null,s)}}}}function xa(t,e){let n=ad(e);return t.queryToTagMap.get(n)}function ad(t){return t._path.toString()+"$"+t._queryIdentifier}function Cy(t,e){return t.tagToQueryMap.get(e)}function Iy(t){let e=t.indexOf("$");return v(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new he(t.substr(0,e))}}function Dy(t,e,n){let r=t.syncPointTree_.get(e);v(r,"Missing sync point for query tag that we're tracking");let i=sd(t.pendingWriteTree_,e);return by(r,n,i,null)}function GV(t){return t.fold((e,n,r)=>{if(n&&Dr(n))return[od(n)];{let i=[];return n&&(i=LD(n)),ut(r,(s,o)=>{i=i.concat(o)}),i}})}function Ta(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(VV())(t._repo,t._path):t}function qV(t,e){for(let n=0;n<e.length;++n){let r=e[n];if(!r._queryParams.loadsAllData()){let i=ad(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function KV(){return jV++}function YV(t,e,n){let r=e._path,i=xa(t,e),s=WD(t,n),o=t.listenProvider_.startListening(Ta(e),i,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(r);if(i)v(!Dr(a.value),"If we're adding a query, it shouldn't be shadowed");else{let l=a.fold((c,u,d)=>{if(!Z(c)&&u&&Dr(u))return[od(u).query];{let h=[];return u&&(h=h.concat(LD(u).map(f=>f.query))),ut(d,(f,p)=>{h=h.concat(p)}),h}});for(let c=0;c<l.length;++c){let u=l[c];t.listenProvider_.stopListening(Ta(u),xa(t,u))}}return o}var Xm=class t{constructor(e){this.node_=e}getImmediateChild(e){let n=this.node_.getImmediateChild(e);return new t(n)}node(){return this.node_}},ey=class t{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){let n=Le(this.path_,e);return new t(this.syncTree_,n)}node(){return Ey(this.syncTree_,this.path_)}},QV=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},WI=function(t,e,n){if(!t||typeof t!="object")return t;if(v(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return ZV(t[".sv"],e,n);if(typeof t[".sv"]=="object")return JV(t[".sv"],e);v(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},ZV=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:v(!1,"Unexpected server value: "+t)}},JV=function(t,e,n){t.hasOwnProperty("increment")||v(!1,"Unexpected server value: "+JSON.stringify(t,null,2));let r=t.increment;typeof r!="number"&&v(!1,"Unexpected increment value: "+r);let i=e.node();if(v(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let o=i.getValue();return typeof o!="number"?r:o+r},XV=function(t,e,n,r){return Sy(e,new ey(n,t),r)},GD=function(t,e,n){return Sy(t,new Xm(e),n)};function Sy(t,e,n){let r=t.getPriority().val(),i=WI(r,e.getImmediateChild(".priority"),n),s;if(t.isLeafNode()){let o=t,a=WI(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new Gs(a,Ue(i)):t}else{let o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Gs(i))),o.forEachChild(Ee,(a,l)=>{let c=Sy(l,e.getImmediateChild(a),n);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}var Oa=class{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}};function Ty(t,e){let n=e instanceof he?e:new he(e),r=t,i=X(n);for(;i!==null;){let s=si(r.node.children,i)||{children:{},childCount:0};r=new Oa(i,r,s),n=ye(n),i=X(n)}return r}function Xs(t){return t.node.value}function qD(t,e){t.node.value=e,ty(t)}function KD(t){return t.node.childCount>0}function ej(t){return Xs(t)===void 0&&!KD(t)}function ld(t,e){ut(t.node.children,(n,r)=>{e(new Oa(n,t,r))})}function YD(t,e,n,r){n&&!r&&e(t),ld(t,i=>{YD(i,e,!0,r)}),n&&r&&e(t)}function tj(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function ja(t){return new he(t.parent===null?t.name:ja(t.parent)+"/"+t.name)}function ty(t){t.parent!==null&&nj(t.parent,t.name,t)}function nj(t,e,n){let r=ej(n),i=mn(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,ty(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,ty(t))}var rj=/[\[\].#$\/\u0000-\u001F\u007F]/,ij=/[\[\].#$\u0000-\u001F\u007F]/,pm=10*1024*1024,QD=function(t){return typeof t=="string"&&t.length!==0&&!rj.test(t)},ZD=function(t){return typeof t=="string"&&t.length!==0&&!ij.test(t)},sj=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),ZD(t)};var oj=function(t,e,n,r){r&&e===void 0||Ay(Zc(t,"value"),e,n)},Ay=function(t,e,n){let r=n instanceof he?new Am(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+mi(r));if(typeof e=="function")throw new Error(t+"contains a function "+mi(r)+" with contents = "+e.toString());if(ZI(e))throw new Error(t+"contains "+e.toString()+" "+mi(r));if(typeof e=="string"&&e.length>pm/3&&Jo(e)>pm)throw new Error(t+"contains a string greater than "+pm+" utf8 bytes "+mi(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(ut(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!QD(o)))throw new Error(t+" contains an invalid key ("+o+") "+mi(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);V2(r,o),Ay(t,a,r),j2(r)}),i&&s)throw new Error(t+' contains ".value" child '+mi(r)+" in addition to actual children.")}};var JD=function(t,e,n,r){if(!(r&&n===void 0)&&!ZD(n))throw new Error(Zc(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},aj=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),JD(t,e,n,r)},lj=function(t,e){if(X(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},cj=function(t,e){let n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!QD(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!sj(n))throw new Error(Zc(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var ny=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function XD(t,e){let n=null;for(let r=0;r<e.length;r++){let i=e[r],s=i.getPath();n!==null&&!_D(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function In(t,e,n){XD(t,n),uj(t,r=>Yt(r,e)||Yt(e,r))}function uj(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){let i=t.eventLists_[r];if(i){let s=i.path;e(s)?(dj(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function dj(t){for(let e=0;e<t.events.length;e++){let n=t.events[e];if(n!==null){t.events[e]=null;let r=n.getEventRunner();vi&&Qe("event: "+n.toString()),Js(r)}}}var hj="repo_interrupt",fj=25,ry=class{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ny,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Gu(),this.transactionQueueTree_=new Oa,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function pj(t,e,n){if(t.stats_=py(t.repoInfo_),t.forceRestClient_||f2())t.server_=new jm(t.repoInfo_,(r,i,s,o)=>{GI(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>qI(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ke(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new gy(t.repoInfo_,e,(r,i,s,o)=>{GI(t,r,i,s,o)},r=>{qI(t,r)},r=>{mj(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=g2(t.repoInfo_,()=>new Hm(t.stats_,t.server_)),t.infoData_=new Um,t.infoSyncTree_=new nd({startListening:(r,i,s,o)=>{let a=[],l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=La(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),Ny(t,"connected",!1),t.serverSyncTree_=new nd({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{let c=o(a,l);In(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function gj(t){let n=t.infoData_.getNode(new he(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function My(t){return QV({timestamp:gj(t)})}function GI(t,e,n,r,i){t.dataUpdateCount++;let s=new he(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){let l=Zo(n,c=>Ue(c));o=HV(t.serverSyncTree_,s,l,i)}else{let l=Ue(n);o=$D(t.serverSyncTree_,s,l,i)}else if(r){let l=Zo(n,c=>Ue(c));o=UV(t.serverSyncTree_,s,l)}else{let l=Ue(n);o=La(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=ud(t,s)),In(t.eventQueue_,a,o)}function qI(t,e){Ny(t,"connected",e),e===!1&&vj(t)}function mj(t,e){ut(e,(n,r)=>{Ny(t,n,r)})}function Ny(t,e,n){let r=new he("/.info/"+e),i=Ue(n);t.infoData_.updateSnapshot(r,i);let s=La(t.infoSyncTree_,r,i);In(t.eventQueue_,r,s)}function eS(t){return t.nextWriteId_++}function yj(t,e,n){let r=WV(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{let s=Ue(i).withIndex(e._queryParams.getIndex());zV(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=La(t.serverSyncTree_,e._path,s);else{let a=xa(t.serverSyncTree_,e);o=$D(t.serverSyncTree_,e._path,s,a)}return In(t.eventQueue_,e._path,o),BD(t.serverSyncTree_,e,n,null,!0),s},i=>(cd(t,"get for query "+ke(e)+" failed: "+i),Promise.reject(new Error(i))))}function _j(t,e,n,r,i){cd(t,"set",{path:e.toString(),value:n,priority:r});let s=My(t),o=Ue(n,r),a=Ey(t.serverSyncTree_,e),l=GD(o,a,s),c=eS(t),u=UD(t.serverSyncTree_,e,l,c,!0);XD(t.eventQueue_,u),t.server_.put(e.toString(),o.val(!0),(h,f)=>{let p=h==="ok";p||ct("set at "+e+" failed: "+h);let m=_i(t.serverSyncTree_,c,!p);In(t.eventQueue_,e,m),bj(t,i,h,f)});let d=sS(t,e);ud(t,d),In(t.eventQueue_,d,[])}function vj(t){cd(t,"onDisconnectEvents");let e=My(t),n=Gu();Bm(t.onDisconnect_,se(),(i,s)=>{let o=XV(i,s,t.serverSyncTree_,e);DD(n,i,o)});let r=[];Bm(n,se(),(i,s)=>{r=r.concat(La(t.serverSyncTree_,i,s));let o=sS(t,i);ud(t,o)}),t.onDisconnect_=Gu(),In(t.eventQueue_,se(),r)}function wj(t){t.persistentConnection_&&t.persistentConnection_.interrupt(hj)}function cd(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Qe(n,...e)}function bj(t,e,n,r){e&&Js(()=>{if(n==="ok")e(null);else{let i=(n||"error").toUpperCase(),s=i;r&&(s+=": "+r);let o=new Error(s);o.code=i,e(o)}})}function tS(t,e,n){return Ey(t.serverSyncTree_,e,n)||$.EMPTY_NODE}function Ry(t,e=t.transactionQueueTree_){if(e||dd(t,e),Xs(e)){let n=rS(t,e);v(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&Ej(t,ja(e),n)}else KD(e)&&ld(e,n=>{Ry(t,n)})}function Ej(t,e,n){let r=n.map(c=>c.currentWriteId),i=tS(t,e,r),s=i,o=i.hash();for(let c=0;c<n.length;c++){let u=n[c];v(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let d=rt(e,u.path);s=s.updateChild(d,u.currentOutputSnapshotRaw)}let a=s.val(!0),l=e;t.server_.put(l.toString(),a,c=>{cd(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){let d=[];for(let h=0;h<n.length;h++)n[h].status=2,u=u.concat(_i(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();dd(t,Ty(t.transactionQueueTree_,e)),Ry(t,t.transactionQueueTree_),In(t.eventQueue_,e,u);for(let h=0;h<d.length;h++)Js(d[h])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{ct("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}ud(t,e)}},o)}function ud(t,e){let n=nS(t,e),r=ja(n),i=rS(t,n);return Cj(t,i,r),r}function Cj(t,e,n){if(e.length===0)return;let r=[],i=[],o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){let l=e[a],c=rt(n,l.path),u=!1,d;if(v(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,i=i.concat(_i(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=fj)u=!0,d="maxretry",i=i.concat(_i(t.serverSyncTree_,l.currentWriteId,!0));else{let h=tS(t,l.path,o);l.currentInputSnapshot=h;let f=e[a].update(h.val());if(f!==void 0){Ay("transaction failed: Data returned ",f,l.path);let p=Ue(f);typeof f=="object"&&f!=null&&mn(f,".priority")||(p=p.updatePriority(h.getPriority()));let w=l.currentWriteId,S=My(t),K=GD(p,h,S);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=K,l.currentWriteId=eS(t),o.splice(o.indexOf(w),1),i=i.concat(UD(t.serverSyncTree_,l.path,K,l.currentWriteId,l.applyLocally)),i=i.concat(_i(t.serverSyncTree_,w,!0))}else u=!0,d="nodata",i=i.concat(_i(t.serverSyncTree_,l.currentWriteId,!0))}In(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}dd(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Js(r[a]);Ry(t,t.transactionQueueTree_)}function nS(t,e){let n,r=t.transactionQueueTree_;for(n=X(e);n!==null&&Xs(r)===void 0;)r=Ty(r,n),e=ye(e),n=X(e);return r}function rS(t,e){let n=[];return iS(t,e,n),n.sort((r,i)=>r.order-i.order),n}function iS(t,e,n){let r=Xs(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);ld(e,i=>{iS(t,i,n)})}function dd(t,e){let n=Xs(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,qD(e,n.length>0?n:void 0)}ld(e,r=>{dd(t,r)})}function sS(t,e){let n=ja(nS(t,e)),r=Ty(t.transactionQueueTree_,e);return tj(r,i=>{gm(t,i)}),gm(t,r),YD(r,i=>{gm(t,i)}),n}function gm(t,e){let n=Xs(e);if(n){let r=[],i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(v(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(v(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(_i(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?qD(e,void 0):n.length=s+1,In(t.eventQueue_,ja(e),i);for(let o=0;o<r.length;o++)Js(r[o])}}function Ij(t){let e="",n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function Dj(t){let e={};t.charAt(0)==="?"&&(t=t.substring(1));for(let n of t.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):ct(`Invalid query segment '${n}' in query '${t}'`)}return e}var KI=function(t,e){let n=Sj(t),r=n.namespace;n.domain==="firebase.com"&&Vn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Vn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||i2();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Vu(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new he(n.pathString)}},Sj=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(i=Ij(t.substring(u,d)));let h=Dj(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;let f=e.slice(0,c);if(f.toLowerCase()==="localhost")n="localhost";else if(f.split(".").length<=2)n=f;else{let p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),n=e.substring(p+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};var iy=class{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){let e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ke(this.snapshot.exportVal())}},sy=class{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var oy=class{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return v(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}};var ay=class t{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Z(this._path)?null:gD(this._path)}get ref(){return new jn(this._repo,this._path)}get _queryIdentifier(){let e=kI(this._queryParams),n=fy(e);return n==="{}"?"default":n}get _queryObject(){return kI(this._queryParams)}isEqual(e){if(e=Ke(e),!(e instanceof t))return!1;let n=this._repo===e._repo,r=_D(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+L2(this._path)}};var jn=class t extends ay{constructor(e,n){super(e,n,new Vm,!1)}get parent(){let e=yD(this._path);return e===null?null:new t(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}},rd=class t{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){let n=new he(e),r=ly(this.ref,e);return new t(this._node.getChild(n),r,Ee)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new t(i,ly(this.ref,r),Ee)))}hasChild(e){let n=new he(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function hd(t,e){return t=Ke(t),t._checkNotDeleted("ref"),e!==void 0?ly(t._root,e):t._root}function ly(t,e){return t=Ke(t),X(t._path)===null?aj("child","path",e,!1):JD("child","path",e,!1),new jn(t._repo,Le(t._path,e))}function xy(t,e){t=Ke(t),lj("set",t._path),oj("set",e,t._path,!1);let n=new cr;return _j(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function oS(t){t=Ke(t);let e=new oy(()=>{}),n=new cy(e);return yj(t._repo,t,n).then(r=>new rd(r,new jn(t._repo,t._path),t._queryParams.getIndex()))}var cy=class t{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){let r=n._queryParams.getIndex();return new iy("value",this,new rd(e.snapshotNode,new jn(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new sy(this,e,n):null}matches(e){return e instanceof t?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}};xV(jn);LV(jn);var Tj="FIREBASE_DATABASE_EMULATOR_HOST",uy={},Aj=!1;function Mj(t,e,n,r){t.repoInfo_=new Vu(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function Nj(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Vn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Qe("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=KI(s,i),a=o.repoInfo,l,c;typeof process<"u"&&process.env&&(c=process.env[Tj]),c?(l=!0,s=`http://${c}?ns=${a.namespace}`,o=KI(s,i),a=o.repoInfo):l=!o.repoInfo.secure;let u=i&&l?new Ia(Ia.OWNER):new bm(t.name,t.options,e);cj("Invalid Firebase Database URL",o),Z(o.path)||Vn("Database URL must point to the root of a Firebase Database (not including a child path).");let d=xj(a,t,u,new wm(t.name,n));return new dy(d,t)}function Rj(t,e){let n=uy[e];(!n||n[t.key]!==t)&&Vn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),wj(t),delete n[t.key]}function xj(t,e,n,r){let i=uy[e.name];i||(i={},uy[e.name]=i);let s=i[t.toURLString()];return s&&Vn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new ry(t,Aj,n,r),i[t.toURLString()]=s,s}var dy=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(pj(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new jn(this._repo,se())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Rj(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Vn("Cannot call "+e+" on a deleted database.")}};function fd(t=tu(),e){let n=ta(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){let r=oC("database");r&&Oj(n,...r)}return n}function Oj(t,e,n,r={}){t=Ke(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Vn("Cannot call useEmulator() after instance has already been initialized.");let i=t._repoInternal,s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Vn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Ia(Ia.OWNER);else if(r.mockUserToken){let o=typeof r.mockUserToken=="string"?r.mockUserToken:aC(r.mockUserToken,t.app.options.projectId);s=new Ia(o)}Mj(i,e,n,s)}function kj(t){t2(fr),hr(new Rt("database",(e,{instanceIdentifier:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return Nj(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),qt(yI,_I,t),qt(yI,_I,"esm2017")}gy.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};gy.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};kj();var aS=(()=>{let e=class e{constructor(r){this.authService=r}getCardsLocation(){return this.authService.user+"/cards"}getCards(){return g(this,null,function*(){let r=fd(this.authService.firebaseApp),i=hd(r,this.getCardsLocation());return yield oS(i).then(s=>s.exists()?s.toJSON():null)})}updateCard(r){return g(this,null,function*(){let i=fd(this.authService.firebaseApp);return xy(hd(i,this.getCardsLocation()+"/"+r.id),r)})}addCard(r){return g(this,null,function*(){let i=fd(this.authService.firebaseApp);return xy(hd(i,this.getCardsLocation()+"/"+r.id),r)})}};e.\u0275fac=function(i){return new(i||e)(A(Ms))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var lS=(()=>{let e=class e{constructor(){}isLocal(){return location.hostname==="localhost"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var eo=(()=>{let e=class e{constructor(r,i){this.dbService=r,this.envService=i,this.locals=null,this.cardAdded=new fe,this.typeOptions=["masculine","feminine","neuter","verb","other"]}get(r){return g(this,null,function*(){return r&&(this.locals=null),this.locals&&this.locals.length>0?this.locals:r||this.envService.isLocal()?(this.locals=mI,this.locals?this.locals:[]):this.dbService.getCards().then(i=>(this.locals=Object.values(i),this.locals))})}update(r){return g(this,null,function*(){if(this.envService.isLocal()){this.locals=yield this.get(),this.locals[r.id]=r;return}return this.dbService.updateCard(r)})}add(r){return g(this,null,function*(){if(this.locals=yield this.get(),r.id=this.locals.length,this.envService.isLocal()){this.locals.push(r),this.cardAdded.next(r);return}return this.dbService.addCard(r).then(()=>{this.locals?.push(r),this.cardAdded.next(r)})})}};e.\u0275fac=function(i){return new(i||e)(A(aS),A(lS))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var pd=(()=>{let e=class e{constructor(){this.dealStarred=!1,this.baseFront=!0,this.deckSize=10,this.dealStarredChanged=new fe}getDealStarred(){return this.dealStarred}setDealStarred(r){this.dealStarred=r,this.dealStarredChanged.next()}getBaseFront(){return this.baseFront}setBaseFront(r){this.baseFront=r}getDeckSize(){return this.deckSize}setDeckSize(r){this.deckSize=r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Lj(t,e){if(t&1){let n=at();y(0,"form",1)(1,"div",12)(2,"p",13),oe(3,"Deal from starred cards only?"),I(),y(4,"app-action-slider",14),U("click",function(){Re(n);let i=z();return xe(i.toggleDealFromStarred())}),I()(),y(5,"div",12)(6,"p",13),oe(7,"Base on front?"),I(),y(8,"app-action-slider",14),U("click",function(){Re(n);let i=z();return xe(i.toggleBaseFront())}),I()(),y(9,"div",12),M(10,"input",15),y(11,"button",16),U("click",function(){Re(n);let i=z();return xe(i.setDeckSize())}),oe(12,"Set deck size"),I()()()}if(t&2){let n=z();L("formGroup",n.settingsForm),O(4),L("active",n.getDealFromStarred()),O(4),L("active",n.getBaseFront())}}function Vj(t,e){if(t&1&&(y(0,"option"),ls(1,"typeColor"),oe(2),I()),t&2){let n=e.$implicit;os("background",cs(1,3,n)),O(2),wt(n)}}function jj(t,e){if(t&1&&(y(0,"form",2)(1,"h2"),oe(2,"Add card"),I(),M(3,"input",17)(4,"input",18),y(5,"select",19),De(6,Vj,3,5,"option",20),I(),M(7,"textarea",21)(8,"textarea",22)(9,"textarea",23)(10,"textarea",24),I()),t&2){let n=z();L("formGroup",n.addCardForm),O(5),L("value",n.typeOptions[0]),O(),L("ngForOf",n.typeOptions)}}function Uj(t,e){if(t&1){let n=at();y(0,"button",4),U("click",function(){Re(n);let i=z();return xe(i.addCard())}),je(),y(1,"svg",5),M(2,"g",6)(3,"g",7),y(4,"g",8),M(5,"path",25),I()()()}}var uS=(()=>{let e=class e{constructor(r,i,s){this.cardsService=r,this.notificationsService=i,this.settingsService=s,this.dropState="inactive",this.settingsOpen=!1,this.addCardOpen=!1,this.closePressed=new le,this.settingsForm=new Ln({deckSize:new Se(this.settingsService.getDeckSize(),[Ye.min(1),Ye.required])}),this.addCardForm=new Ln({base:new Se("",[Ye.required,Ye.minLength(1)]),goal:new Se("",Ye.required),type:new Se("masculine",Ye.required),goal_sent_1:new Se(""),base_sent_1:new Se(""),goal_sent_2:new Se(""),base_sent_2:new Se("")})}ngOnInit(){this.typeOptions=this.cardsService.typeOptions}close(){this.addCardOpen&&this.addCardForm.reset(),this.settingsOpen=!1,this.addCardOpen=!1,this.closePressed.emit()}addCard(){let r={id:-1,base:this.addCardForm.controls.base.value?this.addCardForm.controls.base.value:"",goal:this.addCardForm.controls.goal.value?this.addCardForm.controls.goal.value:"",type:this.addCardForm.controls.type.value?this.addCardForm.controls.type.value:"other",goal_sent_1:this.addCardForm.controls.goal_sent_1.value?this.addCardForm.controls.goal_sent_1.value:"",base_sent_1:this.addCardForm.controls.base_sent_1.value?this.addCardForm.controls.base_sent_1.value:"",goal_sent_2:this.addCardForm.controls.goal_sent_2.value?this.addCardForm.controls.goal_sent_2.value:"",base_sent_2:this.addCardForm.controls.base_sent_2.value?this.addCardForm.controls.base_sent_2.value:"",starred:!1};this.cardsService.add(r).then(()=>{this.close(),this.notificationsService.push({message:"Card added!",success:!0})}).catch(i=>{this.notificationsService.push({message:"Error adding card to db! "+i,success:!1}),alert("Error adding card to db! "+i)})}getDropState(){return this.settingsOpen||this.addCardOpen?"active":"inactive"}getDealFromStarred(){return this.settingsService.getDealStarred()}toggleDealFromStarred(){this.settingsService.setDealStarred(!this.settingsService.getDealStarred())}getBaseFront(){return this.settingsService.getBaseFront()}toggleBaseFront(){this.settingsService.setBaseFront(!this.settingsService.getBaseFront())}setDeckSize(){let r=this.settingsForm.controls.deckSize.value;r&&(this.settingsService.setDeckSize(r),this.notificationsService.push({message:"Deck size updated!",success:!0}))}};e.\u0275fac=function(i){return new(i||e)(T(eo),T(Ns),T(pd))},e.\u0275cmp=Ne({type:e,selectors:[["app-menu"]],inputs:{settingsOpen:"settingsOpen",addCardOpen:"addCardOpen"},outputs:{closePressed:"closePressed"},standalone:!0,features:[Oe],decls:19,vars:3,consts:[[1,"menu-container"],[3,"formGroup"],[1,"add-card-form",3,"formGroup"],[1,"navbar"],[1,"icon-btn",3,"click"],["viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["id","SVGRepo_bgCarrier","stroke-width","0"],["id","SVGRepo_tracerCarrier","stroke-linecap","round","stroke-linejoin","round"],["id","SVGRepo_iconCarrier"],["id","Menu / Close_LG"],["id","Vector","d","M21 21L12 12M12 12L3 3M12 12L21.0001 3M12 12L3 21.0001","stroke","#000000","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["class","icon-btn",3,"click",4,"ngIf"],[1,"row"],[1,"label",2,"margin-right","1rem"],[3,"click","active"],["type","number","placeholder","deck size","formControlName","deckSize",2,"margin","0"],[1,"btn",2,"margin","0",3,"click"],["type","text","formControlName","base","placeholder","base",1,"border-input"],["type","text","formControlName","goal","placeholder","goal",1,"border-input"],["formControlName","type",1,"border-input",3,"value"],[3,"background",4,"ngFor","ngForOf"],["type","text","formControlName","goal_sent_1","placeholder","goal sentence 1",1,"border-input"],["type","text","formControlName","base_sent_1","placeholder","base sentence 1",1,"border-input"],["type","text","formControlName","goal_sent_2","placeholder","goal sentence 2",1,"border-input"],["type","text","formControlName","base_sent_2","placeholder","base sentence 2",1,"border-input"],["fill-rule","evenodd","clip-rule","evenodd","d","M18.1716 1C18.702 1 19.2107 1.21071 19.5858 1.58579L22.4142 4.41421C22.7893 4.78929 23 5.29799 23 5.82843V20C23 21.6569 21.6569 23 20 23H4C2.34315 23 1 21.6569 1 20V4C1 2.34315 2.34315 1 4 1H18.1716ZM4 3C3.44772 3 3 3.44772 3 4V20C3 20.5523 3.44772 21 4 21L5 21L5 15C5 13.3431 6.34315 12 8 12L16 12C17.6569 12 19 13.3431 19 15V21H20C20.5523 21 21 20.5523 21 20V6.82843C21 6.29799 20.7893 5.78929 20.4142 5.41421L18.5858 3.58579C18.2107 3.21071 17.702 3 17.1716 3H17V5C17 6.65685 15.6569 8 14 8H10C8.34315 8 7 6.65685 7 5V3H4ZM17 21V15C17 14.4477 16.5523 14 16 14L8 14C7.44772 14 7 14.4477 7 15L7 21L17 21ZM9 3H15V5C15 5.55228 14.5523 6 14 6H10C9.44772 6 9 5.55228 9 5V3Z","fill","#0F0F0F"]],template:function(i,s){i&1&&(y(0,"div",0),De(1,Lj,13,3,"form",1)(2,jj,11,3,"form",2),y(3,"div",3)(4,"button",4),U("click",function(){return s.close()}),je(),y(5,"svg",5),M(6,"g",6)(7,"g",7),y(8,"g",8)(9,"g",9),M(10,"path",10),I()()()(),De(11,Uj,6,0,"button",11),un(),y(12,"button",4),U("click",function(){return s.close()}),je(),y(13,"svg",5),M(14,"g",6)(15,"g",7),y(16,"g",8)(17,"g",9),M(18,"path",10),I()()()()()()),i&2&&(L("@drop",s.getDropState()),O(),Yr(s.settingsOpen?1:s.addCardOpen?2:-1),O(10),L("ngIf",s.addCardOpen&&s.addCardForm.valid))},dependencies:[lt,ir,sr,Vs,Fs,Ou,ku,wr,am,Ls,ks,Ps,fi,pi,gI,js],styles:["body[_ngcontent-%COMP%]{margin:0;background:#dedede;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{height:2.5rem;margin:0 .5rem;padding:.25rem;border:none;outline:none;border-radius:5px;background-color:#f0f8ff;font-size:large;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}textarea[_ngcontent-%COMP%]{height:3.5rem}button[_ngcontent-%COMP%]{font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}.label[_ngcontent-%COMP%]{font-size:20px}.btn[_ngcontent-%COMP%]{width:fit-content;margin:auto;padding:.5rem 1rem;border:none;outline:none;height:3rem;border-radius:5px;font-size:20px;box-shadow:0 1px 2px #d3d3d3}.icon-btn[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;outline:none;border:none;background:none;width:4rem;height:4rem;padding:0 .5rem}.icon-btn[_ngcontent-%COMP%]:hover{cursor:pointer;outline:solid 1px black}.navbar[_ngcontent-%COMP%]{height:4rem;width:100%;display:flex;flex-direction:row;justify-content:space-between}.border-input[_ngcontent-%COMP%]{background:#ffffff10;border:solid 1px black}.menu-container[_ngcontent-%COMP%]{position:absolute;left:0;display:flex;flex-direction:column;justify-content:flex-end;width:100%;height:100%;background:#dedede;z-index:1}.row[_ngcontent-%COMP%]{margin:0 1rem;display:flex;flex-direction:row;justify-content:space-between}.add-card-form[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:flex-end;margin:1rem 0;text-align:center;gap:.5rem}"],data:{animation:[pI]}});let t=e;return t})();var dS=(()=>{let e=class e{constructor(){this.settingsPressed=new le,this.undoPressed=new le,this.redoPressed=new le,this.addPressed=new le}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ne({type:e,selectors:[["app-navbar"]],outputs:{settingsPressed:"settingsPressed",undoPressed:"undoPressed",redoPressed:"redoPressed",addPressed:"addPressed"},standalone:!0,features:[Oe],decls:44,vars:0,consts:[[1,"navbar"],["title","Menu",1,"icon-btn",3,"click"],["viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["id","SVGRepo_bgCarrier","stroke-width","0"],["id","SVGRepo_tracerCarrier","stroke-linecap","round","stroke-linejoin","round"],["id","SVGRepo_iconCarrier"],["d","M4 6H20M4 12H20M4 18H20","stroke","#000000","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["title","Undo",1,"icon-btn",3,"click"],["viewBox","0 0 48 48","xmlns","http://www.w3.org/2000/svg","fill","#000000"],["id","Layer_2","data-name","Layer 2"],["id","invisible_box","data-name","invisible box"],["width","48","height","48","fill","none"],["id","icons_Q2","data-name","icons Q2"],["d","M46,24A22,22,0,0,1,4.3,33.7a2,2,0,0,1,.5-2.6,2,2,0,0,1,3,.7A17.8,17.8,0,0,0,24,42,18,18,0,1,0,10.6,12h5.3A2.1,2.1,0,0,1,18,13.7,2,2,0,0,1,16,16H6a2,2,0,0,1-2-2V4.1A2.1,2.1,0,0,1,5.7,2,2,2,0,0,1,8,4V8.9A22,22,0,0,1,46,24Z"],["title","Redo",1,"icon-btn",3,"click"],["d","M11 8C11 7.44772 11.4477 7 12 7C12.5523 7 13 7.44772 13 8V11H16C16.5523 11 17 11.4477 17 12C17 12.5523 16.5523 13 16 13H13V16C13 16.5523 12.5523 17 12 17C11.4477 17 11 16.5523 11 16V13H8C7.44771 13 7 12.5523 7 12C7 11.4477 7.44772 11 8 11H11V8Z","fill","#0F0F0F"],["fill-rule","evenodd","clip-rule","evenodd","d","M23 12C23 18.0751 18.0751 23 12 23C5.92487 23 1 18.0751 1 12C1 5.92487 5.92487 1 12 1C18.0751 1 23 5.92487 23 12ZM3.00683 12C3.00683 16.9668 7.03321 20.9932 12 20.9932C16.9668 20.9932 20.9932 16.9668 20.9932 12C20.9932 7.03321 16.9668 3.00683 12 3.00683C7.03321 3.00683 3.00683 7.03321 3.00683 12Z","fill","#0F0F0F"],["title","Redo",1,"icon-btn",2,"transform","rotateY(180deg)",3,"click"]],template:function(i,s){i&1&&(y(0,"div",0)(1,"button",1),U("click",function(){return s.settingsPressed.emit()}),je(),y(2,"svg",2),M(3,"g",3)(4,"g",4),y(5,"g",5),M(6,"path",6),I()()(),un(),y(7,"button",7),U("click",function(){return s.undoPressed.emit()}),je(),y(8,"svg",8),M(9,"g",3)(10,"g",4),y(11,"g",5)(12,"title"),oe(13,"undo"),I(),y(14,"g",9)(15,"g",10),M(16,"rect",11),I(),y(17,"g",12),M(18,"path",13),I()()()()(),un(),y(19,"button",14),U("click",function(){return s.addPressed.emit()}),je(),y(20,"svg",2),M(21,"g",3)(22,"g",4),y(23,"g",5),M(24,"path",15)(25,"path",16),I()()(),un(),y(26,"button",17),U("click",function(){return s.redoPressed.emit()}),je(),y(27,"svg",8),M(28,"g",3)(29,"g",4),y(30,"g",5)(31,"title"),oe(32,"undo"),I(),y(33,"g",9)(34,"g",10),M(35,"rect",11),I(),y(36,"g",12),M(37,"path",13),I()()()()(),un(),y(38,"button",1),U("click",function(){return s.settingsPressed.emit()}),je(),y(39,"svg",2),M(40,"g",3)(41,"g",4),y(42,"g",5),M(43,"path",6),I()()()())}});let t=e;return t})();var hS=gi("flip",[Ot("active",nt({transform:"rotateY(180deg)"})),Ot("inactive",nt({transform:"rotateY(0)"})),kt("active => inactive",xt("300ms ease-out")),kt("inactive => active",xt("300ms ease-in"))]),fS=gi("swipeRight",[Ot("active",nt({transform:"rotateZ(90deg)",translate:"150% -100%"})),Ot("inactive",nt({transform:"rotateZ(0deg)",translate:"0% 0%"})),kt("active => inactive",xt("300ms ease-out")),kt("inactive => active",xt("300ms ease-in"))]),pS=gi("swipeLeft",[Ot("active",nt({transform:"rotateZ(-90deg)",translate:"-150% -100%"})),Ot("inactive",nt({transform:"rotateZ(0deg)",translate:"0% 0%"})),kt("active => inactive",xt("400ms ease-out")),kt("inactive => active",xt("400ms ease-in"))]),gS=gi("fadeIn",[Ot("active",nt({opacity:"100%"})),Ot("inactive",nt({opacity:"0%"})),kt("active => inactive",xt("200ms ease-out")),kt("inactive => active",xt("200ms ease-in"))]);var Bj=t=>({background:t});function $j(t,e){if(t&1&&(y(0,"div"),oe(1),I()),t&2){let n=z();Kr(n.flipped?"card-content":"card-content back"),O(),Qr(" ",n.flipped?n.getFront():n.getBack()," ")}}function Hj(t,e){t&1&&(je(),y(0,"svg",10),M(1,"g",4)(2,"g",5),y(3,"g",6),M(4,"path",16),I()())}function zj(t,e){t&1&&(je(),y(0,"svg",11),M(1,"g",4)(2,"g",5),y(3,"g",6),M(4,"path",17),I()())}function Wj(t,e){if(t&1){let n=at();y(0,"div")(1,"button",2),U("click",function(i){Re(n);let s=z();return xe(s.editTapped(i))}),je(),y(2,"svg",3),M(3,"g",4)(4,"g",5),y(5,"g",6),M(6,"path",7)(7,"path",8),I()()(),un(),y(8,"button",9),U("click",function(i){Re(n);let s=z();return xe(s.starTapped(i))}),De(9,Hj,5,0,":svg:svg",10)(10,zj,5,0,":svg:svg",11),I(),y(11,"button",2),U("click",function(i){Re(n);let s=z();return xe(s.infoTapped(i))}),je(),y(12,"svg",12),M(13,"g",4)(14,"g",5),y(15,"g",6),M(16,"path",13)(17,"path",14)(18,"path",15),I()()()()}if(t&2){let n=z();Kr(n.flipped?"btn-row":"btn-row back"),O(9),Yr(n.card.starred?9:10)}}function Gj(t,e){if(t&1&&(y(0,"option",29),ls(1,"typeColor"),oe(2),I()),t&2){let n=e.$implicit,r=z(3);os("background",cs(1,4,n)),L("selected",n===r.card.type),O(2),wt(n)}}function qj(t,e){if(t&1&&(y(0,"div")(1,"form",20),M(2,"input",21)(3,"input",22),y(4,"select",23),De(5,Gj,3,6,"option",24),I(),M(6,"textarea",25)(7,"textarea",26)(8,"textarea",27)(9,"textarea",28),I()()),t&2){let n=z(2);O(),L("formGroup",n.editForm),O(3),L("value",n.card.type),O(),L("ngForOf",n.typeOptions)}}function Kj(t,e){if(t&1&&(y(0,"div")(1,"p",30),oe(2),I(),y(3,"p",31),oe(4),I(),y(5,"p",30),oe(6),I(),y(7,"p",31),oe(8),I()()),t&2){let n=z(2);O(2),wt(n.card.goal_sent_1),O(2),wt(n.card.base_sent_1),O(2),wt(n.card.goal_sent_2),O(2),wt(n.card.base_sent_2)}}function Yj(t,e){if(t&1){let n=at();y(0,"button",36),U("click",function(i){Re(n);let s=z(3);return xe(s.saveEdit(i))}),je(),y(1,"svg",12),M(2,"g",4)(3,"g",5),y(4,"g",6),M(5,"path",37),I()()()}if(t&2){let n=z(3);L("disabled",n.editForm.invalid)}}function Qj(t,e){if(t&1){let n=at();y(0,"div",32)(1,"button",2),U("click",function(i){Re(n);let s=z(2);return xe(s.menuClose(i))}),je(),y(2,"svg",12),M(3,"g",4)(4,"g",5),y(5,"g",6)(6,"g",33),M(7,"path",34),I()()()(),De(8,Yj,6,1,"button",35),un(),y(9,"button",2),U("click",function(i){Re(n);let s=z(2);return xe(s.menuClose(i))}),je(),y(10,"svg",12),M(11,"g",4)(12,"g",5),y(13,"g",6)(14,"g",33),M(15,"path",34),I()()()()()}if(t&2){let n=z(2);O(8),L("ngIf",n.showEdit&&n.editForm.valid)}}function Zj(t,e){if(t&1){let n=at();y(0,"span"),U("@fadeIn.done",function(){Re(n);let i=z();return xe(i.fadeInState==="inactive"?i.revealCard():null)}),De(1,qj,10,3,"div",18)(2,Kj,9,4,"div",18)(3,Qj,16,1,"div",19),I()}if(t&2){let n=z();Kr(n.flipped?"card-menu":"card-menu back"),L("@fadeIn",n.fadeInState),O(),L("ngIf",n.showEdit),O(),L("ngIf",n.showInfo),O(),L("ngIf",!n.showCard)}}var mS=(()=>{let e=class e{constructor(r){this.cardService=r,this.onSwiped=new le,this.onUpdated=new le,this.touchStart=null,this.flipState="inactive",this.swipeRightState="inactive",this.swipeLeftState="inactive",this.fadeInState="inactive",this.flipped=!1,this.flipping=!1,this.showEdit=!1,this.showCard=!0,this.showInfo=!1}ngOnInit(){this.typeOptions=this.cardService.typeOptions,this.editForm=new Ln({base:new Se(this.card.base,Ye.required),goal:new Se(this.card.goal,Ye.required),type:new Se(this.card.type,Ye.required),goal_sent_1:new Se(this.card.goal_sent_1),base_sent_1:new Se(this.card.base_sent_1),goal_sent_2:new Se(this.card.goal_sent_2),base_sent_2:new Se(this.card.base_sent_2)})}handleTouchStart(r){this.touchStart=r}handleTouchEnd(r){this.touchStart&&(this.showCard&&this.handleSwipe({start:this.touchStart,end:r}),this.touchStart=null)}handleKeyDown(r){this.showCard&&(r.key==="ArrowUp"||r.key==="ArrowDown"?this.tap():r.key==="ArrowRight"?this.swipeRight():r.key==="ArrowLeft"&&this.swipeLeft())}handleTouch(){this.tap()}handleSwipe(r){let i=r.end.changedTouches[0].pageX-r.start.changedTouches[0].pageX;Math.abs(i)>100&&(i>0?this.swipeRight():this.swipeLeft())}getFront(){return this.baseFirst?this.card.base:this.card.goal}getBack(){return this.baseFirst?this.card.goal:this.card.base}tap(){this.showCard&&(this.flipState=this.flipState==="inactive"?"active":"inactive")}menuClose(r){r.stopPropagation(),this.fade()}saveEdit(r){this.onUpdated.emit(b(b({},this.card),this.editForm.value)),this.menuClose(r)}revealCard(){this.showEdit=!1,this.showCard=!0,this.showInfo=!1}editTapped(r){r.stopPropagation(),this.fade(),this.showEdit=!0,this.showCard=!1,this.showInfo=!1}starTapped(r){r.stopPropagation(),this.onUpdated.emit(ee(b({},this.card),{starred:!this.card.starred}))}infoTapped(r){r.stopPropagation(),this.fade(),this.showEdit=!1,this.showCard=!1,this.showInfo=!0}swipeRight(){this.swipeRightState=this.swipeRightState==="inactive"?"active":"inactive"}swipeLeft(){this.swipeLeftState=this.swipeLeftState==="inactive"?"active":"inactive"}fade(){this.fadeInState=this.fadeInState==="inactive"?"active":"inactive"}emitSwiped(r){r.fromState==="inactive"&&r.toState==="active"&&(r.triggerName==="swipeRight"?this.onSwiped.emit(!0):this.onSwiped.emit(!1))}};e.\u0275fac=function(i){return new(i||e)(T(eo))},e.\u0275cmp=Ne({type:e,selectors:[["app-card"]],hostBindings:function(i,s){i&1&&U("touchstart",function(a){return s.handleTouchStart(a)},!1,gc)("touchend",function(a){return s.handleTouchEnd(a)},!1,gc)("keydown",function(a){return s.handleKeyDown(a)},!1,gc)},inputs:{card:"card",color:"color",baseFirst:"baseFirst"},outputs:{onSwiped:"onSwiped",onUpdated:"onUpdated"},standalone:!0,features:[Oe],decls:4,vars:12,consts:[["id","container",3,"click"],[3,"class",4,"ngIf"],[1,"icon-btn",3,"click"],["viewBox","0 0 1024 1024","xmlns","http://www.w3.org/2000/svg","fill","#000000"],["id","SVGRepo_bgCarrier","stroke-width","0"],["id","SVGRepo_tracerCarrier","stroke-linecap","round","stroke-linejoin","round"],["id","SVGRepo_iconCarrier"],["fill","#000000","d","M832 512a32 32 0 1 1 64 0v352a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h352a32 32 0 0 1 0 64H192v640h640V512z"],["fill","#000000","d","m469.952 554.24 52.8-7.552L847.104 222.4a32 32 0 1 0-45.248-45.248L477.44 501.44l-7.552 52.8zm422.4-422.4a96 96 0 0 1 0 135.808l-331.84 331.84a32 32 0 0 1-18.112 9.088L436.8 623.68a32 32 0 0 1-36.224-36.224l15.104-105.6a32 32 0 0 1 9.024-18.112l331.904-331.84a96 96 0 0 1 135.744 0z"],[1,"icon-btn","star",3,"click"],["fill","#ffff00","viewBox","0 0 1920 1920","xmlns","http://www.w3.org/2000/svg","stroke","#ffff00"],["fill","#000000","viewBox","0 0 1920 1920","xmlns","http://www.w3.org/2000/svg"],["viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M12 17.75C12.4142 17.75 12.75 17.4142 12.75 17V11C12.75 10.5858 12.4142 10.25 12 10.25C11.5858 10.25 11.25 10.5858 11.25 11V17C11.25 17.4142 11.5858 17.75 12 17.75Z","fill","#000000"],["d","M12 7C12.5523 7 13 7.44772 13 8C13 8.55228 12.5523 9 12 9C11.4477 9 11 8.55228 11 8C11 7.44772 11.4477 7 12 7Z","fill","#000000"],["fill-rule","evenodd","clip-rule","evenodd","d","M1.25 12C1.25 6.06294 6.06294 1.25 12 1.25C17.9371 1.25 22.75 6.06294 22.75 12C22.75 17.9371 17.9371 22.75 12 22.75C6.06294 22.75 1.25 17.9371 1.25 12ZM12 2.75C6.89137 2.75 2.75 6.89137 2.75 12C2.75 17.1086 6.89137 21.25 12 21.25C17.1086 21.25 21.25 17.1086 21.25 12C21.25 6.89137 17.1086 2.75 12 2.75Z","fill","#000000"],["d","M1915.918 737.475c-10.955-33.543-42.014-56.131-77.364-56.131h-612.029l-189.063-582.1v-.112C1026.394 65.588 995.335 43 959.984 43c-35.237 0-66.41 22.588-77.365 56.245L693.443 681.344H81.415c-35.35 0-66.41 22.588-77.365 56.131-10.955 33.544.79 70.137 29.478 91.03l495.247 359.831-189.177 582.212c-10.955 33.657 1.13 70.25 29.817 90.918 14.23 10.278 30.946 15.487 47.66 15.487 16.716 0 33.432-5.21 47.775-15.6l495.134-359.718 495.021 359.718c28.574 20.781 67.087 20.781 95.662.113 28.687-20.668 40.658-57.261 29.703-91.03l-189.176-582.1 495.36-359.83c28.574-20.894 40.433-57.487 29.364-91.03","fill-rule","evenodd"],["d","M1306.181 1110.407c-28.461 20.781-40.32 57.261-29.477 91.03l166.136 511.398-435.05-316.122c-28.686-20.781-67.086-20.781-95.66 0l-435.05 316.122 166.25-511.623c10.842-33.544-1.017-70.024-29.591-90.805L178.577 794.285h537.825c35.351 0 66.523-22.701 77.365-56.245l166.25-511.51 166.136 511.397a81.155 81.155 0 0 0 77.365 56.358h537.939l-435.276 316.122Zm609.77-372.819c-10.956-33.656-42.014-56.244-77.365-56.244h-612.141l-189.064-582.1C1026.426 65.589 995.367 43 960.017 43c-35.351 0-66.523 22.588-77.365 56.245L693.475 681.344H81.335c-35.351 0-66.41 22.588-77.366 56.244-10.842 33.657 1.017 70.137 29.591 90.918l495.247 359.718-189.29 582.211c-10.842 33.657 1.017 70.137 29.704 90.918 14.23 10.39 31.059 15.586 47.661 15.586 16.829 0 33.657-5.195 47.887-15.699l495.248-359.718 495.02 359.718c28.575 20.894 67.088 20.894 95.775.113 28.574-20.781 40.433-57.261 29.59-91.03l-189.289-582.1 495.247-359.717c28.687-20.781 40.546-57.261 29.59-90.918Z","fill-rule","evenodd"],[4,"ngIf"],["class","btn-row",4,"ngIf"],[1,"edit-form",3,"formGroup"],["type","text","formControlName","base","placeholder","base",1,"border-input"],["type","text","formControlName","goal","placeholder","goal",1,"border-input"],["formControlName","type",1,"border-input",3,"value"],[3,"selected","background",4,"ngFor","ngForOf"],["type","text","formControlName","goal_sent_1","placeholder","goal sentence 1",1,"border-input"],["type","text","formControlName","base_sent_1","placeholder","base sentence 1",1,"border-input"],["type","text","formControlName","goal_sent_2","placeholder","goal sentence 2",1,"border-input"],["type","text","formControlName","base_sent_2","placeholder","base sentence 2",1,"border-input"],[3,"selected"],[1,"sent-ger"],[1,"sent-eng"],[1,"btn-row"],["id","Menu / Close_LG"],["id","Vector","d","M21 21L12 12M12 12L3 3M12 12L21.0001 3M12 12L3 21.0001","stroke","#000000","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["class","icon-btn",3,"disabled","click",4,"ngIf"],[1,"icon-btn",3,"click","disabled"],["fill-rule","evenodd","clip-rule","evenodd","d","M18.1716 1C18.702 1 19.2107 1.21071 19.5858 1.58579L22.4142 4.41421C22.7893 4.78929 23 5.29799 23 5.82843V20C23 21.6569 21.6569 23 20 23H4C2.34315 23 1 21.6569 1 20V4C1 2.34315 2.34315 1 4 1H18.1716ZM4 3C3.44772 3 3 3.44772 3 4V20C3 20.5523 3.44772 21 4 21L5 21L5 15C5 13.3431 6.34315 12 8 12L16 12C17.6569 12 19 13.3431 19 15V21H20C20.5523 21 21 20.5523 21 20V6.82843C21 6.29799 20.7893 5.78929 20.4142 5.41421L18.5858 3.58579C18.2107 3.21071 17.702 3 17.1716 3H17V5C17 6.65685 15.6569 8 14 8H10C8.34315 8 7 6.65685 7 5V3H4ZM17 21V15C17 14.4477 16.5523 14 16 14L8 14C7.44772 14 7 14.4477 7 15L7 21L17 21ZM9 3H15V5C15 5.55228 14.5523 6 14 6H10C9.44772 6 9 5.55228 9 5V3Z","fill","#0F0F0F"]],template:function(i,s){i&1&&(y(0,"div",0),U("click",function(){return s.handleTouch()})("@flip.start",function(){return s.flipping=!0})("@flip.done",function(){return s.flipped=!s.flipped,s.flipping=!1})("@swipeRight.done",function(a){return s.emitSwiped(a)})("@swipeLeft.done",function(a){return s.emitSwiped(a)}),De(1,$j,2,3,"div",1)(2,Wj,19,3,"div",1)(3,Zj,4,6,"span",1),I()),i&2&&(as(nr(10,Bj,s.color)),Kr(s.flipped?"card-container":"card-container back"),L("@flip",s.flipState)("@swipeRight",s.swipeRightState)("@swipeLeft",s.swipeLeftState),O(),L("ngIf",!s.flipping&&s.showCard),O(),L("ngIf",!s.flipping&&s.showCard),O(),L("ngIf",s.showEdit||s.showInfo))},dependencies:[lt,ir,sr,Vs,Fs,Ou,ku,wr,Ls,ks,Ps,fi,pi,js],styles:["body[_ngcontent-%COMP%]{margin:0;background:#dedede;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{height:2.5rem;margin:0 .5rem;padding:.25rem;border:none;outline:none;border-radius:5px;background-color:#f0f8ff;font-size:large;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}textarea[_ngcontent-%COMP%]{height:3.5rem}button[_ngcontent-%COMP%]{font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}.label[_ngcontent-%COMP%]{font-size:20px}.btn[_ngcontent-%COMP%]{width:fit-content;margin:auto;padding:.5rem 1rem;border:none;outline:none;height:3rem;border-radius:5px;font-size:20px;box-shadow:0 1px 2px #d3d3d3}.icon-btn[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;outline:none;border:none;background:none;width:4rem;height:4rem;padding:0 .5rem}.icon-btn[_ngcontent-%COMP%]:hover{cursor:pointer;outline:solid 1px black}.navbar[_ngcontent-%COMP%]{height:4rem;width:100%;display:flex;flex-direction:row;justify-content:space-between}.border-input[_ngcontent-%COMP%]{background:#ffffff10;border:solid 1px black}[_nghost-%COMP%]{width:100%}.card-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;text-align:center;height:100%;border-radius:10px;box-shadow:0 1px 2px gray;word-wrap:break-word;overflow-y:scroll}.card-container[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.card-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;height:100%;font-size:32px;padding:1rem}.back[_ngcontent-%COMP%]{transform:rotateY(180deg)}.star[_ngcontent-%COMP%]{width:3.5rem;height:3.5rem}.filled[_ngcontent-%COMP%]{background:#ff0}.btn-row[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:space-between;margin-bottom:.25rem}.card-menu[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:space-between;margin:1rem 1rem 0}.edit-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;gap:.5rem}.sent-ger[_ngcontent-%COMP%]{font-size:30px;font-weight:400}.sent-eng[_ngcontent-%COMP%]{font-size:24px;font-weight:300}"],data:{animation:[hS,fS,pS,gS]}});let t=e;return t})();var gd=(()=>{let e=class e{constructor(){this.undos=[],this.redos=[],this.activeUndo=new fe,this.activeRedo=new fe}pushUndo(r){this.undos.push(r)}pushRedo(r){this.redos.push(r)}applyUndo(){let r=this.undos.pop();r&&(this.redos.push(r),this.activeUndo.next(r))}applyRedo(){let r=this.redos.pop();r&&(this.undos.push(r),this.activeRedo.next(r))}reset(){this.resetUndos(),this.resetRedos()}resetUndos(){this.undos=[]}resetRedos(){this.redos=[]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Jj=t=>({width:t});function Xj(t,e){t&1&&(y(0,"p"),oe(1,"loading..."),I())}function eU(t,e){if(t&1){let n=at();y(0,"app-card",6),ls(1,"typeColor"),U("onSwiped",function(i){Re(n);let s=z(4);return xe(s.handleSwiped(i))})("onUpdated",function(i){Re(n);let s=z(4);return xe(s.handleCardUpdated(i))}),I()}if(t&2){let n=z().$implicit,r=z(3);L("card",n)("color",cs(1,3,n.type))("baseFirst",r.getBaseFirst())}}function tU(t,e){if(t&1&&(Yf(0),De(1,eU,2,5,"app-card",5),Qf()),t&2){let n=e.index,r=z(3);O(),L("ngIf",n===r.deck.length-1)}}function nU(t,e){if(t&1&&(y(0,"div",0),De(1,tU,2,1,"ng-container",2),y(2,"div",3),M(3,"div",4),I()()),t&2){let n=z(2);O(),L("ngForOf",n.deck),O(2),as(nr(3,Jj,n.getDeckProgress()))}}function rU(t,e){if(t&1){let n=at();y(0,"div",9)(1,"p"),oe(2,"You're out of cards!"),I(),y(3,"button",10),U("click",function(){Re(n);let i=z(3);return xe(i.initAndDeal())}),oe(4,"Reset card pile?"),I()()}}function iU(t,e){if(t&1){let n=at();y(0,"button",10),U("click",function(){Re(n);let i=z(3);return xe(i.dealMissed())}),oe(1),I()}if(t&2){let n=z(3);O(),Qr("Deal ",n.missed.length," missed cards?")}}function sU(t,e){if(t&1){let n=at();y(0,"button",10),U("click",function(){Re(n);let i=z(3);return xe(i.dealSameDeck())}),oe(1,"Deal same deck?"),I()}}function oU(t,e){if(t&1){let n=at();y(0,"button",10),U("click",function(){Re(n);let i=z(3);return xe(i.dealNewDeck())}),oe(1),I()}if(t&2){let n=z(3);O(),Qr("Deal another ",n.getDeckSize(),"?")}}function aU(t,e){if(t&1&&(y(0,"div",1),De(1,rU,5,0,"div",7)(2,iU,2,1,"button",8)(3,sU,2,0,"button",8)(4,oU,2,1,"button",8),I()),t&2){let n=z(2);O(),L("ngIf",n.pile.length===0),O(),L("ngIf",n.missed.length>0),O(),L("ngIf",n.currentDeck.length>0),O(),L("ngIf",n.pile.length>0)}}function lU(t,e){if(t&1&&De(0,nU,4,5,"div",0)(1,aU,5,4,"div",1),t&2){let n=z();Yr(n.deck.length>0?0:1)}}var _S=(()=>{let e=class e{constructor(r,i,s,o){this.actionsService=r,this.cardService=i,this.notificationService=s,this.settingsService=o,this.loading=!1,this.sample=!1,this.cards=[],this.pile=[],this.deck=[],this.currentDeck=[],this.missed=[]}ngOnInit(){this.loading=!0,this.actionsService.activeUndo.subscribe(r=>this.applyUndo(r)),this.actionsService.activeRedo.subscribe(r=>this.applyRedo(r)),this.settingsService.dealStarredChanged.subscribe(()=>this.initAndDeal()),this.cardService.get(this.sample).then(r=>{this.cards=r,this.initAndDeal(),this.loading=!1}).catch(r=>alert("Failed to get cards from database! "+r)),this.cardService.cardAdded.subscribe(r=>{this.initAndDeal()})}initPile(){this.settingsService.getDealStarred()?this.pile=structuredClone(this.getStarred()):this.pile=structuredClone(this.cards)}initAndDeal(){this.initPile(),this.dealNewDeck()}getStarred(){return this.cards.filter(r=>r.starred)}applyUndo(r){r.direction||this.missed.splice(this.missed.findIndex(i=>i.id===r.card.id),1),this.deck.push(r.card)}applyRedo(r){this.handleSwiped(r.direction)}refreshWorkingCards(){for(let r of[this.currentDeck,this.deck,this.missed])for(let i=0;i<r.length;i++)r[i]=this.cards[r[i].id]}updateCard(r){this.cardService.update(r).then(()=>{this.cards[r.id]=r,this.notificationService.push({message:"Card updated!",success:!0}),this.refreshWorkingCards()}).catch(i=>{this.notificationService.push({message:"Card update failed! "+i,success:!1}),alert("Card update failed! "+i)})}getBaseFirst(){return this.settingsService.getBaseFront()}getDeckSize(){return this.settingsService.getDeckSize()}shuffle(r){for(let i=r.length-1;i>0;i--){let s=Math.floor(Math.random()*(i+1));[r[i],r[s]]=[r[s],r[i]]}}deal(r){let i=[];for(let s=0;s<this.getDeckSize();s++){if(r.length===0)return i;let o=Math.floor(Math.random()*r.length);i.push(r[o]),r.splice(o,1)}return i}initDeck(){this.missed=[],this.actionsService.reset()}dealMissed(){this.deck=this.missed,this.shuffle(this.deck),this.initDeck()}dealSameDeck(){this.deck=structuredClone(this.currentDeck),this.shuffle(this.deck),this.initDeck()}dealNewDeck(){this.deck=this.deal(this.pile),this.currentDeck=structuredClone(this.deck),this.initDeck()}handleSwiped(r){let i=this.deck.pop();i&&(this.actionsService.pushUndo({direction:r,card:i}),this.actionsService.resetRedos(),r||this.missed.push(i))}getDeckProgress(){return(1+Math.abs(this.deck.length-this.getDeckSize()))*10+"%"}handleCardUpdated(r){this.updateCard(r)}};e.\u0275fac=function(i){return new(i||e)(T(gd),T(eo),T(Ns),T(pd))},e.\u0275cmp=Ne({type:e,selectors:[["app-deck"]],inputs:{sample:"sample"},standalone:!0,features:[Oe],decls:2,vars:1,consts:[[1,"deck"],[1,"options"],[4,"ngFor","ngForOf"],[1,"progress"],[1,"progress-inner"],[3,"card","color","baseFirst","onSwiped","onUpdated",4,"ngIf"],[3,"onSwiped","onUpdated","card","color","baseFirst"],["style","text-align: center;",4,"ngIf"],["class","btn",3,"click",4,"ngIf"],[2,"text-align","center"],[1,"btn",3,"click"]],template:function(i,s){i&1&&De(0,Xj,2,0,"p")(1,lU,2,1),i&2&&Yr(s.loading?0:1)},dependencies:[lt,ir,sr,mS,js],styles:["body[_ngcontent-%COMP%]{margin:0;background:#dedede;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{height:2.5rem;margin:0 .5rem;padding:.25rem;border:none;outline:none;border-radius:5px;background-color:#f0f8ff;font-size:large;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}textarea[_ngcontent-%COMP%]{height:3.5rem}button[_ngcontent-%COMP%]{font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}.label[_ngcontent-%COMP%]{font-size:20px}.btn[_ngcontent-%COMP%]{width:fit-content;margin:auto;padding:.5rem 1rem;border:none;outline:none;height:3rem;border-radius:5px;font-size:20px;box-shadow:0 1px 2px #d3d3d3}.icon-btn[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;outline:none;border:none;background:none;width:4rem;height:4rem;padding:0 .5rem}.icon-btn[_ngcontent-%COMP%]:hover{cursor:pointer;outline:solid 1px black}.navbar[_ngcontent-%COMP%]{height:4rem;width:100%;display:flex;flex-direction:row;justify-content:space-between}.border-input[_ngcontent-%COMP%]{background:#ffffff10;border:solid 1px black}[_nghost-%COMP%]{display:flex;flex-direction:column;margin:auto;width:100%;height:100%}.deck[_ngcontent-%COMP%]{height:100%;padding:1rem}.progress[_ngcontent-%COMP%]{width:100%;height:.25rem;background:#789;margin-top:.25rem;border-radius:2px}.progress-inner[_ngcontent-%COMP%]{height:100%;border-radius:2px;background:#7fffd4}.options[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:auto;gap:2rem}"]});let t=e;return t})();var ky=(()=>{let e=class e{constructor(r,i){this.actionsService=r,this.router=i,this.settingsMenuOpen=!1,this.addCardMenuOpen=!1,this.sample=!1}ngOnInit(){this.router.url==="/sample"&&(this.sample=!0)}closeMenu(){this.settingsMenuOpen=!1,this.addCardMenuOpen=!1}toggleSettingsMenu(){this.settingsMenuOpen=!this.settingsMenuOpen}toggleAddCardMenu(){this.addCardMenuOpen=!this.addCardMenuOpen}handleUndo(){this.actionsService.applyUndo()}handleRedo(){this.actionsService.applyRedo()}};e.\u0275fac=function(i){return new(i||e)(T(gd),T(On))},e.\u0275cmp=Ne({type:e,selectors:[["app-layout"]],standalone:!0,features:[Oe],decls:5,vars:3,consts:[[1,"content"],[3,"closePressed","settingsOpen","addCardOpen"],[3,"sample"],[3,"settingsPressed","undoPressed","redoPressed","addPressed"]],template:function(i,s){i&1&&(y(0,"div",0),M(1,"app-notifications"),y(2,"app-menu",1),U("closePressed",function(){return s.closeMenu()}),I(),M(3,"app-deck",2),y(4,"app-navbar",3),U("settingsPressed",function(){return s.toggleSettingsMenu()})("undoPressed",function(){return s.handleUndo()})("redoPressed",function(){return s.handleRedo()})("addPressed",function(){return s.toggleAddCardMenu()}),I()()),i&2&&(O(2),L("settingsOpen",s.settingsMenuOpen)("addCardOpen",s.addCardMenuOpen),O(),L("sample",s.sample))},dependencies:[P0,uS,dS,_S],styles:["body[_ngcontent-%COMP%]{margin:0;background:#dedede;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{height:2.5rem;margin:0 .5rem;padding:.25rem;border:none;outline:none;border-radius:5px;background-color:#f0f8ff;font-size:large;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}textarea[_ngcontent-%COMP%]{height:3.5rem}button[_ngcontent-%COMP%]{font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}.label[_ngcontent-%COMP%]{font-size:20px}.btn[_ngcontent-%COMP%]{width:fit-content;margin:auto;padding:.5rem 1rem;border:none;outline:none;height:3rem;border-radius:5px;font-size:20px;box-shadow:0 1px 2px #d3d3d3}.icon-btn[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;outline:none;border:none;background:none;width:4rem;height:4rem;padding:0 .5rem}.icon-btn[_ngcontent-%COMP%]:hover{cursor:pointer;outline:solid 1px black}.navbar[_ngcontent-%COMP%]{height:4rem;width:100%;display:flex;flex-direction:row;justify-content:space-between}.border-input[_ngcontent-%COMP%]{background:#ffffff10;border:solid 1px black}.content[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;overflow:hidden;display:flex;flex-direction:column;justify-content:space-between}"]});let t=e;return t})();function cU(t,e){if(t&1&&(y(0,"button",6),oe(1,"Sign In"),I()),t&2){let n=z();L("disabled",n.signInForm.invalid)}}var vS=(()=>{let e=class e{constructor(r,i){this.authService=r,this.router=i,this.loading=!1,this.signInForm=new Ln({email:new Se(null,Ye.required),password:new Se(null,Ye.required)})}ngOnInit(){}onSubmit(){let r={email:this.signInForm.controls.email.value,password:this.signInForm.controls.password.value};!r.email||!r.password||(this.loading=!0,this.authService.signIn(r.email,r.password).then(i=>{i?this.router.navigate([""]):this.loading=!1}))}};e.\u0275fac=function(i){return new(i||e)(T(Ms),T(On))},e.\u0275cmp=Ne({type:e,selectors:[["app-auth"]],standalone:!0,features:[Oe],decls:11,vars:3,consts:[[1,"signin",3,"submit","formGroup"],["type","text","placeholder","email","formControlName","email"],["type","password","placeholder","password","formControlName","password"],["class","btn submit","type","submit","style","margin: auto;",3,"disabled",4,"ngIf"],[1,"sample"],["routerLink","/sample"],["type","submit",1,"btn","submit",2,"margin","auto",3,"disabled"]],template:function(i,s){i&1&&(y(0,"form",0),U("submit",function(){return s.onSubmit()}),y(1,"h1"),oe(2),I(),M(3,"input",1)(4,"input",2),De(5,cU,2,1,"button",3),I(),y(6,"p",4),oe(7," Don't have an account? Try a "),y(8,"a",5),oe(9,"sample"),I(),oe(10,`!
`),I()),i&2&&(L("formGroup",s.signInForm),O(2),wt(s.loading?"Loading...":"Sign In"),O(3),L("ngIf",!s.loading))},dependencies:[lt,sr,Vs,Fs,wr,ks,Ps,fi,pi,eC],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;text-align:center}.signin[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.submit[_ngcontent-%COMP%]{background-color:#90ee90}.sample[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%}"]});let t=e;return t})();var wS=[{path:"",component:ky,canActivate:[Ms]},{path:"sample",component:ky},{path:"auth",component:vS}];function bS(t){return new _(3e3,!1)}function uU(){return new _(3100,!1)}function dU(){return new _(3101,!1)}function hU(t){return new _(3001,!1)}function fU(t){return new _(3003,!1)}function pU(t){return new _(3004,!1)}function gU(t,e){return new _(3005,!1)}function mU(){return new _(3006,!1)}function yU(){return new _(3007,!1)}function _U(t,e){return new _(3008,!1)}function vU(t){return new _(3002,!1)}function wU(t,e,n,r,i){return new _(3010,!1)}function bU(){return new _(3011,!1)}function EU(){return new _(3012,!1)}function CU(){return new _(3200,!1)}function IU(){return new _(3202,!1)}function DU(){return new _(3013,!1)}function SU(t){return new _(3014,!1)}function TU(t){return new _(3015,!1)}function AU(t){return new _(3016,!1)}function MU(t,e){return new _(3404,!1)}function NU(t){return new _(3502,!1)}function RU(t){return new _(3503,!1)}function xU(){return new _(3300,!1)}function OU(t){return new _(3504,!1)}function kU(t){return new _(3301,!1)}function PU(t,e){return new _(3302,!1)}function FU(t){return new _(3303,!1)}function LU(t,e){return new _(3400,!1)}function VU(t){return new _(3401,!1)}function jU(t){return new _(3402,!1)}function UU(t,e){return new _(3505,!1)}function Sr(t){switch(t.length){case 0:return new br;case 1:return t[0];default:return new ya(t)}}function PS(t,e,n=new Map,r=new Map){let i=[],s=[],o=-1,a=null;if(e.forEach(l=>{let c=l.get("offset"),u=c==o,d=u&&a||new Map;l.forEach((h,f)=>{let p=f,m=h;if(f!=="offset")switch(p=t.normalizePropertyName(p,i),m){case Pu:m=n.get(f);break;case bn:m=r.get(f);break;default:m=t.normalizeStyleValue(f,p,m,i);break}d.set(p,m)}),u||s.push(d),a=d,o=c}),i.length)throw NU(i);return s}function r_(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&Py(n,"start",t)));break;case"done":t.onDone(()=>r(n&&Py(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&Py(n,"destroy",t)));break}}function Py(t,e,n){let r=n.totalTime,i=!!n.disabled,s=i_(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,r??t.totalTime,i),o=t._data;return o!=null&&(s._data=o),s}function i_(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function It(t,e,n){let r=t.get(e);return r||t.set(e,r=n),r}function ES(t){let e=t.indexOf(":"),n=t.substring(1,e),r=t.slice(e+1);return[n,r]}var BU=typeof document>"u"?null:document.documentElement;function s_(t){let e=t.parentNode||t.host||null;return e===BU?null:e}function $U(t){return t.substring(1,6)=="ebkit"}var Ci=null,CS=!1;function HU(t){Ci||(Ci=zU()||{},CS=Ci.style?"WebkitAppearance"in Ci.style:!1);let e=!0;return Ci.style&&!$U(t)&&(e=t in Ci.style,!e&&CS&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in Ci.style)),e}function zU(){return typeof document<"u"?document.body:null}function FS(t,e){for(;e;){if(e===t)return!0;e=s_(e)}return!1}function LS(t,e,n){if(n)return Array.from(t.querySelectorAll(e));let r=t.querySelector(e);return r?[r]:[]}var o_=(()=>{let e=class e{validateStyleProperty(r){return HU(r)}containsElement(r,i){return FS(r,i)}getParentElement(r){return s_(r)}query(r,i,s){return LS(r,i,s)}computeStyle(r,i,s){return s||""}animate(r,i,s,o,a,l=[],c){return new br(s,o)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac});let t=e;return t})(),u_=class u_{};u_.NOOP=new o_;var Si=u_,Ti=class{};var WU=1e3,VS="{{",GU="}}",jS="ng-enter",By="ng-leave",md="ng-trigger",bd=".ng-trigger",IS="ng-animating",$y=".ng-animating";function Un(t){if(typeof t=="number")return t;let e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Hy(parseFloat(e[1]),e[2])}function Hy(t,e){switch(e){case"s":return t*WU;default:return t}}function Ed(t,e,n){return t.hasOwnProperty("duration")?t:qU(t,e,n)}function qU(t,e,n){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,s=0,o="";if(typeof t=="string"){let a=t.match(r);if(a===null)return e.push(bS(t)),{duration:0,delay:0,easing:""};i=Hy(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(s=Hy(parseFloat(l),a[4]));let c=a[5];c&&(o=c)}else i=t;if(!n){let a=!1,l=e.length;i<0&&(e.push(uU()),a=!0),s<0&&(e.push(dU()),a=!0),a&&e.splice(l,0,bS(t))}return{duration:i,delay:s,easing:o}}function KU(t){return t.length?t[0]instanceof Map?t:t.map(e=>new Map(Object.entries(e))):[]}function Dn(t,e,n){e.forEach((r,i)=>{let s=a_(i);n&&!n.has(i)&&n.set(i,t.style[s]),t.style[s]=r})}function Di(t,e){e.forEach((n,r)=>{let i=a_(r);t.style[i]=""})}function Ua(t){return Array.isArray(t)?t.length==1?t[0]:fI(t):t}function YU(t,e,n){let r=e.params||{},i=US(t);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||n.push(hU(s))})}var zy=new RegExp(`${VS}\\s*(.+?)\\s*${GU}`,"g");function US(t){let e=[];if(typeof t=="string"){let n;for(;n=zy.exec(t);)e.push(n[1]);zy.lastIndex=0}return e}function $a(t,e,n){let r=`${t}`,i=r.replace(zy,(s,o)=>{let a=e[o];return a==null&&(n.push(fU(o)),a=""),a.toString()});return i==r?t:i}var QU=/-+([a-z0-9])/g;function a_(t){return t.replace(QU,(...e)=>e[1].toUpperCase())}function ZU(t,e){return t===0||e===0}function JU(t,e,n){if(n.size&&e.length){let r=e[0],i=[];if(n.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,l_(t,a)))}}return e}function Ct(t,e,n){switch(e.type){case B.Trigger:return t.visitTrigger(e,n);case B.State:return t.visitState(e,n);case B.Transition:return t.visitTransition(e,n);case B.Sequence:return t.visitSequence(e,n);case B.Group:return t.visitGroup(e,n);case B.Animate:return t.visitAnimate(e,n);case B.Keyframes:return t.visitKeyframes(e,n);case B.Style:return t.visitStyle(e,n);case B.Reference:return t.visitReference(e,n);case B.AnimateChild:return t.visitAnimateChild(e,n);case B.AnimateRef:return t.visitAnimateRef(e,n);case B.Query:return t.visitQuery(e,n);case B.Stagger:return t.visitStagger(e,n);default:throw pU(e.type)}}function l_(t,e){return window.getComputedStyle(t)[e]}var XU=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Cd=class extends Ti{normalizePropertyName(e,n){return a_(e)}normalizeStyleValue(e,n,r,i){let s="",o=r.toString().trim();if(XU.has(n)&&r!==0&&r!=="0")if(typeof r=="number")s="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(gU(e,r))}return o+s}};var Id="*";function eB(t,e){let n=[];return typeof t=="string"?t.split(/\s*,\s*/).forEach(r=>tB(r,n,e)):n.push(t),n}function tB(t,e,n){if(t[0]==":"){let l=nB(t,n);if(typeof l=="function"){e.push(l);return}t=l}let r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return n.push(TU(t)),e;let i=r[1],s=r[2],o=r[3];e.push(DS(i,o));let a=i==Id&&o==Id;s[0]=="<"&&!a&&e.push(DS(o,i))}function nB(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,r)=>parseFloat(r)>parseFloat(n);case":decrement":return(n,r)=>parseFloat(r)<parseFloat(n);default:return e.push(AU(t)),"* => *"}}var yd=new Set(["true","1"]),_d=new Set(["false","0"]);function DS(t,e){let n=yd.has(t)||_d.has(t),r=yd.has(e)||_d.has(e);return(i,s)=>{let o=t==Id||t==i,a=e==Id||e==s;return!o&&n&&typeof i=="boolean"&&(o=i?yd.has(t):_d.has(t)),!a&&r&&typeof s=="boolean"&&(a=s?yd.has(e):_d.has(e)),o&&a}}var BS=":self",rB=new RegExp(`s*${BS}s*,?`,"g");function $S(t,e,n,r){return new Wy(t).build(e,n,r)}var SS="",Wy=class{constructor(e){this._driver=e}build(e,n,r){let i=new Gy(n);return this._resetContextStyleTimingState(i),Ct(this,Ua(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=SS,e.collectedStyles=new Map,e.collectedStyles.set(SS,new Map),e.currentTime=0}visitTrigger(e,n){let r=n.queryCount=0,i=n.depCount=0,s=[],o=[];return e.name.charAt(0)=="@"&&n.errors.push(mU()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),a.type==B.State){let l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,n))}),l.name=c}else if(a.type==B.Transition){let l=this.visitTransition(a,n);r+=l.queryCount,i+=l.depCount,o.push(l)}else n.errors.push(yU())}),{type:B.Trigger,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,n){let r=this.visitStyle(e.styles,n),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){let s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{US(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&n.errors.push(_U(e.name,[...s.values()]))}return{type:B.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;let r=Ct(this,Ua(e.animation),n),i=eB(e.expr,n.errors);return{type:B.Transition,matchers:i,animation:r,queryCount:n.queryCount,depCount:n.depCount,options:Ii(e.options)}}visitSequence(e,n){return{type:B.Sequence,steps:e.steps.map(r=>Ct(this,r,n)),options:Ii(e.options)}}visitGroup(e,n){let r=n.currentTime,i=0,s=e.steps.map(o=>{n.currentTime=r;let a=Ct(this,o,n);return i=Math.max(i,n.currentTime),a});return n.currentTime=i,{type:B.Group,steps:s,options:Ii(e.options)}}visitAnimate(e,n){let r=aB(e.timings,n.errors);n.currentAnimateTimings=r;let i,s=e.styles?e.styles:nt({});if(s.type==B.Keyframes)i=this.visitKeyframes(s,n);else{let o=e.styles,a=!1;if(!o){a=!0;let c={};r.easing&&(c.easing=r.easing),o=nt(c)}n.currentTime+=r.duration+r.delay;let l=this.visitStyle(o,n);l.isEmptyStep=a,i=l}return n.currentAnimateTimings=null,{type:B.Animate,timings:r,style:i,options:null}}visitStyle(e,n){let r=this._makeStyleAst(e,n);return this._validateStyleAst(r,n),r}_makeStyleAst(e,n){let r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===bn?r.push(a):n.errors.push(vU(a)):r.push(new Map(Object.entries(a)));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s)){for(let l of a.values())if(l.toString().indexOf(VS)>=0){s=!0;break}}}),{type:B.Style,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,n){let r=n.currentAnimateTimings,i=n.currentTime,s=n.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,l)=>{let c=n.collectedStyles.get(n.currentQuerySelector),u=c.get(l),d=!0;u&&(s!=i&&s>=u.startTime&&i<=u.endTime&&(n.errors.push(wU(l,u.startTime,u.endTime,s,i)),d=!1),s=u.startTime),d&&c.set(l,{startTime:s,endTime:i}),n.options&&YU(a,n.options,n.errors)})})}visitKeyframes(e,n){let r={type:B.Keyframes,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(bU()),r;let i=1,s=0,o=[],a=!1,l=!1,c=0,u=e.steps.map(S=>{let K=this._makeStyleAst(S,n),V=K.offset!=null?K.offset:oB(K.styles),ie=0;return V!=null&&(s++,ie=K.offset=V),l=l||ie<0||ie>1,a=a||ie<c,c=ie,o.push(ie),K});l&&n.errors.push(EU()),a&&n.errors.push(CU());let d=e.steps.length,h=0;s>0&&s<d?n.errors.push(IU()):s==0&&(h=i/(d-1));let f=d-1,p=n.currentTime,m=n.currentAnimateTimings,w=m.duration;return u.forEach((S,K)=>{let V=h>0?K==f?1:h*K:o[K],ie=V*w;n.currentTime=p+m.delay+ie,m.duration=ie,this._validateStyleAst(S,n),S.offset=V,r.styles.push(S)}),r}visitReference(e,n){return{type:B.Reference,animation:Ct(this,Ua(e.animation),n),options:Ii(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:B.AnimateChild,options:Ii(e.options)}}visitAnimateRef(e,n){return{type:B.AnimateRef,animation:this.visitReference(e.animation,n),options:Ii(e.options)}}visitQuery(e,n){let r=n.currentQuerySelector,i=e.options||{};n.queryCount++,n.currentQuery=e;let[s,o]=iB(e.selector);n.currentQuerySelector=r.length?r+" "+s:s,It(n.collectedStyles,n.currentQuerySelector,new Map);let a=Ct(this,Ua(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=r,{type:B.Query,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:Ii(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(DU());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:Ed(e.timings,n.errors,!0);return{type:B.Stagger,animation:Ct(this,Ua(e.animation),n),timings:r,options:null}}};function iB(t){let e=!!t.split(/\s*,\s*/).find(n=>n==BS);return e&&(t=t.replace(rB,"")),t=t.replace(/@\*/g,bd).replace(/@\w+/g,n=>bd+"-"+n.slice(1)).replace(/:animating/g,$y),[t,e]}function sB(t){return t?b({},t):null}var Gy=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function oB(t){if(typeof t=="string")return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){let r=n;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(t instanceof Map&&t.has("offset")){let n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}function aB(t,e){if(t.hasOwnProperty("duration"))return t;if(typeof t=="number"){let s=Ed(t,e).duration;return Fy(s,0,"")}let n=t;if(n.split(/\s+/).some(s=>s.charAt(0)=="{"&&s.charAt(1)=="{")){let s=Fy(0,0,"");return s.dynamic=!0,s.strValue=n,s}let i=Ed(n,e);return Fy(i.duration,i.delay,i.easing)}function Ii(t){return t?(t=b({},t),t.params&&(t.params=sB(t.params))):t={},t}function Fy(t,e,n){return{duration:t,delay:e,easing:n}}function c_(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}var Ha=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,n){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}},lB=1,cB=":enter",uB=new RegExp(cB,"g"),dB=":leave",hB=new RegExp(dB,"g");function HS(t,e,n,r,i,s=new Map,o=new Map,a,l,c=[]){return new qy().buildKeyframes(t,e,n,r,i,s,o,a,l,c)}var qy=class{buildKeyframes(e,n,r,i,s,o,a,l,c,u=[]){c=c||new Ha;let d=new Ky(e,n,c,i,s,u,[]);d.options=l;let h=l.delay?Un(l.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([o],null,d.errors,l),Ct(this,r,d);let f=d.timelines.filter(p=>p.containsAnimation());if(f.length&&a.size){let p;for(let m=f.length-1;m>=0;m--){let w=f[m];if(w.element===n){p=w;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,l)}return f.length?f.map(p=>p.buildKeyframes()):[c_(n,[],[],[],0,h,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){let r=n.subInstructions.get(n.element);if(r){let i=n.createSubContext(e.options),s=n.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&n.transformIntoNewTimeline(o)}n.previousNode=e}visitAnimateRef(e,n){let r=n.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,r),this.visitReference(e.animation,r),n.transformIntoNewTimeline(r.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,r){for(let i of e){let s=i?.delay;if(s){let o=typeof s=="number"?s:Un($a(s,i?.params??{},n.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,n,r){let s=n.currentTimeline.currentTime,o=r.duration!=null?Un(r.duration):null,a=r.delay!=null?Un(r.delay):null;return o!==0&&e.forEach(l=>{let c=n.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,n){n.updateOptions(e.options,!0),Ct(this,e.animation,n),n.previousNode=e}visitSequence(e,n){let r=n.subContextCount,i=n,s=e.options;if(s&&(s.params||s.delay)&&(i=n.createSubContext(s),i.transformIntoNewTimeline(),s.delay!=null)){i.previousNode.type==B.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Dd);let o=Un(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>Ct(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){let r=[],i=n.currentTimeline.currentTime,s=e.options&&e.options.delay?Un(e.options.delay):0;e.steps.forEach(o=>{let a=n.createSubContext(e.options);s&&a.delayNextStep(s),Ct(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>n.currentTimeline.mergeTimelineCollectedStyles(o)),n.transformIntoNewTimeline(i),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){let r=e.strValue,i=n.params?$a(r,n.params,n.errors):r;return Ed(i,n.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){let r=n.currentAnimateTimings=this._visitTiming(e.timings,n),i=n.currentTimeline;r.delay&&(n.incrementTime(r.delay),i.snapshotCurrentStyles());let s=e.style;s.type==B.Keyframes?this.visitKeyframes(s,n):(n.incrementTime(r.duration),this.visitStyle(s,n),i.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){let r=n.currentTimeline,i=n.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){let r=n.currentAnimateTimings,i=n.currentTimeline.duration,s=r.duration,a=n.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(l=>{let c=l.offset||0;a.forwardTime(c*s),a.setStyles(l.styles,l.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(i+s),n.previousNode=e}visitQuery(e,n){let r=n.currentTimeline.currentTime,i=e.options||{},s=i.delay?Un(i.delay):0;s&&(n.previousNode.type===B.Style||r==0&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=Dd);let o=r,a=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,n.errors);n.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{n.currentQueryIndex=u;let d=n.createSubContext(e.options,c);s&&d.delayNextStep(s),c===n.element&&(l=d.currentTimeline),Ct(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe();let h=d.currentTimeline.currentTime;o=Math.max(o,h)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(o),l&&(n.currentTimeline.mergeTimelineCollectedStyles(l),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){let r=n.parentContext,i=n.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(n.currentQueryTotal-1),l=o*n.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime;break}let u=n.currentTimeline;l&&u.delayNextStep(l);let d=u.currentTime;Ct(this,e.animation,n),n.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}},Dd={},Ky=class t{constructor(e,n,r,i,s,o,a,l){this._driver=e,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Dd,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Sd(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;let r=e,i=this.options;r.duration!=null&&(i.duration=Un(r.duration)),r.delay!=null&&(i.delay=Un(r.delay));let s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!n||!o.hasOwnProperty(a))&&(o[a]=$a(s[a],o,this.errors))})}}_copyOptions(){let e={};if(this.options){let n=this.options.params;if(n){let r=e.params={};Object.keys(n).forEach(i=>{r[i]=n[i]})}}return e}createSubContext(e=null,n,r){let i=n||this.element,s=new t(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=Dd,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,r){let i={duration:n??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new Yy(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace(uB,"."+this._enterClassName),e=e.replace(hB,"."+this._leaveClassName);let l=r!=1,c=this._driver.query(this.element,e,l);r!==0&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),a.push(...c)}return!s&&a.length==0&&o.push(SU(n)),a}},Sd=class t{constructor(e,n,r,i){this._driver=e,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let n=this._keyframes.size===1&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=lB,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,r]of this._globalTimelineStyles)this._backFill.set(n,r||bn),this._currentKeyframe.set(n,bn);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,r,i){n&&this._previousKeyframe.set("easing",n);let s=i&&i.params||{},o=fB(e,this._globalTimelineStyles);for(let[a,l]of o){let c=$a(l,s,r);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??bn),this._updateStyle(a,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,r)=>{let i=this._styleSummary.get(r);(!i||n.time>i.time)&&this._updateStyle(r,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,n=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,l)=>{let c=new Map([...this._backFill,...a]);c.forEach((u,d)=>{u===Pu?e.add(d):u===bn&&n.add(d)}),r||c.set("offset",l/this.duration),i.push(c)});let s=[...e.values()],o=[...n.values()];if(r){let a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return c_(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}},Yy=class extends Sd{constructor(e,n,r,i,s,o,a=!1){super(e,n,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&n){let s=[],o=r+n,a=n/o,l=new Map(e[0]);l.set("offset",0),s.push(l);let c=new Map(e[0]);c.set("offset",TS(a)),s.push(c);let u=e.length-1;for(let d=1;d<=u;d++){let h=new Map(e[d]),f=h.get("offset"),p=n+f*r;h.set("offset",TS(p/o)),s.push(h)}r=o,n=0,i="",e=s}return c_(this.element,e,this.preStyleProps,this.postStyleProps,r,n,i,!0)}};function TS(t,e=3){let n=Math.pow(10,e-1);return Math.round(t*n)/n}function fB(t,e){let n=new Map,r;return t.forEach(i=>{if(i==="*"){r??=e.keys();for(let s of r)n.set(s,bn)}else for(let[s,o]of i)n.set(s,o)}),n}function AS(t,e,n,r,i,s,o,a,l,c,u,d,h){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}var Ly={},Td=class{constructor(e,n,r){this._triggerName=e,this.ast=n,this._stateStyles=r}match(e,n,r,i){return pB(this.ast.matchers,e,n,r,i)}buildStyles(e,n,r){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(n,r):new Map}build(e,n,r,i,s,o,a,l,c,u){let d=[],h=this.ast.options&&this.ast.options.params||Ly,f=a&&a.params||Ly,p=this.buildStyles(r,f,d),m=l&&l.params||Ly,w=this.buildStyles(i,m,d),S=new Set,K=new Map,V=new Map,ie=i==="void",We={params:zS(m,h),delay:this.ast.options?.delay},ge=u?[]:HS(e,n,this.ast.animation,s,o,p,w,We,c,d),_e=0;return ge.forEach(Te=>{_e=Math.max(Te.duration+Te.delay,_e)}),d.length?AS(n,this._triggerName,r,i,ie,p,w,[],[],K,V,_e,d):(ge.forEach(Te=>{let ht=Te.element,Jt=It(K,ht,new Set);Te.preStyleProps.forEach(Tr=>Jt.add(Tr));let d_=It(V,ht,new Set);Te.postStyleProps.forEach(Tr=>d_.add(Tr)),ht!==n&&S.add(ht)}),AS(n,this._triggerName,r,i,ie,p,w,ge,[...S.values()],K,V,_e))}};function pB(t,e,n,r,i){return t.some(s=>s(e,n,r,i))}function zS(t,e){let n=b({},e);return Object.entries(t).forEach(([r,i])=>{i!=null&&(n[r]=i)}),n}var Qy=class{constructor(e,n,r){this.styles=e,this.defaultParams=n,this.normalizer=r}buildStyles(e,n){let r=new Map,i=zS(e,this.defaultParams);return this.styles.styles.forEach(s=>{typeof s!="string"&&s.forEach((o,a)=>{o&&(o=$a(o,i,n));let l=this.normalizer.normalizePropertyName(a,n);o=this.normalizer.normalizeStyleValue(a,l,o,n),r.set(a,o)})}),r}};function gB(t,e,n){return new Zy(t,e,n)}var Zy=class{constructor(e,n,r){this.name=e,this.ast=n,this._normalizer=r,this.transitionFactories=[],this.states=new Map,n.states.forEach(i=>{let s=i.options&&i.options.params||{};this.states.set(i.name,new Qy(i.style,s,r))}),MS(this.states,"true","1"),MS(this.states,"false","0"),n.transitions.forEach(i=>{this.transitionFactories.push(new Td(e,i,this.states))}),this.fallbackTransition=mB(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,r,i){return this.transitionFactories.find(o=>o.match(e,n,r,i))||null}matchStyles(e,n,r){return this.fallbackTransition.buildStyles(e,n,r)}};function mB(t,e,n){let r=[(o,a)=>!0],i={type:B.Sequence,steps:[],options:null},s={type:B.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new Td(t,s,e)}function MS(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}var yB=new Ha,Jy=class{constructor(e,n,r){this.bodyNode=e,this._driver=n,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,n){let r=[],i=[],s=$S(this._driver,n,r,i);if(r.length)throw RU(r);i.length&&void 0,this._animations.set(e,s)}_buildPlayer(e,n,r){let i=e.element,s=PS(this._normalizer,e.keyframes,n,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,n,r={}){let i=[],s=this._animations.get(e),o,a=new Map;if(s?(o=HS(this._driver,n,s,jS,By,new Map,new Map,r,yB,i),o.forEach(u=>{let d=It(a,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(i.push(xU()),o=[]),i.length)throw OU(i);a.forEach((u,d)=>{u.forEach((h,f)=>{u.set(f,this._driver.computeStyle(d,f,bn))})});let l=o.map(u=>{let d=a.get(u.element);return this._buildPlayer(u,new Map,d)}),c=Sr(l);return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){let n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);let r=this.players.indexOf(n);r>=0&&this.players.splice(r,1)}_getPlayer(e){let n=this._playersById.get(e);if(!n)throw kU(e);return n}listen(e,n,r,i){let s=i_(n,"","","");return r_(this._getPlayer(e),r,s,i),()=>{}}command(e,n,r,i){if(r=="register"){this.register(e,i[0]);return}if(r=="create"){let o=i[0]||{};this.create(e,n,o);return}let s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},NS="ng-animate-queued",_B=".ng-animate-queued",Vy="ng-animate-disabled",vB=".ng-animate-disabled",wB="ng-star-inserted",bB=".ng-star-inserted",EB=[],WS={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},CB={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Zt="__ng_removed",za=class{get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;let r=e&&e.hasOwnProperty("value"),i=r?e.value:e;if(this.value=DB(i),r){let s=e,{value:o}=s,a=kd(s,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let n=e.params;if(n){let r=this.options.params;Object.keys(n).forEach(i=>{r[i]==null&&(r[i]=n[i])})}}},Ba="void",jy=new za(Ba),Xy=class{constructor(e,n,r){this.id=e,this.hostElement=n,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Ft(n,this._hostClassName)}listen(e,n,r,i){if(!this._triggers.has(n))throw PU(r,n);if(r==null||r.length==0)throw FU(n);if(!SB(r))throw LU(r,n);let s=It(this._elementListeners,e,[]),o={name:n,phase:r,callback:i};s.push(o);let a=It(this._engine.statesByElement,e,new Map);return a.has(n)||(Ft(e,md),Ft(e,md+"-"+n),a.set(n,jy)),()=>{this._engine.afterFlush(()=>{let l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(n)||a.delete(n)})}}register(e,n){return this._triggers.has(e)?!1:(this._triggers.set(e,n),!0)}_getTrigger(e){let n=this._triggers.get(e);if(!n)throw VU(e);return n}trigger(e,n,r,i=!0){let s=this._getTrigger(n),o=new Wa(this.id,n,e),a=this._engine.statesByElement.get(e);a||(Ft(e,md),Ft(e,md+"-"+n),this._engine.statesByElement.set(e,a=new Map));let l=a.get(n),c=new za(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(n,c),l||(l=jy),!(c.value===Ba)&&l.value===c.value){if(!MB(l.params,c.params)){let m=[],w=s.matchStyles(l.value,l.params,m),S=s.matchStyles(c.value,c.params,m);m.length?this._engine.reportError(m):this._engine.afterFlush(()=>{Di(e,w),Dn(e,S)})}return}let h=It(this._engine.playersByElement,e,[]);h.forEach(m=>{m.namespaceId==this.id&&m.triggerName==n&&m.queued&&m.destroy()});let f=s.matchTransition(l.value,c.value,e,c.params),p=!1;if(!f){if(!i)return;f=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:f,fromState:l,toState:c,player:o,isFallbackTransition:p}),p||(Ft(e,NS),o.onStart(()=>{to(e,NS)})),o.onDone(()=>{let m=this.players.indexOf(o);m>=0&&this.players.splice(m,1);let w=this._engine.playersByElement.get(e);if(w){let S=w.indexOf(o);S>=0&&w.splice(S,1)}}),this.players.push(o),h.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,r)=>{this._elementListeners.set(r,n.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let n=this._engine.playersByElement.get(e);n&&(n.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){let r=this._engine.driver.query(e,bd,!0);r.forEach(i=>{if(i[Zt])return;let s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,n,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,n,r,i){let s=this._engine.statesByElement.get(e),o=new Map;if(s){let a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){let u=this.trigger(e,c,Ba,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,o),r&&Sr(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let n=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(n&&r){let i=new Set;n.forEach(s=>{let o=s.name;if(i.has(o))return;i.add(o);let l=this._triggers.get(o).fallbackTransition,c=r.get(o)||jy,u=new za(Ba),d=new Wa(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,n){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let i=!1;if(r.totalAnimations){let s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,n);else{let s=e[Zt];(!s||s===WS)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,n))}}insertNode(e,n){Ft(e,this._hostClassName)}drainQueuedTransitions(e){let n=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){let l=i_(s,r.triggerName,r.fromState.value,r.toState.value);l._data=e,r_(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):n.push(r)}),this._queue=[],n.sort((r,i)=>{let s=r.transition.ast.depCount,o=i.transition.ast.depCount;return s==0||o==0?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},e_=class{_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,r){this.bodyNode=e,this.driver=n,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(n=>{n.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,n){let r=new Xy(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(r,n):(this.newHostElements.set(n,r),this.collectEnterElement(n)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,n){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(n);for(;a;){let l=i.get(a);if(l){let c=r.indexOf(l);r.splice(c+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(n,e),e}register(e,n){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,n)),r}registerTrigger(e,n,r){let i=this._namespaceLookup[e];i&&i.register(n,r)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let n=new Set,r=this.statesByElement.get(e);if(r){for(let i of r.values())if(i.namespaceId){let s=this._fetchNamespace(i.namespaceId);s&&n.add(s)}}return n}trigger(e,n,r,i){if(vd(n)){let s=this._fetchNamespace(e);if(s)return s.trigger(n,r,i),!0}return!1}insertNode(e,n,r,i){if(!vd(n))return;let s=n[Zt];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;let o=this.collectedLeaveElements.indexOf(n);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){let o=this._fetchNamespace(e);o&&o.insertNode(n,r)}i&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ft(e,Vy)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),to(e,Vy))}removeNode(e,n,r){if(vd(n)){let i=e?this._fetchNamespace(e):null;i?i.removeNode(n,r):this.markElementAsRemoved(e,n,!1,r);let s=this.namespacesByHostElement.get(n);s&&s.id!==e&&s.removeNode(n,r)}else this._onRemovalComplete(n,r)}markElementAsRemoved(e,n,r,i,s){this.collectedLeaveElements.push(n),n[Zt]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,n,r,i,s){return vd(n)?this._fetchNamespace(e).listen(n,r,i,s):()=>{}}_buildInstruction(e,n,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,n,s)}destroyInnerAnimations(e){let n=this.driver.query(e,bd,!0);n.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(n=this.driver.query(e,$y,!0),n.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let n=this.playersByElement.get(e);n&&n.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let n=this.playersByQueriedElement.get(e);n&&n.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Sr(this.players).onDone(()=>e());e()})}processLeaveNode(e){let n=e[Zt];if(n&&n.setForRemoval){if(e[Zt]=WS,n.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}e.classList?.contains(Vy)&&this.markElementAsDisabled(e,!1),this.driver.query(e,vB,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];Ft(i,wB)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{n=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],n.length?Sr(n).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw jU(e)}_flushAnimations(e,n){let r=new Ha,i=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(D=>{u.add(D);let N=this.driver.query(D,_B,!0);for(let x=0;x<N.length;x++)u.add(N[x])});let d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=OS(h,this.collectedEnterElements),p=new Map,m=0;f.forEach((D,N)=>{let x=jS+m++;p.set(N,x),D.forEach(ne=>Ft(ne,x))});let w=[],S=new Set,K=new Set;for(let D=0;D<this.collectedLeaveElements.length;D++){let N=this.collectedLeaveElements[D],x=N[Zt];x&&x.setForRemoval&&(w.push(N),S.add(N),x.hasAnimation?this.driver.query(N,bB,!0).forEach(ne=>S.add(ne)):K.add(N))}let V=new Map,ie=OS(h,Array.from(S));ie.forEach((D,N)=>{let x=By+m++;V.set(N,x),D.forEach(ne=>Ft(ne,x))}),e.push(()=>{f.forEach((D,N)=>{let x=p.get(N);D.forEach(ne=>to(ne,x))}),ie.forEach((D,N)=>{let x=V.get(N);D.forEach(ne=>to(ne,x))}),w.forEach(D=>{this.processLeaveNode(D)})});let We=[],ge=[];for(let D=this._namespaceList.length-1;D>=0;D--)this._namespaceList[D].drainQueuedTransitions(n).forEach(x=>{let ne=x.player,Ve=x.element;if(We.push(ne),this.collectedEnterElements.length){let Ge=Ve[Zt];if(Ge&&Ge.setForMove){if(Ge.previousTriggersValues&&Ge.previousTriggersValues.has(x.triggerName)){let Ar=Ge.previousTriggersValues.get(x.triggerName),Dt=this.statesByElement.get(x.element);if(Dt&&Dt.has(x.triggerName)){let Ga=Dt.get(x.triggerName);Ga.value=Ar,Dt.set(x.triggerName,Ga)}}ne.destroy();return}}let Xt=!d||!this.driver.containsElement(d,Ve),ft=V.get(Ve),Bn=p.get(Ve),we=this._buildInstruction(x,r,Bn,ft,Xt);if(we.errors&&we.errors.length){ge.push(we);return}if(Xt){ne.onStart(()=>Di(Ve,we.fromStyles)),ne.onDestroy(()=>Dn(Ve,we.toStyles)),i.push(ne);return}if(x.isFallbackTransition){ne.onStart(()=>Di(Ve,we.fromStyles)),ne.onDestroy(()=>Dn(Ve,we.toStyles)),i.push(ne);return}let p_=[];we.timelines.forEach(Ge=>{Ge.stretchStartingKeyframe=!0,this.disabledNodes.has(Ge.element)||p_.push(Ge)}),we.timelines=p_,r.append(Ve,we.timelines);let XS={instruction:we,player:ne,element:Ve};o.push(XS),we.queriedElements.forEach(Ge=>It(a,Ge,[]).push(ne)),we.preStyleProps.forEach((Ge,Ar)=>{if(Ge.size){let Dt=l.get(Ar);Dt||l.set(Ar,Dt=new Set),Ge.forEach((Ga,Od)=>Dt.add(Od))}}),we.postStyleProps.forEach((Ge,Ar)=>{let Dt=c.get(Ar);Dt||c.set(Ar,Dt=new Set),Ge.forEach((Ga,Od)=>Dt.add(Od))})});if(ge.length){let D=[];ge.forEach(N=>{D.push(UU(N.triggerName,N.errors))}),We.forEach(N=>N.destroy()),this.reportError(D)}let _e=new Map,Te=new Map;o.forEach(D=>{let N=D.element;r.has(N)&&(Te.set(N,N),this._beforeAnimationBuild(D.player.namespaceId,D.instruction,_e))}),i.forEach(D=>{let N=D.element;this._getPreviousPlayers(N,!1,D.namespaceId,D.triggerName,null).forEach(ne=>{It(_e,N,[]).push(ne),ne.destroy()})});let ht=w.filter(D=>kS(D,l,c)),Jt=new Map;xS(Jt,this.driver,K,c,bn).forEach(D=>{kS(D,l,c)&&ht.push(D)});let Tr=new Map;f.forEach((D,N)=>{xS(Tr,this.driver,new Set(D),l,Pu)}),ht.forEach(D=>{let N=Jt.get(D),x=Tr.get(D);Jt.set(D,new Map([...N?.entries()??[],...x?.entries()??[]]))});let xd=[],h_=[],f_={};o.forEach(D=>{let{element:N,player:x,instruction:ne}=D;if(r.has(N)){if(u.has(N)){x.onDestroy(()=>Dn(N,ne.toStyles)),x.disabled=!0,x.overrideTotalTime(ne.totalTime),i.push(x);return}let Ve=f_;if(Te.size>1){let ft=N,Bn=[];for(;ft=ft.parentNode;){let we=Te.get(ft);if(we){Ve=we;break}Bn.push(ft)}Bn.forEach(we=>Te.set(we,Ve))}let Xt=this._buildAnimation(x.namespaceId,ne,_e,s,Tr,Jt);if(x.setRealPlayer(Xt),Ve===f_)xd.push(x);else{let ft=this.playersByElement.get(Ve);ft&&ft.length&&(x.parentPlayer=Sr(ft)),i.push(x)}}else Di(N,ne.fromStyles),x.onDestroy(()=>Dn(N,ne.toStyles)),h_.push(x),u.has(N)&&i.push(x)}),h_.forEach(D=>{let N=s.get(D.element);if(N&&N.length){let x=Sr(N);D.setRealPlayer(x)}}),i.forEach(D=>{D.parentPlayer?D.syncPlayerEvents(D.parentPlayer):D.destroy()});for(let D=0;D<w.length;D++){let N=w[D],x=N[Zt];if(to(N,By),x&&x.hasAnimation)continue;let ne=[];if(a.size){let Xt=a.get(N);Xt&&Xt.length&&ne.push(...Xt);let ft=this.driver.query(N,$y,!0);for(let Bn=0;Bn<ft.length;Bn++){let we=a.get(ft[Bn]);we&&we.length&&ne.push(...we)}}let Ve=ne.filter(Xt=>!Xt.destroyed);Ve.length?TB(this,N,Ve):this.processLeaveNode(N)}return w.length=0,xd.forEach(D=>{this.players.push(D),D.onDone(()=>{D.destroy();let N=this.players.indexOf(D);this.players.splice(N,1)}),D.play()}),xd}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,r,i,s){let o=[];if(n){let a=this.playersByQueriedElement.get(e);a&&(o=a)}else{let a=this.playersByElement.get(e);if(a){let l=!s||s==Ba;a.forEach(c=>{c.queued||!l&&c.triggerName!=i||o.push(c)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,n,r){let i=n.triggerName,s=n.element,o=n.isRemovalTransition?void 0:e,a=n.isRemovalTransition?void 0:i;for(let l of n.timelines){let c=l.element,u=c!==s,d=It(r,c,[]);this._getPreviousPlayers(c,u,o,a,n.toState).forEach(f=>{let p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}Di(s,n.fromStyles)}_buildAnimation(e,n,r,i,s,o){let a=n.triggerName,l=n.element,c=[],u=new Set,d=new Set,h=n.timelines.map(p=>{let m=p.element;u.add(m);let w=m[Zt];if(w&&w.removedBeforeQueried)return new br(p.duration,p.delay);let S=m!==l,K=AB((r.get(m)||EB).map(_e=>_e.getRealPlayer())).filter(_e=>{let Te=_e;return Te.element?Te.element===m:!1}),V=s.get(m),ie=o.get(m),We=PS(this._normalizer,p.keyframes,V,ie),ge=this._buildPlayer(p,We,K);if(p.subTimeline&&i&&d.add(m),S){let _e=new Wa(e,a,m);_e.setRealPlayer(ge),c.push(_e)}return ge});c.forEach(p=>{It(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>IB(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>Ft(p,IS));let f=Sr(h);return f.onDestroy(()=>{u.forEach(p=>to(p,IS)),Dn(l,n.toStyles)}),d.forEach(p=>{It(i,p,[]).push(f)}),f}_buildPlayer(e,n,r){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,r):new br(e.duration,e.delay)}},Wa=class{constructor(e,n,r){this.namespaceId=e,this.triggerName=n,this.element=r,this._player=new br,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,r)=>{n.forEach(i=>r_(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){It(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let n=this._player;n.triggerCallback&&n.triggerCallback(e)}};function IB(t,e,n){let r=t.get(e);if(r){if(r.length){let i=r.indexOf(n);r.splice(i,1)}r.length==0&&t.delete(e)}return r}function DB(t){return t??null}function vd(t){return t&&t.nodeType===1}function SB(t){return t=="start"||t=="done"}function RS(t,e){let n=t.style.display;return t.style.display=e??"none",n}function xS(t,e,n,r,i){let s=[];n.forEach(l=>s.push(RS(l)));let o=[];r.forEach((l,c)=>{let u=new Map;l.forEach(d=>{let h=e.computeStyle(c,d,i);u.set(d,h),(!h||h.length==0)&&(c[Zt]=CB,o.push(c))}),t.set(c,u)});let a=0;return n.forEach(l=>RS(l,s[a++])),o}function OS(t,e){let n=new Map;if(t.forEach(a=>n.set(a,[])),e.length==0)return n;let r=1,i=new Set(e),s=new Map;function o(a){if(!a)return r;let l=s.get(a);if(l)return l;let c=a.parentNode;return n.has(c)?l=c:i.has(c)?l=r:l=o(c),s.set(a,l),l}return e.forEach(a=>{let l=o(a);l!==r&&n.get(l).push(a)}),n}function Ft(t,e){t.classList?.add(e)}function to(t,e){t.classList?.remove(e)}function TB(t,e,n){Sr(n).onDone(()=>t.processLeaveNode(e))}function AB(t){let e=[];return GS(t,e),e}function GS(t,e){for(let n=0;n<t.length;n++){let r=t[n];r instanceof ya?GS(r.players,e):e.push(r)}}function MB(t,e){let n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){let s=n[i];if(!e.hasOwnProperty(s)||t[s]!==e[s])return!1}return!0}function kS(t,e,n){let r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(s=>i.add(s)):e.set(t,r),n.delete(t),!0}var ro=class{constructor(e,n,r){this._driver=n,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new e_(e.body,n,r),this._timelineEngine=new Jy(e.body,n,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,n,r,i,s){let o=e+"-"+i,a=this._triggerCache[o];if(!a){let l=[],c=[],u=$S(this._driver,s,l,c);if(l.length)throw MU(i,l);c.length&&void 0,a=gB(i,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(n,i,a)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,r,i){this._transitionEngine.insertNode(e,n,r,i)}onRemove(e,n,r){this._transitionEngine.removeNode(e,n,r)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,r,i){if(r.charAt(0)=="@"){let[s,o]=ES(r),a=i;this._timelineEngine.command(s,n,o,a)}else this._transitionEngine.trigger(e,n,r,i)}listen(e,n,r,i,s){if(r.charAt(0)=="@"){let[o,a]=ES(r);return this._timelineEngine.listen(o,n,a,s)}return this._transitionEngine.listen(e,n,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function NB(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=Uy(e[0]),e.length>1&&(r=Uy(e[e.length-1]))):e instanceof Map&&(n=Uy(e)),n||r?new t_(t,n,r):null}var no=class no{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=no.initialStylesByElement.get(e);i||no.initialStylesByElement.set(e,i=new Map),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&Dn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Dn(this._element,this._initialStyles),this._endStyles&&(Dn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(no.initialStylesByElement.delete(this._element),this._startStyles&&(Di(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Di(this._element,this._endStyles),this._endStyles=null),Dn(this._element,this._initialStyles),this._state=3)}};no.initialStylesByElement=new WeakMap;var t_=no;function Uy(t){let e=null;return t.forEach((n,r)=>{RB(r)&&(e=e||new Map,e.set(r,n))}),e}function RB(t){return t==="display"||t==="position"}var Ad=class{constructor(e,n,r,i){this.element=e,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let n=()=>this._onFinish();this.domPlayer.addEventListener("finish",n),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let n=[];return e.forEach(r=>{n.push(Object.fromEntries(r))}),n}_triggerWebAnimation(e,n,r){return e.animate(this._convertKeyframesToObject(n),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&e.set(i,this._finished?r:l_(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let n=e==="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},Md=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,n){return FS(e,n)}getParentElement(e){return s_(e)}query(e,n,r){return LS(e,n,r)}computeStyle(e,n,r){return l_(e,n)}animate(e,n,r,i,s,o=[]){let a=i==0?"both":"forwards",l={duration:r,delay:i,fill:a};s&&(l.easing=s);let c=new Map,u=o.filter(f=>f instanceof Ad);ZU(r,i)&&u.forEach(f=>{f.currentSnapshot.forEach((p,m)=>c.set(m,p))});let d=KU(n).map(f=>new Map(f));d=JU(e,d,c);let h=NB(e,d);return new Ad(e,d,l,h)}};var wd="@",qS="@.disabled",Nd=class{constructor(e,n,r,i){this.namespaceId=e,this.delegate=n,this.engine=r,this._onDestroy=i,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,r,i=!0){this.delegate.insertBefore(e,n,r),this.engine.onInsert(this.namespaceId,n,e,i)}removeChild(e,n,r){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,r,i){this.delegate.setAttribute(e,n,r,i)}removeAttribute(e,n,r){this.delegate.removeAttribute(e,n,r)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,r,i){this.delegate.setStyle(e,n,r,i)}removeStyle(e,n,r){this.delegate.removeStyle(e,n,r)}setProperty(e,n,r){n.charAt(0)==wd&&n==qS?this.disableAnimations(e,!!r):this.delegate.setProperty(e,n,r)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,r){return this.delegate.listen(e,n,r)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}},n_=class extends Nd{constructor(e,n,r,i,s){super(n,r,i,s),this.factory=e,this.namespaceId=n}setProperty(e,n,r){n.charAt(0)==wd?n.charAt(1)=="."&&n==qS?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,n.slice(1),r):this.delegate.setProperty(e,n,r)}listen(e,n,r){if(n.charAt(0)==wd){let i=xB(e),s=n.slice(1),o="";return s.charAt(0)!=wd&&([s,o]=OB(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{let l=a._data||-1;this.factory.scheduleListenerCallback(l,r,a)})}return this.delegate.listen(e,n,r)}};function xB(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}function OB(t){let e=t.indexOf("."),n=t.substring(0,e),r=t.slice(e+1);return[n,r]}var Rd=class{constructor(e,n,r){this.delegate=e,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,n.onRemovalComplete=(i,s)=>{let o=s?.parentNode(i);o&&s.removeChild(o,i)}}createRenderer(e,n){let r="",i=this.delegate.createRenderer(e,n);if(!e||!n?.data?.animation){let c=this._rendererCache,u=c.get(i);if(!u){let d=()=>c.delete(i);u=new Nd(r,i,this.engine,d),c.set(i,u)}return u}let s=n.id,o=n.id+"-"+this._currentId;this._currentId++,this.engine.register(o,e);let a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(s,o,e,c.name,c)};return n.data.animation.forEach(a),new n_(this,o,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,n,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>n(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(s=>{let[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),i.push([n,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var PB=(()=>{let e=class e extends ro{constructor(r,i,s){super(r,i,s)}ngOnDestroy(){this.flush()}};e.\u0275fac=function(i){return new(i||e)(A(qe),A(Si),A(Ti))},e.\u0275prov=C({token:e,factory:e.\u0275fac});let t=e;return t})();function FB(){return new Cd}function LB(t,e,n){return new Rd(t,e,n)}var YS=[{provide:Ti,useFactory:FB},{provide:ro,useClass:PB},{provide:Zn,useFactory:LB,deps:[Nc,ro,me]}],KS=[{provide:Si,useFactory:()=>new Md},{provide:Af,useValue:"BrowserAnimations"},...YS],VB=[{provide:Si,useClass:o_},{provide:Af,useValue:"NoopAnimations"},...YS],QS=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:r.disableAnimations?VB:KS}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=vt({type:e}),e.\u0275inj=_t({providers:KS,imports:[_E]});let t=e;return t})();var ZS={providers:[tC(wS),mf([QS,O0.forRoot({config:{tokenGetter:()=>localStorage.getItem("jwt"),allowedDomains:[],disallowedRoutes:[]}})])]};var JS=(()=>{let e=class e{constructor(){this.title="cardo"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ne({type:e,selectors:[["app-root"]],standalone:!0,features:[Oe],decls:1,vars:0,template:function(i,s){i&1&&M(0,"router-outlet")},dependencies:[lt,Yp]});let t=e;return t})();mE(JS,ZS).catch(t=>console.error(t));

var ZS=Object.defineProperty,JS=Object.defineProperties;var XS=Object.getOwnPropertyDescriptors;var Wa=Object.getOwnPropertySymbols,eT=Object.getPrototypeOf,p_=Object.prototype.hasOwnProperty,g_=Object.prototype.propertyIsEnumerable,tT=Reflect.get;var f_=(t,e,n)=>e in t?ZS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,b=(t,e)=>{for(var n in e||={})p_.call(e,n)&&f_(t,n,e[n]);if(Wa)for(var n of Wa(e))g_.call(e,n)&&f_(t,n,e[n]);return t},ee=(t,e)=>JS(t,XS(e));var Od=(t,e)=>{var n={};for(var r in t)p_.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Wa)for(var r of Wa(t))e.indexOf(r)<0&&g_.call(t,r)&&(n[r]=t[r]);return n};var Tr=(t,e,n)=>tT(eT(t),n,e);var g=(t,e,n)=>new Promise((r,i)=>{var s=l=>{try{a(n.next(l))}catch(c){i(c)}},o=l=>{try{a(n.throw(l))}catch(c){i(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(s,o);a((n=n.apply(t,e)).next())});var m_=null;var kd=1,y_=Symbol("SIGNAL");function re(t){let e=m_;return m_=t,e}var __={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function nT(t){if(!(Ld(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===kd)){if(!t.producerMustRecompute(t)&&!Pd(t)){t.dirty=!1,t.lastCleanEpoch=kd;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=kd}}function v_(t){return t&&(t.nextProducerIndex=0),re(t)}function w_(t,e){if(re(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Ld(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Fd(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Pd(t){Vd(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(nT(n),r!==n.version))return!0}return!1}function b_(t){if(Vd(t),Ld(t))for(let e=0;e<t.producerNode.length;e++)Fd(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Fd(t,e){if(rT(t),t.liveConsumerNode.length===1&&iT(t))for(let r=0;r<t.producerNode.length;r++)Fd(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Vd(i),i.producerIndexOfThis[r]=e}}function Ld(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Vd(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function rT(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function iT(t){return t.producerNode!==void 0}function sT(){throw new Error}var oT=sT;function E_(t){oT=t}function V(t){return typeof t=="function"}function Si(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ga=Si(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function to(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Te=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(V(r))try{r()}catch(s){e=s instanceof Ga?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{C_(s)}catch(o){e=e??[],o instanceof Ga?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Ga(e)}}add(e){var n;if(e&&e!==this)if(this.closed)C_(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&to(n,e)}remove(e){let{_finalizers:n}=this;n&&to(n,e),e instanceof t&&e._removeParent(this)}};Te.EMPTY=(()=>{let t=new Te;return t.closed=!0,t})();var jd=Te.EMPTY;function qa(t){return t instanceof Te||t&&"closed"in t&&V(t.remove)&&V(t.add)&&V(t.unsubscribe)}function C_(t){V(t)?t():t.unsubscribe()}var Ft={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ti={setTimeout(t,e,...n){let{delegate:r}=Ti;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Ti;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Ka(t){Ti.setTimeout(()=>{let{onUnhandledError:e}=Ft;if(e)e(t);else throw t})}function no(){}var I_=Ud("C",void 0,void 0);function D_(t){return Ud("E",void 0,t)}function S_(t){return Ud("N",t,void 0)}function Ud(t,e,n){return{kind:t,value:e,error:n}}var Ar=null;function Ai(t){if(Ft.useDeprecatedSynchronousErrorHandling){let e=!Ar;if(e&&(Ar={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Ar;if(Ar=null,n)throw r}}else t()}function T_(t){Ft.useDeprecatedSynchronousErrorHandling&&Ar&&(Ar.errorThrown=!0,Ar.error=t)}var Mr=class extends Te{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,qa(e)&&e.add(this)):this.destination=cT}static create(e,n,r){return new Mi(e,n,r)}next(e){this.isStopped?$d(S_(e),this):this._next(e)}error(e){this.isStopped?$d(D_(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?$d(I_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},aT=Function.prototype.bind;function Bd(t,e){return aT.call(t,e)}var Hd=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Ya(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Ya(r)}else Ya(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Ya(n)}}},Mi=class extends Mr{constructor(e,n,r){super();let i;if(V(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Ft.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Bd(e.next,s),error:e.error&&Bd(e.error,s),complete:e.complete&&Bd(e.complete,s)}):i=e}this.destination=new Hd(i)}};function Ya(t){Ft.useDeprecatedSynchronousErrorHandling?T_(t):Ka(t)}function lT(t){throw t}function $d(t,e){let{onStoppedNotification:n}=Ft;n&&Ti.setTimeout(()=>n(t,e))}var cT={closed:!0,next:no,error:lT,complete:no};var Ni=typeof Symbol=="function"&&Symbol.observable||"@@observable";function ft(t){return t}function zd(...t){return Wd(t)}function Wd(t){return t.length===0?ft:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var oe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=dT(n)?n:new Mi(n,r,i);return Ai(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=A_(r),new r((i,s)=>{let o=new Mi({next:a=>{try{n(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Ni](){return this}pipe(...n){return Wd(n)(this)}toPromise(n){return n=A_(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function A_(t){var e;return(e=t??Ft.Promise)!==null&&e!==void 0?e:Promise}function uT(t){return t&&V(t.next)&&V(t.error)&&V(t.complete)}function dT(t){return t&&t instanceof Mr||uT(t)&&qa(t)}function Gd(t){return V(t?.lift)}function te(t){return e=>{if(Gd(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function J(t,e,n,r,i){return new qd(t,e,n,r,i)}var qd=class extends Mr{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Ri(){return te((t,e)=>{let n=null;t._refCount++;let r=J(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var xi=class extends oe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Gd(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Te;let n=this.getSubject();e.add(this.source.subscribe(J(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Te.EMPTY)}return e}refCount(){return Ri()(this)}};var M_=Si(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var _e=(()=>{class t extends oe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Qa(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new M_}next(n){Ai(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Ai(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Ai(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?jd:(this.currentObservers=null,s.push(n),new Te(()=>{this.currentObservers=null,to(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new oe;return n.source=this,n}}return t.create=(e,n)=>new Qa(e,n),t})(),Qa=class extends _e{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:jd}};var Be=class extends _e{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var pt=new oe(t=>t.complete());function N_(t){return t&&V(t.schedule)}function R_(t){return t[t.length-1]}function Za(t){return V(R_(t))?t.pop():void 0}function $n(t){return N_(R_(t))?t.pop():void 0}function Kd(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function O_(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}function x_(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Nr(t){return this instanceof Nr?(this.v=t,this):new Nr(t)}function k_(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(f){return function(p){return Promise.resolve(p).then(f,d)}}function a(f,p){r[f]&&(i[f]=function(m){return new Promise(function(w,S){s.push([f,m,w,S])>1||l(f,m)})},p&&(i[f]=p(i[f])))}function l(f,p){try{c(r[f](p))}catch(m){h(s[0][3],m)}}function c(f){f.value instanceof Nr?Promise.resolve(f.value.v).then(u,d):h(s[0][2],f)}function u(f){l("next",f)}function d(f){l("throw",f)}function h(f,p){f(p),s.shift(),s.length&&l(s[0][0],s[0][1])}}function P_(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof x_=="function"?x_(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,l){o=t[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}}var Ja=t=>t&&typeof t.length=="number"&&typeof t!="function";function Xa(t){return V(t?.then)}function el(t){return V(t[Ni])}function tl(t){return Symbol.asyncIterator&&V(t?.[Symbol.asyncIterator])}function nl(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function hT(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var rl=hT();function il(t){return V(t?.[rl])}function sl(t){return k_(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Nr(n.read());if(i)return yield Nr(void 0);yield yield Nr(r)}}finally{n.releaseLock()}})}function ol(t){return V(t?.getReader)}function Ae(t){if(t instanceof oe)return t;if(t!=null){if(el(t))return fT(t);if(Ja(t))return pT(t);if(Xa(t))return gT(t);if(tl(t))return F_(t);if(il(t))return mT(t);if(ol(t))return yT(t)}throw nl(t)}function fT(t){return new oe(e=>{let n=t[Ni]();if(V(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function pT(t){return new oe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function gT(t){return new oe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Ka)})}function mT(t){return new oe(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function F_(t){return new oe(e=>{_T(t,e).catch(n=>e.error(n))})}function yT(t){return F_(sl(t))}function _T(t,e){var n,r,i,s;return O_(this,void 0,void 0,function*(){try{for(n=P_(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function it(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function al(t,e=0){return te((n,r)=>{n.subscribe(J(r,i=>it(r,t,()=>r.next(i),e),()=>it(r,t,()=>r.complete(),e),i=>it(r,t,()=>r.error(i),e)))})}function ll(t,e=0){return te((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function L_(t,e){return Ae(t).pipe(ll(e),al(e))}function V_(t,e){return Ae(t).pipe(ll(e),al(e))}function j_(t,e){return new oe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function U_(t,e){return new oe(n=>{let r;return it(n,e,()=>{r=t[rl](),it(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>V(r?.return)&&r.return()})}function cl(t,e){if(!t)throw new Error("Iterable cannot be null");return new oe(n=>{it(n,e,()=>{let r=t[Symbol.asyncIterator]();it(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function B_(t,e){return cl(sl(t),e)}function $_(t,e){if(t!=null){if(el(t))return L_(t,e);if(Ja(t))return j_(t,e);if(Xa(t))return V_(t,e);if(tl(t))return cl(t,e);if(il(t))return U_(t,e);if(ol(t))return B_(t,e)}throw nl(t)}function Ce(t,e){return e?$_(t,e):Ae(t)}function k(...t){let e=$n(t);return Ce(t,e)}function Oi(t,e){let n=V(t)?t:()=>t,r=i=>i.error(n());return new oe(e?i=>e.schedule(r,0,i):r)}function Yd(t){return!!t&&(t instanceof oe||V(t.lift)&&V(t.subscribe))}var Sn=Si(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function W(t,e){return te((n,r)=>{let i=0;n.subscribe(J(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:vT}=Array;function wT(t,e){return vT(e)?t(...e):t(e)}function ul(t){return W(e=>wT(t,e))}var{isArray:bT}=Array,{getPrototypeOf:ET,prototype:CT,keys:IT}=Object;function dl(t){if(t.length===1){let e=t[0];if(bT(e))return{args:e,keys:null};if(DT(e)){let n=IT(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function DT(t){return t&&typeof t=="object"&&ET(t)===CT}function hl(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function fl(...t){let e=$n(t),n=Za(t),{args:r,keys:i}=dl(t);if(r.length===0)return Ce([],e);let s=new oe(ST(r,e,i?o=>hl(i,o):ft));return n?s.pipe(ul(n)):s}function ST(t,e,n=ft){return r=>{H_(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let l=0;l<i;l++)H_(e,()=>{let c=Ce(t[l],e),u=!1;c.subscribe(J(r,d=>{s[l]=d,u||(u=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function H_(t,e,n){t?it(n,t,e):e()}function z_(t,e,n,r,i,s,o,a){let l=[],c=0,u=0,d=!1,h=()=>{d&&!l.length&&!c&&e.complete()},f=m=>c<r?p(m):l.push(m),p=m=>{s&&e.next(m),c++;let w=!1;Ae(n(m,u++)).subscribe(J(e,S=>{i?.(S),s?f(S):e.next(S)},()=>{w=!0},void 0,()=>{if(w)try{for(c--;l.length&&c<r;){let S=l.shift();o?it(e,o,()=>p(S)):p(S)}h()}catch(S){e.error(S)}}))};return t.subscribe(J(e,f,()=>{d=!0,h()})),()=>{a?.()}}function we(t,e,n=1/0){return V(e)?we((r,i)=>W((s,o)=>e(r,s,i,o))(Ae(t(r,i))),n):(typeof e=="number"&&(n=e),te((r,i)=>z_(r,i,t,n)))}function Qd(t=1/0){return we(ft,t)}function W_(){return Qd(1)}function ki(...t){return W_()(Ce(t,$n(t)))}function Pi(t){return new oe(e=>{Ae(t()).subscribe(e)})}function Zd(...t){let e=Za(t),{args:n,keys:r}=dl(t),i=new oe(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),l=o,c=o;for(let u=0;u<o;u++){let d=!1;Ae(n[u]).subscribe(J(s,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||s.next(r?hl(r,a):a),s.complete())}))}});return e?i.pipe(ul(e)):i}function Lt(t,e){return te((n,r)=>{let i=0;n.subscribe(J(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Hn(t){return te((e,n)=>{let r=null,i=!1,s;r=e.subscribe(J(n,void 0,void 0,o=>{s=Ae(t(o,Hn(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function G_(t,e,n,r,i){return(s,o)=>{let a=n,l=e,c=0;s.subscribe(J(o,u=>{let d=c++;l=a?t(l,u,d):(a=!0,u),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}function Fi(t,e){return V(e)?we(t,e,1):we(t,1)}function zn(t){return te((e,n)=>{let r=!1;e.subscribe(J(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Tn(t){return t<=0?()=>pt:te((e,n)=>{let r=0;e.subscribe(J(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Jd(t){return W(()=>t)}function pl(t=TT){return te((e,n)=>{let r=!1;e.subscribe(J(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function TT(){return new Sn}function ro(t){return te((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function en(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Lt((i,s)=>t(i,s,r)):ft,Tn(1),n?zn(e):pl(()=>new Sn))}function Li(t){return t<=0?()=>pt:te((e,n)=>{let r=[];e.subscribe(J(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Xd(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Lt((i,s)=>t(i,s,r)):ft,Li(1),n?zn(e):pl(()=>new Sn))}function eh(t,e){return te(G_(t,e,arguments.length>=2,!0))}function th(...t){let e=$n(t);return te((n,r)=>{(e?ki(t,n,e):ki(t,n)).subscribe(r)})}function Vt(t,e){return te((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(J(r,l=>{i?.unsubscribe();let c=0,u=s++;Ae(t(l,u)).subscribe(i=J(r,d=>r.next(e?e(l,d,u,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function nh(t){return te((e,n)=>{Ae(t).subscribe(J(n,()=>n.complete(),no)),!n.closed&&e.subscribe(n)})}function $e(t,e,n){let r=V(t)||e||n?{next:t,error:e,complete:n}:t;return r?te((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(J(s,l=>{var c;(c=r.next)===null||c===void 0||c.call(r,l),s.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),s.complete()},l=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,l),s.error(l)},()=>{var l,c;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):ft}var xv="https://g.co/ng/security#xss",_=class extends Error{constructor(e,n){super(Kl(e,n)),this.code=e}};function Kl(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function mo(t){return{toString:t}.toString()}var gl="__parameters__";function AT(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function Ov(t,e,n){return mo(()=>{let r=AT(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(l,c,u){let d=l.hasOwnProperty(gl)?l[gl]:Object.defineProperty(l,gl,{value:[]})[gl];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var It=globalThis;function fe(t){for(let e in t)if(t[e]===fe)return e;throw Error("Could not find renamed property on target object.")}function MT(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Je(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Je).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function _h(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var NT=fe({__forward_ref__:fe});function Mn(t){return t.__forward_ref__=Mn,t.toString=function(){return Je(this())},t}function Ze(t){return kv(t)?t():t}function kv(t){return typeof t=="function"&&t.hasOwnProperty(NT)&&t.__forward_ref__===Mn}function C(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function yt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Yl(t){return q_(t,Fv)||q_(t,Lv)}function Pv(t){return Yl(t)!==null}function q_(t,e){return t.hasOwnProperty(e)?t[e]:null}function RT(t){let e=t&&(t[Fv]||t[Lv]);return e||null}function K_(t){return t&&(t.hasOwnProperty(Y_)||t.hasOwnProperty(xT))?t[Y_]:null}var Fv=fe({\u0275prov:fe}),Y_=fe({\u0275inj:fe}),Lv=fe({ngInjectableDef:fe}),xT=fe({ngInjectorDef:fe}),R=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=C({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Vv(t){return t&&!!t.\u0275providers}var OT=fe({\u0275cmp:fe}),kT=fe({\u0275dir:fe}),PT=fe({\u0275pipe:fe}),FT=fe({\u0275mod:fe}),Il=fe({\u0275fac:fe}),io=fe({__NG_ELEMENT_ID__:fe}),Q_=fe({__NG_ENV_ID__:fe});function Ql(t){return typeof t=="string"?t:t==null?"":String(t)}function LT(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Ql(t)}function VT(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new _(-200,t)}function uf(t,e){throw new _(-201,!1)}var G=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(G||{}),vh;function jv(){return vh}function st(t){let e=vh;return vh=t,e}function Uv(t,e,n){let r=Yl(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&G.Optional)return null;if(e!==void 0)return e;uf(t,"Injector")}var jT={},so=jT,wh="__NG_DI_FLAG__",Dl="ngTempTokenPath",UT="ngTokenPath",BT=/\n/gm,$T="\u0275",Z_="__source",Bi;function HT(){return Bi}function Wn(t){let e=Bi;return Bi=t,e}function zT(t,e=G.Default){if(Bi===void 0)throw new _(-203,!1);return Bi===null?Uv(t,void 0,e):Bi.get(t,e&G.Optional?null:void 0,e)}function T(t,e=G.Default){return(jv()||zT)(Ze(t),e)}function E(t,e=G.Default){return T(t,Zl(e))}function Zl(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function bh(t){let e=[];for(let n=0;n<t.length;n++){let r=Ze(t[n]);if(Array.isArray(r)){if(r.length===0)throw new _(900,!1);let i,s=G.Default;for(let o=0;o<r.length;o++){let a=r[o],l=WT(a);typeof l=="number"?l===-1?i=a.token:s|=l:i=a}e.push(T(i,s))}else e.push(T(r))}return e}function Bv(t,e){return t[wh]=e,t.prototype[wh]=e,t}function WT(t){return t[wh]}function GT(t,e,n,r){let i=t[Dl];throw e[Z_]&&i.unshift(e[Z_]),t.message=qT(`
`+t.message,i,n,r),t[UT]=i,t[Dl]=null,t}function qT(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==$T?t.slice(2):t;let i=Je(e);if(Array.isArray(e))i=e.map(Je).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):Je(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(BT,`
  `)}`}var Jl=Bv(Ov("Optional"),8);var df=Bv(Ov("SkipSelf"),4);function Or(t,e){let n=t.hasOwnProperty(Il);return n?t[Il]:null}function hf(t,e){t.forEach(n=>Array.isArray(n)?hf(n,e):e(n))}function $v(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Sl(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function KT(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function Xl(t,e,n){let r=yo(t,e);return r>=0?t[r|1]=n:(r=~r,KT(t,r,e,n)),r}function rh(t,e){let n=yo(t,e);if(n>=0)return t[n|1]}function yo(t,e){return YT(t,e,1)}function YT(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var Hi={},ot=[],zi=new R(""),Hv=new R("",-1),zv=new R(""),Tl=class{get(e,n=so){if(n===so){let r=new Error(`NullInjectorError: No provider for ${Je(e)}!`);throw r.name="NullInjectorError",r}return n}},Wv=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Wv||{}),rn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(rn||{}),Wi=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Wi||{});function QT(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Eh(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];ZT(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function Gv(t){return t===3||t===4||t===6}function ZT(t){return t.charCodeAt(0)===64}function oo(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?J_(t,n,i,null,e[++r]):J_(t,n,i,null,null))}}return t}function J_(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var qv="ng-template";function JT(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&QT(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(ff(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function ff(t){return t.type===4&&t.value!==qv}function XT(t,e,n){let r=t.type===4&&!n?qv:t.value;return e===r}function eA(t,e,n){let r=4,i=t.attrs,s=i!==null?rA(i):0,o=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!o&&!jt(r)&&!jt(l))return!1;if(o&&jt(l))continue;o=!1,r=l|r&1;continue}if(!o)if(r&4){if(r=2|r&1,l!==""&&!XT(t,l,n)||l===""&&e.length===1){if(jt(r))return!1;o=!0}}else if(r&8){if(i===null||!JT(t,i,l,n)){if(jt(r))return!1;o=!0}}else{let c=e[++a],u=tA(l,i,ff(t),n);if(u===-1){if(jt(r))return!1;o=!0;continue}if(c!==""){let d;if(u>s?d="":d=i[u+1].toLowerCase(),r&2&&c!==d){if(jt(r))return!1;o=!0}}}}return jt(r)||o}function jt(t){return(t&1)===0}function tA(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return iA(e,t)}function nA(t,e,n=!1){for(let r=0;r<e.length;r++)if(eA(t,e[r],n))return!0;return!1}function rA(t){for(let e=0;e<t.length;e++){let n=t[e];if(Gv(n))return e}return t.length}function iA(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function X_(t,e){return t?":not("+e.trim()+")":e}function sA(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!jt(o)&&(e+=X_(s,i),i=""),r=o,s=s||!jt(r);n++}return i!==""&&(e+=X_(s,i)),e}function oA(t){return t.map(sA).join(",")}function aA(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!jt(i))break;i=s}r++}return{attrs:e,classes:n}}function Le(t){return mo(()=>{let e=Jv(t),n=ee(b({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Wv.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||rn.Emulated,styles:t.styles||ot,_:null,schemas:t.schemas||null,tView:null,id:""});Xv(n);let r=t.dependencies;return n.directiveDefs=tv(r,!1),n.pipeDefs=tv(r,!0),n.id=uA(n),n})}function lA(t){return kr(t)||Kv(t)}function cA(t){return t!==null}function _t(t){return mo(()=>({type:t.type,bootstrap:t.bootstrap||ot,declarations:t.declarations||ot,imports:t.imports||ot,exports:t.exports||ot,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function ev(t,e){if(t==null)return Hi;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=Wi.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==Wi.None?[r,a]:r,e[s]=o):n[s]=r}return n}function Ie(t){return mo(()=>{let e=Jv(t);return Xv(e),e})}function pf(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function kr(t){return t[OT]||null}function Kv(t){return t[kT]||null}function Yv(t){return t[PT]||null}function Qv(t){let e=kr(t)||Kv(t)||Yv(t);return e!==null?e.standalone:!1}function Zv(t,e){let n=t[FT]||null;if(!n&&e===!0)throw new Error(`Type ${Je(t)} does not have '\u0275mod' property.`);return n}function Jv(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Hi,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||ot,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ev(t.inputs,e),outputs:ev(t.outputs),debugInfo:null}}function Xv(t){t.features?.forEach(e=>e(t))}function tv(t,e){if(!t)return null;let n=e?Yv:lA;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(cA)}function uA(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function ec(t){return{\u0275providers:t}}function gf(...t){return{\u0275providers:ew(!0,t),\u0275fromNgModule:!0}}function ew(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return hf(e,o=>{let a=o;Ch(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&tw(i,s),n}function tw(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];mf(i,s=>{e(s,r)})}}function Ch(t,e,n,r){if(t=Ze(t),!t)return!1;let i=null,s=K_(t),o=!s&&kr(t);if(!s&&!o){let l=t.ngModule;if(s=K_(l),s)i=l;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let l=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let c of l)Ch(c,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let c;try{hf(s.imports,u=>{Ch(u,e,n,r)&&(c||=[],c.push(u))})}finally{}c!==void 0&&tw(c,e)}if(!a){let c=Or(i)||(()=>new i);e({provide:i,useFactory:c,deps:ot},i),e({provide:zv,useValue:i,multi:!0},i),e({provide:zi,useValue:()=>T(i),multi:!0},i)}let l=s.providers;if(l!=null&&!a){let c=t;mf(l,u=>{e(u,c)})}}else return!1;return i!==t&&t.providers!==void 0}function mf(t,e){for(let n of t)Vv(n)&&(n=n.\u0275providers),Array.isArray(n)?mf(n,e):e(n)}var dA=fe({provide:String,useValue:fe});function nw(t){return t!==null&&typeof t=="object"&&dA in t}function hA(t){return!!(t&&t.useExisting)}function fA(t){return!!(t&&t.useFactory)}function Gi(t){return typeof t=="function"}function pA(t){return!!t.useClass}var tc=new R(""),vl={},gA={},ih;function yf(){return ih===void 0&&(ih=new Tl),ih}var Dt=class{},ao=class extends Dt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Dh(e,o=>this.processProvider(o)),this.records.set(Hv,Vi(void 0,this)),i.has("environment")&&this.records.set(Dt,Vi(void 0,this));let s=this.records.get(tc);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(zv,ot,G.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=re(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),re(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Wn(this),r=st(void 0),i;try{return e()}finally{Wn(n),st(r)}}get(e,n=so,r=G.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Q_))return e[Q_](this);r=Zl(r);let i,s=Wn(this),o=st(void 0);try{if(!(r&G.SkipSelf)){let l=this.records.get(e);if(l===void 0){let c=wA(e)&&Yl(e);c&&this.injectableDefInScope(c)?l=Vi(Ih(e),vl):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let a=r&G.Self?yf():this.parent;return n=r&G.Optional&&n===so?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Dl]=a[Dl]||[]).unshift(Je(e)),s)throw a;return GT(a,e,"R3InjectorError",this.source)}else throw a}finally{st(o),Wn(s)}}resolveInjectorInitializers(){let e=re(null),n=Wn(this),r=st(void 0),i;try{let s=this.get(zi,ot,G.Self);for(let o of s)o()}finally{Wn(n),st(r),re(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Je(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new _(205,!1)}processProvider(e){e=Ze(e);let n=Gi(e)?e:Ze(e&&e.provide),r=yA(e);if(!Gi(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Vi(void 0,vl,!0),i.factory=()=>bh(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=re(null);try{return n.value===vl&&(n.value=gA,n.value=n.factory()),typeof n.value=="object"&&n.value&&vA(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{re(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Ze(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Ih(t){let e=Yl(t),n=e!==null?e.factory:Or(t);if(n!==null)return n;if(t instanceof R)throw new _(204,!1);if(t instanceof Function)return mA(t);throw new _(204,!1)}function mA(t){if(t.length>0)throw new _(204,!1);let n=RT(t);return n!==null?()=>n.factory(t):()=>new t}function yA(t){if(nw(t))return Vi(void 0,t.useValue);{let e=rw(t);return Vi(e,vl)}}function rw(t,e,n){let r;if(Gi(t)){let i=Ze(t);return Or(i)||Ih(i)}else if(nw(t))r=()=>Ze(t.useValue);else if(fA(t))r=()=>t.useFactory(...bh(t.deps||[]));else if(hA(t))r=()=>T(Ze(t.useExisting));else{let i=Ze(t&&(t.useClass||t.provide));if(_A(t))r=()=>new i(...bh(t.deps));else return Or(i)||Ih(i)}return r}function Vi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function _A(t){return!!t.deps}function vA(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function wA(t){return typeof t=="function"||typeof t=="object"&&t instanceof R}function Dh(t,e){for(let n of t)Array.isArray(n)?Dh(n,e):n&&Vv(n)?Dh(n.\u0275providers,e):e(n)}function cn(t,e){t instanceof ao&&t.assertNotDestroyed();let n,r=Wn(t),i=st(void 0);try{return e()}finally{Wn(r),st(i)}}function bA(){return jv()!==void 0||HT()!=null}function EA(t){return typeof t=="function"}var Nn=0,Y=1,P=2,Xe=3,Ut=4,Bt=5,Al=6,Ml=7,St=8,qi=9,sn=10,Oe=11,lo=12,nv=13,ts=14,on=15,Ki=16,ji=17,Yi=18,nc=19,iw=20,Gn=21,sh=22,Pr=23,mt=25,sw=1;var Fr=7,Nl=8,Rl=9,gt=10,xl=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(xl||{});function qn(t){return Array.isArray(t)&&typeof t[sw]=="object"}function Rn(t){return Array.isArray(t)&&t[sw]===!0}function _f(t){return(t.flags&4)!==0}function rc(t){return t.componentOffset>-1}function ic(t){return(t.flags&1)===1}function Kn(t){return!!t.template}function Sh(t){return(t[P]&512)!==0}var Th=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function ow(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Xn(){return aw}function aw(t){return t.type.prototype.ngOnChanges&&(t.setInput=IA),CA}Xn.ngInherit=!0;function CA(){let t=cw(this),e=t?.current;if(e){let n=t.previous;if(n===Hi)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function IA(t,e,n,r,i){let s=this.declaredInputs[r],o=cw(t)||DA(t,{previous:Hi,current:null}),a=o.current||(o.current={}),l=o.previous,c=l[s];a[s]=new Th(c&&c.currentValue,n,l===Hi),ow(t,e,i,n)}var lw="__ngSimpleChanges__";function cw(t){return t[lw]||null}function DA(t,e){return t[lw]=e}var rv=null;var tn=function(t,e,n){rv?.(t,e,n)},uw="svg",SA="math";function an(t){for(;Array.isArray(t);)t=t[Nn];return t}function dw(t,e){return an(e[t])}function Tt(t,e){return an(e[t.index])}function vf(t,e){return t.data[e]}function TA(t,e){return t[e]}function er(t,e){let n=e[t];return qn(n)?n:n[Nn]}function wf(t){return(t[P]&128)===128}function AA(t){return Rn(t[Xe])}function Qi(t,e){return e==null?null:t[e]}function hw(t){t[ji]=0}function MA(t){t[P]&1024||(t[P]|=1024,wf(t)&&sc(t))}function NA(t,e){for(;t>0;)e=e[ts],t--;return e}function co(t){return!!(t[P]&9216||t[Pr]?.dirty)}function Ah(t){t[sn].changeDetectionScheduler?.notify(7),t[P]&64&&(t[P]|=1024),co(t)&&sc(t)}function sc(t){t[sn].changeDetectionScheduler?.notify(0);let e=uo(t);for(;e!==null&&!(e[P]&8192||(e[P]|=8192,!wf(e)));)e=uo(e)}function fw(t,e){if((t[P]&256)===256)throw new _(911,!1);t[Gn]===null&&(t[Gn]=[]),t[Gn].push(e)}function RA(t,e){if(t[Gn]===null)return;let n=t[Gn].indexOf(e);n!==-1&&t[Gn].splice(n,1)}function uo(t){let e=t[Xe];return Rn(e)?e[Xe]:e}var q={lFrame:Iw(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var pw=!1;function xA(){return q.lFrame.elementDepthCount}function OA(){q.lFrame.elementDepthCount++}function kA(){q.lFrame.elementDepthCount--}function gw(){return q.bindingsEnabled}function PA(){return q.skipHydrationRootTNode!==null}function FA(t){return q.skipHydrationRootTNode===t}function LA(){q.skipHydrationRootTNode=null}function ce(){return q.lFrame.lView}function et(){return q.lFrame.tView}function Me(t){return q.lFrame.contextLView=t,t[St]}function Ne(t){return q.lFrame.contextLView=null,t}function tt(){let t=mw();for(;t!==null&&t.type===64;)t=t.parent;return t}function mw(){return q.lFrame.currentTNode}function VA(){let t=q.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Br(t,e){let n=q.lFrame;n.currentTNode=t,n.isParent=e}function bf(){return q.lFrame.isParent}function yw(){q.lFrame.isParent=!1}function _w(){return pw}function iv(t){pw=t}function vw(){let t=q.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function jA(t){return q.lFrame.bindingIndex=t}function oc(){return q.lFrame.bindingIndex++}function ww(t){let e=q.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function UA(){return q.lFrame.inI18n}function BA(t,e){let n=q.lFrame;n.bindingIndex=n.bindingRootIndex=t,Mh(e)}function $A(){return q.lFrame.currentDirectiveIndex}function Mh(t){q.lFrame.currentDirectiveIndex=t}function HA(t){let e=q.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function bw(t){q.lFrame.currentQueryIndex=t}function zA(t){let e=t[Y];return e.type===2?e.declTNode:e.type===1?t[Bt]:null}function Ew(t,e,n){if(n&G.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&G.Host);)if(i=zA(s),i===null||(s=s[ts],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=q.lFrame=Cw();return r.currentTNode=e,r.lView=t,!0}function Ef(t){let e=Cw(),n=t[Y];q.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Cw(){let t=q.lFrame,e=t===null?null:t.child;return e===null?Iw(t):e}function Iw(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function Dw(){let t=q.lFrame;return q.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Sw=Dw;function Cf(){let t=Dw();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function WA(t){return(q.lFrame.contextLView=NA(t,q.lFrame.contextLView))[St]}function $r(){return q.lFrame.selectedIndex}function Lr(t){q.lFrame.selectedIndex=t}function Tw(){let t=q.lFrame;return vf(t.tView,t.selectedIndex)}function Ve(){q.lFrame.currentNamespace=uw}function un(){GA()}function GA(){q.lFrame.currentNamespace=null}function qA(){return q.lFrame.currentNamespace}var Aw=!0;function ac(){return Aw}function lc(t){Aw=t}function KA(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=aw(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function cc(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),l&&(t.viewHooks??=[]).push(-n,l),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function wl(t,e,n){Mw(t,e,3,n)}function bl(t,e,n,r){(t[P]&3)===n&&Mw(t,e,n,r)}function oh(t,e){let n=t[P];(n&3)===e&&(n&=16383,n+=1,t[P]=n)}function Mw(t,e,n,r){let i=r!==void 0?t[ji]&65535:0,s=r??-1,o=e.length-1,a=0;for(let l=i;l<o;l++)if(typeof e[l+1]=="number"){if(a=e[l],r!=null&&a>=r)break}else e[l]<0&&(t[ji]+=65536),(a<s||s==-1)&&(YA(t,n,e,l),t[ji]=(t[ji]&4294901760)+l+2),l++}function sv(t,e){tn(4,t,e);let n=re(null);try{e.call(t)}finally{re(n),tn(5,t,e)}}function YA(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[P]>>14<t[ji]>>16&&(t[P]&3)===e&&(t[P]+=16384,sv(a,s)):sv(a,s)}var $i=-1,Vr=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function QA(t){return t instanceof Vr}function ZA(t){return(t.flags&8)!==0}function JA(t){return(t.flags&16)!==0}function Nw(t){return t!==$i}function Ol(t){return t&32767}function XA(t){return t>>16}function kl(t,e){let n=XA(t),r=e;for(;n>0;)r=r[ts],n--;return r}var Nh=!0;function Pl(t){let e=Nh;return Nh=t,e}var eM=256,Rw=eM-1,xw=5,tM=0,nn={};function nM(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(io)&&(r=n[io]),r==null&&(r=n[io]=tM++);let i=r&Rw,s=1<<i;e.data[t+(i>>xw)]|=s}function Fl(t,e){let n=Ow(t,e);if(n!==-1)return n;let r=e[Y];r.firstCreatePass&&(t.injectorIndex=e.length,ah(r.data,t),ah(e,null),ah(r.blueprint,null));let i=If(t,e),s=t.injectorIndex;if(Nw(i)){let o=Ol(i),a=kl(i,e),l=a[Y].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=i,s}function ah(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Ow(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function If(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=Vw(i),r===null)return $i;if(n++,i=i[ts],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return $i}function Rh(t,e,n){nM(t,e,n)}function rM(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(Gv(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function kw(t,e,n){if(n&G.Optional||t!==void 0)return t;uf(e,"NodeInjector")}function Pw(t,e,n,r){if(n&G.Optional&&r===void 0&&(r=null),!(n&(G.Self|G.Host))){let i=t[qi],s=st(void 0);try{return i?i.get(e,r,n&G.Optional):Uv(e,r,n&G.Optional)}finally{st(s)}}return kw(r,e,n)}function Fw(t,e,n,r=G.Default,i){if(t!==null){if(e[P]&2048&&!(r&G.Self)){let o=lM(t,e,n,r,nn);if(o!==nn)return o}let s=Lw(t,e,n,r,nn);if(s!==nn)return s}return Pw(e,n,r,i)}function Lw(t,e,n,r,i){let s=oM(n);if(typeof s=="function"){if(!Ew(e,t,r))return r&G.Host?kw(i,n,r):Pw(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&G.Optional))uf(n);else return o}finally{Sw()}}else if(typeof s=="number"){let o=null,a=Ow(t,e),l=$i,c=r&G.Host?e[on][Bt]:null;for((a===-1||r&G.SkipSelf)&&(l=a===-1?If(t,e):e[a+8],l===$i||!av(r,!1)?a=-1:(o=e[Y],a=Ol(l),e=kl(l,e)));a!==-1;){let u=e[Y];if(ov(s,a,u.data)){let d=iM(a,e,n,o,r,c);if(d!==nn)return d}l=e[a+8],l!==$i&&av(r,e[Y].data[a+8]===c)&&ov(s,a,e)?(o=u,a=Ol(l),e=kl(l,e)):a=-1}}return i}function iM(t,e,n,r,i,s){let o=e[Y],a=o.data[t+8],l=r==null?rc(a)&&Nh:r!=o&&(a.type&3)!==0,c=i&G.Host&&s===a,u=sM(a,o,n,l,c);return u!==null?Zi(e,o,u,a):nn}function sM(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,l=t.directiveStart,c=t.directiveEnd,u=s>>20,d=r?a:a+u,h=i?a+u:c;for(let f=d;f<h;f++){let p=o[f];if(f<l&&n===p||f>=l&&p.type===n)return f}if(i){let f=o[l];if(f&&Kn(f)&&f.type===n)return l}return null}function Zi(t,e,n,r){let i=t[n],s=e.data;if(QA(i)){let o=i;o.resolving&&VT(LT(s[n]));let a=Pl(o.canSeeViewProviders);o.resolving=!0;let l,c=o.injectImpl?st(o.injectImpl):null,u=Ew(t,r,G.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&KA(n,s[n],e)}finally{c!==null&&st(c),Pl(a),o.resolving=!1,Sw()}}return i}function oM(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(io)?t[io]:void 0;return typeof e=="number"?e>=0?e&Rw:aM:e}function ov(t,e,n){let r=1<<t;return!!(n[e+(t>>xw)]&r)}function av(t,e){return!(t&G.Self)&&!(t&G.Host&&e)}var xr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Fw(this._tNode,this._lView,e,Zl(r),n)}};function aM(){return new xr(tt(),ce())}function tr(t){return mo(()=>{let e=t.prototype.constructor,n=e[Il]||xh(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[Il]||xh(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function xh(t){return kv(t)?()=>{let e=xh(Ze(t));return e&&e()}:Or(t)}function lM(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[P]&2048&&!(o[P]&512);){let a=Lw(s,o,n,r|G.Self,nn);if(a!==nn)return a;let l=s.parent;if(!l){let c=o[iw];if(c){let u=c.get(n,nn,r);if(u!==nn)return u}l=Vw(o),o=o[ts]}s=l}return i}function Vw(t){let e=t[Y],n=e.type;return n===2?e.declTNode:n===1?t[Bt]:null}function Df(t){return rM(tt(),t)}function lv(t,e=null,n=null,r){let i=jw(t,e,n,r);return i.resolveInjectorInitializers(),i}function jw(t,e=null,n=null,r,i=new Set){let s=[n||ot,gf(t)];return r=r||(typeof t=="object"?void 0:Je(t)),new ao(s,e||yf(),r||null,i)}var Rr=class Rr{static create(e,n){if(Array.isArray(e))return lv({name:""},n,e,"");{let r=e.name??"";return lv({name:r},e.parent,e.providers,r)}}};Rr.THROW_IF_NOT_FOUND=so,Rr.NULL=new Tl,Rr.\u0275prov=C({token:Rr,providedIn:"any",factory:()=>T(Hv)}),Rr.__NG_ELEMENT_ID__=-1;var Yn=Rr;var cM=new R("");cM.__NG_ELEMENT_ID__=t=>{let e=tt();if(e===null)throw new _(204,!1);if(e.type&2)return e.value;if(t&G.Optional)return null;throw new _(204,!1)};var uM="ngOriginalError";function lh(t){return t[uM]}var An=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&lh(e);for(;n&&lh(n);)n=lh(n);return n||null}},Uw=new R("",{providedIn:"root",factory:()=>E(An).handleError.bind(void 0)}),Bw=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=dM,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Oh=class extends Bw{constructor(e){super(),this._lView=e}onDestroy(e){return fw(this._lView,e),()=>RA(this._lView,e)}};function dM(){return new Oh(ce())}function hM(){return uc(tt(),ce())}function uc(t,e){return new $t(Tt(t,e))}var $t=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=hM;let t=e;return t})();var kh=class extends _e{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,bA()&&(this.destroyRef=E(Bw,{optional:!0})??void 0)}emit(e){let n=re(null);try{super.next(e)}finally{re(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=ch(s),i&&(i=ch(i)),o&&(o=ch(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof Te&&e.add(a),a}};function ch(t){return e=>{setTimeout(t,void 0,e)}}var ae=kh;function $w(t){return(t.flags&128)===128}var Hw=new Map,fM=0;function pM(){return fM++}function gM(t){Hw.set(t[nc],t)}function mM(t){Hw.delete(t[nc])}var cv="__ngContext__";function Qn(t,e){qn(e)?(t[cv]=e[nc],gM(e)):t[cv]=e}function zw(t){return Gw(t[lo])}function Ww(t){return Gw(t[Ut])}function Gw(t){for(;t!==null&&!Rn(t);)t=t[Ut];return t}var Ph;function qw(t){Ph=t}function yM(){if(Ph!==void 0)return Ph;if(typeof document<"u")return document;throw new _(210,!1)}var dc=new R("",{providedIn:"root",factory:()=>_M}),_M="ng",Sf=new R(""),Hr=new R("",{providedIn:"platform",factory:()=>"unknown"});var Tf=new R(""),Af=new R("",{providedIn:"root",factory:()=>yM().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var vM="h",wM="b";var bM=()=>null;function Mf(t,e,n=!1){return bM(t,e,n)}var Kw=!1,EM=new R("",{providedIn:"root",factory:()=>Kw});var ml;function CM(){if(ml===void 0&&(ml=null,It.trustedTypes))try{ml=It.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return ml}function uv(t){return CM()?.createScriptURL(t)||t}var Ll=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${xv})`}};function zr(t){return t instanceof Ll?t.changingThisBreaksApplicationSecurity:t}function Nf(t,e){let n=IM(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${xv})`)}return n===e}function IM(t){return t instanceof Ll&&t.getTypeName()||null}var DM=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Yw(t){return t=String(t),t.match(DM)?t:"unsafe:"+t}var hc=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(hc||{});function SM(t){let e=Zw();return e?e.sanitize(hc.URL,t)||"":Nf(t,"URL")?zr(t):Yw(Ql(t))}function TM(t){let e=Zw();if(e)return uv(e.sanitize(hc.RESOURCE_URL,t)||"");if(Nf(t,"ResourceURL"))return uv(zr(t));throw new _(904,!1)}function AM(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?TM:SM}function Qw(t,e,n){return AM(e,n)(t)}function Zw(){let t=ce();return t&&t[sn].sanitizer}var MM=/^>|^->|<!--|-->|--!>|<!-$/g,NM=/(<|>)/g,RM="\u200B$1\u200B";function xM(t){return t.replace(MM,e=>e.replace(NM,RM))}function fc(t){return t.ownerDocument.defaultView}function Jw(t){return t instanceof Function?t():t}var ln=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(ln||{}),OM;function Rf(t,e){return OM(t,e)}function Ui(t,e,n,r,i){if(r!=null){let s,o=!1;Rn(r)?s=r:qn(r)&&(o=!0,r=r[Nn]);let a=an(r);t===0&&n!==null?i==null?nb(e,n,a):jl(e,n,a,i||null,!0):t===1&&n!==null?jl(e,n,a,i||null,!0):t===2?QM(e,a,o):t===3&&e.destroyNode(a),s!=null&&JM(e,t,s,n,i)}}function kM(t,e){return t.createText(e)}function PM(t,e,n){t.setValue(e,n)}function FM(t,e){return t.createComment(xM(e))}function Xw(t,e,n){return t.createElement(e,n)}function LM(t,e){eb(t,e),e[Nn]=null,e[Bt]=null}function VM(t,e,n,r,i,s){r[Nn]=i,r[Bt]=e,gc(t,r,n,1,i,s)}function eb(t,e){e[sn].changeDetectionScheduler?.notify(8),gc(t,e,e[Oe],2,null,null)}function jM(t){let e=t[lo];if(!e)return uh(t[Y],t);for(;e;){let n=null;if(qn(e))n=e[lo];else{let r=e[gt];r&&(n=r)}if(!n){for(;e&&!e[Ut]&&e!==t;)qn(e)&&uh(e[Y],e),e=e[Xe];e===null&&(e=t),qn(e)&&uh(e[Y],e),n=e&&e[Ut]}e=n}}function UM(t,e,n,r){let i=gt+r,s=n.length;r>0&&(n[i-1][Ut]=e),r<s-gt?(e[Ut]=n[i],$v(n,gt+r,e)):(n.push(e),e[Ut]=null),e[Xe]=n;let o=e[Ki];o!==null&&n!==o&&tb(o,e);let a=e[Yi];a!==null&&a.insertView(t),Ah(e),e[P]|=128}function tb(t,e){let n=t[Rl],r=e[Xe];if(qn(r))t[P]|=xl.HasTransplantedViews;else{let i=r[Xe][on];e[on]!==i&&(t[P]|=xl.HasTransplantedViews)}n===null?t[Rl]=[e]:n.push(e)}function xf(t,e){let n=t[Rl],r=n.indexOf(e);n.splice(r,1)}function Vl(t,e){if(t.length<=gt)return;let n=gt+e,r=t[n];if(r){let i=r[Ki];i!==null&&i!==t&&xf(i,r),e>0&&(t[n-1][Ut]=r[Ut]);let s=Sl(t,gt+e);LM(r[Y],r);let o=s[Yi];o!==null&&o.detachView(s[Y]),r[Xe]=null,r[Ut]=null,r[P]&=-129}return r}function Of(t,e){if(!(e[P]&256)){let n=e[Oe];n.destroyNode&&gc(t,e,n,3,null,null),jM(e)}}function uh(t,e){if(e[P]&256)return;let n=re(null);try{e[P]&=-129,e[P]|=256,e[Pr]&&b_(e[Pr]),$M(t,e),BM(t,e),e[Y].type===1&&e[Oe].destroy();let r=e[Ki];if(r!==null&&Rn(e[Xe])){r!==e[Xe]&&xf(r,e);let i=e[Yi];i!==null&&i.detachView(t)}mM(e)}finally{re(n)}}function BM(t,e){let n=t.cleanup,r=e[Ml];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[Ml]=null);let i=e[Gn];if(i!==null){e[Gn]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function $M(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Vr)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],l=s[o+1];tn(4,a,l);try{l.call(a)}finally{tn(5,a,l)}}else{tn(4,i,s);try{s.call(i)}finally{tn(5,i,s)}}}}}function HM(t,e,n){return zM(t,e.parent,n)}function zM(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[Nn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===rn.None||s===rn.Emulated)return null}return Tt(r,n)}}function jl(t,e,n,r,i){t.insertBefore(e,n,r,i)}function nb(t,e,n){t.appendChild(e,n)}function dv(t,e,n,r,i){r!==null?jl(t,e,n,r,i):nb(t,e,n)}function WM(t,e,n,r){t.removeChild(e,n,r)}function kf(t,e){return t.parentNode(e)}function GM(t,e){return t.nextSibling(e)}function qM(t,e,n){return YM(t,e,n)}function KM(t,e,n){return t.type&40?Tt(t,n):null}var YM=KM,hv;function pc(t,e,n,r){let i=HM(t,r,e),s=e[Oe],o=r.parent||e[Bt],a=qM(o,r,e);if(i!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)dv(s,i,n[l],a,!1);else dv(s,i,n,a,!1);hv!==void 0&&hv(s,r,e,n,i)}function El(t,e){if(e!==null){let n=e.type;if(n&3)return Tt(e,t);if(n&4)return Fh(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return El(t,r);{let i=t[e.index];return Rn(i)?Fh(-1,i):an(i)}}else{if(n&32)return Rf(e,t)()||an(t[e.index]);{let r=rb(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=uo(t[on]);return El(i,r)}else return El(t,e.next)}}}return null}function rb(t,e){if(e!==null){let r=t[on][Bt],i=e.projection;return r.projection[i]}return null}function Fh(t,e){let n=gt+t+1;if(n<e.length){let r=e[n],i=r[Y].firstChild;if(i!==null)return El(r,i)}return e[Fr]}function QM(t,e,n){let r=kf(t,e);r&&WM(t,r,e,n)}function Pf(t,e,n,r,i,s,o){for(;n!=null;){let a=r[n.index],l=n.type;if(o&&e===0&&(a&&Qn(an(a),r),n.flags|=2),(n.flags&32)!==32)if(l&8)Pf(t,e,n.child,r,i,s,!1),Ui(e,t,i,a,s);else if(l&32){let c=Rf(n,r),u;for(;u=c();)Ui(e,t,i,u,s);Ui(e,t,i,a,s)}else l&16?ZM(t,e,r,n,i,s):Ui(e,t,i,a,s);n=o?n.projectionNext:n.next}}function gc(t,e,n,r,i,s){Pf(n,r,t.firstChild,e,i,s,!1)}function ZM(t,e,n,r,i,s){let o=n[on],l=o[Bt].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];Ui(e,t,i,u,s)}else{let c=l,u=o[Xe];$w(r)&&(c.flags|=128),Pf(t,e,c,u,i,s,!0)}}function JM(t,e,n,r,i){let s=n[Fr],o=an(n);s!==o&&Ui(e,t,r,s,i);for(let a=gt;a<n.length;a++){let l=n[a];gc(l[Y],l,t,e,r,s)}}function XM(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:ln.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=ln.Important),t.setStyle(n,r,i,s))}}function eN(t,e,n){t.setAttribute(e,"style",n)}function ib(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function sb(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&Eh(t,e,r),i!==null&&ib(t,e,i),s!==null&&eN(t,e,s)}var dn={};function F(t=1){ob(et(),ce(),$r()+t,!1)}function ob(t,e,n,r){if(!r)if((e[P]&3)===3){let s=t.preOrderCheckHooks;s!==null&&wl(e,s,n)}else{let s=t.preOrderHooks;s!==null&&bl(e,s,0,n)}Lr(n)}function A(t,e=G.Default){let n=ce();if(n===null)return T(t,e);let r=tt();return Fw(r,n,Ze(t),e)}function ab(t,e,n,r,i,s){let o=re(null);try{let a=null;i&Wi.SignalBased&&(a=e[r][y_]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&Wi.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):ow(e,a,r,s)}finally{re(o)}}function tN(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Lr(~i);else{let s=i,o=n[++r],a=n[++r];BA(o,s);let l=e[s];a(2,l)}}}finally{Lr(-1)}}function mc(t,e,n,r,i,s,o,a,l,c,u){let d=e.blueprint.slice();return d[Nn]=i,d[P]=r|4|128|8|64,(c!==null||t&&t[P]&2048)&&(d[P]|=2048),hw(d),d[Xe]=d[ts]=t,d[St]=n,d[sn]=o||t&&t[sn],d[Oe]=a||t&&t[Oe],d[qi]=l||t&&t[qi]||null,d[Bt]=s,d[nc]=pM(),d[Al]=u,d[iw]=c,d[on]=e.type==2?t[on]:d,d}function _o(t,e,n,r,i){let s=t.data[e];if(s===null)s=nN(t,e,n,r,i),UA()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=VA();s.injectorIndex=o===null?-1:o.injectorIndex}return Br(s,!0),s}function nN(t,e,n,r,i){let s=mw(),o=bf(),a=o?s:s&&s.parent,l=t.data[e]=aN(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=l),s!==null&&(o?s.child==null&&l.parent!==null&&(s.child=l):s.next===null&&(s.next=l,l.prev=s)),l}function lb(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function cb(t,e,n,r,i){let s=$r(),o=r&2;try{Lr(-1),o&&e.length>mt&&ob(t,e,mt,!1),tn(o?2:0,i),n(r,i)}finally{Lr(s),tn(o?3:1,i)}}function Ff(t,e,n){if(_f(e)){let r=re(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let l=n[o];a.contentQueries(1,l,o)}}}finally{re(r)}}}function Lf(t,e,n){gw()&&(pN(t,e,n,Tt(n,e)),(n.flags&64)===64&&hb(t,e,n))}function Vf(t,e,n=Tt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function ub(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=jf(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function jf(t,e,n,r,i,s,o,a,l,c,u){let d=mt+r,h=d+i,f=rN(d,h),p=typeof c=="function"?c():c;return f[Y]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:u}}function rN(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:dn);return n}function iN(t,e,n,r){let s=r.get(EM,Kw)||n===rn.ShadowDom,o=t.selectRootElement(e,s);return sN(o),o}function sN(t){oN(t)}var oN=()=>null;function aN(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return PA()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function fv(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,l=Wi.None;Array.isArray(o)?(a=o[0],l=o[1]):a=o;let c=s;if(i!==null){if(!i.hasOwnProperty(s))continue;c=i[s]}t===0?pv(r,n,c,a,l):pv(r,n,c,a)}return r}function pv(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function lN(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],l=null,c=null;for(let u=r;u<i;u++){let d=s[u],h=n?n.get(d):null,f=h?h.inputs:null,p=h?h.outputs:null;l=fv(0,d.inputs,u,l,f),c=fv(1,d.outputs,u,c,p);let m=l!==null&&o!==null&&!ff(e)?DN(l,u,o):null;a.push(m)}l!==null&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}function cN(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function uN(t,e,n,r,i,s,o,a){let l=Tt(e,n),c=e.inputs,u;!a&&c!=null&&(u=c[r])?(Bf(t,n,u,r,i),rc(e)&&dN(n,e.index)):e.type&3?(r=cN(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(l,r,i)):e.type&12}function dN(t,e){let n=er(e,t);n[P]&16||(n[P]|=64)}function Uf(t,e,n,r){if(gw()){let i=r===null?null:{"":-1},s=mN(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&db(t,e,n,o,i,a),i&&yN(n,r,i)}n.mergedAttrs=oo(n.mergedAttrs,n.attrs)}function db(t,e,n,r,i,s){for(let c=0;c<r.length;c++)Rh(Fl(n,e),t,r[c].type);vN(n,t.data.length,r.length);for(let c=0;c<r.length;c++){let u=r[c];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,l=lb(t,e,r.length,null);for(let c=0;c<r.length;c++){let u=r[c];n.mergedAttrs=oo(n.mergedAttrs,u.hostAttrs),wN(t,n,e,l,u),_N(l,u,i),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),l++}lN(t,n,s)}function hN(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;fN(o)!=a&&o.push(a),o.push(n,r,s)}}function fN(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function pN(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;rc(n)&&bN(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Fl(n,e),Qn(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let l=t.data[a],c=Zi(e,t,a,n);if(Qn(c,e),o!==null&&IN(e,a-i,c,l,n,o),Kn(l)){let u=er(n.index,e);u[St]=Zi(e,t,a,n)}}}function hb(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=$A();try{Lr(s);for(let a=r;a<i;a++){let l=t.data[a],c=e[a];Mh(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&gN(l,c)}}finally{Lr(-1),Mh(o)}}function gN(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function mN(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(nA(e,o.selectors,!1))if(r||(r=[]),Kn(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let l=a.length;Lh(t,e,l)}else r.unshift(o),Lh(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function Lh(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function yN(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new _(-301,!1);r.push(e[i],s)}}}function _N(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Kn(e)&&(n[""]=t)}}function vN(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function wN(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=Or(i.type,!0)),o=new Vr(s,Kn(i),A);t.blueprint[r]=o,n[r]=o,hN(t,e,r,lb(t,n,i.hostVars,dn),i)}function bN(t,e,n){let r=Tt(e,t),i=ub(n),s=t[sn].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=yc(t,mc(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function EN(t,e,n,r,i,s){let o=Tt(t,e);CN(e[Oe],o,s,t.value,n,r,i)}function CN(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?Ql(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function IN(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let l=o[a++],c=o[a++],u=o[a++],d=o[a++];ab(r,n,l,c,u,d)}}function DN(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function fb(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function pb(t,e){let n=t.contentQueries;if(n!==null){let r=re(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];bw(s),a.contentQueries(2,e[o],o)}}}finally{re(r)}}}function yc(t,e){return t[lo]?t[nv][Ut]=e:t[lo]=e,t[nv]=e,e}function Vh(t,e,n){bw(0);let r=re(null);try{e(t,n)}finally{re(r)}}function SN(t){return t[Ml]??=[]}function TN(t){return t.cleanup??=[]}function gb(t,e){let n=t[qi],r=n?n.get(An,null):null;r&&r.handleError(e)}function Bf(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],l=n[s++],c=e[o],u=t.data[o];ab(u,c,r,a,l,i)}}function AN(t,e,n){let r=dw(e,t);PM(t[Oe],r,n)}function MN(t,e){let n=er(e,t),r=n[Y];NN(r,n);let i=n[Nn];i!==null&&n[Al]===null&&(n[Al]=Mf(i,n[qi])),$f(r,n,n[St])}function NN(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function $f(t,e,n){Ef(e);try{let r=t.viewQuery;r!==null&&Vh(1,r,n);let i=t.template;i!==null&&cb(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Yi]?.finishViewCreation(t),t.staticContentQueries&&pb(t,e),t.staticViewQueries&&Vh(2,t.viewQuery,n);let s=t.components;s!==null&&RN(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[P]&=-5,Cf()}}function RN(t,e){for(let n=0;n<e.length;n++)MN(t,e[n])}function mb(t,e,n,r){let i=re(null);try{let s=e.tView,a=t[P]&4096?4096:16,l=mc(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=t[e.index];l[Ki]=c;let u=t[Yi];return u!==null&&(l[Yi]=u.createEmbeddedView(s)),$f(s,l,n),l}finally{re(i)}}function xN(t,e){let n=gt+e;if(n<t.length)return t[n]}function jh(t,e){return!e||e.firstChild===null||$w(t)}function yb(t,e,n,r=!0){let i=e[Y];if(UM(i,e,t,n),r){let o=Fh(n,t),a=e[Oe],l=kf(a,t[Fr]);l!==null&&VM(i,t[Bt],a,e,l,o)}let s=e[Al];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function ON(t,e){let n=Vl(t,e);return n!==void 0&&Of(n[Y],n),n}function Ul(t,e,n,r,i=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(an(s)),Rn(s)&&kN(s,r);let o=n.type;if(o&8)Ul(t,e,n.child,r);else if(o&32){let a=Rf(n,e),l;for(;l=a();)r.push(l)}else if(o&16){let a=rb(e,n);if(Array.isArray(a))r.push(...a);else{let l=uo(e[on]);Ul(l[Y],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function kN(t,e){for(let n=gt;n<t.length;n++){let r=t[n],i=r[Y].firstChild;i!==null&&Ul(r[Y],r,i,e)}t[Fr]!==t[Nn]&&e.push(t[Fr])}var _b=[];function PN(t){return t[Pr]??FN(t)}function FN(t){let e=_b.pop()??Object.create(VN);return e.lView=t,e}function LN(t){t.lView[Pr]!==t&&(t.lView=null,_b.push(t))}var VN=ee(b({},__),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{sc(t.lView)},consumerOnSignalRead(){this.lView[Pr]=this}}),jN=100;function vb(t,e=!0,n=0){let r=t[sn],i=r.rendererFactory,s=!1;s||i.begin?.();try{UN(t,n)}catch(o){throw e&&gb(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function UN(t,e){let n=_w();try{iv(!0),Uh(t,e);let r=0;for(;co(t);){if(r===jN)throw new _(103,!1);r++,Uh(t,1)}}finally{iv(n)}}function BN(t,e,n,r){let i=e[P];if((i&256)===256)return;let s=!1,o=!1;!s&&e[sn].inlineEffectRunner?.flush(),Ef(e);let a=null,l=null;!s&&$N(t)&&(l=PN(e),a=v_(l));try{hw(e),jA(t.bindingStartIndex),n!==null&&cb(t,e,n,2,r);let c=(i&3)===3;if(!s)if(c){let h=t.preOrderCheckHooks;h!==null&&wl(e,h,null)}else{let h=t.preOrderHooks;h!==null&&bl(e,h,0,null),oh(e,0)}if(o||HN(e),wb(e,0),t.contentQueries!==null&&pb(t,e),!s)if(c){let h=t.contentCheckHooks;h!==null&&wl(e,h)}else{let h=t.contentHooks;h!==null&&bl(e,h,1),oh(e,1)}tN(t,e);let u=t.components;u!==null&&Eb(e,u,0);let d=t.viewQuery;if(d!==null&&Vh(2,d,r),!s)if(c){let h=t.viewCheckHooks;h!==null&&wl(e,h)}else{let h=t.viewHooks;h!==null&&bl(e,h,2),oh(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[sh]){for(let h of e[sh])h();e[sh]=null}s||(e[P]&=-73)}catch(c){throw s||sc(e),c}finally{l!==null&&(w_(l,a),LN(l)),Cf()}}function $N(t){return t.type!==2}function wb(t,e){for(let n=zw(t);n!==null;n=Ww(n))for(let r=gt;r<n.length;r++){let i=n[r];bb(i,e)}}function HN(t){for(let e=zw(t);e!==null;e=Ww(e)){if(!(e[P]&xl.HasTransplantedViews))continue;let n=e[Rl];for(let r=0;r<n.length;r++){let i=n[r];MA(i)}}}function zN(t,e,n){let r=er(e,t);bb(r,n)}function bb(t,e){wf(t)&&Uh(t,e)}function Uh(t,e){let r=t[Y],i=t[P],s=t[Pr],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&Pd(s)),o||=!1,s&&(s.dirty=!1),t[P]&=-9217,o)BN(r,t,r.template,t[St]);else if(i&8192){wb(t,1);let a=r.components;a!==null&&Eb(t,a,1)}}function Eb(t,e,n){for(let r=0;r<e.length;r++)zN(t,e[r],n)}function Hf(t,e){let n=_w()?64:1088;for(t[sn].changeDetectionScheduler?.notify(e);t;){t[P]|=n;let r=uo(t);if(Sh(t)&&!r)return t;t=r}return null}var jr=class{get rootNodes(){let e=this._lView,n=e[Y];return Ul(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[St]}set context(e){this._lView[St]=e}get destroyed(){return(this._lView[P]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Xe];if(Rn(e)){let n=e[Nl],r=n?n.indexOf(this):-1;r>-1&&(Vl(e,r),Sl(n,r))}this._attachedToViewContainer=!1}Of(this._lView[Y],this._lView)}onDestroy(e){fw(this._lView,e)}markForCheck(){Hf(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[P]&=-129}reattach(){Ah(this._lView),this._lView[P]|=128}detectChanges(){this._lView[P]|=1024,vb(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new _(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Sh(this._lView),n=this._lView[Ki];n!==null&&!e&&xf(n,this._lView),eb(this._lView[Y],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new _(902,!1);this._appRef=e;let n=Sh(this._lView),r=this._lView[Ki];r!==null&&!n&&tb(r,this._lView),Ah(this._lView)}},_c=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=qN;let t=e;return t})(),WN=_c,GN=class extends WN{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=mb(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new jr(i)}};function qN(){return KN(tt(),ce())}function KN(t,e){return t.type&4?new GN(e,t,uc(t,e)):null}var M5=new RegExp(`^(\\d+)*(${wM}|${vM})*(.*)`);var YN=()=>null;function Bh(t,e){return YN(t,e)}var ho=class{},Cb=new R("",{providedIn:"root",factory:()=>!1});var Ib=new R(""),$h=class{},Bl=class{};function QN(t){let e=Error(`No component factory found for ${Je(t)}.`);return e[ZN]=t,e}var ZN="ngComponent";var Hh=class{resolveComponentFactory(e){throw QN(e)}},np=class np{};np.NULL=new Hh;var Ji=np,Zn=class{},hn=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>JN();let t=e;return t})();function JN(){let t=ce(),e=tt(),n=er(e.index,t);return(qn(n)?n:t)[Oe]}var XN=(()=>{let e=class e{};e.\u0275prov=C({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),dh={};var gv=new Set;function vo(t){gv.has(t)||(gv.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function Db(t){let e=!0;return setTimeout(()=>{e&&(e=!1,t())}),typeof It.requestAnimationFrame=="function"&&It.requestAnimationFrame(()=>{e&&(e=!1,t())}),()=>{e=!1}}function mv(t){let e=!0;return queueMicrotask(()=>{e&&t()}),()=>{e=!1}}function yv(...t){}var ge=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ae(!1),this.onMicrotaskEmpty=new ae(!1),this.onStable=new ae(!1),this.onError=new ae(!1),typeof Zone>"u")throw new _(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.callbackScheduled=!1,nR(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new _(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new _(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,eR,yv,yv);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},eR={};function zf(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function tR(t){t.isCheckStableRunning||t.callbackScheduled||(t.callbackScheduled=!0,Zone.root.run(()=>{Db(()=>{t.callbackScheduled=!1,zh(t),t.isCheckStableRunning=!0,zf(t),t.isCheckStableRunning=!1})}),zh(t))}function nR(t){let e=()=>{tR(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(rR(a))return n.invokeTask(i,s,o,a);try{return _v(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),vv(t)}},onInvoke:(n,r,i,s,o,a,l)=>{try{return _v(t),n.invoke(i,s,o,a,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!iR(a)&&e(),vv(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,zh(t),zf(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function zh(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function _v(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function vv(t){t._nesting--,zf(t)}var Wh=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ae,this.onMicrotaskEmpty=new ae,this.onStable=new ae,this.onError=new ae}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function rR(t){return Sb(t,"__ignore_ng_zone__")}function iR(t){return Sb(t,"__scheduler_tick__")}function Sb(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Tb=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=C({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function $l(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=_h(i,a);else if(s==2){let l=a,c=e[++o];r=_h(r,l+": "+c+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Hl=class extends Ji{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=kr(e);return new fo(n,this.ngModule)}};function wv(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function sR(t){let e=t.toLowerCase();return e==="svg"?uw:e==="math"?SA:null}var Gh=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Zl(r);let i=this.injector.get(e,dh,r);return i!==dh||n===dh?i:this.parentInjector.get(e,n,r)}},fo=class extends Bl{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=wv(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return wv(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=oA(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=re(null);try{i=i||this.ngModule;let o=i instanceof Dt?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new Gh(e,o):e,l=a.get(Zn,null);if(l===null)throw new _(407,!1);let c=a.get(XN,null),u=a.get(Tb,null),d=a.get(ho,null),h={rendererFactory:l,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:d},f=l.createRenderer(null,this.componentDef),p=this.componentDef.selectors[0][0]||"div",m=r?iN(f,r,this.componentDef.encapsulation,a):Xw(f,p,sR(p)),w=512;this.componentDef.signals?w|=4096:this.componentDef.onPush||(w|=16);let S=null;m!==null&&(S=Mf(m,a,!0));let K=jf(0,null,null,1,0,null,null,null,null,null,null),L=mc(null,K,null,w,null,null,h,f,a,null,S);Ef(L);let ie,We;try{let pe=this.componentDef,ye,Se=null;pe.findHostDirectiveDefs?(ye=[],Se=new Map,pe.findHostDirectiveDefs(pe,ye,Se),ye.push(pe)):ye=[pe];let dt=oR(L,m),Jt=aR(dt,m,pe,ye,L,h,f);We=vf(K,mt),m&&uR(f,pe,m,r),n!==void 0&&dR(We,this.ngContentSelectors,n),ie=cR(Jt,pe,ye,Se,L,[hR]),$f(K,L,null)}finally{Cf()}return new qh(this.componentType,ie,uc(We,L),L,We)}finally{re(s)}}},qh=class extends $h{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new jr(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;Bf(s[Y],s,i,e,n),this.previousInputValues.set(e,n);let o=er(this._tNode.index,s);Hf(o,1)}}get injector(){return new xr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function oR(t,e){let n=t[Y],r=mt;return t[r]=e,_o(n,r,2,"#host",null)}function aR(t,e,n,r,i,s,o){let a=i[Y];lR(r,t,e,o);let l=null;e!==null&&(l=Mf(e,i[qi]));let c=s.rendererFactory.createRenderer(e,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let d=mc(i,ub(n),null,u,i[t.index],t,s,c,null,null,l);return a.firstCreatePass&&Lh(a,t,r.length-1),yc(i,d),i[t.index]=d}function lR(t,e,n,r){for(let i of t)e.mergedAttrs=oo(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&($l(e,e.mergedAttrs,!0),n!==null&&sb(r,n,e))}function cR(t,e,n,r,i,s){let o=tt(),a=i[Y],l=Tt(o,i);db(a,i,o,n,null,r);for(let u=0;u<n.length;u++){let d=o.directiveStart+u,h=Zi(i,a,d,o);Qn(h,i)}hb(a,i,o),l&&Qn(l,i);let c=Zi(i,a,o.directiveStart+o.componentOffset,o);if(t[St]=i[St]=c,s!==null)for(let u of s)u(c,e);return Ff(a,o,i),c}function uR(t,e,n,r){if(r)Eh(t,n,["ng-version","18.0.2"]);else{let{attrs:i,classes:s}=aA(e.selectors[0]);i&&Eh(t,n,i),s&&s.length>0&&ib(t,n,s.join(" "))}}function dR(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function hR(){let t=tt();cc(ce()[Y],t)}var ns=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=fR;let t=e;return t})();function fR(){let t=tt();return gR(t,ce())}var pR=ns,Ab=class extends pR{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return uc(this._hostTNode,this._hostLView)}get injector(){return new xr(this._hostTNode,this._hostLView)}get parentInjector(){let e=If(this._hostTNode,this._hostLView);if(Nw(e)){let n=kl(e,this._hostLView),r=Ol(e),i=n[Y].data[r+8];return new xr(i,n)}else return new xr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=bv(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-gt}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=Bh(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,jh(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!EA(e),a;if(o)a=n;else{let p=n||{};a=p.index,r=p.injector,i=p.projectableNodes,s=p.environmentInjector||p.ngModuleRef}let l=o?e:new fo(kr(e)),c=r||this.parentInjector;if(!s&&l.ngModule==null){let m=(o?c:this.parentInjector).get(Dt,null);m&&(s=m)}let u=kr(l.componentType??{}),d=Bh(this._lContainer,u?.id??null),h=d?.firstChild??null,f=l.create(c,i,h,s);return this.insertImpl(f.hostView,a,jh(this._hostTNode,d)),f}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(AA(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=i[Xe],c=new Ab(l,l[Bt],l[Xe]);c.detach(c.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return yb(o,i,s,r),e.attachToViewContainerRef(),$v(hh(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=bv(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Vl(this._lContainer,n);r&&(Sl(hh(this._lContainer),n),Of(r[Y],r))}detach(e){let n=this._adjustIndex(e,-1),r=Vl(this._lContainer,n);return r&&Sl(hh(this._lContainer),n)!=null?new jr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function bv(t){return t[Nl]}function hh(t){return t[Nl]||(t[Nl]=[])}function gR(t,e){let n,r=e[t.index];return Rn(r)?n=r:(n=fb(r,e,null,t),e[t.index]=n,yc(e,n)),yR(n,e,t,r),new Ab(n,t,e)}function mR(t,e){let n=t[Oe],r=n.createComment(""),i=Tt(e,t),s=kf(n,i);return jl(n,s,r,GM(n,i),!1),r}var yR=wR,_R=()=>!1;function vR(t,e,n){return _R(t,e,n)}function wR(t,e,n,r){if(t[Fr])return;let i;n.type&8?i=an(r):i=mR(e,n),t[Fr]=i}function bR(t){return Object.getPrototypeOf(t.prototype).constructor}function Ht(t){let e=bR(t.type),n=!0,r=[t];for(;e;){let i;if(Kn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new _(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=yl(t.inputs),o.inputTransforms=yl(t.inputTransforms),o.declaredInputs=yl(t.declaredInputs),o.outputs=yl(t.outputs);let a=i.hostBindings;a&&SR(t,a);let l=i.viewQuery,c=i.contentQueries;if(l&&IR(t,l),c&&DR(t,c),ER(t,i),MT(t.outputs,i.outputs),Kn(i)&&i.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===Ht&&(n=!1)}}e=Object.getPrototypeOf(e)}CR(r)}function ER(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function CR(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=oo(i.hostAttrs,n=oo(n,i.hostAttrs))}}function yl(t){return t===Hi?{}:t===ot?[]:t}function IR(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function DR(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function SR(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Wf(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Jn=class{},po=class{};var Kh=class extends Jn{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Hl(this);let i=Zv(e);this._bootstrapComponents=Jw(i.bootstrap),this._r3Injector=jw(e,n,[{provide:Jn,useValue:this},{provide:Ji,useValue:this.componentFactoryResolver},...r],Je(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Yh=class extends po{constructor(e){super(),this.moduleType=e}create(e){return new Kh(this.moduleType,e,[])}};var zl=class extends Jn{constructor(e){super(),this.componentFactoryResolver=new Hl(this),this.instance=null;let n=new ao([...e.providers,{provide:Jn,useValue:this},{provide:Ji,useValue:this.componentFactoryResolver}],e.parent||yf(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Gf(t,e,n=null){return new zl({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var rs=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Be(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Mb(t){return qf(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function TR(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function qf(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function AR(t,e,n){return t[e]=n}function Wr(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function MR(t){return(t.flags&32)===32}function NR(t,e,n,r,i,s,o,a,l){let c=e.consts,u=_o(e,t,4,o||null,a||null);Uf(e,n,u,Qi(c,l)),cc(e,u);let d=u.tView=jf(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function RR(t,e,n,r,i,s,o,a,l,c){let u=n+mt,d=e.firstCreatePass?NR(u,e,t,r,i,s,o,a,l):e.data[u];Br(d,!1);let h=xR(e,t,d,n);ac()&&pc(e,t,h,d),Qn(h,t);let f=fb(h,t,h,d);return t[u]=f,yc(t,f),vR(f,d,t),ic(d)&&Lf(e,t,d),l!=null&&Vf(t,d,c),d}function ke(t,e,n,r,i,s,o,a){let l=ce(),c=et(),u=Qi(c.consts,s);return RR(l,c,t,e,n,r,i,u,o,a),ke}var xR=OR;function OR(t,e,n,r){return lc(!0),e[Oe].createComment("")}function vc(t,e,n,r){let i=ce(),s=oc();if(Wr(i,s,e)){let o=et(),a=Tw();EN(a,i,t,e,n,r)}return vc}function kR(t,e,n,r){return Wr(t,oc(),n)?e+Ql(n)+r:dn}function _l(t,e){return t<<17|e<<2}function Ur(t){return t>>17&32767}function PR(t){return(t&2)==2}function FR(t,e){return t&131071|e<<17}function Qh(t){return t|2}function Xi(t){return(t&131068)>>2}function fh(t,e){return t&-131069|e<<2}function LR(t){return(t&1)===1}function Zh(t){return t|1}function VR(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Ur(o),l=Xi(o);t[r]=n;let c=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||yo(d,u)>0)&&(c=!0)}else u=n;if(i)if(l!==0){let h=Ur(t[a+1]);t[r+1]=_l(h,a),h!==0&&(t[h+1]=fh(t[h+1],r)),t[a+1]=FR(t[a+1],r)}else t[r+1]=_l(a,0),a!==0&&(t[a+1]=fh(t[a+1],r)),a=r;else t[r+1]=_l(l,0),a===0?a=r:t[l+1]=fh(t[l+1],r),l=r;c&&(t[r+1]=Qh(t[r+1])),Ev(t,u,r,!0),Ev(t,u,r,!1),jR(e,u,t,r,s),o=_l(a,l),s?e.classBindings=o:e.styleBindings=o}function jR(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&yo(s,e)>=0&&(n[r+1]=Zh(n[r+1]))}function Ev(t,e,n,r){let i=t[n+1],s=e===null,o=r?Ur(i):Xi(i),a=!1;for(;o!==0&&(a===!1||s);){let l=t[o],c=t[o+1];UR(l,e)&&(a=!0,t[o+1]=r?Zh(c):Qh(c)),o=r?Ur(c):Xi(c)}a&&(t[n+1]=r?Qh(i):Zh(i))}function UR(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?yo(t,e)>=0:!1}var xe={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Nb(t){return t.substring(xe.key,xe.keyEnd)}function BR(t){return t.substring(xe.value,xe.valueEnd)}function $R(t){return Ob(t),Rb(t,es(t,0,xe.textEnd))}function Rb(t,e){let n=xe.textEnd;return n===e?-1:(e=xe.keyEnd=zR(t,xe.key=e,n),es(t,e,n))}function HR(t){return Ob(t),xb(t,es(t,0,xe.textEnd))}function xb(t,e){let n=xe.textEnd,r=xe.key=es(t,e,n);return n===r?-1:(r=xe.keyEnd=WR(t,r,n),r=Cv(t,r,n,58),r=xe.value=es(t,r,n),r=xe.valueEnd=GR(t,r,n),Cv(t,r,n,59))}function Ob(t){xe.key=0,xe.keyEnd=0,xe.value=0,xe.valueEnd=0,xe.textEnd=t.length}function es(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function zR(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function WR(t,e,n){let r;for(;e<n&&((r=t.charCodeAt(e))===45||r===95||(r&-33)>=65&&(r&-33)<=90||r>=48&&r<=57);)e++;return e}function Cv(t,e,n,r){return e=es(t,e,n),e<n&&e++,e}function GR(t,e,n){let r=-1,i=-1,s=-1,o=e,a=o;for(;o<n;){let l=t.charCodeAt(o++);if(l===59)return a;l===34||l===39?a=o=Iv(t,l,o,n):e===o-4&&s===85&&i===82&&r===76&&l===40?a=o=Iv(t,41,o,n):l>32&&(a=o),s=i,i=r,r=l&-33}return a}function Iv(t,e,n,r){let i=-1,s=n;for(;s<r;){let o=t.charCodeAt(s++);if(o==e&&i!==92)return s;o==92&&i===92?i=0:i=o}throw new Error}function U(t,e,n){let r=ce(),i=oc();if(Wr(r,i,e)){let s=et(),o=Tw();uN(s,o,r,t,e,r[Oe],n,!1)}return U}function Jh(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";Bf(t,n,s[o],o,r)}function is(t,e,n){return kb(t,e,n,!1),is}function wc(t,e){return kb(t,e,null,!0),wc}function bc(t){Pb(Vb,qR,t,!1)}function qR(t,e){for(let n=HR(e);n>=0;n=xb(e,n))Vb(t,Nb(e),BR(e))}function Gr(t){Pb(ex,KR,t,!0)}function KR(t,e){for(let n=$R(e);n>=0;n=Rb(e,n))Xl(t,Nb(e),!0)}function kb(t,e,n,r){let i=ce(),s=et(),o=ww(2);if(s.firstUpdatePass&&Lb(s,t,o,r),e!==dn&&Wr(i,o,e)){let a=s.data[$r()];jb(s,a,i,i[Oe],t,i[o+1]=nx(e,n),r,o)}}function Pb(t,e,n,r){let i=et(),s=ww(2);i.firstUpdatePass&&Lb(i,null,s,r);let o=ce();if(n!==dn&&Wr(o,s,n)){let a=i.data[$r()];if(Ub(a,r)&&!Fb(i,s)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(n=_h(l,n||"")),Jh(i,a,o,n,r)}else tx(i,a,o,o[Oe],o[s+1],o[s+1]=XR(t,e,n),r,s)}}function Fb(t,e){return e>=t.expandoStartIndex}function Lb(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[$r()],o=Fb(t,n);Ub(s,r)&&e===null&&!o&&(e=!1),e=YR(i,s,e,r),VR(i,s,e,n,o,r)}}function YR(t,e,n,r){let i=HA(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=ph(null,t,e,n,r),n=go(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=ph(i,t,e,n,r),s===null){let l=QR(t,e,r);l!==void 0&&Array.isArray(l)&&(l=ph(null,t,e,l[1],r),l=go(l,e.attrs,r),ZR(t,e,r,l))}else s=JR(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function QR(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Xi(r)!==0)return t[Ur(r)]}function ZR(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Ur(i)]=r}function JR(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=go(r,o,n)}return go(r,e.attrs,n)}function ph(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=go(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function go(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Xl(t,o,n?!0:e[++s]))}return t===void 0?null:t}function XR(t,e,n){if(n==null||n==="")return ot;let r=[],i=zr(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if(typeof i=="object")for(let s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else typeof i=="string"&&e(r,i);return r}function Vb(t,e,n){Xl(t,e,zr(n))}function ex(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&Xl(t,r,n)}function tx(t,e,n,r,i,s,o,a){i===dn&&(i=ot);let l=0,c=0,u=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;u!==null||d!==null;){let h=l<i.length?i[l+1]:void 0,f=c<s.length?s[c+1]:void 0,p=null,m;u===d?(l+=2,c+=2,h!==f&&(p=d,m=f)):d===null||u!==null&&u<d?(l+=2,p=u):(c+=2,p=d,m=f),p!==null&&jb(t,e,n,r,p,m,o,a),u=l<i.length?i[l]:null,d=c<s.length?s[c]:null}}function jb(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let l=t.data,c=l[a+1],u=LR(c)?Dv(l,e,n,i,Xi(c),o):void 0;if(!Wl(u)){Wl(s)||PR(c)&&(s=Dv(l,null,n,i,a,o));let d=dw($r(),n);XM(r,o,d,i,s)}}function Dv(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let l=t[i],c=Array.isArray(l),u=c?l[1]:l,d=u===null,h=n[i+1];h===dn&&(h=d?ot:void 0);let f=d?rh(h,r):u===r?h:void 0;if(c&&!Wl(f)&&(f=rh(l,r)),Wl(f)&&(a=f,o))return a;let p=t[i+1];i=o?Ur(p):Xi(p)}if(e!==null){let l=s?e.residualClasses:e.residualStyles;l!=null&&(a=rh(l,r))}return a}function Wl(t){return t!==void 0}function nx(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Je(zr(t)))),t}function Ub(t,e){return(t.flags&(e?8:16))!==0}function qr(t,e){vo("NgControlFlow");let n=ce(),r=oc(),i=n[r]!==dn?n[r]:-1,s=i!==-1?Sv(n,mt+i):void 0,o=0;if(Wr(n,r,t)){let a=re(null);try{if(s!==void 0&&ON(s,o),t!==-1){let l=mt+t,c=Sv(n,l),u=rx(n[Y],l),d=Bh(c,u.tView.ssrId),h=mb(n,u,e,{dehydratedView:d});yb(c,h,o,jh(u,d))}}finally{re(a)}}else if(s!==void 0){let a=xN(s,o);a!==void 0&&(a[St]=e)}}function Sv(t,e){return t[e]}function rx(t,e){return vf(t,e)}function ix(t,e,n,r,i,s){let o=e.consts,a=Qi(o,i),l=_o(e,t,2,r,a);return Uf(e,n,l,Qi(o,s)),l.attrs!==null&&$l(l,l.attrs,!1),l.mergedAttrs!==null&&$l(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function y(t,e,n,r){let i=ce(),s=et(),o=mt+t,a=i[Oe],l=s.firstCreatePass?ix(o,s,i,e,n,r):s.data[o],c=sx(s,i,l,a,e,t);i[o]=c;let u=ic(l);return Br(l,!0),sb(a,c,l),!MR(l)&&ac()&&pc(s,i,c,l),xA()===0&&Qn(c,i),OA(),u&&(Lf(s,i,l),Ff(s,l,i)),r!==null&&Vf(i,l),y}function I(){let t=tt();bf()?yw():(t=t.parent,Br(t,!1));let e=t;FA(e)&&LA(),kA();let n=et();return n.firstCreatePass&&(cc(n,t),_f(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&ZA(e)&&Jh(n,e,ce(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&JA(e)&&Jh(n,e,ce(),e.stylesWithoutHost,!1),I}function N(t,e,n,r){return y(t,e,n,r),I(),N}var sx=(t,e,n,r,i,s)=>(lc(!0),Xw(r,i,qA()));function ox(t,e,n,r,i){let s=e.consts,o=Qi(s,r),a=_o(e,t,8,"ng-container",o);o!==null&&$l(a,o,!0);let l=Qi(s,i);return Uf(e,n,a,l),e.queries!==null&&e.queries.elementStart(e,a),a}function Kf(t,e,n){let r=ce(),i=et(),s=t+mt,o=i.firstCreatePass?ox(s,i,r,e,n):i.data[s];Br(o,!0);let a=ax(i,r,o,t);return r[s]=a,ac()&&pc(i,r,a,o),Qn(a,r),ic(o)&&(Lf(i,r,o),Ff(i,o,r)),n!=null&&Vf(r,o),Kf}function Yf(){let t=tt(),e=et();return bf()?yw():(t=t.parent,Br(t,!1)),e.firstCreatePass&&(cc(e,t),_f(t)&&e.queries.elementEnd(t)),Yf}var ax=(t,e,n,r)=>(lc(!0),FM(e[Oe],""));function at(){return ce()}var Gl="en-US";var lx=Gl;function cx(t){typeof t=="string"&&(lx=t.toLowerCase().replace(/_/g,"-"))}var ux=(t,e,n)=>{};function j(t,e,n,r){let i=ce(),s=et(),o=tt();return hx(s,i,i[Oe],o,t,e,r),j}function dx(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[Ml],l=i[s+2];return a.length>l?a[l]:null}typeof o=="string"&&(s+=2)}return null}function hx(t,e,n,r,i,s,o){let a=ic(r),c=t.firstCreatePass&&TN(t),u=e[St],d=SN(e),h=!0;if(r.type&3||o){let m=Tt(r,e),w=o?o(m):m,S=d.length,K=o?ie=>o(an(ie[r.index])):r.index,L=null;if(!o&&a&&(L=dx(t,e,i,r.index)),L!==null){let ie=L.__ngLastListenerFn__||L;ie.__ngNextListenerFn__=s,L.__ngLastListenerFn__=s,h=!1}else{s=Av(r,e,u,s),ux(m,i,s);let ie=n.listen(w,i,s);d.push(s,ie),c&&c.push(i,K,S,S+1)}}else s=Av(r,e,u,s);let f=r.outputs,p;if(h&&f!==null&&(p=f[i])){let m=p.length;if(m)for(let w=0;w<m;w+=2){let S=p[w],K=p[w+1],We=e[S][K].subscribe(s),pe=d.length;d.push(s,We),c&&c.push(i,r.index,pe,-(pe+1))}}}function Tv(t,e,n,r){let i=re(null);try{return tn(6,e,n),n(r)!==!1}catch(s){return gb(t,s),!1}finally{tn(7,e,n),re(i)}}function Av(t,e,n,r){return function i(s){if(s===Function)return r;let o=t.componentOffset>-1?er(t.index,e):e;Hf(o,5);let a=Tv(e,n,r,s),l=i.__ngNextListenerFn__;for(;l;)a=Tv(e,n,l,s)&&a,l=l.__ngNextListenerFn__;return a}}function z(t=1){return WA(t)}function fx(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function ue(t,e=""){let n=ce(),r=et(),i=t+mt,s=r.firstCreatePass?_o(r,i,1,e,null):r.data[i],o=px(r,n,s,e,t);n[i]=o,ac()&&pc(r,n,o,s),Br(s,!1)}var px=(t,e,n,r,i)=>(lc(!0),kM(e[Oe],r));function zt(t){return Kr("",t,""),zt}function Kr(t,e,n){let r=ce(),i=kR(r,t,e,n);return i!==dn&&AN(r,$r(),i),Kr}function gx(t,e,n){let r=et();if(r.firstCreatePass){let i=Kn(t);Xh(n,r.data,r.blueprint,i,!0),Xh(e,r.data,r.blueprint,i,!1)}}function Xh(t,e,n,r,i){if(t=Ze(t),Array.isArray(t))for(let s=0;s<t.length;s++)Xh(t[s],e,n,r,i);else{let s=et(),o=ce(),a=tt(),l=Gi(t)?t:Ze(t.provide),c=rw(t),u=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(Gi(t)||!t.multi){let f=new Vr(c,i,A),p=mh(l,e,i?u:u+h,d);p===-1?(Rh(Fl(a,o),s,l),gh(s,t,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{let f=mh(l,e,u+h,d),p=mh(l,e,u,u+h),m=f>=0&&n[f],w=p>=0&&n[p];if(i&&!w||!i&&!m){Rh(Fl(a,o),s,l);let S=_x(i?yx:mx,n.length,i,r,c);!i&&w&&(n[p].providerFactory=S),gh(s,t,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(S),o.push(S)}else{let S=Bb(n[i?p:f],c,!i&&r);gh(s,t,f>-1?f:p,S)}!i&&r&&w&&n[p].componentProviders++}}}function gh(t,e,n,r){let i=Gi(e),s=pA(e);if(i||s){let l=(s?Ze(e.useClass):e).prototype.ngOnDestroy;if(l){let c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let u=c.indexOf(n);u===-1?c.push(n,[r,l]):c[u+1].push(r,l)}else c.push(n,l)}}}function Bb(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function mh(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function mx(t,e,n,r){return ef(this.multi,[])}function yx(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=Zi(n,n[Y],this.providerFactory.index,r);s=a.slice(0,o),ef(i,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],ef(i,s);return s}function ef(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function _x(t,e,n,r,i){let s=new Vr(t,n,A);return s.multi=[],s.index=e,s.componentProviders=0,Bb(s,i,r&&!n),s}function Yr(t,e=[]){return n=>{n.providersResolver=(r,i)=>gx(r,i?i(t):t,e)}}var vx=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=ew(!1,r.type),s=i.length>0?Gf([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=C({token:e,providedIn:"environment",factory:()=>new e(T(Dt))});let t=e;return t})();function je(t){vo("NgStandalone"),t.getStandaloneInjector=e=>e.get(vx).getOrCreateStandaloneInjector(t)}function ss(t,e,n,r){return $b(ce(),vw(),t,e,n,r)}function wx(t,e){let n=t[e];return n===dn?void 0:n}function $b(t,e,n,r,i,s){let o=e+n;return Wr(t,o,i)?AR(t,o+1,s?r.call(s,i):r(i)):wx(t,o+1)}function os(t,e){let n=et(),r,i=t+mt;n.firstCreatePass?(r=bx(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let s=r.factory||(r.factory=Or(r.type,!0)),o,a=st(A);try{let l=Pl(!1),c=s();return Pl(l),fx(n,ce(),i,c),c}finally{st(a)}}function bx(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function as(t,e,n){let r=t+mt,i=ce(),s=TA(i,r);return Ex(i,r)?$b(i,vw(),e,s.transform,n,s):s.transform(n)}function Ex(t,e){return t[Y].data[e].pure}var Ec=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var Qf=new R(""),wo=new R(""),Cc=(()=>{let e=class e{constructor(r,i,s){this._ngZone=r,this.registry=i,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Zf||(Cx(s),s.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ge.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(r)?(clearTimeout(i.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,s){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),r()},i)),this._callbacks.push({doneCb:r,timeoutId:o,updateCb:s})}whenStable(r,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,s),this._runCallbacksIfReady()}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,s){return[]}};e.\u0275fac=function(i){return new(i||e)(T(ge),T(Ic),T(wo))},e.\u0275prov=C({token:e,factory:e.\u0275fac});let t=e;return t})(),Ic=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return Zf?.findTestabilityInTree(this,r,i)??null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function Cx(t){Zf=t}var Zf;function Qr(t){return!!t&&typeof t.then=="function"}function Hb(t){return!!t&&typeof t.subscribe=="function"}var zb=new R(""),Wb=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=E(zb,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(Qr(o))r.push(o);else if(Hb(o)){let a=new Promise((l,c)=>{o.subscribe({complete:l,error:c})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Dc=new R("");function Ix(){E_(()=>{throw new _(600,!1)})}function Dx(t){return t.isBoundToModule}var Sx=10;function Tx(t,e,n){try{let r=n();return Qr(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var nr=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=E(Uw),this.afterRenderEffectManager=E(Tb),this.zonelessEnabled=E(Cb),this.externalTestViews=new Set,this.beforeRender=new _e,this.afterTick=new _e,this.componentTypes=[],this.components=[],this.isStable=E(rs).hasPendingTasks.pipe(W(r=>!r)),this._injector=E(Dt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof Bl;if(!this._injector.get(Wb).done){let f=!s&&Qv(r),p=!1;throw new _(405,p)}let a;s?a=r:a=this._injector.get(Ji).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let l=Dx(a)?void 0:this._injector.get(Jn),c=i||a.selector,u=a.create(Yn.NULL,[],c,l),d=u.location.nativeElement,h=u.injector.get(Qf,null);return h?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),yh(this.components,u),h?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new _(101,!1);let i=re(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1,re(i),this.afterTick.next()}}detectChangesInAttachedViews(r){let i=null;this._injector.destroyed||(i=this._injector.get(Zn,null,{optional:!0}));let s=0,o=this.afterRenderEffectManager;for(;s<Sx;){let a=s===0;if(r||!a){this.beforeRender.next(a);for(let{_lView:l,notifyErrorHandler:c}of this._views)Ax(l,c,a,this.zonelessEnabled)}else i?.begin?.(),i?.end?.();if(s++,o.executeInternalCallbacks(),!this.allViews.some(({_lView:l})=>co(l))&&(o.execute(),!this.allViews.some(({_lView:l})=>co(l))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;yh(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Dc,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>yh(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new _(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function yh(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Ax(t,e,n,r){if(!n&&!co(t))return;vb(t,e,n&&!r?0:1)}var tf=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Jf=(()=>{let e=class e{compileModuleSync(r){return new Yh(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=Zv(r),o=Jw(s.declarations).reduce((a,l)=>{let c=kr(l);return c&&a.push(new fo(c)),a},[]);return new tf(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Mx=(()=>{let e=class e{constructor(){this.zone=E(ge),this.changeDetectionScheduler=E(ho),this.applicationRef=E(nr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Nx({ngZoneFactory:t,ignoreChangesOutsideZone:e}){return t??=()=>new ge(xx()),[{provide:ge,useFactory:t},{provide:zi,multi:!0,useFactory:()=>{let n=E(Mx,{optional:!0});return()=>n.initialize()}},{provide:zi,multi:!0,useFactory:()=>{let n=E(Ox);return()=>{n.initialize()}}},{provide:Uw,useFactory:Rx},e===!0?{provide:Ib,useValue:!0}:[]]}function Rx(){let t=E(ge),e=E(An);return n=>t.runOutsideAngular(()=>e.handleError(n))}function xx(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var Ox=(()=>{let e=class e{constructor(){this.subscription=new Te,this.initialized=!1,this.zone=E(ge),this.pendingTasks=E(rs)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ge.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ge.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var kx=(()=>{let e=class e{constructor(){this.appRef=E(nr),this.taskService=E(rs),this.ngZone=E(ge),this.zonelessEnabled=E(Cb),this.disableScheduling=E(Ib,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Te,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Wh||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&r===5)return;switch(r){case 3:case 2:case 0:case 4:case 5:case 1:{this.shouldRefreshViews=!0;break}case 8:case 7:case 6:case 9:default:}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?mv:Db;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&ge.isInAngularZone())}tick(r){if(this.runningTick||this.appRef.destroyed)return;let i=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(r)},void 0,this.schedulerTickApplyArgs)}catch(s){throw this.taskService.remove(i),s}finally{this.cleanup()}this.useMicrotaskScheduler=!0,mv(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(i)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Px(){return typeof $localize<"u"&&$localize.locale||Gl}var Xf=new R("",{providedIn:"root",factory:()=>E(Xf,G.Optional|G.SkipSelf)||Px()});var Gb=new R("");var Cl=null;function Fx(t=[],e){return Yn.create({name:e,providers:[{provide:tc,useValue:"platform"},{provide:Gb,useValue:new Set([()=>Cl=null])},...t]})}function Lx(t=[]){if(Cl)return Cl;let e=Fx(t);return Cl=e,Ix(),Vx(e),e}function Vx(t){t.get(Sf,null)?.forEach(n=>n())}var ls=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=jx;let t=e;return t})();function jx(t){return Ux(tt(),ce(),(t&16)===16)}function Ux(t,e,n){if(rc(t)&&!n){let r=er(t.index,e);return new jr(r,r)}else if(t.type&47){let r=e[on];return new jr(r,e)}return null}var nf=class{constructor(){}supports(e){return Mb(e)}create(e){return new rf(e)}},Bx=(t,e)=>e,rf=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Bx}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<Mv(r,i,s)?n:r,a=Mv(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let c=a-i,u=l-i;if(c!=u){for(let h=0;h<c;h++){let f=h<s.length?s[h]:s[h]=0,p=f+h;u<=p&&p<c&&(s[h]=f+1)}let d=o.previousIndex;s[d]=u-c}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!Mb(e))throw new _(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,TR(e,a=>{o=this._trackByFn(i,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new sf(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new ql),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new ql),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},sf=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},of=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},ql=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new of,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Mv(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var af=class{constructor(){}supports(e){return e instanceof Map||qf(e)}create(){return new lf}},lf=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let n;for(n=this._mapHead;n!==null;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||qf(e)))throw new _(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{let s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){let r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,n);let s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}let r=new cf(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}},cf=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function Nv(){return new ep([new nf])}var ep=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||Nv()),deps:[[e,new df,new Jl]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i!=null)return i;throw new _(901,!1)}};e.\u0275prov=C({token:e,providedIn:"root",factory:Nv});let t=e;return t})();function Rv(){return new tp([new af])}var tp=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||Rv()),deps:[[e,new df,new Jl]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i)return i;throw new _(901,!1)}};e.\u0275prov=C({token:e,providedIn:"root",factory:Rv});let t=e;return t})();var qb=(()=>{let e=class e{constructor(r){}};e.\u0275fac=function(i){return new(i||e)(T(nr))},e.\u0275mod=_t({type:e}),e.\u0275inj=yt({});let t=e;return t})();function Kb(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=Lx(r),s=[Nx({}),{provide:ho,useExisting:kx},...n||[]],a=new zl({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,l=a.get(ge);return l.run(()=>{a.resolveInjectorInitializers();let c=a.get(An,null),u;l.runOutsideAngular(()=>{u=l.onError.subscribe({next:f=>{c.handleError(f)}})});let d=()=>a.destroy(),h=i.get(Gb);return h.add(d),a.onDestroy(()=>{u.unsubscribe(),h.delete(d)}),Tx(c,l,()=>{let f=a.get(Wb);return f.runInitializers(),f.donePromise.then(()=>{let p=a.get(Xf,Gl);cx(p||Gl);let m=a.get(nr);return e!==void 0&&m.bootstrap(e),m})})})}catch(e){return Promise.reject(e)}}function cs(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var Xb=null;function fn(){return Xb}function eE(t){Xb??=t}var Sc=class{};var qe=new R(""),tE=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:()=>E($x),providedIn:"platform"});let t=e;return t})();var $x=(()=>{let e=class e extends tE{constructor(){super(),this._doc=E(qe),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return fn().getBaseHref(this._doc)}onPopState(r){let i=fn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=fn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function nE(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function Yb(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Zr(t){return t&&t[0]!=="?"?"?"+t:t}var us=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:()=>E(rE),providedIn:"root"});let t=e;return t})(),Hx=new R(""),rE=(()=>{let e=class e extends us{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??E(qe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return nE(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Zr(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Zr(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Zr(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(T(tE),T(Hx,8))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var bo=(()=>{let e=class e{constructor(r){this._subject=new ae,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=Gx(Yb(Qb(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Zr(i))}normalize(r){return e.stripTrailingSlash(Wx(this._basePath,Qb(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Zr(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Zr(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=Zr,e.joinWithSlash=nE,e.stripTrailingSlash=Yb,e.\u0275fac=function(i){return new(i||e)(T(us))},e.\u0275prov=C({token:e,factory:()=>zx(),providedIn:"root"});let t=e;return t})();function zx(){return new bo(T(us))}function Wx(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Qb(t){return t.replace(/\/index.html$/,"")}function Gx(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function iE(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var rp=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},ds=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((s,o,a)=>{if(s.previousIndex==null)i.createEmbeddedView(this._template,new rp(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(o===null?void 0:o);else if(o!==null){let l=i.get(o);i.move(l,a),Zb(l,s)}});for(let s=0,o=i.length;s<o;s++){let l=i.get(s).context;l.index=s,l.count=o,l.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{let o=i.get(s.currentIndex);Zb(o,s)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(A(ns),A(_c),A(ep))},e.\u0275dir=Ie({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function Zb(t,e){t.context.$implicit=e.item}var rr=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new ip,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){Jb("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){Jb("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(A(ns),A(_c))},e.\u0275dir=Ie({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),ip=class{constructor(){this.$implicit=null,this.ngIf=null}};function Jb(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Je(e)}'.`)}var sE=(()=>{let e=class e{constructor(r,i,s){this._ngEl=r,this._differs=i,this._renderer=s,this._ngStyle=null,this._differ=null}set ngStyle(r){this._ngStyle=r,!this._differ&&r&&(this._differ=this._differs.find(r).create())}ngDoCheck(){if(this._differ){let r=this._differ.diff(this._ngStyle);r&&this._applyChanges(r)}}_setStyle(r,i){let[s,o]=r.split("."),a=s.indexOf("-")===-1?void 0:ln.DashCase;i!=null?this._renderer.setStyle(this._ngEl.nativeElement,s,o?`${i}${o}`:i,a):this._renderer.removeStyle(this._ngEl.nativeElement,s,a)}_applyChanges(r){r.forEachRemovedItem(i=>this._setStyle(i.key,null)),r.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),r.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}};e.\u0275fac=function(i){return new(i||e)(A($t),A(tp),A(hn))},e.\u0275dir=Ie({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0});let t=e;return t})();var At=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=_t({type:e}),e.\u0275inj=yt({});let t=e;return t})(),oE="browser",qx="server";function op(t){return t===qx}var Tc=class{};var aE=new R("");var cp=class extends Sc{constructor(){super(...arguments),this.supportsDOMEvents=!0}},up=class t extends cp{static makeCurrent(){eE(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=Kx();return n==null?null:Yx(n)}resetBaseElement(){Co=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return iE(document.cookie,e)}},Co=null;function Kx(){return Co=Co||document.querySelector("base"),Co?Co.getAttribute("href"):null}function Yx(t){return new URL(t,document.baseURI).pathname}var dp=class{addToWindow(e){It.getAngularTestability=(r,i=!0)=>{let s=e.findTestabilityInTree(r,i);if(s==null)throw new _(5103,!1);return s},It.getAllAngularTestabilities=()=>e.getAllTestabilities(),It.getAllAngularRootElements=()=>e.getAllRootElements();let n=r=>{let i=It.getAllAngularTestabilities(),s=i.length,o=function(){s--,s==0&&r()};i.forEach(a=>{a.whenStable(o)})};It.frameworkStabilizers||(It.frameworkStabilizers=[]),It.frameworkStabilizers.push(n)}findTestabilityInTree(e,n,r){if(n==null)return null;let i=e.getTestability(n);return i??(r?fn().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},Qx=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac});let t=e;return t})(),hp=new R(""),uE=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new _(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(T(hp),T(ge))},e.\u0275prov=C({token:e,factory:e.\u0275fac});let t=e;return t})(),Ac=class{constructor(e){this._doc=e}},ap="ng-app-id",dE=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=op(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${ap}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(ap),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(ap,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(T(qe),T(dc),T(Af,8),T(Hr))},e.\u0275prov=C({token:e,factory:e.\u0275fac});let t=e;return t})(),lp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},pp=/%COMP%/g,hE="%COMP%",Zx=`_nghost-${hE}`,Jx=`_ngcontent-${hE}`,Xx=!0,eO=new R("",{providedIn:"root",factory:()=>Xx});function tO(t){return Jx.replace(pp,t)}function nO(t){return Zx.replace(pp,t)}function fE(t,e){return e.map(n=>n.replace(pp,t))}var Mc=(()=>{let e=class e{constructor(r,i,s,o,a,l,c,u=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=l,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=op(l),this.defaultRenderer=new Io(r,a,c,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===rn.ShadowDom&&(i=ee(b({},i),{encapsulation:rn.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof Nc?s.applyToHost(r):s instanceof Do&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,l=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case rn.Emulated:o=new Nc(c,u,i,this.appId,d,a,l,h);break;case rn.ShadowDom:return new fp(c,u,r,i,a,l,this.nonce,h);default:o=new Do(c,u,i,d,a,l,h);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(T(uE),T(dE),T(dc),T(eO),T(qe),T(Hr),T(ge),T(Af))},e.\u0275prov=C({token:e,factory:e.\u0275fac});let t=e;return t})(),Io=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(lp[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(lE(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(lE(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new _(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=lp[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=lp[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(ln.DashCase|ln.Important)?e.style.setProperty(n,r,i&ln.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&ln.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=fn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function lE(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var fp=class extends Io{constructor(e,n,r,i,s,o,a,l){super(e,s,o,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=fE(i.id,i.styles);for(let u of c){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Do=class extends Io{constructor(e,n,r,i,s,o,a,l){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=l?fE(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Nc=class extends Do{constructor(e,n,r,i,s,o,a,l){let c=i+"-"+r.id;super(e,n,r,s,o,a,l,c),this.contentAttr=tO(c),this.hostAttr=nO(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},rO=(()=>{let e=class e extends Ac{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(T(qe))},e.\u0275prov=C({token:e,factory:e.\u0275fac});let t=e;return t})(),cE=["alt","control","meta","shift"],iO={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},sO={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},oO=(()=>{let e=class e extends Ac{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>fn().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",l=i.indexOf("code");if(l>-1&&(i.splice(l,1),a="code."),cE.forEach(u=>{let d=i.indexOf(u);d>-1&&(i.splice(d,1),a+=u+".")}),a+=o,i.length!=0||o.length===0)return null;let c={};return c.domEventName=s,c.fullKey=a,c}static matchEventFullKeyCode(r,i){let s=iO[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),cE.forEach(a=>{if(a!==s){let l=sO[a];l(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(T(qe))},e.\u0275prov=C({token:e,factory:e.\u0275fac});let t=e;return t})();function pE(t,e){return Kb(b({rootComponent:t},aO(e)))}function aO(t){return{appProviders:[...gE,...t?.providers??[]],platformProviders:dO}}function lO(){up.makeCurrent()}function cO(){return new An}function uO(){return qw(document),document}var dO=[{provide:Hr,useValue:oE},{provide:Sf,useValue:lO,multi:!0},{provide:qe,useFactory:uO,deps:[]}];var hO=new R(""),fO=[{provide:wo,useClass:dp,deps:[]},{provide:Qf,useClass:Cc,deps:[ge,Ic,wo]},{provide:Cc,useClass:Cc,deps:[ge,Ic,wo]}],gE=[{provide:tc,useValue:"root"},{provide:An,useFactory:cO,deps:[]},{provide:hp,useClass:rO,multi:!0,deps:[qe,ge,Hr]},{provide:hp,useClass:oO,multi:!0,deps:[qe]},Mc,dE,uE,{provide:Zn,useExisting:Mc},{provide:Tc,useClass:Qx,deps:[]},[]],mE=(()=>{let e=class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:dc,useValue:r.appId}]}}};e.\u0275fac=function(i){return new(i||e)(T(hO,12))},e.\u0275mod=_t({type:e}),e.\u0275inj=yt({providers:[...gE,...fO],imports:[At,qb]});let t=e;return t})();var yE=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(T(qe))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var H="primary",$o=Symbol("RouteTitle"),vp=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function ys(t){return new vp(t)}function gO(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function mO(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!pn(t[n],e[n]))return!1;return!0}function pn(t,e){let n=t?wp(t):void 0,r=e?wp(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!DE(t[i],e[i]))return!1;return!0}function wp(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function DE(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function SE(t){return t.length>0?t[t.length-1]:null}function or(t){return Yd(t)?t:Qr(t)?Ce(Promise.resolve(t)):k(t)}var yO={exact:AE,subset:ME},TE={exact:_O,subset:vO,ignored:()=>!0};function _E(t,e,n){return yO[n.paths](t.root,e.root,n.matrixParams)&&TE[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function _O(t,e){return pn(t,e)}function AE(t,e,n){if(!Xr(t.segments,e.segments)||!Oc(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!AE(t.children[r],e.children[r],n))return!1;return!0}function vO(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>DE(t[n],e[n]))}function ME(t,e,n){return NE(t,e,e.segments,n)}function NE(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Xr(i,n)||e.hasChildren()||!Oc(i,n,r))}else if(t.segments.length===n.length){if(!Xr(t.segments,n)||!Oc(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!ME(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!Xr(t.segments,i)||!Oc(t.segments,i,r)||!t.children[H]?!1:NE(t.children[H],e,s,r)}}function Oc(t,e,n){return e.every((r,i)=>TE[n](t[i].parameters,r.parameters))}var ir=class{constructor(e=new le([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ys(this.queryParams),this._queryParamMap}toString(){return EO.serialize(this)}},le=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return kc(this)}},Jr=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=ys(this.parameters),this._parameterMap}toString(){return xE(this)}};function wO(t,e){return Xr(t,e)&&t.every((n,r)=>pn(n.parameters,e[r].parameters))}function Xr(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function bO(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===H&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==H&&(n=n.concat(e(i,r)))}),n}var Gp=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:()=>new xo,providedIn:"root"});let t=e;return t})(),xo=class{parse(e){let n=new Ep(e);return new ir(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${So(e.root,!0)}`,r=DO(e.queryParams),i=typeof e.fragment=="string"?`#${CO(e.fragment)}`:"";return`${n}${r}${i}`}},EO=new xo;function kc(t){return t.segments.map(e=>xE(e)).join("/")}function So(t,e){if(!t.hasChildren())return kc(t);if(e){let n=t.children[H]?So(t.children[H],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==H&&r.push(`${i}:${So(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=bO(t,(r,i)=>i===H?[So(t.children[H],!1)]:[`${i}:${So(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[H]!=null?`${kc(t)}/${n[0]}`:`${kc(t)}/(${n.join("//")})`}}function RE(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Rc(t){return RE(t).replace(/%3B/gi,";")}function CO(t){return encodeURI(t)}function bp(t){return RE(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Pc(t){return decodeURIComponent(t)}function vE(t){return Pc(t.replace(/\+/g,"%20"))}function xE(t){return`${bp(t.path)}${IO(t.parameters)}`}function IO(t){return Object.entries(t).map(([e,n])=>`;${bp(e)}=${bp(n)}`).join("")}function DO(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Rc(n)}=${Rc(i)}`).join("&"):`${Rc(n)}=${Rc(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var SO=/^[^\/()?;#]+/;function gp(t){let e=t.match(SO);return e?e[0]:""}var TO=/^[^\/()?;=#]+/;function AO(t){let e=t.match(TO);return e?e[0]:""}var MO=/^[^=?&#]+/;function NO(t){let e=t.match(MO);return e?e[0]:""}var RO=/^[^&#]+/;function xO(t){let e=t.match(RO);return e?e[0]:""}var Ep=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new le([],{}):new le([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[H]=new le(e,n)),r}parseSegment(){let e=gp(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new _(4009,!1);return this.capture(e),new Jr(Pc(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=AO(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=gp(this.remaining);i&&(r=i,this.capture(r))}e[Pc(n)]=Pc(r)}parseQueryParam(e){let n=NO(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=xO(this.remaining);o&&(r=o,this.capture(r))}let i=vE(n),s=vE(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=gp(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new _(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=H);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[H]:new le([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new _(4011,!1)}};function OE(t){return t.segments.length>0?new le([],{[H]:t}):t}function kE(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=kE(i);if(r===H&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new le(t.segments,e);return OO(n)}function OO(t){if(t.numberOfChildren===1&&t.children[H]){let e=t.children[H];return new le(t.segments.concat(e.segments),e.children)}return t}function Oo(t){return t instanceof ir}function kO(t,e,n=null,r=null){let i=PE(t);return FE(i,e,n,r)}function PE(t){let e;function n(s){let o={};for(let l of s.children){let c=n(l);o[l.outlet]=c}let a=new le(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=OE(r);return e??i}function FE(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return mp(i,i,i,n,r);let s=PO(e);if(s.toRoot())return mp(i,i,new le([],{}),n,r);let o=FO(s,i,t),a=o.processChildren?Mo(o.segmentGroup,o.index,s.commands):VE(o.segmentGroup,o.index,s.commands);return mp(i,o.segmentGroup,a,n,r)}function Fc(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function ko(t){return typeof t=="object"&&t!=null&&t.outlets}function mp(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let o;t===e?o=n:o=LE(t,e,n);let a=OE(kE(o));return new ir(a,s,i)}function LE(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=LE(s,e,n)}),new le(t.segments,r)}var Lc=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Fc(r[0]))throw new _(4003,!1);let i=r.find(ko);if(i&&i!==SE(r))throw new _(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function PO(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Lc(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new Lc(n,e,r)}var ps=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function FO(t,e,n){if(t.isAbsolute)return new ps(e,!0,0);if(!n)return new ps(e,!1,NaN);if(n.parent===null)return new ps(n,!0,0);let r=Fc(t.commands[0])?0:1,i=n.segments.length-1+r;return LO(n,i,t.numberOfDoubleDots)}function LO(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new _(4005,!1);i=r.segments.length}return new ps(r,!1,i-s)}function VO(t){return ko(t[0])?t[0].outlets:{[H]:t}}function VE(t,e,n){if(t??=new le([],{}),t.segments.length===0&&t.hasChildren())return Mo(t,e,n);let r=jO(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new le(t.segments.slice(0,r.pathIndex),{});return s.children[H]=new le(t.segments.slice(r.pathIndex),t.children),Mo(s,0,i)}else return r.match&&i.length===0?new le(t.segments,{}):r.match&&!t.hasChildren()?Cp(t,e,n):r.match?Mo(t,0,i):Cp(t,e,n)}function Mo(t,e,n){if(n.length===0)return new le(t.segments,{});{let r=VO(n),i={};if(Object.keys(r).some(s=>s!==H)&&t.children[H]&&t.numberOfChildren===1&&t.children[H].segments.length===0){let s=Mo(t.children[H],e,n);return new le(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=VE(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new le(t.segments,i)}}function jO(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(ko(a))break;let l=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!bE(l,c,o))return s;r+=2}else{if(!bE(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Cp(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(ko(s)){let l=UO(s.outlets);return new le(r,l)}if(i===0&&Fc(n[0])){let l=t.segments[e];r.push(new Jr(l.path,wE(n[0]))),i++;continue}let o=ko(s)?s.outlets[H]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Fc(a)?(r.push(new Jr(o,wE(a))),i+=2):(r.push(new Jr(o,{})),i++)}return new le(r,{})}function UO(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Cp(new le([],{}),0,r))}),e}function wE(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function bE(t,e,n){return t==n.path&&pn(e,n.parameters)}var No="imperative",He=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(He||{}),Mt=class{constructor(e,n){this.id=e,this.url=n}},Po=class extends Mt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=He.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},sr=class extends Mt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=He.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},wt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(wt||{}),Ip=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Ip||{}),xn=class extends Mt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=He.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ei=class extends Mt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=He.NavigationSkipped}},Fo=class extends Mt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=He.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Vc=class extends Mt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=He.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Dp=class extends Mt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=He.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Sp=class extends Mt{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=He.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Tp=class extends Mt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=He.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ap=class extends Mt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=He.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Mp=class{constructor(e){this.route=e,this.type=He.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Np=class{constructor(e){this.route=e,this.type=He.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Rp=class{constructor(e){this.snapshot=e,this.type=He.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},xp=class{constructor(e){this.snapshot=e,this.type=He.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Op=class{constructor(e){this.snapshot=e,this.type=He.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},kp=class{constructor(e){this.snapshot=e,this.type=He.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Lo=class{},_s=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};var Pp=class{constructor(e){this.injector=e,this.outlet=null,this.route=null,this.children=new Wc(this.injector),this.attachRef=null}},Wc=(()=>{let e=class e{constructor(r){this.parentInjector=r,this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Pp(this.parentInjector),this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)(T(Dt))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),jc=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Fp(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Fp(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Lp(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Lp(e,this._root).map(n=>n.value)}};function Fp(t,e){if(t===e.value)return e;for(let n of e.children){let r=Fp(t,n);if(r)return r}return null}function Lp(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Lp(t,n);if(r.length)return r.unshift(e),r}return[]}var vt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function fs(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Uc=class extends jc{constructor(e,n){super(e),this.snapshot=n,qp(this,e)}toString(){return this.snapshot.toString()}};function jE(t){let e=BO(t),n=new Be([new Jr("",{})]),r=new Be({}),i=new Be({}),s=new Be({}),o=new Be(""),a=new ti(n,r,s,o,i,H,t,e.root);return a.snapshot=e.root,new Uc(new vt(a,[]),e)}function BO(t){let e={},n={},r={},i="",s=new gs([],e,r,i,n,H,t,null,{});return new $c("",new vt(s,[]))}var ti=class{constructor(e,n,r,i,s,o,a,l){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(W(c=>c[$o]))??k(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(W(e=>ys(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(W(e=>ys(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Bc(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:b(b({},e.params),t.params),data:b(b({},e.data),t.data),resolve:b(b(b(b({},t.data),e.data),i?.data),t._resolvedData)}:r={params:b({},t.params),data:b({},t.data),resolve:b(b({},t.data),t._resolvedData??{})},i&&BE(i)&&(r.resolve[$o]=i.title),r}var gs=class{get title(){return this.data?.[$o]}constructor(e,n,r,i,s,o,a,l,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ys(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ys(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},$c=class extends jc{constructor(e,n){super(n),this.url=e,qp(this,n)}toString(){return UE(this._root)}};function qp(t,e){e.value._routerState=t,e.children.forEach(n=>qp(t,n))}function UE(t){let e=t.children.length>0?` { ${t.children.map(UE).join(", ")} } `:"";return`${t.value}${e}`}function yp(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,pn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),pn(e.params,n.params)||t.paramsSubject.next(n.params),mO(e.url,n.url)||t.urlSubject.next(n.url),pn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Vp(t,e){let n=pn(t.params,e.params)&&wO(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Vp(t.parent,e.parent))}function BE(t){return typeof t.title=="string"||t.title===null}var Kp=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=H,this.activateEvents=new ae,this.deactivateEvents=new ae,this.attachEvents=new ae,this.detachEvents=new ae,this.parentContexts=E(Wc),this.location=E(ns),this.changeDetector=E(ls),this.inputBinder=E(Yp,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new _(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new _(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new _(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new _(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new jp(r,l,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:c,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ie({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Xn]});let t=e;return t})(),jp=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===ti?this.route:e===Wc?this.childContexts:this.parent.get(e,n)}},Yp=new R("");function $O(t,e,n){let r=Vo(t,e._root,n?n._root:void 0);return new Uc(r,e)}function Vo(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=HO(t,e,n);return new vt(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Vo(t,a)),o}}let r=zO(e.value),i=e.children.map(s=>Vo(t,s));return new vt(r,i)}}function HO(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Vo(t,r,i);return Vo(t,r)})}function zO(t){return new ti(new Be(t.url),new Be(t.params),new Be(t.queryParams),new Be(t.fragment),new Be(t.data),t.outlet,t.component,t)}var jo=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},$E="ngNavigationCancelingError";function Hc(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Oo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=HE(!1,wt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function HE(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[$E]=!0,n.cancellationCode=e,n}function WO(t){return zE(t)&&Oo(t.url)}function zE(t){return!!t&&t[$E]}var GO=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Le({type:e,selectors:[["ng-component"]],standalone:!0,features:[je],decls:1,vars:0,template:function(i,s){i&1&&N(0,"router-outlet")},dependencies:[Kp],encapsulation:2});let t=e;return t})();function qO(t,e){return t.providers&&!t._injector&&(t._injector=Gf(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Qp(t){let e=t.children&&t.children.map(Qp),n=e?ee(b({},t),{children:e}):b({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==H&&(n.component=GO),n}function Wt(t){return t.outlet||H}function KO(t,e){let n=t.filter(r=>Wt(r)===e);return n.push(...t.filter(r=>Wt(r)!==e)),n}function Ho(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var YO=(t,e,n,r)=>W(i=>(new Up(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Up=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),yp(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=fs(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=fs(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=fs(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=fs(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new kp(s.value.snapshot))}),e.children.length&&this.forwardEvent(new xp(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(yp(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),yp(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=Ho(i.snapshot);o.attachRef=null,o.route=i,o.injector=a??o.injector,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},zc=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ms=class{constructor(e,n){this.component=e,this.route=n}};function QO(t,e,n){let r=t._root,i=e?e._root:null;return To(r,i,n,[r.value])}function ZO(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function ws(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!Pv(t)?t:e.get(t):r}function To(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=fs(e);return t.children.forEach(o=>{JO(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Ro(a,n.getContext(o),i)),i}function JO(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let l=XO(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new zc(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?To(t,e,a?a.children:null,r,i):To(t,e,n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ms(a.outlet.component,o))}else o&&Ro(e,a,i),i.canActivateChecks.push(new zc(r)),s.component?To(t,null,a?a.children:null,r,i):To(t,null,n,r,i);return i}function XO(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Xr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Xr(t.url,e.url)||!pn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Vp(t,e)||!pn(t.queryParams,e.queryParams);case"paramsChange":default:return!Vp(t,e)}}function Ro(t,e,n){let r=fs(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Ro(o,e.children.getContext(s),n):Ro(o,null,n):Ro(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new ms(e.outlet.component,i)):n.canDeactivateChecks.push(new ms(null,i)):n.canDeactivateChecks.push(new ms(null,i))}function zo(t){return typeof t=="function"}function ek(t){return typeof t=="boolean"}function tk(t){return t&&zo(t.canLoad)}function nk(t){return t&&zo(t.canActivate)}function rk(t){return t&&zo(t.canActivateChild)}function ik(t){return t&&zo(t.canDeactivate)}function sk(t){return t&&zo(t.canMatch)}function WE(t){return t instanceof Sn||t?.name==="EmptyError"}var xc=Symbol("INITIAL_VALUE");function vs(){return Vt(t=>fl(t.map(e=>e.pipe(Tn(1),th(xc)))).pipe(W(e=>{for(let n of e)if(n!==!0){if(n===xc)return xc;if(n===!1||ok(n))return n}return!0}),Lt(e=>e!==xc),Tn(1)))}function ok(t){return Oo(t)||t instanceof jo}function ak(t,e){return we(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?k(ee(b({},n),{guardsResult:!0})):lk(o,r,i,t).pipe(we(a=>a&&ek(a)?ck(r,s,t,e):k(a)),W(a=>ee(b({},n),{guardsResult:a})))})}function lk(t,e,n,r){return Ce(t).pipe(we(i=>pk(i.component,i.route,n,e,r)),en(i=>i!==!0,!0))}function ck(t,e,n,r){return Ce(e).pipe(Fi(i=>ki(dk(i.route.parent,r),uk(i.route,r),fk(t,i.path,n),hk(t,i.route,n))),en(i=>i!==!0,!0))}function uk(t,e){return t!==null&&e&&e(new Op(t)),k(!0)}function dk(t,e){return t!==null&&e&&e(new Rp(t)),k(!0)}function hk(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return k(!0);let i=r.map(s=>Pi(()=>{let o=Ho(e)??n,a=ws(s,o),l=nk(a)?a.canActivate(e,t):cn(o,()=>a(e,t));return or(l).pipe(en())}));return k(i).pipe(vs())}function fk(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>ZO(o)).filter(o=>o!==null).map(o=>Pi(()=>{let a=o.guards.map(l=>{let c=Ho(o.node)??n,u=ws(l,c),d=rk(u)?u.canActivateChild(r,t):cn(c,()=>u(r,t));return or(d).pipe(en())});return k(a).pipe(vs())}));return k(s).pipe(vs())}function pk(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return k(!0);let o=s.map(a=>{let l=Ho(e)??i,c=ws(a,l),u=ik(c)?c.canDeactivate(t,e,n,r):cn(l,()=>c(t,e,n,r));return or(u).pipe(en())});return k(o).pipe(vs())}function gk(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return k(!0);let s=i.map(o=>{let a=ws(o,t),l=tk(a)?a.canLoad(e,n):cn(t,()=>a(e,n));return or(l)});return k(s).pipe(vs(),GE(r))}function GE(t){return zd($e(e=>{if(typeof e!="boolean")throw Hc(t,e)}),W(e=>e===!0))}function mk(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return k(!0);let s=i.map(o=>{let a=ws(o,t),l=sk(a)?a.canMatch(e,n):cn(t,()=>a(e,n));return or(l)});return k(s).pipe(vs(),GE(r))}var Uo=class{constructor(e){this.segmentGroup=e||null}},Bo=class extends Error{constructor(e){super(),this.urlTree=e}};function hs(t){return Oi(new Uo(t))}function yk(t){return Oi(new _(4e3,!1))}function _k(t){return Oi(HE(!1,wt.GuardRejected))}var Bp=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return k(r);if(i.numberOfChildren>1||!i.children[H])return yk(`${e.redirectTo}`);i=i.children[H]}}applyRedirectCommands(e,n,r,i,s){if(typeof n!="string"){let a=n,{queryParams:l,fragment:c,routeConfig:u,url:d,outlet:h,params:f,data:p,title:m}=i,w=cn(s,()=>a({params:f,data:p,queryParams:l,fragment:c,routeConfig:u,url:d,outlet:h,title:m}));if(w instanceof ir)throw new Bo(w);n=w}let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Bo(o);return o}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new ir(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(e,l,r,i)}),new le(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new _(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},$p={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function vk(t,e,n,r,i){let s=Zp(t,e,n);return s.matched?(r=qO(e,r),mk(r,e,n,i).pipe(W(o=>o===!0?s:b({},$p)))):k(s)}function Zp(t,e,n){if(e.path==="**")return wk(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?b({},$p):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||gO)(n,t,e);if(!i)return b({},$p);let s={};Object.entries(i.posParams??{}).forEach(([a,l])=>{s[a]=l.path});let o=i.consumed.length>0?b(b({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function wk(t){return{matched:!0,parameters:t.length>0?SE(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function EE(t,e,n,r){return n.length>0&&Ck(t,n,r)?{segmentGroup:new le(e,Ek(r,new le(n,t.children))),slicedSegments:[]}:n.length===0&&Ik(t,n,r)?{segmentGroup:new le(t.segments,bk(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new le(t.segments,t.children),slicedSegments:n}}function bk(t,e,n,r){let i={};for(let s of n)if(Gc(t,e,s)&&!r[Wt(s)]){let o=new le([],{});i[Wt(s)]=o}return b(b({},r),i)}function Ek(t,e){let n={};n[H]=e;for(let r of t)if(r.path===""&&Wt(r)!==H){let i=new le([],{});n[Wt(r)]=i}return n}function Ck(t,e,n){return n.some(r=>Gc(t,e,r)&&Wt(r)!==H)}function Ik(t,e,n){return n.some(r=>Gc(t,e,r))}function Gc(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function Dk(t,e,n,r){return Wt(t)!==r&&(r===H||!Gc(e,n,t))?!1:Zp(e,t,n).matched}function Sk(t,e,n){return e.length===0&&!t.children[n]}var Hp=class{};function Tk(t,e,n,r,i,s,o="emptyOnly"){return new zp(t,e,n,r,i,o,s).recognize()}var Ak=31,zp=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Bp(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new _(4002,`'${e.segmentGroup}'`)}recognize(){let e=EE(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(W(({children:n,rootSnapshot:r})=>{let i=new vt(r,n),s=new $c("",i),o=kO(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let n=new gs([],Object.freeze({}),Object.freeze(b({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),H,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,H,n).pipe(W(r=>({children:r,rootSnapshot:n})),Hn(r=>{if(r instanceof Bo)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Uo?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,s):this.processSegment(e,n,r,r.segments,i,!0,s).pipe(W(o=>o instanceof vt?[o]:[]))}processChildren(e,n,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return Ce(s).pipe(Fi(o=>{let a=r.children[o],l=KO(n,o);return this.processSegmentGroup(e,l,a,o,i)}),eh((o,a)=>(o.push(...a),o)),zn(null),Xd(),we(o=>{if(o===null)return hs(r);let a=qE(o);return Mk(a),k(a)}))}processSegment(e,n,r,i,s,o,a){return Ce(n).pipe(Fi(l=>this.processSegmentAgainstRoute(l._injector??e,n,l,r,i,s,o,a).pipe(Hn(c=>{if(c instanceof Uo)return k(null);throw c}))),en(l=>!!l),Hn(l=>{if(WE(l))return Sk(r,i,s)?k(new Hp):hs(r);throw l}))}processSegmentAgainstRoute(e,n,r,i,s,o,a,l){return Dk(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o,l):hs(i):hs(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o,a){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:d,remainingSegments:h}=Zp(n,i,s);if(!l)return hs(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Ak&&(this.allowRedirects=!1));let f=new gs(s,c,Object.freeze(b({},this.urlTree.queryParams)),this.urlTree.fragment,CE(i),Wt(i),i.component??i._loadedComponent??null,i,IE(i)),p=Bc(f,a,this.paramsInheritanceStrategy);f.params=Object.freeze(p.params),f.data=Object.freeze(p.data);let m=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,f,e);return this.applyRedirects.lineralizeSegments(i,m).pipe(we(w=>this.processSegment(e,r,n,w.concat(h),o,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a=vk(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Vt(l=>l.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Vt(({routes:c})=>{let u=r._loadedInjector??e,{parameters:d,consumedSegments:h,remainingSegments:f}=l,p=new gs(h,d,Object.freeze(b({},this.urlTree.queryParams)),this.urlTree.fragment,CE(r),Wt(r),r.component??r._loadedComponent??null,r,IE(r)),m=Bc(p,o,this.paramsInheritanceStrategy);p.params=Object.freeze(m.params),p.data=Object.freeze(m.data);let{segmentGroup:w,slicedSegments:S}=EE(n,h,f,c);if(S.length===0&&w.hasChildren())return this.processChildren(u,c,w,p).pipe(W(L=>new vt(p,L)));if(c.length===0&&S.length===0)return k(new vt(p,[]));let K=Wt(r)===s;return this.processSegment(u,c,w,S,K?H:s,!0,p).pipe(W(L=>new vt(p,L instanceof vt?[L]:[])))}))):hs(n)))}getChildConfig(e,n,r){return n.children?k({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?k({routes:n._loadedRoutes,injector:n._loadedInjector}):gk(e,n,r,this.urlSerializer).pipe(we(i=>i?this.configLoader.loadChildren(e,n).pipe($e(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):_k(n))):k({routes:[],injector:e})}};function Mk(t){t.sort((e,n)=>e.value.outlet===H?-1:n.value.outlet===H?1:e.value.outlet.localeCompare(n.value.outlet))}function Nk(t){let e=t.value.routeConfig;return e&&e.path===""}function qE(t){let e=[],n=new Set;for(let r of t){if(!Nk(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=qE(r.children);e.push(new vt(r.value,i))}return e.filter(r=>!n.has(r))}function CE(t){return t.data||{}}function IE(t){return t.resolve||{}}function Rk(t,e,n,r,i,s){return we(o=>Tk(t,e,n,r,o.extractedUrl,i,s).pipe(W(({state:a,tree:l})=>ee(b({},o),{targetSnapshot:a,urlAfterRedirects:l}))))}function xk(t,e){return we(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return k(n);let s=new Set(i.map(l=>l.route)),o=new Set;for(let l of s)if(!o.has(l))for(let c of KE(l))o.add(c);let a=0;return Ce(o).pipe(Fi(l=>s.has(l)?Ok(l,r,t,e):(l.data=Bc(l,l.parent,t).resolve,k(void 0))),$e(()=>a++),Li(1),we(l=>a===o.size?k(n):pt))})}function KE(t){let e=t.children.map(n=>KE(n)).flat();return[t,...e]}function Ok(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!BE(i)&&(s[$o]=i.title),kk(s,t,e,r).pipe(W(o=>(t._resolvedData=o,t.data=Bc(t,t.parent,n).resolve,null)))}function kk(t,e,n,r){let i=wp(t);if(i.length===0)return k({});let s={};return Ce(i).pipe(we(o=>Pk(t[o],e,n,r).pipe(en(),$e(a=>{if(a instanceof jo)throw Hc(new xo,a);s[o]=a}))),Li(1),Jd(s),Hn(o=>WE(o)?pt:Oi(o)))}function Pk(t,e,n,r){let i=Ho(e)??r,s=ws(t,i),o=s.resolve?s.resolve(e,n):cn(i,()=>s(e,n));return or(o)}function _p(t){return Vt(e=>{let n=t(e);return n?Ce(n).pipe(W(()=>e)):k(e)})}var YE=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===H);return i}getResolvedTitleForRoute(r){return r.data[$o]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:()=>E(Fk),providedIn:"root"});let t=e;return t})(),Fk=(()=>{let e=class e extends YE{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(T(yE))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Jp=new R("",{providedIn:"root",factory:()=>({})}),Xp=new R(""),Lk=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=E(Jf)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return k(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=or(r.loadComponent()).pipe(W(QE),$e(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),ro(()=>{this.componentLoaders.delete(r)})),s=new xi(i,()=>new _e).pipe(Ri());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return k({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=Vk(i,this.compiler,r,this.onLoadEndListener).pipe(ro(()=>{this.childrenLoaders.delete(i)})),a=new xi(o,()=>new _e).pipe(Ri());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Vk(t,e,n,r){return or(t.loadChildren()).pipe(W(QE),we(i=>i instanceof po||Array.isArray(i)?k(i):Ce(e.compileModuleAsync(i))),W(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(Xp,[],{optional:!0,self:!0}).flat()),{routes:o.map(Qp),injector:s}}))}function jk(t){return t&&typeof t=="object"&&"default"in t}function QE(t){return jk(t)?t.default:t}var eg=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:()=>E(Uk),providedIn:"root"});let t=e;return t})(),Uk=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Bk=new R("");var $k=new R(""),Hk=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new _e,this.transitionAbortSubject=new _e,this.configLoader=E(Lk),this.environmentInjector=E(Dt),this.urlSerializer=E(Gp),this.rootContexts=E(Wc),this.location=E(bo),this.inputBindingEnabled=E(Yp,{optional:!0})!==null,this.titleStrategy=E(YE),this.options=E(Jp,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=E(eg),this.createViewTransition=E(Bk,{optional:!0}),this.navigationErrorHandler=E($k,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>k(void 0),this.rootComponentType=null;let r=s=>this.events.next(new Mp(s)),i=s=>this.events.next(new Np(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(ee(b(b({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new Be({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:No,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Lt(o=>o.id!==0),W(o=>ee(b({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Vt(o=>{let a=!1,l=!1;return k(o).pipe(Vt(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",wt.SupersededByNewNavigation),pt;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?ee(b({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=c.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!u&&d!=="reload"){let h="";return this.events.next(new ei(c.id,this.urlSerializer.serialize(c.rawUrl),h,Ip.IgnoredSameUrlNavigation)),c.resolve(!1),pt}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return k(c).pipe(Vt(h=>{let f=this.transitions?.getValue();return this.events.next(new Po(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?pt:Promise.resolve(h)}),Rk(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),$e(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=ee(b({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let f=new Vc(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:h,extractedUrl:f,source:p,restoredState:m,extras:w}=c,S=new Po(h,this.urlSerializer.serialize(f),p,m);this.events.next(S);let K=jE(this.rootComponentType).snapshot;return this.currentTransition=o=ee(b({},c),{targetSnapshot:K,urlAfterRedirects:f,extras:ee(b({},w),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,k(o)}else{let h="";return this.events.next(new ei(c.id,this.urlSerializer.serialize(c.extractedUrl),h,Ip.IgnoredByUrlHandlingStrategy)),c.resolve(!1),pt}}),$e(c=>{let u=new Dp(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),W(c=>(this.currentTransition=o=ee(b({},c),{guards:QO(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),ak(this.environmentInjector,c=>this.events.next(c)),$e(c=>{if(o.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw Hc(this.urlSerializer,c.guardsResult);let u=new Sp(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),Lt(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",wt.GuardRejected),!1)),_p(c=>{if(c.guards.canActivateChecks.length)return k(c).pipe($e(u=>{let d=new Tp(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),Vt(u=>{let d=!1;return k(u).pipe(xk(this.paramsInheritanceStrategy,this.environmentInjector),$e({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",wt.NoDataFromResolver)}}))}),$e(u=>{let d=new Ap(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),_p(c=>{let u=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe($e(f=>{d.component=f}),W(()=>{})));for(let f of d.children)h.push(...u(f));return h};return fl(u(c.targetSnapshot.root)).pipe(zn(null),Tn(1))}),_p(()=>this.afterPreactivation()),Vt(()=>{let{currentSnapshot:c,targetSnapshot:u}=o,d=this.createViewTransition?.(this.environmentInjector,c.root,u.root);return d?Ce(d).pipe(W(()=>o)):k(o)}),W(c=>{let u=$O(r.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=ee(b({},c),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,o}),$e(()=>{this.events.next(new Lo)}),YO(this.rootContexts,r.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Tn(1),$e({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new sr(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),nh(this.transitionAbortSubject.pipe($e(c=>{throw c}))),ro(()=>{!a&&!l&&this.cancelNavigationTransition(o,"",wt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Hn(c=>{if(l=!0,zE(c))this.events.next(new xn(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),WO(c)?this.events.next(new _s(c.url,c.navigationBehaviorOptions)):o.resolve(!1);else{let u=new Fo(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0);try{let d=cn(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(d instanceof jo){let{message:h,cancellationCode:f}=Hc(this.urlSerializer,d);this.events.next(new xn(o.id,this.urlSerializer.serialize(o.extractedUrl),h,f)),this.events.next(new _s(d.redirectTo,d.navigationBehaviorOptions))}else{this.events.next(u);let h=r.errorHandler(c);o.resolve(!!h)}}catch(d){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(d)}}return pt}))}))}cancelNavigationTransition(r,i,s){let o=new xn(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function zk(t){return t!==No}var Wk=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:()=>E(Gk),providedIn:"root"});let t=e;return t})(),Wp=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},Gk=(()=>{let e=class e extends Wp{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=tr(e)))(s||e)}})(),e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ZE=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:()=>E(qk),providedIn:"root"});let t=e;return t})(),qk=(()=>{let e=class e extends ZE{constructor(){super(...arguments),this.location=E(bo),this.urlSerializer=E(Gp),this.options=E(Jp,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=E(eg),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new ir,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=jE(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Po)this.stateMemento=this.createStateMemento();else if(r instanceof ei)this.rawUrlTree=i.initialUrl;else if(r instanceof Vc){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof Lo?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof xn&&(r.code===wt.GuardRejected||r.code===wt.NoDataFromResolver)?this.restoreHistory(i):r instanceof Fo?this.restoreHistory(i,!0):r instanceof sr&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=b(b({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=b(b({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=tr(e)))(s||e)}})(),e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ao=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Ao||{});function Kk(t,e){t.events.pipe(Lt(n=>n instanceof sr||n instanceof xn||n instanceof Fo||n instanceof ei),W(n=>n instanceof sr||n instanceof ei?Ao.COMPLETE:(n instanceof xn?n.code===wt.Redirect||n.code===wt.SupersededByNewNavigation:!1)?Ao.REDIRECTING:Ao.FAILED),Lt(n=>n!==Ao.REDIRECTING),Tn(1)).subscribe(()=>{e()})}function Yk(t){throw t}var Qk={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Zk={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},On=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=E(Ec),this.stateManager=E(ZE),this.options=E(Jp,{optional:!0})||{},this.pendingTasks=E(rs),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=E(Hk),this.urlSerializer=E(Gp),this.location=E(bo),this.urlHandlingStrategy=E(eg),this._events=new _e,this.errorHandler=this.options.errorHandler||Yk,this.navigated=!1,this.routeReuseStrategy=E(Wk),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=E(Xp,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!E(Yp,{optional:!0}),this.eventsSubscription=new Te,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof xn&&i.code!==wt.Redirect&&i.code!==wt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof sr)this.navigated=!0;else if(i instanceof _s){let a=i.navigationBehaviorOptions,l=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),c=b({info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||this.urlUpdateStrategy==="eager"||zk(s.source)},a);this.scheduleNavigation(l,No,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}Xk(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),No,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let c=b({},s);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let l=this.parseUrl(r);this.scheduleNavigation(l,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Qp),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:l,preserveFragment:c}=i,u=c?this.currentUrlTree.fragment:a,d=null;switch(l){case"merge":d=b(b({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let f=s?s.snapshot:this.routerState.snapshot.root;h=PE(f)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),h=this.currentUrlTree.root}return FE(h,r,d,u??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=Oo(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,No,null,i)}navigate(r,i={skipLocationChange:!1}){return Jk(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=b({},Qk):i===!1?s=b({},Zk):s=i,Oo(r))return _E(this.currentUrlTree,r,s);let o=this.parseUrl(r);return _E(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let l,c,u;a?(l=a.resolve,c=a.reject,u=a.promise):u=new Promise((h,f)=>{l=h,c=f});let d=this.pendingTasks.add();return Kk(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:l,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(h=>Promise.reject(h))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Jk(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new _(4008,!1)}function Xk(t){return!(t instanceof Lo)&&!(t instanceof _s)}var JE=(()=>{let e=class e{constructor(r,i,s,o,a,l){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=l,this.href=null,this.commands=null,this.onChanges=new _e,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let c=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=r.events.subscribe(u=>{u instanceof sr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,s,o,a){let l=this.urlTree;if(l===null||this.isAnchorElement&&(r!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(l,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:Qw(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(A(On),A(ti),Df("tabindex"),A(hn),A($t),A(us))},e.\u0275dir=Ie({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&j("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&vc("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",cs],skipLocationChange:[2,"skipLocationChange","skipLocationChange",cs],replaceUrl:[2,"replaceUrl","replaceUrl",cs],routerLink:"routerLink"},standalone:!0,features:[Wf,Xn]});let t=e;return t})();var eP=new R("");function XE(t,...e){return ec([{provide:Xp,multi:!0,useValue:t},[],{provide:ti,useFactory:tP,deps:[On]},{provide:Dc,multi:!0,useFactory:nP},e.map(n=>n.\u0275providers)])}function tP(t){return t.routerState.root}function nP(){let t=E(Yn);return e=>{let n=t.get(nr);if(e!==n.components[0])return;let r=t.get(On),i=t.get(rP);t.get(iP)===1&&r.initialNavigation(),t.get(sP,null,G.Optional)?.setUpPreloading(),t.get(eP,null,G.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var rP=new R("",{factory:()=>new _e}),iP=new R("",{providedIn:"root",factory:()=>1});var sP=new R("");var rg={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var v=function(t,e){if(!t)throw ni(e)},ni=function(t){return new Error("Firebase Database ("+rg.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};var tC=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},oP=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Kc={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=s>>2,d=(s&3)<<4|a>>4,h=(a&15)<<2|c>>6,f=c&63;l||(f=64,o||(h=64)),r.push(n[u],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(tC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):oP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let c=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||d==null)throw new ig;let h=s<<2|a>>4;if(r.push(h),c!==64){let f=a<<4&240|c>>2;if(r.push(f),d!==64){let p=c<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},ig=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},og=function(t){let e=tC(t);return Kc.encodeByteArray(e,!0)},Wo=function(t){return og(t).replace(/\./g,"")},Go=function(t){try{return Kc.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function nC(t){return rC(void 0,t)}function rC(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(let n in e)!e.hasOwnProperty(n)||!aP(n)||(t[n]=rC(t[n],e[n]));return t}function aP(t){return t!=="__proto__"}function lP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var cP=()=>lP().__FIREBASE_DEFAULTS__,uP=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},dP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Go(t[1]);return e&&JSON.parse(e)},ag=()=>{try{return cP()||uP()||dP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},lg=t=>{var e,n;return(n=(e=ag())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},iC=t=>{let e=lg(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},cg=()=>{var t;return(t=ag())===null||t===void 0?void 0:t.config},ug=t=>{var e;return(e=ag())===null||e===void 0?void 0:e[`_${t}`]};var ar=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function sC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Wo(JSON.stringify(n)),Wo(JSON.stringify(o)),""].join(".")}function ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qo(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ze())}function oC(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Yc(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function aC(){let t=ze();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function gn(){return rg.NODE_CLIENT===!0||rg.NODE_ADMIN===!0}function lC(){try{return typeof indexedDB=="object"}catch{return!1}}function cC(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var hP="FirebaseError",Gt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=hP,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,kn.prototype.create)}},kn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?fP(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Gt(i,a,r)}};function fP(t,e){return t.replace(pP,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var pP=/\{\$([^}]+)}/g;function bs(t){return JSON.parse(t)}function Re(t){return JSON.stringify(t)}var uC=function(t){let e={},n={},r={},i="";try{let s=t.split(".");e=bs(Go(s[0])||""),n=bs(Go(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}};var dC=function(t){let e=uC(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},hC=function(t){let e=uC(t).claims;return typeof e=="object"&&e.admin===!0};function mn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ri(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Ko(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Yo(t,e,n){let r={};for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Es(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(eC(s)&&eC(o)){if(!Es(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function eC(t){return t!==null&&typeof t=="object"}function ii(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Cs(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Is(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}var qc=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);let r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){let h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let d=0;d<80;d++){d<40?d<20?(c=a^s&(o^a),u=1518500249):(c=s^o^a,u=1859775393):d<60?(c=s&o|a&(s|o),u=2400959708):(c=s^o^a,u=3395469782);let h=(i<<5|i>>>27)+c+l+u+r[d]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);let r=n-this.blockSize,i=0,s=this.buf_,o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){let e=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}};function fC(t,e){let n=new sg(t,e);return n.subscribe.bind(n)}var sg=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");gP(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=ng),i.error===void 0&&(i.error=ng),i.complete===void 0&&(i.complete=ng);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function gP(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ng(){}function Qc(t,e){return`${t} failed: ${e} argument `}var pC=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){let s=i-55296;r++,v(r<t.length,"Surrogate pair missing trail surrogate.");let o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Qo=function(t){let e=0;for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};var rW=4*60*60*1e3;function Ke(t){return t&&t._delegate?t._delegate:t}var Nt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var si="[DEFAULT]";var Zc=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new ar;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(yP(e))try{this.getOrInitializeService({instanceIdentifier:si})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=si){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return g(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=si){return this.instances.has(e)}getOptions(e=si){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:mP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=si){return this.component?this.component.multipleInstances?e:si:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function mP(t){return t===si?void 0:t}function yP(t){return t.instantiationMode==="EAGER"}var Zo=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Zc(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var _P=[],de=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(de||{}),vP={debug:de.DEBUG,verbose:de.VERBOSE,info:de.INFO,warn:de.WARN,error:de.ERROR,silent:de.SILENT},wP=de.INFO,bP={[de.DEBUG]:"log",[de.VERBOSE]:"log",[de.INFO]:"info",[de.WARN]:"warn",[de.ERROR]:"error"},EP=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=bP[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},lr=class{constructor(e){this.name=e,this._logLevel=wP,this._logHandler=EP,this._userLogHandler=null,_P.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in de))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?vP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,de.DEBUG,...e),this._logHandler(this,de.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,de.VERBOSE,...e),this._logHandler(this,de.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,de.INFO,...e),this._logHandler(this,de.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,de.WARN,...e),this._logHandler(this,de.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,de.ERROR,...e),this._logHandler(this,de.ERROR,...e)}};var CP=(t,e)=>e.some(n=>t instanceof n),gC,mC;function IP(){return gC||(gC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function DP(){return mC||(mC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var yC=new WeakMap,hg=new WeakMap,_C=new WeakMap,dg=new WeakMap,pg=new WeakMap;function SP(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(yn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&yC.set(n,t)}).catch(()=>{}),pg.set(e,t),e}function TP(t){if(hg.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});hg.set(t,e)}var fg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return hg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||_C.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return yn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function vC(t){fg=t(fg)}function AP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Jc(this),e,...n);return _C.set(r,e.sort?e.sort():[e]),yn(r)}:DP().includes(t)?function(...e){return t.apply(Jc(this),e),yn(yC.get(this))}:function(...e){return yn(t.apply(Jc(this),e))}}function MP(t){return typeof t=="function"?AP(t):(t instanceof IDBTransaction&&TP(t),CP(t,IP())?new Proxy(t,fg):t)}function yn(t){if(t instanceof IDBRequest)return SP(t);if(dg.has(t))return dg.get(t);let e=MP(t);return e!==t&&(dg.set(t,e),pg.set(e,t)),e}var Jc=t=>pg.get(t);function bC(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=yn(o);return r&&o.addEventListener("upgradeneeded",l=>{r(yn(o.result),l.oldVersion,l.newVersion,yn(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}var NP=["get","getKey","getAll","getAllKeys","count"],RP=["put","add","delete","clear"],gg=new Map;function wC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(gg.get(e))return gg.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=RP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||NP.includes(n)))return;let s=function(o,...a){return g(this,null,function*(){let l=this.transaction(o,i?"readwrite":"readonly"),c=l.store;return r&&(c=c.index(a.shift())),(yield Promise.all([c[n](...a),i&&l.done]))[0]})};return gg.set(e,s),s}vC(t=>ee(b({},t),{get:(e,n,r)=>wC(e,n)||t.get(e,n,r),has:(e,n)=>!!wC(e,n)||t.has(e,n)}));var yg=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(xP(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function xP(t){let e=t.getComponent();return e?.type==="VERSION"}var _g="@firebase/app",EC="0.10.5";var oi=new lr("@firebase/app"),OP="@firebase/app-compat",kP="@firebase/analytics-compat",PP="@firebase/analytics",FP="@firebase/app-check-compat",LP="@firebase/app-check",VP="@firebase/auth",jP="@firebase/auth-compat",UP="@firebase/database",BP="@firebase/database-compat",$P="@firebase/functions",HP="@firebase/functions-compat",zP="@firebase/installations",WP="@firebase/installations-compat",GP="@firebase/messaging",qP="@firebase/messaging-compat",KP="@firebase/performance",YP="@firebase/performance-compat",QP="@firebase/remote-config",ZP="@firebase/remote-config-compat",JP="@firebase/storage",XP="@firebase/storage-compat",e1="@firebase/firestore",t1="@firebase/vertexai-preview",n1="@firebase/firestore-compat",r1="firebase",i1="10.12.2";var vg="[DEFAULT]",s1={[_g]:"fire-core",[OP]:"fire-core-compat",[PP]:"fire-analytics",[kP]:"fire-analytics-compat",[LP]:"fire-app-check",[FP]:"fire-app-check-compat",[VP]:"fire-auth",[jP]:"fire-auth-compat",[UP]:"fire-rtdb",[BP]:"fire-rtdb-compat",[$P]:"fire-fn",[HP]:"fire-fn-compat",[zP]:"fire-iid",[WP]:"fire-iid-compat",[GP]:"fire-fcm",[qP]:"fire-fcm-compat",[KP]:"fire-perf",[YP]:"fire-perf-compat",[QP]:"fire-rc",[ZP]:"fire-rc-compat",[JP]:"fire-gcs",[XP]:"fire-gcs-compat",[e1]:"fire-fst",[n1]:"fire-fst-compat",[t1]:"fire-vertex","fire-js":"fire-js",[r1]:"fire-js-all"};var Xc=new Map,o1=new Map,wg=new Map;function CC(t,e){try{t.container.addComponent(e)}catch(n){oi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ur(t){let e=t.name;if(wg.has(e))return oi.debug(`There were multiple attempts to register component ${e}.`),!1;wg.set(e,t);for(let n of Xc.values())CC(n,t);for(let n of o1.values())CC(n,t);return!0}function Xo(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function _n(t){return t.settings!==void 0}var a1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},cr=new kn("app","Firebase",a1);var bg=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Nt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw cr.create("app-deleted",{appName:this._name})}};var dr=i1;function Ig(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:vg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw cr.create("bad-app-name",{appName:String(i)});if(n||(n=cg()),!n)throw cr.create("no-options");let s=Xc.get(i);if(s){if(Es(n,s.options)&&Es(r,s.config))return s;throw cr.create("duplicate-app",{appName:i})}let o=new Zo(i);for(let l of wg.values())o.addComponent(l);let a=new bg(n,r,o);return Xc.set(i,a),a}function eu(t=vg){let e=Xc.get(t);if(!e&&t===vg&&cg())return Ig();if(!e)throw cr.create("no-app",{appName:t});return e}function qt(t,e,n){var r;let i=(r=s1[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),oi.warn(a.join(" "));return}ur(new Nt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var l1="firebase-heartbeat-database",c1=1,Jo="firebase-heartbeat-store",mg=null;function TC(){return mg||(mg=bC(l1,c1,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Jo)}catch(n){console.warn(n)}}}}).catch(t=>{throw cr.create("idb-open",{originalErrorMessage:t.message})})),mg}function u1(t){return g(this,null,function*(){try{let n=(yield TC()).transaction(Jo),r=yield n.objectStore(Jo).get(AC(t));return yield n.done,r}catch(e){if(e instanceof Gt)oi.warn(e.message);else{let n=cr.create("idb-get",{originalErrorMessage:e?.message});oi.warn(n.message)}}})}function IC(t,e){return g(this,null,function*(){try{let r=(yield TC()).transaction(Jo,"readwrite");yield r.objectStore(Jo).put(e,AC(t)),yield r.done}catch(n){if(n instanceof Gt)oi.warn(n.message);else{let r=cr.create("idb-set",{originalErrorMessage:n?.message});oi.warn(r.message)}}})}function AC(t){return`${t.name}!${t.options.appId}`}var d1=1024,h1=30*24*60*60*1e3,Eg=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Cg(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return g(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=DC();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=h1}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return g(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=DC(),{heartbeatsToSend:r,unsentEntries:i}=f1(this._heartbeatsCache.heartbeats),s=Wo(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function DC(){return new Date().toISOString().substring(0,10)}function f1(t,e=d1){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),SC(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),SC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Cg=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return g(this,null,function*(){return lC()?cC().then(()=>!0).catch(()=>!1):!1})}read(){return g(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield u1(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return g(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return IC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return g(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return IC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function SC(t){return Wo(JSON.stringify({version:2,heartbeats:t})).length}function p1(t){ur(new Nt("platform-logger",e=>new yg(e),"PRIVATE")),ur(new Nt("heartbeat",e=>new Eg(e),"PRIVATE")),qt(_g,EC,t),qt(_g,EC,"esm2017"),qt("fire-js","")}p1("");function GC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var qC=GC,KC=new kn("auth","Firebase",GC());var ou=new lr("@firebase/auth");function g1(t,...e){ou.logLevel<=de.WARN&&ou.warn(`Auth (${dr}): ${t}`,...e)}function nu(t,...e){ou.logLevel<=de.ERROR&&ou.error(`Auth (${dr}): ${t}`,...e)}function wn(t,...e){throw Gg(t,...e)}function ai(t,...e){return Gg(t,...e)}function YC(t,e,n){let r=Object.assign(Object.assign({},qC()),{[e]:n});return new kn("auth","Firebase",r).create(e,{appName:t.name})}function fr(t){return YC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Gg(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return KC.create(t,...e)}function O(t,e,...n){if(!t)throw Gg(e,...n)}function Pn(t){let e="INTERNAL ASSERTION FAILED: "+t;throw nu(e),new Error(e)}function pr(t,e){t||Pn(e)}function Ag(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function m1(){return MC()==="http:"||MC()==="https:"}function MC(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function y1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(m1()||oC()||"connection"in navigator)?navigator.onLine:!0}function _1(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var li=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,pr(n>e,"Short delay should be less than long delay!"),this.isMobile=qo()||Yc()}get(){return y1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function qg(t,e){pr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var au=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Pn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Pn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Pn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var v1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var w1=new li(3e4,6e4);function ui(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function gr(s,o,a,l){return g(this,arguments,function*(t,e,n,r,i={}){return QC(t,i,()=>g(this,null,function*(){let c={},u={};r&&(e==="GET"?u=r:c={body:JSON.stringify(r)});let d=ii(Object.assign({key:t.config.apiKey},u)).slice(1),h=yield t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),au.fetch()(ZC(t,t.config.apiHost,n,d),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},c))}))})}function QC(t,e,n){return g(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},v1),e);try{let i=new Mg(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw tu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw tu(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw tu(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw tu(t,"user-disabled",o);let u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw YC(t,u,c);wn(t,u)}}catch(i){if(i instanceof Gt)throw i;wn(t,"network-request-failed",{message:String(i)})}})}function yu(s,o,a,l){return g(this,arguments,function*(t,e,n,r,i={}){let c=yield gr(t,e,n,r,i);return"mfaPendingCredential"in c&&wn(t,"multi-factor-auth-required",{_serverResponse:c}),c})}function ZC(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?qg(t.config,i):`${t.config.apiScheme}://${i}`}function b1(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Mg=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ai(this.auth,"network-request-failed")),w1.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function tu(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=ai(t,e,r);return i.customData._tokenResponse=n,i}function NC(t){return t!==void 0&&t.enterprise!==void 0}var Ng=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return b1(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function E1(t,e){return g(this,null,function*(){return gr(t,"GET","/v2/recaptchaConfig",ui(t,e))})}function C1(t,e){return g(this,null,function*(){return gr(t,"POST","/v1/accounts:delete",e)})}function JC(t,e){return g(this,null,function*(){return gr(t,"POST","/v1/accounts:lookup",e)})}function ea(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function XC(t,e=!1){return g(this,null,function*(){let n=Ke(t),r=yield n.getIdToken(e),i=Kg(r);O(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:ea(Dg(i.auth_time)),issuedAtTime:ea(Dg(i.iat)),expirationTime:ea(Dg(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Dg(t){return Number(t)*1e3}function Kg(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return nu("JWT malformed, contained fewer than 3 sections"),null;try{let i=Go(n);return i?JSON.parse(i):(nu("Failed to decode base64 JWT payload"),null)}catch(i){return nu("Caught error parsing JWT payload as JSON",i?.toString()),null}}function RC(t){let e=Kg(t);return O(e,"internal-error"),O(typeof e.exp<"u","internal-error"),O(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function na(t,e,n=!1){return g(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Gt&&I1(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function I1({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Rg=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>g(this,null,function*(){yield this.iteration()}),n)}iteration(){return g(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var ra=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ea(this.lastLoginAt),this.creationTime=ea(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function lu(t){return g(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield na(t,JC(n,{idToken:r}));O(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?tI(s.providerUserInfo):[],a=D1(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!a?.length,u=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new ra(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)})}function eI(t){return g(this,null,function*(){let e=Ke(t);yield lu(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function D1(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function tI(t){return t.map(e=>{var{providerId:n}=e,r=Kd(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function S1(t,e){return g(this,null,function*(){let n=yield QC(t,{},()=>g(this,null,function*(){let r=ii({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=ZC(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",au.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function T1(t,e){return g(this,null,function*(){return gr(t,"POST","/v2/accounts:revokeToken",ui(t,e))})}var ta=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){O(e.idToken,"internal-error"),O(typeof e.idToken<"u","internal-error"),O(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):RC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){O(e.length!==0,"internal-error");let n=RC(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return g(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(O(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return g(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield S1(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(O(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(O(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(O(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Pn("not implemented")}};function hr(t,e){O(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Ds=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Kd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Rg(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ra(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return g(this,null,function*(){let n=yield na(this,this.stsTokenManager.getToken(this.auth,e));return O(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return XC(this,e)}reload(){return eI(this)}_assign(e){this!==e&&(O(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){O(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return g(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield lu(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return g(this,null,function*(){if(_n(this.auth.app))return Promise.reject(fr(this.auth));let e=yield this.getIdToken();return yield na(this,C1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,u;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,S=(c=n.createdAt)!==null&&c!==void 0?c:void 0,K=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:L,emailVerified:ie,isAnonymous:We,providerData:pe,stsTokenManager:ye}=n;O(L&&ye,e,"internal-error");let Se=ta.fromJSON(this.name,ye);O(typeof L=="string",e,"internal-error"),hr(d,e.name),hr(h,e.name),O(typeof ie=="boolean",e,"internal-error"),O(typeof We=="boolean",e,"internal-error"),hr(f,e.name),hr(p,e.name),hr(m,e.name),hr(w,e.name),hr(S,e.name),hr(K,e.name);let dt=new t({uid:L,auth:e,email:h,emailVerified:ie,displayName:d,isAnonymous:We,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:Se,createdAt:S,lastLoginAt:K});return pe&&Array.isArray(pe)&&(dt.providerData=pe.map(Jt=>Object.assign({},Jt))),w&&(dt._redirectEventId=w),dt}static _fromIdTokenResponse(e,n,r=!1){return g(this,null,function*(){let i=new ta;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield lu(s),s})}static _fromGetAccountInfoResponse(e,n,r){return g(this,null,function*(){let i=n.users[0];O(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?tI(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new ta;a.updateFromIdToken(r);let l=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new ra(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(l,c),l})}};var xC=new Map;function Fn(t){pr(t instanceof Function,"Expected a class definition");let e=xC.get(t);return e?(pr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,xC.set(t,e),e)}var A1=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return g(this,null,function*(){return!0})}_set(n,r){return g(this,null,function*(){this.storage[n]=r})}_get(n){return g(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return g(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),xg=A1;function ru(t,e,n){return`firebase:${t}:${e}:${n}`}var cu=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=ru(this.userKey,i.apiKey,s),this.fullPersistenceKey=ru("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return g(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Ds._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return g(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return g(this,null,function*(){if(!n.length)return new t(Fn(xg),e,r);let i=(yield Promise.all(n.map(c=>g(this,null,function*(){if(yield c._isAvailable())return c})))).filter(c=>c),s=i[0]||Fn(xg),o=ru(r,e.config.apiKey,e.name),a=null;for(let c of n)try{let u=yield c._get(o);if(u){let d=Ds._fromJSON(e,u);c!==s&&(a=d),s=c;break}}catch{}let l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new t(s,e,r):(s=l[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(c=>g(this,null,function*(){if(c!==s)try{yield c._remove(o)}catch{}}))),new t(s,e,r))})}};function OC(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(iI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(nI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(oI(e))return"Blackberry";if(aI(e))return"Webos";if(Yg(e))return"Safari";if((e.includes("chrome/")||rI(e))&&!e.includes("edge/"))return"Chrome";if(sI(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function nI(t=ze()){return/firefox\//i.test(t)}function Yg(t=ze()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rI(t=ze()){return/crios\//i.test(t)}function iI(t=ze()){return/iemobile/i.test(t)}function sI(t=ze()){return/android/i.test(t)}function oI(t=ze()){return/blackberry/i.test(t)}function aI(t=ze()){return/webos/i.test(t)}function _u(t=ze()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function M1(t=ze()){var e;return _u(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function N1(){return aC()&&document.documentMode===10}function lI(t=ze()){return _u(t)||sI(t)||aI(t)||oI(t)||/windows phone/i.test(t)||iI(t)}function R1(){try{return!!(window&&window!==window.top)}catch{return!1}}function cI(t,e=[]){let n;switch(t){case"Browser":n=OC(ze());break;case"Worker":n=`${OC(ze())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${dr}/${r}`}var Og=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return g(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function x1(n){return g(this,arguments,function*(t,e={}){return gr(t,"GET","/v2/passwordPolicy",ui(t,e))})}var O1=6,kg=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:O1,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Pg=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new uu(this),this.idTokenSubscription=new uu(this),this.beforeStateQueue=new Og(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=KC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Fn(n)),this._initializationPromise=this.queue(()=>g(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield cu.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return g(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return g(this,null,function*(){try{let n=yield JC(this,{idToken:e}),r=yield Ds._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return g(this,null,function*(){var n;if(_n(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,l=yield this.tryRedirectSignIn(e);(!o||o===a)&&l?.user&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return O(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return g(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return g(this,null,function*(){try{yield lu(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=_1()}_delete(){return g(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return g(this,null,function*(){if(_n(this.app))return Promise.reject(fr(this));let n=e?Ke(e):null;return n&&O(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return g(this,null,function*(){if(!this._deleted)return e&&O(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>g(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return g(this,null,function*(){return _n(this.app)?Promise.reject(fr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return _n(this.app)?Promise.reject(fr(this)):this.queue(()=>g(this,null,function*(){yield this.assertedPersistence.setPersistence(Fn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return g(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return g(this,null,function*(){let e=yield x1(this),n=new kg(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new kn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return g(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield T1(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return g(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return g(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Fn(e)||this._popupRedirectResolver;O(n,this,"argument-error"),this.redirectPersistenceManager=yield cu.create(this,[Fn(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return g(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>g(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return g(this,null,function*(){if(e===this.currentUser)return this.queue(()=>g(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(O(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{let l=e.addObserver(n);return()=>{o=!0,l()}}}directlySetCurrentUser(e){return g(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return O(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=cI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return g(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return g(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&g1(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Ss(t){return Ke(t)}var uu=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=fC(n=>this.observer=n)}get next(){return O(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var vu={loadJS(){return g(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function k1(t){vu=t}function uI(t){return vu.loadJS(t)}function P1(){return vu.recaptchaEnterpriseScript}function F1(){return vu.gapiScript}function dI(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var L1="recaptcha-enterprise",V1="NO_RECAPTCHA",Fg=class{constructor(e){this.type=L1,this.auth=Ss(e)}verify(e="verify",n=!1){return g(this,null,function*(){function r(s){return g(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>g(this,null,function*(){E1(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let c=new Ng(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})}))})}function i(s,o,a){let l=window.grecaptcha;NC(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(V1)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&NC(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=P1();l.length!==0&&(l+=a),uI(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})})}};function kC(t,e,n,r=!1){return g(this,null,function*(){let i=new Fg(t),s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function PC(t,e,n,r){return g(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield kC(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(s=>g(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield kC(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)}))})}function hI(t,e){let n=Xo(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(Es(s,e??{}))return i;wn(i,"already-initialized")}return n.initialize({options:e})}function j1(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Fn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function fI(t,e,n){let r=Ss(t);O(r._canInitEmulator,r,"emulator-config-failed"),O(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=pI(e),{host:o,port:a}=U1(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||B1()}function pI(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function U1(t){let e=pI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:FC(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:FC(o)}}}function FC(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function B1(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var ia=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Pn("not implemented")}_getIdTokenResponse(e){return Pn("not implemented")}_linkToIdToken(e,n){return Pn("not implemented")}_getReauthenticationResolver(e){return Pn("not implemented")}};function $1(t,e){return g(this,null,function*(){return gr(t,"POST","/v1/accounts:signUp",e)})}function H1(t,e){return g(this,null,function*(){return yu(t,"POST","/v1/accounts:signInWithPassword",ui(t,e))})}function z1(t,e){return g(this,null,function*(){return yu(t,"POST","/v1/accounts:signInWithEmailLink",ui(t,e))})}function W1(t,e){return g(this,null,function*(){return yu(t,"POST","/v1/accounts:signInWithEmailLink",ui(t,e))})}var sa=class t extends ia{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return g(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return PC(e,n,"signInWithPassword",H1);case"emailLink":return z1(e,{email:this._email,oobCode:this._password});default:wn(e,"internal-error")}})}_linkToIdToken(e,n){return g(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return PC(e,r,"signUpPassword",$1);case"emailLink":return W1(e,{idToken:n,email:this._email,oobCode:this._password});default:wn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Sg(t,e){return g(this,null,function*(){return yu(t,"POST","/v1/accounts:signInWithIdp",ui(t,e))})}function G1(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function q1(t){let e=Cs(Is(t)).link,n=e?Cs(Is(e)).deep_link_id:null,r=Cs(Is(t)).deep_link_id;return(r?Cs(Is(r)).link:null)||r||n||e||t}var du=class t{constructor(e){var n,r,i,s,o,a;let l=Cs(Is(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,d=G1((i=l.mode)!==null&&i!==void 0?i:null);O(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=q1(e);try{return new t(n)}catch{return null}}};var gI=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return sa._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=du.parseLink(r);return O(i,"argument-error"),sa._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),hu=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Lg=class extends hu{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var oa=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return g(this,null,function*(){let s=yield Ds._fromIdTokenResponse(e,r,i),o=LC(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return g(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=LC(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function LC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Vg=class t extends Gt{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function mI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Vg._fromErrorAndOperation(t,s,e,r):s})}function K1(t,e,n=!1){return g(this,null,function*(){let r=yield na(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return oa._forOperation(t,"link",r)})}function Y1(t,e,n=!1){return g(this,null,function*(){let{auth:r}=t;if(_n(r.app))return Promise.reject(fr(r));let i="reauthenticate";try{let s=yield na(t,mI(r,i,e,t),n);O(s.idToken,r,"internal-error");let o=Kg(s.idToken);O(o,r,"internal-error");let{sub:a}=o;return O(t.uid===a,r,"user-mismatch"),oa._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&wn(r,"user-mismatch"),s}})}function yI(t,e,n=!1){return g(this,null,function*(){if(_n(t.app))return Promise.reject(fr(t));let r="signIn",i=yield mI(t,r,e),s=yield oa._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function _I(t,e){return g(this,null,function*(){return yI(Ss(t),e)})}function Q1(t){return g(this,null,function*(){let e=Ss(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Qg(t,e,n){return _n(t.app)?Promise.reject(fr(t)):_I(Ke(t),gI.credential(e,n)).catch(r=>g(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&Q1(t),r}))}function vI(t,e,n,r){return Ke(t).onIdTokenChanged(e,n,r)}function wI(t,e,n){return Ke(t).beforeAuthStateChanged(e,n)}function Zg(t,e,n,r){return Ke(t).onAuthStateChanged(e,n,r)}var fu="__sak";var pu=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(fu,"1"),this.storage.removeItem(fu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function Z1(){let t=ze();return Yg(t)||_u(t)}var J1=1e3,X1=10,eF=(()=>{class t extends pu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Z1()&&R1(),this.fallbackToPolling=lI(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}let i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(i);if(n.newValue!==a)n.newValue!==null?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);N1()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,X1):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},J1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return g(this,null,function*(){yield Tr(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return g(this,null,function*(){let r=yield Tr(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return g(this,null,function*(){yield Tr(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),bI=eF;var tF=(()=>{class t extends pu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),Jg=tF;function nF(t){return Promise.all(t.map(e=>g(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var rF=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return g(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let l=Array.from(a).map(u=>g(this,null,function*(){return u(r.origin,o)})),c=yield nF(l);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:c})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function EI(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var jg=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return g(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{let c=EI("",20);i.port1.start();let u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){let h=d;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function vn(){return window}function iF(t){vn().location.href=t}function CI(){return typeof vn().WorkerGlobalScope<"u"&&typeof vn().importScripts=="function"}function sF(){return g(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function oF(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function aF(){return CI()?self:null}var II="firebaseLocalStorageDb",lF=1,gu="firebaseLocalStorage",DI="fbase_key",ci=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function wu(t,e){return t.transaction([gu],e?"readwrite":"readonly").objectStore(gu)}function cF(){let t=indexedDB.deleteDatabase(II);return new ci(t).toPromise()}function Ug(){let t=indexedDB.open(II,lF);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(gu,{keyPath:DI})}catch(i){n(i)}}),t.addEventListener("success",()=>g(this,null,function*(){let r=t.result;r.objectStoreNames.contains(gu)?e(r):(r.close(),yield cF(),e(yield Ug()))}))})}function VC(t,e,n){return g(this,null,function*(){let r=wu(t,!0).put({[DI]:e,value:n});return new ci(r).toPromise()})}function uF(t,e){return g(this,null,function*(){let n=wu(t,!1).get(e),r=yield new ci(n).toPromise();return r===void 0?null:r.value})}function jC(t,e){let n=wu(t,!0).delete(e);return new ci(n).toPromise()}var dF=800,hF=3,fF=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return g(this,null,function*(){return this.db?this.db:(this.db=yield Ug(),this.db)})}_withRetries(n){return g(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>hF)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return g(this,null,function*(){return CI()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return g(this,null,function*(){this.receiver=rF._getInstance(aF()),this.receiver._subscribe("keyChanged",(n,r)=>g(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>g(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return g(this,null,function*(){var n,r;if(this.activeServiceWorker=yield sF(),!this.activeServiceWorker)return;this.sender=new jg(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return g(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||oF()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return g(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Ug();return yield VC(n,fu,"1"),yield jC(n,fu),!0}catch{}return!1})}_withPendingWrite(n){return g(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return g(this,null,function*(){return this._withPendingWrite(()=>g(this,null,function*(){return yield this._withRetries(i=>VC(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return g(this,null,function*(){let r=yield this._withRetries(i=>uF(i,n));return this.localCache[n]=r,r})}_remove(n){return g(this,null,function*(){return this._withPendingWrite(()=>g(this,null,function*(){return yield this._withRetries(r=>jC(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return g(this,null,function*(){let n=yield this._withRetries(s=>{let o=wu(s,!1).getAll();return new ci(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>g(this,null,function*(){return this._poll()}),dF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),SI=fF;var MW=dI("rcb"),NW=new li(3e4,6e4);function pF(t,e){return e?Fn(e):(O(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var aa=class extends ia{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Sg(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Sg(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Sg(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function gF(t){return yI(t.auth,new aa(t),t.bypassAuthState)}function mF(t){let{auth:e,user:n}=t;return O(n,e,"internal-error"),Y1(n,new aa(t),t.bypassAuthState)}function yF(t){return g(this,null,function*(){let{auth:e,user:n}=t;return O(n,e,"internal-error"),K1(n,new aa(t),t.bypassAuthState)})}var Bg=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>g(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return g(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(l))}catch(c){this.reject(c)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return gF;case"linkViaPopup":case"linkViaRedirect":return yF;case"reauthViaPopup":case"reauthViaRedirect":return mF;default:wn(this.auth,"internal-error")}}resolve(e){pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var RW=new li(2e3,1e4);var _F="pendingRedirect",iu=new Map,$g=class t extends Bg{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return g(this,null,function*(){let e=iu.get(this.auth._key());if(!e){try{let r=(yield vF(this.resolver,this.auth))?yield Tr(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}iu.set(this.auth._key(),e)}return this.bypassAuthState||iu.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return g(this,null,function*(){if(e.type==="signInViaRedirect")return Tr(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Tr(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return g(this,null,function*(){})}cleanUp(){}};function vF(t,e){return g(this,null,function*(){let n=EF(e),r=bF(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function wF(t,e){iu.set(t._key(),e)}function bF(t){return Fn(t._redirectPersistence)}function EF(t){return ru(_F,t.config.apiKey,t.name)}function CF(t,e,n=!1){return g(this,null,function*(){if(_n(t.app))return Promise.reject(fr(t));let r=Ss(t),i=pF(r,e),o=yield new $g(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var IF=10*60*1e3,Hg=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!DF(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!TI(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ai(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=IF&&this.cachedEventUids.clear(),this.cachedEventUids.has(UC(e))}saveEventToCache(e){this.cachedEventUids.add(UC(e)),this.lastProcessedEventTime=Date.now()}};function UC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function TI({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function DF(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return TI(t);default:return!1}}function SF(n){return g(this,arguments,function*(t,e={}){return gr(t,"GET","/v1/projects",e)})}var TF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,AF=/^https?/;function MF(t){return g(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield SF(t);for(let n of e)try{if(NF(n))return}catch{}wn(t,"unauthorized-domain")})}function NF(t){let e=Ag(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!AF.test(n))return!1;if(TF.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var RF=new li(3e4,6e4);function BC(){let t=vn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function xF(t){return new Promise((e,n)=>{var r,i,s;function o(){BC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{BC(),n(ai(t,"network-request-failed"))},timeout:RF.get()})}if(!((i=(r=vn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=vn().gapi)===null||s===void 0)&&s.load)o();else{let a=dI("iframefcb");return vn()[a]=()=>{gapi.load?o():n(ai(t,"network-request-failed"))},uI(`${F1()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw su=null,e})}var su=null;function OF(t){return su=su||xF(t),su}var kF=new li(5e3,15e3),PF="__/auth/iframe",FF="emulator/auth/iframe",LF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},VF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jF(t){let e=t.config;O(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?qg(e,FF):`https://${t.config.authDomain}/${PF}`,r={apiKey:e.apiKey,appName:t.name,v:dr},i=VF.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ii(r).slice(1)}`}function UF(t){return g(this,null,function*(){let e=yield OF(t),n=vn().gapi;return O(n,t,"internal-error"),e.open({where:document.body,url:jF(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:LF,dontclear:!0},r=>new Promise((i,s)=>g(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=ai(t,"network-request-failed"),a=vn().setTimeout(()=>{s(o)},kF.get());function l(){vn().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})})))})}var BF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$F=500,HF=600,zF="_blank",WF="http://localhost",mu=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function GF(t,e,n,r=$F,i=HF){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",l=Object.assign(Object.assign({},BF),{width:r.toString(),height:i.toString(),top:s,left:o}),c=ze().toLowerCase();n&&(a=rI(c)?zF:n),nI(c)&&(e=e||WF,l.scrollbars="yes");let u=Object.entries(l).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(M1(c)&&a!=="_self")return qF(e||"",a),new mu(null);let d=window.open(e||"",a,u);O(d,t,"popup-blocked");try{d.focus()}catch{}return new mu(d)}function qF(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var KF="__/auth/handler",YF="emulator/auth/handler",QF=encodeURIComponent("fac");function $C(t,e,n,r,i,s){return g(this,null,function*(){O(t.config.authDomain,t,"auth-domain-config-required"),O(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:dr,eventId:i};if(e instanceof hu){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Ko(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[u,d]of Object.entries(s||{}))o[u]=d}if(e instanceof Lg){let u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let u of Object.keys(a))a[u]===void 0&&delete a[u];let l=yield t._getAppCheckToken(),c=l?`#${QF}=${encodeURIComponent(l)}`:"";return`${ZF(t)}?${ii(a).slice(1)}${c}`})}function ZF({config:t}){return t.emulator?qg(t,YF):`https://${t.authDomain}/${KF}`}var Tg="webStorageSupport",zg=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Jg,this._completeRedirectFn=CF,this._overrideRedirectResult=wF}_openPopup(e,n,r,i){return g(this,null,function*(){var s;pr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield $C(e,n,r,Ag(),i);return GF(e,o,EI())})}_openRedirect(e,n,r,i){return g(this,null,function*(){yield this._originValidation(e);let s=yield $C(e,n,r,Ag(),i);return iF(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(pr(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return g(this,null,function*(){let n=yield UF(e),r=new Hg(e);return n.register("authEvent",i=>(O(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Tg,{type:Tg},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[Tg];o!==void 0&&n(!!o),wn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=MF(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return lI()||Yg()||_u()}},AI=zg;var HC="@firebase/auth",zC="1.7.4";var Wg=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return g(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){O(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function JF(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function XF(t){ur(new Nt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;O(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cI(t)},c=new Pg(r,i,s,l);return j1(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ur(new Nt("auth-internal",e=>{let n=Ss(e.getProvider("auth").getImmediate());return(r=>new Wg(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),qt(HC,zC,JF(t)),qt(HC,zC,"esm2017")}var eL=5*60,tL=ug("authIdTokenMaxAge")||eL,WC=null,nL=t=>e=>g(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>tL)return;let i=n?.token;WC!==i&&(WC=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function la(t=eu()){let e=Xo(t,"auth");if(e.isInitialized())return e.getImmediate();let n=hI(t,{popupRedirectResolver:AI,persistence:[SI,bI,Jg]}),r=ug("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=nL(s.toString());wI(n,o,()=>o(n.currentUser)),vI(n,a=>o(a))}}let i=lg("auth");return i&&fI(n,`http://${i}`),n}function rL(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}k1({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=ai("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",rL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});XF("Browser");var iL="firebase",sL="10.12.2";qt(iL,sL,"app");var MI={apiKey:"AIzaSyBFNn8bOJwSlczp0HZKzrrH4g0iH0PHfd4",authDomain:"cardo-425721.firebaseapp.com",databaseURL:"https://cardo-425721-default-rtdb.firebaseio.com",projectId:"cardo-425721",storageBucket:"cardo-425721.appspot.com",messagingSenderId:"887682909859",appId:"1:887682909859:web:d3bee13fad508780f52116"};var Xg=new R("JWT_OPTIONS"),bu=(()=>{class t{constructor(n=null){this.tokenGetter=n&&n.tokenGetter||function(){}}urlBase64Decode(n){let r=n.replace(/-/g,"+").replace(/_/g,"/");switch(r.length%4){case 0:break;case 2:{r+="==";break}case 3:{r+="=";break}default:throw new Error("Illegal base64url string!")}return this.b64DecodeUnicode(r)}b64decode(n){let r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i="";if(n=String(n).replace(/=+$/,""),n.length%4===1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(let s=0,o,a,l=0;a=n.charAt(l++);~a&&(o=s%4?o*64+a:a,s++%4)?i+=String.fromCharCode(255&o>>(-2*s&6)):0)a=r.indexOf(a);return i}b64DecodeUnicode(n){return decodeURIComponent(Array.prototype.map.call(this.b64decode(n),r=>"%"+("00"+r.charCodeAt(0).toString(16)).slice(-2)).join(""))}decodeToken(n=this.tokenGetter()){return n instanceof Promise?n.then(r=>this._decodeToken(r)):this._decodeToken(n)}_decodeToken(n){if(!n||n==="")return null;let r=n.split(".");if(r.length!==3)throw new Error("The inspected token doesn't appear to be a JWT. Check to make sure it has three parts and see https://jwt.io for more.");let i=this.urlBase64Decode(r[1]);if(!i)throw new Error("Cannot decode the token.");return JSON.parse(i)}getTokenExpirationDate(n=this.tokenGetter()){return n instanceof Promise?n.then(r=>this._getTokenExpirationDate(r)):this._getTokenExpirationDate(n)}_getTokenExpirationDate(n){let r;if(r=this.decodeToken(n),!r||!r.hasOwnProperty("exp"))return null;let i=new Date(0);return i.setUTCSeconds(r.exp),i}isTokenExpired(n=this.tokenGetter(),r){return n instanceof Promise?n.then(i=>this._isTokenExpired(i,r)):this._isTokenExpired(n,r)}_isTokenExpired(n,r){if(!n||n==="")return!0;let i=this.getTokenExpirationDate(n);return r=r||0,i===null?!1:!(i.valueOf()>new Date().valueOf()+r*1e3)}getAuthScheme(n,r){return typeof n=="function"?n(r):n}}return t.\u0275fac=function(n){return new(n||t)(T(Xg))},t.\u0275prov=C({token:t,factory:t.\u0275fac}),t})(),NI=t=>t instanceof Promise?Pi(()=>t):k(t),oL=(()=>{class t{constructor(n,r,i){this.jwtHelper=r,this.document=i,this.standardPorts=["80","443"],this.tokenGetter=n.tokenGetter,this.headerName=n.headerName||"Authorization",this.authScheme=n.authScheme||n.authScheme===""?n.authScheme:"Bearer ",this.allowedDomains=n.allowedDomains||[],this.disallowedRoutes=n.disallowedRoutes||[],this.throwNoTokenError=n.throwNoTokenError||!1,this.skipWhenExpired=n.skipWhenExpired}isAllowedDomain(n){let r=new URL(n.url,this.document.location.origin);if(r.host===this.document.location.host)return!0;let i=`${r.hostname}${r.port&&!this.standardPorts.includes(r.port)?":"+r.port:""}`;return this.allowedDomains.findIndex(s=>typeof s=="string"?s===i:s instanceof RegExp?s.test(i):!1)>-1}isDisallowedRoute(n){let r=new URL(n.url,this.document.location.origin);return this.disallowedRoutes.findIndex(i=>{if(typeof i=="string"){let s=new URL(i,this.document.location.origin);return s.hostname===r.hostname&&s.pathname===r.pathname}return i instanceof RegExp?i.test(n.url):!1})>-1}handleInterception(n,r,i){let s=this.jwtHelper.getAuthScheme(this.authScheme,r);if(!n&&this.throwNoTokenError)throw new Error("Could not get token from tokenGetter function.");let o=k(!1);return this.skipWhenExpired&&(o=n?NI(this.jwtHelper.isTokenExpired(n)):k(!0)),n?o.pipe(W(a=>a&&this.skipWhenExpired?r.clone():r.clone({setHeaders:{[this.headerName]:`${s}${n}`}})),we(a=>i.handle(a))):i.handle(r)}intercept(n,r){if(!this.isAllowedDomain(n)||this.isDisallowedRoute(n))return r.handle(n);let i=this.tokenGetter(n);return NI(i).pipe(we(s=>this.handleInterception(s,n,r)))}}return t.\u0275fac=function(n){return new(n||t)(T(Xg),T(bu),T(qe))},t.\u0275prov=C({token:t,factory:t.\u0275fac}),t})(),RI=(()=>{class t{constructor(n){if(n)throw new Error("JwtModule is already loaded. It should only be imported in your application's main module.")}static forRoot(n){return{ngModule:t,providers:[{provide:aE,useClass:oL,multi:!0},n.jwtOptionsProvider||{provide:Xg,useValue:n.config},bu]}}}return t.\u0275fac=function(n){return new(n||t)(T(t,12))},t.\u0275mod=_t({type:t}),t.\u0275inj=yt({}),t})();var Ts=(()=>{let e=class e{constructor(r,i){this.jwtHelper=r,this.router=i,this.firebaseApp=Ig(MI),Zg(la(this.firebaseApp),s=>{s||this.signOut()})}parseEmail(r){return r.replaceAll("@","_").replaceAll(".","_")}signIn(r,i){return g(this,null,function*(){let s=la(this.firebaseApp);return Qg(s,r,i).then(o=>g(this,null,function*(){let a=yield o.user.getIdToken();return localStorage.setItem("jwt",a),this.user=this.parseEmail(r),!0})).catch(()=>!1)})}signOut(){la(this.firebaseApp).signOut()}isAuthenticated(){let r=localStorage.getItem("jwt");if(!r||this.jwtHelper.isTokenExpired(r))return!1;let i=this.jwtHelper.decodeToken(r);return i.email?(this.user=this.parseEmail(i.email),!0):!1}canActivate(){return this.isAuthenticated()?!0:(this.router.navigate(["auth"]),!1)}};e.\u0275fac=function(i){return new(i||e)(T(bu),T(On))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var OI=(()=>{let e=class e{constructor(){this.settingsPressed=new ae,this.undoPressed=new ae,this.redoPressed=new ae,this.addPressed=new ae}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Le({type:e,selectors:[["app-navbar"]],outputs:{settingsPressed:"settingsPressed",undoPressed:"undoPressed",redoPressed:"redoPressed",addPressed:"addPressed"},standalone:!0,features:[je],decls:44,vars:0,consts:[[1,"navbar"],["title","Menu",1,"icon-btn",3,"click"],["viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["id","SVGRepo_bgCarrier","stroke-width","0"],["id","SVGRepo_tracerCarrier","stroke-linecap","round","stroke-linejoin","round"],["id","SVGRepo_iconCarrier"],["d","M4 6H20M4 12H20M4 18H20","stroke","#000000","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["title","Undo",1,"icon-btn",3,"click"],["viewBox","0 0 48 48","xmlns","http://www.w3.org/2000/svg","fill","#000000"],["id","Layer_2","data-name","Layer 2"],["id","invisible_box","data-name","invisible box"],["width","48","height","48","fill","none"],["id","icons_Q2","data-name","icons Q2"],["d","M46,24A22,22,0,0,1,4.3,33.7a2,2,0,0,1,.5-2.6,2,2,0,0,1,3,.7A17.8,17.8,0,0,0,24,42,18,18,0,1,0,10.6,12h5.3A2.1,2.1,0,0,1,18,13.7,2,2,0,0,1,16,16H6a2,2,0,0,1-2-2V4.1A2.1,2.1,0,0,1,5.7,2,2,2,0,0,1,8,4V8.9A22,22,0,0,1,46,24Z"],["title","Redo",1,"icon-btn",3,"click"],["d","M11 8C11 7.44772 11.4477 7 12 7C12.5523 7 13 7.44772 13 8V11H16C16.5523 11 17 11.4477 17 12C17 12.5523 16.5523 13 16 13H13V16C13 16.5523 12.5523 17 12 17C11.4477 17 11 16.5523 11 16V13H8C7.44771 13 7 12.5523 7 12C7 11.4477 7.44772 11 8 11H11V8Z","fill","#0F0F0F"],["fill-rule","evenodd","clip-rule","evenodd","d","M23 12C23 18.0751 18.0751 23 12 23C5.92487 23 1 18.0751 1 12C1 5.92487 5.92487 1 12 1C18.0751 1 23 5.92487 23 12ZM3.00683 12C3.00683 16.9668 7.03321 20.9932 12 20.9932C16.9668 20.9932 20.9932 16.9668 20.9932 12C20.9932 7.03321 16.9668 3.00683 12 3.00683C7.03321 3.00683 3.00683 7.03321 3.00683 12Z","fill","#0F0F0F"],["title","Redo",1,"icon-btn",2,"transform","rotateY(180deg)",3,"click"]],template:function(i,s){i&1&&(y(0,"div",0)(1,"button",1),j("click",function(){return s.settingsPressed.emit()}),Ve(),y(2,"svg",2),N(3,"g",3)(4,"g",4),y(5,"g",5),N(6,"path",6),I()()(),un(),y(7,"button",7),j("click",function(){return s.undoPressed.emit()}),Ve(),y(8,"svg",8),N(9,"g",3)(10,"g",4),y(11,"g",5)(12,"title"),ue(13,"undo"),I(),y(14,"g",9)(15,"g",10),N(16,"rect",11),I(),y(17,"g",12),N(18,"path",13),I()()()()(),un(),y(19,"button",14),j("click",function(){return s.addPressed.emit()}),Ve(),y(20,"svg",2),N(21,"g",3)(22,"g",4),y(23,"g",5),N(24,"path",15)(25,"path",16),I()()(),un(),y(26,"button",17),j("click",function(){return s.redoPressed.emit()}),Ve(),y(27,"svg",8),N(28,"g",3)(29,"g",4),y(30,"g",5)(31,"title"),ue(32,"undo"),I(),y(33,"g",9)(34,"g",10),N(35,"rect",11),I(),y(36,"g",12),N(37,"path",13),I()()()()(),un(),y(38,"button",1),j("click",function(){return s.settingsPressed.emit()}),Ve(),y(39,"svg",2),N(40,"g",3)(41,"g",4),y(42,"g",5),N(43,"path",6),I()()()())}});let t=e;return t})();var $I=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(A(hn),A($t))},e.\u0275dir=Ie({type:e});let t=e;return t})(),Nu=(()=>{let e=class e extends $I{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=tr(e)))(s||e)}})(),e.\u0275dir=Ie({type:e,features:[Ht]});let t=e;return t})(),pa=new R("");var lL={provide:pa,useExisting:Mn(()=>_r),multi:!0};function cL(){let t=fn()?fn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var uL=new R(""),_r=(()=>{let e=class e extends $I{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!cL())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(A(hn),A($t),A(uL,8))},e.\u0275dir=Ie({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&j("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[Yr([lL]),Ht]});let t=e;return t})();function mr(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function HI(t){return t!=null&&typeof t.length=="number"}var zI=new R(""),WI=new R(""),dL=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Ye=class{static min(e){return hL(e)}static max(e){return fL(e)}static required(e){return pL(e)}static requiredTrue(e){return gL(e)}static email(e){return mL(e)}static minLength(e){return yL(e)}static maxLength(e){return _L(e)}static pattern(e){return vL(e)}static nullValidator(e){return GI(e)}static compose(e){return JI(e)}static composeAsync(e){return e0(e)}};function hL(t){return e=>{if(mr(e.value)||mr(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function fL(t){return e=>{if(mr(e.value)||mr(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function pL(t){return mr(t.value)?{required:!0}:null}function gL(t){return t.value===!0?null:{required:!0}}function mL(t){return mr(t.value)||dL.test(t.value)?null:{email:!0}}function yL(t){return e=>mr(e.value)||!HI(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function _L(t){return e=>HI(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function vL(t){if(!t)return GI;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(mr(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function GI(t){return null}function qI(t){return t!=null}function KI(t){return Qr(t)?Ce(t):t}function YI(t){let e={};return t.forEach(n=>{e=n!=null?b(b({},e),n):e}),Object.keys(e).length===0?null:e}function QI(t,e){return e.map(n=>n(t))}function wL(t){return!t.validate}function ZI(t){return t.map(e=>wL(e)?e:n=>e.validate(n))}function JI(t){if(!t)return null;let e=t.filter(qI);return e.length==0?null:function(n){return YI(QI(n,e))}}function XI(t){return t!=null?JI(ZI(t)):null}function e0(t){if(!t)return null;let e=t.filter(qI);return e.length==0?null:function(n){let r=QI(n,e).map(KI);return Zd(r).pipe(W(YI))}}function t0(t){return t!=null?e0(ZI(t)):null}function kI(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function n0(t){return t._rawValidators}function r0(t){return t._rawAsyncValidators}function em(t){return t?Array.isArray(t)?t:[t]:[]}function Cu(t,e){return Array.isArray(t)?t.includes(e):t===e}function PI(t,e){let n=em(e);return em(t).forEach(i=>{Cu(n,i)||n.push(i)}),n}function FI(t,e){return em(e).filter(n=>!Cu(t,n))}var Iu=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=XI(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=t0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Ns=class extends Iu{get formDirective(){return null}get path(){return null}},fa=class extends Iu{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Du=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},bL={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},P6=ee(b({},bL),{"[class.ng-submitted]":"isSubmitted"}),Rs=(()=>{let e=class e extends Du{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(A(fa,2))},e.\u0275dir=Ie({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&wc("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[Ht]});let t=e;return t})(),xs=(()=>{let e=class e extends Du{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(A(Ns,10))},e.\u0275dir=Ie({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,s){i&2&&wc("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[Ht]});let t=e;return t})();var ca="VALID",Eu="INVALID",As="PENDING",ua="DISABLED",yr=class{},Su=class extends yr{constructor(e,n){super(),this.value=e,this.source=n}},da=class extends yr{constructor(e,n){super(),this.pristine=e,this.source=n}},ha=class extends yr{constructor(e,n){super(),this.touched=e,this.source=n}},Ms=class extends yr{constructor(e,n){super(),this.status=e,this.source=n}},tm=class extends yr{constructor(e){super(),this.source=e}},nm=class extends yr{constructor(e){super(),this.source=e}};function i0(t){return(Ru(t)?t.validators:t)||null}function EL(t){return Array.isArray(t)?XI(t):t||null}function s0(t,e){return(Ru(e)?e.asyncValidators:t)||null}function CL(t){return Array.isArray(t)?t0(t):t||null}function Ru(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function IL(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new _(1e3,"");if(!r[n])throw new _(1001,"")}function DL(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new _(1002,"")})}var Tu=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._events=new _e,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===ca}get invalid(){return this.status===Eu}get pending(){return this.status==As}get disabled(){return this.status===ua}get enabled(){return this.status!==ua}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(PI(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(PI(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(FI(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(FI(e,this._rawAsyncValidators))}hasValidator(e){return Cu(this._rawValidators,e)}hasAsyncValidator(e){return Cu(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ee(b({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new ha(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new ha(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ee(b({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new da(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new da(!0,r))}markAsPending(e={}){this.status=As;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ms(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ee(b({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ua,this.errors=null,this._forEachChild(i=>{i.disable(ee(b({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Su(this.value,r)),this._events.next(new Ms(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ee(b({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ca,this._forEachChild(r=>{r.enable(ee(b({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ee(b({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ca||this.status===As)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Su(this.value,n)),this._events.next(new Ms(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ee(b({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ua:ca}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=As,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=KI(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Ms(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new ae,this.statusChanges=new ae}_calculateStatus(){return this._allControlsDisabled()?ua:this.errors?Eu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(As)?As:this._anyControlsHaveStatus(Eu)?Eu:ca}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new da(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new ha(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Ru(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=EL(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=CL(this._rawAsyncValidators)}},Ln=class extends Tu{constructor(e,n,r){super(i0(n),s0(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){DL(this,!0,e),Object.keys(e).forEach(r=>{IL(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var o0=new R("CallSetDisabledState",{providedIn:"root",factory:()=>rm}),rm="always";function SL(t,e){return[...e.path,t]}function LI(t,e,n=rm){im(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),AL(t,e),NL(t,e),ML(t,e),TL(t,e)}function VI(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Mu(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Au(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function TL(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function im(t,e){let n=n0(t);e.validator!==null?t.setValidators(kI(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=r0(t);e.asyncValidator!==null?t.setAsyncValidators(kI(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();Au(e._rawValidators,i),Au(e._rawAsyncValidators,i)}function Mu(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=n0(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(e.asyncValidator!==null){let i=r0(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}let r=()=>{};return Au(e._rawValidators,r),Au(e._rawAsyncValidators,r),n}function AL(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&a0(t,e)})}function ML(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&a0(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function a0(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function NL(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function RL(t,e){t==null,im(t,e)}function xL(t,e){return Mu(t,e)}function OL(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function kL(t){return Object.getPrototypeOf(t.constructor)===Nu}function PL(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function FL(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===_r?n=s:kL(s)?r=s:i=s}),i||r||n||null}function LL(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function jI(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function UI(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var De=class extends Tu{constructor(e=null,n,r){super(i0(n),s0(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ru(n)&&(n.nonNullable||n.initialValueIsDefault)&&(UI(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){jI(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){jI(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){UI(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var VL=t=>t instanceof De;var Os=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ie({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})(),jL={provide:pa,useExisting:Mn(()=>sm),multi:!0},sm=(()=>{let e=class e extends Nu{writeValue(r){let i=r??"";this.setProperty("value",i)}registerOnChange(r){this.onChange=i=>{r(i==""?null:parseFloat(i))}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=tr(e)))(s||e)}})(),e.\u0275dir=Ie({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,s){i&1&&j("input",function(a){return s.onChange(a.target.value)})("blur",function(){return s.onTouched()})},features:[Yr([jL]),Ht]});let t=e;return t})();var l0=new R("");var UL={provide:Ns,useExisting:Mn(()=>di)},di=(()=>{let e=class e extends Ns{constructor(r,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new ae,this._setValidators(r),this._setAsyncValidators(i)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Mu(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){let i=this.form.get(r.path);return LI(i,r,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),i}getControl(r){return this.form.get(r.path)}removeControl(r){VI(r.control||null,r,!1),LL(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,i){this.form.get(r.path).setValue(i)}onSubmit(r){return this.submitted=!0,PL(this.form,this.directives),this.ngSubmit.emit(r),this.form._events.next(new tm(this.control)),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1,this.form._events.next(new nm(this.form))}_updateDomValue(){this.directives.forEach(r=>{let i=r.control,s=this.form.get(r.path);i!==s&&(VI(i||null,r),VL(s)&&(LI(s,r,this.callSetDisabledState),r.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){let i=this.form.get(r.path);RL(i,r),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){let i=this.form.get(r.path);i&&xL(i,r)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){im(this.form,this),this._oldForm&&Mu(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(i){return new(i||e)(A(zI,10),A(WI,10),A(o0,8))},e.\u0275dir=Ie({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,s){i&1&&j("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Yr([UL]),Ht,Xn]});let t=e;return t})();var BL={provide:fa,useExisting:Mn(()=>hi)},hi=(()=>{let e=class e extends fa{set isDisabled(r){}constructor(r,i,s,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new ae,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=FL(this,o)}ngOnChanges(r){this._added||this._setUpControl(),OL(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return SL(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(A(Ns,13),A(zI,10),A(WI,10),A(pa,10),A(l0,8))},e.\u0275dir=Ie({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Yr([BL]),Ht,Xn]});let t=e;return t})(),$L={provide:pa,useExisting:Mn(()=>ks),multi:!0};function c0(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function HL(t){return t.split(":")[0]}var ks=(()=>{let e=class e extends Nu{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i=this._getOptionId(r),s=c0(i,r);this.setProperty("value",s)}registerOnChange(r){this.onChange=i=>{this.value=this._getOptionValue(i),r(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),r))return i;return null}_getOptionValue(r){let i=HL(r);return this._optionMap.has(i)?this._optionMap.get(i):r}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=tr(e)))(s||e)}})(),e.\u0275dir=Ie({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,s){i&1&&j("change",function(a){return s.onChange(a.target.value)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[Yr([$L]),Ht]});let t=e;return t})(),xu=(()=>{let e=class e{constructor(r,i,s){this._element=r,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(r){this._select!=null&&(this._select._optionMap.set(this.id,r),this._setElementValue(c0(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._setElementValue(r),this._select&&this._select.writeValue(this._select.value)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(A($t),A(hn),A(ks,9))},e.\u0275dir=Ie({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})(),zL={provide:pa,useExisting:Mn(()=>u0),multi:!0};function BI(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function WL(t){return t.split(":")[0]}var u0=(()=>{let e=class e extends Nu{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i;if(Array.isArray(r)){let s=r.map(o=>this._getOptionId(o));i=(o,a)=>{o._setSelected(s.indexOf(a.toString())>-1)}}else i=(s,o)=>{s._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(r){this.onChange=i=>{let s=[],o=i.selectedOptions;if(o!==void 0){let a=o;for(let l=0;l<a.length;l++){let c=a[l],u=this._getOptionValue(c.value);s.push(u)}}else{let a=i.options;for(let l=0;l<a.length;l++){let c=a[l];if(c.selected){let u=this._getOptionValue(c.value);s.push(u)}}}this.value=s,r(s)}}_registerOption(r){let i=(this._idCounter++).toString();return this._optionMap.set(i,r),i}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,r))return i;return null}_getOptionValue(r){let i=WL(r);return this._optionMap.has(i)?this._optionMap.get(i)._value:r}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=tr(e)))(s||e)}})(),e.\u0275dir=Ie({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,s){i&1&&j("change",function(a){return s.onChange(a.target)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[Yr([zL]),Ht]});let t=e;return t})(),Ou=(()=>{let e=class e{constructor(r,i,s){this._element=r,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(r){this._select!=null&&(this._value=r,this._setElementValue(BI(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._select?(this._value=r,this._setElementValue(BI(this.id,r)),this._select.writeValue(this._select.value)):this._setElementValue(r)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}_setSelected(r){this._renderer.setProperty(this._element.nativeElement,"selected",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(A($t),A(hn),A(u0,9))},e.\u0275dir=Ie({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();var GL=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=_t({type:e}),e.\u0275inj=yt({});let t=e;return t})();var Ps=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:l0,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:o0,useValue:r.callSetDisabledState??rm}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=_t({type:e}),e.\u0275inj=yt({imports:[GL]});let t=e;return t})();var B=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(B||{}),bn="*";function fi(t,e){return{type:B.Trigger,name:t,definitions:e,options:{}}}function Rt(t,e=null){return{type:B.Animate,styles:e,timings:t}}function d0(t,e=null){return{type:B.Sequence,steps:t,options:e}}function nt(t){return{type:B.Style,styles:t,offset:null}}function xt(t,e,n){return{type:B.State,name:t,styles:e,options:n}}function Ot(t,e,n=null){return{type:B.Transition,expr:t,animation:e,options:n}}var vr=class{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},ga=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,r=0,i=0,s=this.players.length;s==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++n==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let n=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,n/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((n,r)=>n===null||r.totalTime>n.totalTime?r:n,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},ku="!";var h0=fi("flip",[xt("active",nt({transform:"rotateY(180deg)"})),xt("inactive",nt({transform:"rotateY(0)"})),Ot("active => inactive",Rt("300ms ease-out")),Ot("inactive => active",Rt("300ms ease-in"))]),f0=fi("swipeRight",[xt("active",nt({transform:"rotateZ(90deg)",translate:"150% -100%"})),xt("inactive",nt({transform:"rotateZ(0deg)",translate:"0% 0%"})),Ot("active => inactive",Rt("300ms ease-out")),Ot("inactive => active",Rt("300ms ease-in"))]),p0=fi("swipeLeft",[xt("active",nt({transform:"rotateZ(-90deg)",translate:"-150% -100%"})),xt("inactive",nt({transform:"rotateZ(0deg)",translate:"0% 0%"})),Ot("active => inactive",Rt("400ms ease-out")),Ot("inactive => active",Rt("400ms ease-in"))]),g0=fi("fadeIn",[xt("active",nt({opacity:"100%"})),xt("inactive",nt({opacity:"0%"})),Ot("active => inactive",Rt("200ms ease-out")),Ot("inactive => active",Rt("200ms ease-in"))]);var Fs=(()=>{let e=class e{transform(r){switch(r){case"masculine":return"lightblue";case"feminine":return"lightpink";case"neuter":return"palegoldenrod";case"verb":return"plum";case"other":return"lightgreen";default:return"gray"}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275pipe=pf({name:"typeColor",type:e,pure:!0,standalone:!0});let t=e;return t})();var m0=[{id:0,goal:"ab",base:"from, off",goal_sent_1:"Die Fahrt kostet ab Hamburg 200 Euro.",base_sent_1:"The journey costs 200 Euro from Hamburg.",goal_sent_2:"Ab n\xE4chster Woche bleibt unser Gesch\xE4ft samstags geschlossen.",base_sent_2:"From next week, our business will be closed on Saturdays.",starred:!1,type:"other"},{id:1,goal:"abbiegen, biegt ab, bog ab, ist abgebogen",base:"to turn off, bend",goal_sent_1:"An der n\xE4chsten Kreuzung m\xFCssen Sie links abbiegen.",base_sent_1:"At the next junction you have to turn left.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:2,goal:"die Abbildung, -en",base:"Illustration",goal_sent_1:"Hier in der Abbildung sehen Sie, wie man das Ger\xE4t einschaltet.",base_sent_1:"Here you can see how to turn on the device.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"feminine"},{id:3,goal:"aber",base:"but",goal_sent_1:"Heute kann ich nicht, aber morgen ganz bestimmt.",base_sent_1:"I can not today, but certainly tomorrow.",goal_sent_2:"Es lag sehr viel Schnee, aber Enzo ist trotzdem mit dem Motorrad gefahren.",base_sent_2:"There was a lot of snow, but Enzo went by motorbike anyway.",starred:!1,type:"other"},{id:4,goal:'der Abfall, -"e',base:"waste, rubbish, garbage",goal_sent_1:"Werfen Sie den Bioabfall in die gr\xFCne Tonne.",base_sent_1:"Throw the bio-waste into the green bin.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"masculine"},{id:5,goal:"abfahren, f\xE4hrt ab, fuhr ab, ist abgefahren",base:"to depart",goal_sent_1:"Unser Zug ist p\xFCnktlich abgefahren.",base_sent_1:"Our train left on time.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:6,goal:"das Abgas, -e",base:"exhaust, waste gas",goal_sent_1:"Abgase aus Industrie und Haushalten verschmutzen die Luft.",base_sent_1:"Exhaust gases from industry and households pollute the air.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"neuter"},{id:7,goal:"abgeben, gibt ab, gab ab, hat abgegeben",base:"to hand in",goal_sent_1:"Ich soll dieses P\xE4ckchen bei Herrn M\xFCller abgeben.",base_sent_1:"I should hand over this package to Mr. M\xFCller.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:8,goal:"abh\xE4ngen, h\xE4ngt ab, hing ab, hat abgehangen",base:"to take down, uncouple, depend upon",goal_sent_1:"Vielleicht bleiben wir ein paar Tage l\xE4nger, das h\xE4ngt vom Wetter ab.",base_sent_1:"Maybe we stay a few days longer, it depends on the weather.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:9,goal:"abh\xE4ngig",base:"dependent on",goal_sent_1:"Gregor ist finanziell von seinen Eltern abh\xE4ngig.",base_sent_1:"Gregor is financially dependent on his parents.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"other"},{id:10,goal:"abheben, hebt ab, hob ab, hat abgehoben",base:"to lift (up)",goal_sent_1:"F\xFCr die Reise habe ich 500 Euro von meinem Konto abgehoben.",base_sent_1:"For the trip, I have lifted 500 \u20AC from my account.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:11,goal:"abholen, holt ab, holte ab, hat abgeholt",base:"to pick up (from a place)",goal_sent_1:"Meine Freundin hat mich vom Bahnhof abgeholt.",base_sent_1:"My girlfriend picked me up from the train station.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:12,goal:"das Abitur (Sg.)",base:"school graduation exam",goal_sent_1:"Meine Tochter hat gerade Abitur gemacht.",base_sent_1:"My daughter just graduated from high school.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"neuter"},{id:13,goal:"ablehnen, lehnt ab, lehnte ab, hat abgelehnt",base:"to refuse",goal_sent_1:"Es tut mir leid, Ihr Antrag ist abgelehnt.",base_sent_1:"I'm sorry, your application is rejected.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:14,goal:"abmachen, macht ab, machte ab, hat abgemacht",base:"to take off, agree",goal_sent_1:"Wir hatten doch abgemacht, dass du die Getr\xE4nke besorgst.",base_sent_1:"We had agreed that you get the drinks.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:15,goal:"abnehmen, nimmt ab, nahm ab, hat abgenommen",base:"to take off, remove, take away, loose weight",goal_sent_1:"Morgen k\xF6nnen wir den Verband abnehmen.",base_sent_1:"Tomorrow we can remove the bandage.",goal_sent_2:"Ich habe zehn Kilo abgenommen.",base_sent_2:"I lost ten pounds.",starred:!1,type:"verb"},{id:16,goal:"abonnieren, abonniert, abonnierte, hat abonniert",base:"to subscribe",goal_sent_1:"Diese Zeitschrift w\xFCrde ich gerne abonnieren.",base_sent_1:"I would like to subscribe to this magazine.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:17,goal:"das Abonnement, -s",base:"subscription",goal_sent_1:"Ich habe das Abonnement gek\xFCndigt.",base_sent_1:"I have canceled the subscription.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"neuter"},{id:18,goal:'der Abschluss, -"sse',base:"school graduation or result",goal_sent_1:"Ein guter Schulabschluss ist sehr wichtig.",base_sent_1:"A good education is very important.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"masculine"},{id:19,goal:"der Absender, -",base:"sender",goal_sent_1:"Schicken Sie das P\xE4ckchen an den Absender zur\xFCck.",base_sent_1:"Send the parcel back to the sender.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"masculine"},{id:20,goal:"die Absicht, -en",base:"intention",goal_sent_1:"Entschuldigen Sie bitte. Meine Tochter hat das nicht mit Absicht gemacht.",base_sent_1:"Excuse me please. My daughter did not do that on purpose.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"feminine"},{id:21,goal:"absolut",base:"absolute",goal_sent_1:"Was Sie da sagen, ist absolut falsch.",base_sent_1:"What you say is absolutely wrong.",goal_sent_2:"Ich habe absolutes Vertrauen zu dir.",base_sent_2:"I have absolute confidence in you.",starred:!1,type:"other"},{id:22,goal:"abstimmen, stimmt ab, stimmte ab, hat abgestimmt",base:"to vote",goal_sent_1:"Lasst uns \xFCber diesen Punkt abstimmen.",base_sent_1:"Let's vote on this point.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:23,goal:"die Abteilung, -en",base:"Department",goal_sent_1:"Meine Freundin arbeitet in der Abteilung von Frau Kaufmann.",base_sent_1:"My girlfriend works in the department of Mrs. Kaufmann.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"feminine"},{id:24,goal:"abwaschen, w\xE4scht ab, wusch ab, hat abgewaschen",base:"wash up",goal_sent_1:"Ich muss noch das Geschirr abwaschen.",base_sent_1:"I still have to wash the dishes.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"other"},{id:25,goal:"ach",base:"Oh",goal_sent_1:"Sie sind krank? Ach, das tut mir aber leid.",base_sent_1:"You are sick? Oh, I'm sorry.",goal_sent_2:"Ach so! Jetzt verstehe ich, was Sie meinen.",base_sent_2:"Oh, right! Now I understand what you mean.",starred:!1,type:"other"},{id:26,goal:"achten auf, achtet, achtete, hat geachtet",base:"to pay attention (to)",goal_sent_1:"Achten Sie bitte darauf, dass abends immer alle Fenster geschlossen sind.",base_sent_1:"Please make sure that all windows are closed in the evening.",goal_sent_2:"Hier m\xFCssen Sie auf die Vorfahrt achten.",base_sent_2:"Here you must pay attention to the right of way.",starred:!1,type:"verb"},{id:27,goal:"die Achtung (Sg.)",base:"Danger, Attention",goal_sent_1:"Achtung, hier endet die Stra\xDFe!",base_sent_1:"Attention, the road ends here!",goal_sent_2:"",base_sent_2:"",starred:!1,type:"feminine"},{id:28,goal:"die Adresse, -n",base:"address",goal_sent_1:"Hast du schon meine neue Adresse?",base_sent_1:"Do you already have my new address?",goal_sent_2:"",base_sent_2:"",starred:!1,type:"feminine"},{id:29,goal:"die Agentur, -en",base:"Agency",goal_sent_1:"Ich habe einen Brief von der Agentur f\xFCr Arbeit bekommen.",base_sent_1:"I got a letter from the employment agency.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"feminine"},{id:30,goal:"\xE4hnlich",base:"similar",goal_sent_1:"Oleg sieht seinem Bruder sehr \xE4hnlich.",base_sent_1:"Oleg looks very much like his brother.",goal_sent_2:"Emilia ist in einer ganz \xE4hnlichen Situation wie ich.",base_sent_2:"Emilia is in a similar situation to me.",starred:!1,type:"other"},{id:31,goal:"aha",base:"Aha",goal_sent_1:"Ich gehe bald in Rente. - Aha, dann haben Sie ja viel Zeit f\xFCr Ihre Hobbys.",base_sent_1:"I'm retiring soon. - Aha, then you have a lot of time for your hobbies.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"other"},{id:32,goal:"die Ahnung, -en",base:"idea, suspicion",goal_sent_1:"Ich hatte keine Ahnung, dass du heute Geburtstag hast.",base_sent_1:"I had no idea that you have a birthday today.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"feminine"},{id:33,goal:"die Aktion, -en",base:"action",goal_sent_1:"Die Regierung plant eine Aktion gegen das Rauchen.",base_sent_1:"The government is planning an action against smoking.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"feminine"},{id:34,goal:"aktiv",base:"active",goal_sent_1:"Ich bin sehr aktiv und mache viel Sport.",base_sent_1:"I am very active and do a lot of sports.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"other"},{id:35,goal:"die Aktivit\xE4t, -en",base:"activity",goal_sent_1:"In den Ferien bietet die Stadt f\xFCr Kinder verschiedene Freizeitaktivit\xE4ten.",base_sent_1:"During the holidays, the city offers various leisure activities for children.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"feminine"},{id:36,goal:"aktuell",base:"current (now)",goal_sent_1:"Umweltschutz ist ein aktuelles Thema.",base_sent_1:"Environmental protection is a current topic.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"other"},{id:37,goal:"akzeptieren, akzeptiert, akzeptierte, hat akzeptiert",base:"to accept",goal_sent_1:"Ich kann diese Bedingungen nicht akzeptieren.",base_sent_1:"I can not accept these conditions.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:38,goal:"der Alarm, -e",base:"alarm",goal_sent_1:"Bei Feueralarm d\xFCrfen Sie die Aufz\xFCge nicht benutzen.",base_sent_1:"In case of fire alarm you are not allowed to use the lifts.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"masculine"},{id:39,goal:"der Alkohol, -e",base:"alcohol",goal_sent_1:"Du musst die Wunde mit Alkohol reinigen.",base_sent_1:"You have to clean the wound with alcohol.",goal_sent_2:"Nein, danke! Ich trinke keinen Alkohol.",base_sent_2:"No thanks! I do not drink alcohol.",starred:!1,type:"masculine"},{id:40,goal:"all-",base:"everything",goal_sent_1:"Alles Gute!",base_sent_1:"All the best!",goal_sent_2:"Sonst noch (et)was? - Nein, danke. Das ist alles.",base_sent_2:"Anything else? - No thanks. That's all.",starred:!1,type:"other"},{id:41,goal:"allein",base:"alone",goal_sent_1:"Ich gehe nicht gern allein spazieren.",base_sent_1:"I do not like to go for a walk alone.",goal_sent_2:"Soll ich Ihnen helfen? - Danke, ich schaffe es schon allein.",base_sent_2:"Can I help you? - Thanks, I can do it alone.",starred:!1,type:"other"},{id:42,goal:"aller",base:"all",goal_sent_1:"Am allerbesten ist es, wenn du dich ins Bett legst und lange schl\xE4fst. Dann wirst du schnell wieder gesund.",base_sent_1:"Best of all, when you go to bed and sleep for a long time. Then you will get well soon.",goal_sent_2:"Das ist das Allersch\xF6nste, was ich je gesehen habe.",base_sent_2:"That's the most beautiful thing I've ever seen.",starred:!1,type:"other"},{id:43,goal:"allerdings",base:"admittedly, certainly",goal_sent_1:"Sie k\xF6nnen sich noch f\xFCr den Kurs anmelden, allerdings nur noch bis morgen.",base_sent_1:"You can still register for the course, but only until tomorrow.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"other"},{id:44,goal:"allgemein",base:"general",goal_sent_1:"Im Allgemeinen bin ich mit meiner Arbeit sehr zufrieden.",base_sent_1:"In general I am very satisfied with my work.",goal_sent_2:"Wir haben nur \xFCber allgemeine Probleme gesprochen.",base_sent_2:"We only talked about general problems.",starred:!1,type:"other"},{id:45,goal:"der Alltag, -e",base:"daily routine",goal_sent_1:"Das ist mein Alltag: putzen, waschen, kochen.",base_sent_1:"This is my everyday life: cleaning, washing, cooking.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"masculine"},{id:46,goal:"das Alphabet, -e",base:"alphabet",goal_sent_1:"Wie viele Buchstaben hat das Alphabet Ihrer Sprache?",base_sent_1:"How many letters does the alphabet have in your language?",goal_sent_2:"",base_sent_2:"",starred:!1,type:"neuter"},{id:47,goal:"als",base:"when, as, than",goal_sent_1:"Als mein Mann kam, war die Party schon zu Ende.",base_sent_1:"When my husband came, the party was over.",goal_sent_2:"Sie k\xF6nnen sich sowohl pers\xF6nlich als auch per Internet anmelden.",base_sent_2:"You can register both in person and via the internet.",starred:!1,type:"other"},{id:48,goal:"als ob",base:"as if",goal_sent_1:"Der Chef tat so, als ob wir nie dar\xFCber gesprochen h\xE4tten.",base_sent_1:"The boss pretended we never talked about it.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"other"},{id:49,goal:"also",base:"so, therefore",goal_sent_1:"Also, die Sache ist so: ...",base_sent_1:"So, the thing is ...",goal_sent_2:"Irina hat Urlaub. Sie kann uns also helfen.",base_sent_2:"Irina is on vacation. So she can help us.",starred:!1,type:"other"},{id:50,goal:"alt",base:"old",goal_sent_1:"Wie alt sind Sie?",base_sent_1:"How old are they?",goal_sent_2:"Maria ist eine alte Freundin von mir.",base_sent_2:"Maria is an old friend of mine.",starred:!1,type:"other"},{id:51,goal:"das Alter, -",base:"age",goal_sent_1:"Wir sind etwa im gleichen Alter.",base_sent_1:"We are about the same age.",goal_sent_2:"Im Alter bekomme ich eine ausreichende Rente.",base_sent_2:"At the age I get a sufficient pension.",starred:!1,type:"neuter"},{id:52,goal:"das Altenheim, -e",base:"old people's home, retirement home",goal_sent_1:"In Deutschland leben viele alte Leute in Altenheimen.",base_sent_1:"In Germany, many old people live in retirement homes.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"neuter"},{id:53,goal:"das Altersheim, -e",base:"old people's home, retirement home",goal_sent_1:"Die Gro\xDFeltern unserer Nachbarn sind im Altersheim.",base_sent_1:"The grandparents of our neighbors are in the retirement home.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"neuter"},{id:54,goal:"an",base:"on",goal_sent_1:"Am Anfang war alles sehr schwierig.",base_sent_1:"In the beginning everything was very difficult.",goal_sent_2:"Dann sehen wir uns also am Dienstag.",base_sent_2:"See you on Tuesday.",starred:!1,type:"other"},{id:55,goal:"die Ampel, -n",base:"traffic light",goal_sent_1:"Dort an der Ampel kannst du \xFCber die Stra\xDFe gehen.",base_sent_1:"There at the traffic light you can cross the street.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"feminine"},{id:56,goal:'das Amt, -"er',base:"office",goal_sent_1:"Die \xC4mter haben heute geschlossen.",base_sent_1:"The offices have closed today.",goal_sent_2:"Wissen Sie, wo das Ordnungsamt ist?",base_sent_2:"Do you know where the public order office is?",starred:!1,type:"neuter"},{id:57,goal:"sich am\xFCsieren, am\xFCsiert sich, am\xFCsierte sich, hat sich am\xFCsiert",base:"to amuse oneself",goal_sent_1:"Bei dem Fest haben wir uns sehr gut am\xFCsiert.",base_sent_1:"We had a good time at the party.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:58,goal:"analysieren, analysiert, analysierte, hat analysiert",base:"to analyse",goal_sent_1:"Die Politiker analysieren die Situation auf dem Arbeitsmarkt.",base_sent_1:"The politicians analyze the situation on the job market.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:59,goal:"anbieten, bietet an, bot an, hat angeboten",base:"to offer",goal_sent_1:"Darf ich Ihnen etwas zu trinken anbieten?",base_sent_1:"May I offer you something to drink?",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:60,goal:"das Angebot, -e",base:"offer",goal_sent_1:"Ich habe ein paar g\xFCnstige Wohnungsangebote bekommen.",base_sent_1:"I got a few cheap housing offers.",goal_sent_2:"Dieser K\xE4se ist heute im Angebot.",base_sent_2:"This cheese is on sale today.",starred:!1,type:"neuter"},{id:61,goal:"ander-",base:"other",goal_sent_1:"Die anderen sind schon nach Hause gegangen.",base_sent_1:"The others have already gone home.",goal_sent_2:"Bitte nicht alle auf einmal! - Einer nach dem anderen.",base_sent_2:"Not all at once! - One after the other.",starred:!1,type:"other"},{id:62,goal:"andererseits",base:"on the other hand",goal_sent_1:"Tarek will zwar studieren. Andererseits m\xF6chte er aber auch gleich Geld verdienen.",base_sent_1:"Tarek wants to study. On the other hand, he also wants to earn money right away.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"other"},{id:63,goal:"\xE4ndern, \xE4ndert, \xE4nderte, hat ge\xE4ndert",base:"to change",goal_sent_1:"Das Wetter hat sich ge\xE4ndert.",base_sent_1:"The weather has changed.",goal_sent_2:"Ich habe meine Meinung inzwischen ge\xE4ndert.",base_sent_2:"I have changed my mind by now.",starred:!1,type:"verb"},{id:64,goal:"die \xC4nderung, -en",base:"modification, change",goal_sent_1:"Es gibt eine Programm\xE4nderung.",base_sent_1:"There is a program change.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"feminine"},{id:65,goal:"anders",base:"different",goal_sent_1:"Anders geht das leider nicht.",base_sent_1:"Unfortunately, that is not possible.",goal_sent_2:"Oliver ist anders als seine Freunde.",base_sent_2:"Oliver is different than his friends.",starred:!1,type:"other"},{id:66,goal:"anerkennen, erkennt an, erkannte an, hat anerkannt",base:"to recognize",goal_sent_1:"Meine Ausbildung wird hier nicht anerkannt.",base_sent_1:"My education is not recognized here.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:67,goal:"anfangen, f\xE4ngt an, fing an, hat angefangen",base:"to begin",goal_sent_1:"Wann f\xE4ngst du mit der Arbeit an?",base_sent_1:"When do you start working?",goal_sent_2:"Wann haben Sie angefangen, Deutsch zu lernen?",base_sent_2:"When did you start learning German?",starred:!1,type:"verb"},{id:68,goal:'der Anfang, -"e',base:"beginning",goal_sent_1:"Wie war der Film? - Ich habe nur den Anfang gesehen.",base_sent_1:"How was the movie? - I saw only the beginning.",goal_sent_2:"Am Anfang habe ich mich hier sehr fremd gef\xFChlt.",base_sent_2:"In the beginning I felt very strange here.",starred:!1,type:"masculine"},{id:69,goal:"anfangs",base:"at/ in the beginning",goal_sent_1:"Anfangs ging alles gut.",base_sent_1:"At first everything went well.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"other"},{id:70,goal:"die Angabe,-n",base:"information, specification",goal_sent_1:"Wir brauchen von Ihnen folgende Angaben: Name, Adresse, Geburtsdatum.",base_sent_1:"We need the following information from you: name, address, date of birth.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"feminine"},{id:71,goal:"angeben, gibt an, gab an, hat angegeben",base:"to boast",goal_sent_1:"Bitte geben Sie Ihre genaue Adresse an.",base_sent_1:"Please enter your exact address.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:72,goal:"der Angeh\xF6rige, -n",base:"relative (cousin, etc)",goal_sent_1:"Wir d\xFCrfen nur Familienangeh\xF6rigen Auskunft geben.",base_sent_1:"We may only provide information to family members.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"masculine"},{id:73,goal:"angenehm",base:"pleasant",goal_sent_1:"Wir w\xFCnschen Ihnen eine angenehme Reise.",base_sent_1:"We wish you a pleasant journey.",goal_sent_2:"Welcher Termin w\xE4re Ihnen angenehm?",base_sent_2:"Which date would you like?",starred:!1,type:"other"},{id:74,goal:'die Angst, -"e',base:"fear",goal_sent_1:"Du brauchst keine Angst zu haben. Der Hund tut dir nichts.",base_sent_1:"You do not have to be scared. The dog does nothing to you.",goal_sent_2:"Ich habe Angst, vielleicht ist etwas passiert.",base_sent_2:"I'm scared, maybe something happened.",starred:!1,type:"feminine"},{id:75,goal:"\xE4ngstlich",base:"nervous, worried, timid",goal_sent_1:"Meine Tochter ist etwas \xE4ngstlich. Sie geht nicht gern allein auf die Stra\xDFe.",base_sent_1:"My daughter is a little scared. She does not like to go alone on the street.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"other"},{id:76,goal:"anhaben, hat an, hatte an, hat angehabt",base:"to have on",goal_sent_1:"Gestern hatte Julia ein rotes Kleid an.",base_sent_1:"Yesterday Julia was wearing a red dress.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:77,goal:"ankommen, kommt an, kam an, ist angekommen",base:"to arrive",goal_sent_1:"Wann kommt der Zug in Hamburg an?",base_sent_1:"When does the train arrive in Hamburg?",goal_sent_2:"Es kommt darauf an, dass Sie alle Fragen im Test beantworten.",base_sent_2:"It is important that you answer all the questions in the test.",starred:!1,type:"verb"},{id:78,goal:'die Ankunft, "-e',base:"arrival",goal_sent_1:"Die Abfahrt ist um 0.55 Uhr, die Ankunft um 8.07 Uhr.",base_sent_1:"The departure is at 0.55 clock, the arrival at 8.07 clock.",goal_sent_2:"Gleich nach der Ankunft habe ich meine Eltern angerufen.",base_sent_2:"Immediately after arrival, I called my parents.",starred:!1,type:"feminine"},{id:79,goal:"die Anlage, -n",base:"music system, attachment, investment",goal_sent_1:"Meine Musikanlage ist kaputt.",base_sent_1:"My music system is broken.",goal_sent_2:"In der Anlage finden Sie meinen Lebenslauf.",base_sent_2:"In the attachment you will find my CV.",starred:!1,type:"feminine"},{id:80,goal:"anmelden, meldet an, meldete an, hat angemeldet, angemeldet sein",base:"to announce, make an appointment",goal_sent_1:"F\xFCr diesen Kurs m\xFCssen Sie sich unbedingt vorher anmelden.",base_sent_1:"You absolutely have to register in advance for this course.",goal_sent_2:"Ich melde meinen Sohn im Kindergarten an.",base_sent_2:"I enroll my son in kindergarten.",starred:!1,type:"verb"},{id:81,goal:"die Anmeldung, -en",base:"appointment, announcement",goal_sent_1:"Wo bekomme ich die Formulare f\xFCr die Anmeldung?",base_sent_1:"Where can I get the registration forms?",goal_sent_2:"Die Anmeldung ist im Erdgeschoss, Zimmer 55.",base_sent_2:"The registration is on the ground floor, room 55.",starred:!1,type:"feminine"},{id:82,goal:"die Anrede, -n",base:"form of address",goal_sent_1:"Du darfst im Brief die Anrede nicht vergessen.",base_sent_1:"You must not forget the salutation in the letter.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"feminine"},{id:83,goal:"anrufen, ruft an, rief an, hat angerufen",base:"to telephone, call, call out",goal_sent_1:"Ich rufe Sie heute Abend an.",base_sent_1:"I'll call you tonight.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:84,goal:"der Anruf, -e",base:"call",goal_sent_1:"Ich warte auf einen Anruf aus Berlin.",base_sent_1:"I'm waiting for a call from Berlin.",goal_sent_2:"Meine Tochter bekommt viele Anrufe auf ihrem Handy.",base_sent_2:"My daughter gets many calls on her mobile.",starred:!1,type:"masculine"},{id:85,goal:"der Anrufbeantworter, -",base:"answering machine",goal_sent_1:"Ich habe dir eine Nachricht auf den Anrufbeantworter gesprochen.",base_sent_1:"I have spoken to you on the answering machine.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"masculine"},{id:86,goal:"die Ansage, -n",base:"announcement",goal_sent_1:"Achten Sie auf die Ansage am Bahnsteig.",base_sent_1:"Pay attention to the announcement on the platform.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"feminine"},{id:87,goal:"anschaffen, schafft an, schaffte an, hat angeschafft",base:"to purchase",goal_sent_1:"Wir haben uns neue M\xF6bel angeschafft.",base_sent_1:"We bought new furniture.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:88,goal:"anschlie\xDFen, schlie\xDFt an, schloss an, hat angeschlossen",base:"to connect",goal_sent_1:"Wo kann ich den Computer anschlie\xDFen?",base_sent_1:"Where can I connect the computer?",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:89,goal:'der Anschluss, -"e',base:"connection (TV, internet)",goal_sent_1:"In Mannheim haben Sie Anschluss nach Saarbr\xFCcken.",base_sent_1:"In Mannheim you have connection to Saarbr\xFCcken.",goal_sent_2:"Ich brauche in meiner Wohnung einen Telefonanschluss.",base_sent_2:"I need a telephone connection in my apartment.",starred:!1,type:"masculine"},{id:90,goal:"anschnallen, schnallt an, schnallte an, hat angeschnallt",base:"to strap in, fasten seat belt",goal_sent_1:"Vergiss nicht, dich anzuschnallen!",base_sent_1:"Do not forget to strap on!",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:91,goal:"ansehen, sieht an, sah an, hat angesehen",base:"to look at",goal_sent_1:"Warum siehst du mich so erschrocken an?",base_sent_1:"Why are you looking at me so startled?",goal_sent_2:"Darf ich eure Urlaubsfotos ansehen?",base_sent_2:"May I take a look at your vacation photos?",starred:!1,type:"verb"},{id:92,goal:"ansprechen, spricht an, sprach an, hat angesprochen",base:"to speak to",goal_sent_1:"Gestern hat mich die neue Mieterin im Treppenhaus angesprochen.",base_sent_1:"Yesterday, the new tenant in the stairwell addressed me.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:93,goal:'der Anspruch, - "e',base:"claim",goal_sent_1:"Sie wohnen im Stadtzentrum. Deshalb haben Sie keinen Anspruch auf Fahrgeld.",base_sent_1:"You live in the city center. Therefore, you are not entitled to fare.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"masculine"},{id:94,goal:"anstellen, stellt an, stellte an, hat angestellt",base:"to turn on, employ",goal_sent_1:"K\xF6nnen Sie bitte die Heizung anstellen?",base_sent_1:"Can you please turn on the heating?",goal_sent_2:"Mein Schwager ist bei einer M\xF6belfirma angestellt.",base_sent_2:"My brother-in-law is employed by a furniture company.",starred:!1,type:"verb"},{id:95,goal:"der Angestellte, -n",base:"employee",goal_sent_1:"Bj\xF6rn ist Angestellter in einem Reiseb\xFCro.",base_sent_1:"Bj\xF6rn is a clerk in a travel agency.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"masculine"},{id:96,goal:"sich anstrengen, strengt sich an, strengte sich an, hat sich angestrengt",base:"to tire oneself out, strain oneself",goal_sent_1:"Diese Arbeit strengt mich sehr an.",base_sent_1:"This work is very stressful for me.",goal_sent_2:"Wenn du die Pr\xFCfung schaffen willst, musst du dich mehr anstrengen.",base_sent_2:"If you want to pass the exam, you have to work harder.",starred:!1,type:"verb"},{id:97,goal:"anstrengend",base:"exhausting",goal_sent_1:"Ich finde diese Arbeit sehr anstrengend.",base_sent_1:"I find this work very exhausting.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"other"},{id:98,goal:'der Antrag, -"e',base:"application, proposal, motion",goal_sent_1:"Haben Sie schon einen Antrag auf Wohngeld gestellt?",base_sent_1:"Have you already applied for housing allowance?",goal_sent_2:"Die Antr\xE4ge bekommen Sie in Zimmer 47.",base_sent_2:"You will receive the applications in room 47.",starred:!1,type:"masculine"},{id:99,goal:"anwenden, wendet an, wandte an, hat angewandt/angewendet",base:"to use, employ, apply",goal_sent_1:"Diese Salbe muss man dreimal am Tag anwenden.",base_sent_1:"This ointment must be used three times a day.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"}];var y0="@firebase/database",_0="1.0.5";var uy="";function YL(t){uy=t}var pm=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Re(n))}get(e){let n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:bs(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var gm=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return mn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var Y0=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){let e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new pm(e)}}catch{}return new gm},gi=Y0("localStorage"),mm=Y0("sessionStorage");var js=new lr("@firebase/database"),QL=function(){let t=1;return function(){return t++}}(),Q0=function(t){let e=pC(t),n=new qc;n.update(e);let r=n.digest();return Kc.encodeByteArray(r)},xa=function(...t){let e="";for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=xa.apply(null,r):typeof r=="object"?e+=Re(r):e+=r,e+=" "}return e},yi=null,v0=!0,ZL=function(t,e){v(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(js.logLevel=de.VERBOSE,yi=js.log.bind(js),e&&mm.set("logging_enabled",!0)):typeof t=="function"?yi=t:(yi=null,mm.remove("logging_enabled"))},Qe=function(...t){if(v0===!0&&(v0=!1,yi===null&&mm.get("logging_enabled")===!0&&ZL(!0)),yi){let e=xa.apply(null,t);yi(e)}},Oa=function(t){return function(...e){Qe(t,...e)}},ym=function(...t){let e="FIREBASE INTERNAL ERROR: "+xa(...t);js.error(e)},Vn=function(...t){let e=`FIREBASE FATAL ERROR: ${xa(...t)}`;throw js.error(e),new Error(e)},lt=function(...t){let e="FIREBASE WARNING: "+xa(...t);js.warn(e)},JL=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&lt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Z0=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},XL=function(t){if(gn()||document.readyState==="complete")t();else{let e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Bs="[MIN_NAME]",_i="[MAX_NAME]",Ks=function(t,e){if(t===e)return 0;if(t===Bs||e===_i)return-1;if(e===Bs||t===_i)return 1;{let n=w0(t),r=w0(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},e2=function(t,e){return t===e?0:t<e?-1:1},ma=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Re(e))},dy=function(t){if(typeof t!="object"||t===null)return Re(t);let e=[];for(let r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Re(e[r]),n+=":",n+=dy(t[e[r]]);return n+="}",n},J0=function(t,e){let n=t.length;if(n<=e)return[t];let r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function ct(t,e){for(let n in t)t.hasOwnProperty(n)&&e(n,t[n])}var X0=function(t){v(!Z0(t),"Invalid JSON number");let e=11,n=52,r=(1<<e-1)-1,i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));let c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();let u=c.join(""),d="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},t2=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},n2=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function r2(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");let r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}var i2=new RegExp("^-?(0*)\\d{1,10}$"),s2=-2147483648,o2=2147483647,w0=function(t){if(i2.test(t)){let e=Number(t);if(e>=s2&&e<=o2)return e}return null},Ys=function(t){try{t()}catch(e){setTimeout(()=>{let n=e.stack||"";throw lt("Exception was thrown by user callback.",n),e},Math.floor(0))}},a2=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ba=function(t,e){let n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var _m=class{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){lt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}};var vm=class{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Qe("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',lt(e)}},Ea=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}t.OWNER="owner";return t})(),Fu="5",eD="v",tD="s",nD="r",rD="f",iD=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,sD="ls",oD="p",wm="ac",aD="websocket",lD="long_polling";var Lu=class{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=gi.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&gi.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}};function l2(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function cD(t,e,n){v(typeof e=="string","typeof type must == string"),v(typeof n=="object","typeof params must == object");let r;if(e===aD)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===lD)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);l2(t)&&(n.ns=t.namespace);let i=[];return ct(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}var bm=class{constructor(){this.counters_={}}incrementCounter(e,n=1){mn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return nC(this.counters_)}};var am={},lm={};function hy(t){let e=t.toString();return am[e]||(am[e]=new bm),am[e]}function c2(t,e){let n=t.toString();return lm[n]||(lm[n]=e()),lm[n]}var Em=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Ys(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var b0="start",u2="close",d2="pLPCommand",h2="pRTLPCB",uD="id",dD="pw",hD="ser",f2="cb",p2="seg",g2="ts",m2="d",y2="dframe",fD=1870,pD=30,_2=fD-pD,v2=25e3,w2=3e4,Cm=class t{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Oa(e),this.stats_=hy(n),this.urlFn=l=>(this.appCheckToken&&(l[wm]=this.appCheckToken),cD(n,lD,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Em(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(w2)),XL(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Im((...s)=>{let[o,a,l,c,u]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===b0)this.id=a,this.password=l;else if(o===u2)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{let[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[b0]="t",r[hD]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[f2]=this.scriptTagHolder.uniqueCallbackIdentifier),r[eD]=Fu,this.transportSessionId&&(r[tD]=this.transportSessionId),this.lastSessionId&&(r[sD]=this.lastSessionId),this.applicationId&&(r[oD]=this.applicationId),this.appCheckToken&&(r[wm]=this.appCheckToken),typeof location<"u"&&location.hostname&&iD.test(location.hostname)&&(r[nD]=rD);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){t.forceAllow_=!0}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){return gn()?!1:t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!t2()&&!n2()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let n=Re(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=og(n),i=J0(r,_2);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if(gn())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[y2]="t",r[uD]=e,r[dD]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let n=Re(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},Im=class t{constructor(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,gn())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=QL(),window[d2+this.uniqueCallbackIdentifier]=e,window[h2+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');let o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Qe("frame writing exception"),a.stack&&Qe(a.stack),Qe(a)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Qe("No IE domain setting required")}catch{let r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[uD]=this.myID,e[dD]=this.myPW,e[hD]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+pD+r.length<=fD;){let o=this.pendingSegs.shift();r=r+"&"+p2+i+"="+o.seg+"&"+g2+i+"="+o.ts+"&"+m2+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(v2)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){gn()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Qe("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var b2=16384,E2=45e3,Vu=null;typeof MozWebSocket<"u"?Vu=MozWebSocket:typeof WebSocket<"u"&&(Vu=WebSocket);var ya=(()=>{class t{constructor(n,r,i,s,o,a,l){this.connId=n,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Oa(this.connId),this.stats_=hy(r),this.connURL=t.connectionURL_(r,a,l,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,s,o){let a={};return a[eD]=Fu,!gn()&&typeof location<"u"&&location.hostname&&iD.test(location.hostname)&&(a[nD]=rD),r&&(a[tD]=r),i&&(a[sD]=i),s&&(a[wm]=s),o&&(a[oD]=o),cD(n,aD,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,gi.set("previous_websocket_failure",!0);try{let i;if(gn()){let s=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${Fu}/${uy}/${process.platform}/${s}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let o=process.env,a=this.connURL.indexOf("wss://")===0?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new Vu(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&Vu!==null&&!t.forceDisallow_}static previouslyFailed(){return gi.isInMemoryStorage||gi.get("previous_websocket_failure")===!0}markConnectionHealthy(){gi.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=bs(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(v(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=Re(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=J0(r,b2);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(E2))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4;return t})(),C2=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[Cm,ya]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){let r=ya&&ya.isAvailable(),i=r&&!ya.previouslyFailed();if(n.webSocketOnly&&(r||lt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[ya];else{let s=this.transports_=[];for(let o of t.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}t.globalTransportInitialized_=!1;return t})(),I2=6e4,D2=5e3,S2=10*1024,T2=100*1024,cm="t",E0="d",A2="s",C0="r",M2="e",I0="o",D0="a",S0="n",T0="p",N2="h",Dm=class{constructor(e,n,r,i,s,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Oa("c:"+this.id+":"),this.transportManager_=new C2(n),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=ba(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>T2?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>S2?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){let n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(cm in e){let n=e[cm];n===D0?this.upgradeIfSecondaryHealthy_():n===C0?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===I0&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let n=ma("t",e),r=ma("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:T0,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:D0,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:S0,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let n=ma("t",e),r=ma("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let n=ma(cm,e);if(E0 in e){let r=e[E0];if(n===N2){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===S0){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===A2?this.onConnectionShutdown_(r):n===C0?this.onReset_(r):n===M2?ym("Server Error: "+r):n===I0?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ym("Unknown control packet command: "+n)}}onHandshake_(e){let n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Fu!==r&&lt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),ba(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(I2))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ba(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(D2))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:T0,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(gi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var ju=class{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}};var Uu=class{constructor(e){this.allowedEvents_=e,this.listeners_={},v(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){let r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});let i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);let i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){v(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};var Bu=class t extends Uu{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!qo()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new t}getInitialEvent(e){return v(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var A0=32,M0=768,he=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function se(){return new he("")}function X(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Er(t){return t.pieces_.length-t.pieceNum_}function me(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new he(t.pieces_,e)}function gD(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function R2(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function mD(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function yD(t){if(t.pieceNum_>=t.pieces_.length)return null;let e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new he(e,0)}function Pe(t,e){let n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof he)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{let r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new he(n,0)}function Z(t){return t.pieceNum_>=t.pieces_.length}function rt(t,e){let n=X(t),r=X(e);if(n===null)return e;if(n===r)return rt(me(t),me(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function _D(t,e){if(Er(t)!==Er(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Yt(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Er(t)>Er(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var Sm=class{constructor(e,n){this.errorPrefix_=n,this.parts_=mD(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Qo(this.parts_[r]);vD(this)}};function x2(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Qo(e),vD(t)}function O2(t){let e=t.parts_.pop();t.byteLength_-=Qo(e),t.parts_.length>0&&(t.byteLength_-=1)}function vD(t){if(t.byteLength_>M0)throw new Error(t.errorPrefix_+"has a key path longer than "+M0+" bytes ("+t.byteLength_+").");if(t.parts_.length>A0)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+A0+") or object contains a cycle "+pi(t))}function pi(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}var Tm=class t extends Uu{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new t}getInitialEvent(e){return v(e==="visible","Unknown event type: "+e),[this.visible_]}};var _a=1e3,k2=60*5*1e3,N0=30*1e3,P2=1.3,F2=3e4,L2="server_kill",R0=3,fy=(()=>{class t extends ju{constructor(n,r,i,s,o,a,l,c){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=t.nextPersistentConnectionId_++,this.log_=Oa("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=_a,this.maxReconnectDelay_=k2,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!gn())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Tm.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&Bu.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let s=++this.requestNumber_,o={r:s,a:n,b:r};this.log_(Re(o)),v(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(n){this.initConnection_();let r=new ar,s={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let l=a.d;a.s==="ok"?r.resolve(l):r.reject(l)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;let o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),r.promise}listen(n,r,i,s){this.initConnection_();let o=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),v(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),v(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");let l={onComplete:s,hashFn:r,query:n,tag:i};this.listens.get(a).set(o,l),this.connected_&&this.sendListen_(l)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);let o={p:i},a="q";n.tag&&(o.q=r._queryObject,o.t=n.tag),o.h=n.hashFn(),this.sendRequest(a,o,l=>{let c=l.d,u=l.s;t.warnOnListenWarnings_(c,r),(this.listens.get(i)&&this.listens.get(i).get(s))===n&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(i,s),n.onComplete&&n.onComplete(u,c))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&mn(n,"w")){let i=ri(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();lt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||hC(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=N0)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=dC(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{let o=s.s,a=s.d||"error";this.authToken_===n&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),s=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),v(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,n._queryObject,r)}sendUnlisten_(n,r,i,s){this.log_("Unlisten on "+n+" for "+r);let o={p:n},a="n";s&&(o.q=i,o.t=s),this.sendRequest(a,o)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,s){let o={p:r,d:i};this.log_("onDisconnect "+n,o),this.sendRequest(n,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(n,r,i,s){this.putInternal("p",n,r,i,s)}merge(n,r,i,s){this.putInternal("m",n,r,i,s)}putInternal(n,r,i,s,o){this.initConnection_();let a={p:r,d:i};o!==void 0&&(a.h=o),this.outstandingPuts_.push({action:n,request:a,onComplete:s}),this.outstandingPutCount_++;let l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,s=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let o=i.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+Re(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):ym("Unrecognized action received from server: "+Re(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){v(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=_a,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=_a,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>F2&&(this.reconnectDelay_=_a),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=new Date().getTime()-this.lastConnectionAttemptTime_,r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*P2)}this.onConnectStatus_(!1)}establishConnection_(){return g(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+t.nextConnectionId_++,o=this.lastSessionId,a=!1,l=null,c=function(){l?l.close():(a=!0,i())},u=function(h){v(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(h)};this.realtime_={close:c,sendRequest:u};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[h,f]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?Qe("getToken() completed but was canceled"):(Qe("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=f&&f.token,l=new Dm(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,p=>{lt(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(L2)},o))}catch(h){this.log_("Failed to get token: "+h),a||(this.repoInfo_.nodeAdmin&&lt(h),c())}}})}interrupt(n){Qe("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Qe("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Ko(this.interruptReasons_)&&(this.reconnectDelay_=_a,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(o=>dy(o)).join("$"):i="default";let s=this.removeListen_(n,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(n,r){let i=new he(n).toString(),s;if(this.listens.has(i)){let o=this.listens.get(i);s=o.get(r),o.delete(r),o.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(n,r){Qe("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=R0&&(this.reconnectDelay_=N0,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){Qe("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=R0&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";gn()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+uy.replace(/\./g,"-")]=1,qo()?n["framework.cordova"]=1:Yc()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=Bu.getInstance().currentlyOnline();return Ko(this.interruptReasons_)&&n}}t.nextPersistentConnectionId_=0,t.nextConnectionId_=0;return t})(),Q=class t{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new t(e,n)}};var $s=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){let r=new Q(Bs,e),i=new Q(Bs,n);return this.compare(r,i)!==0}minPost(){return Q.MIN}};var Pu,$u=class extends $s{static get __EMPTY_NODE(){return Pu}static set __EMPTY_NODE(e){Pu=e}compare(e,n){return Ks(e.name,n.name)}isDefinedOn(e){throw ni("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Q.MIN}maxPost(){return new Q(_i,Pu)}makePost(e,n){return v(typeof e=="string","KeyIndex indexValue must always be a string."),new Q(e,Pu)}toString(){return".key"}},Us=new $u;var Vs=class{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},Kt=(()=>{class t{constructor(n,r,i,s,o){this.key=n,this.value=r,this.color=i??t.RED,this.left=s??kt.EMPTY_NODE,this.right=o??kt.EMPTY_NODE}copy(n,r,i,s,o){return new t(n??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let s=this,o=i(n,s.key);return o<0?s=s.copy(null,null,null,s.left.insert(n,r,i),null):o===0?s=s.copy(null,r,null,null,null):s=s.copy(null,null,null,null,s.right.insert(n,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return kt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,s;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return kt.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})(),Am=class{copy(e,n,r,i,s){return this}insert(e,n,r){return new Kt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},kt=class t{constructor(e,n=t.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Kt.BLACK,null,null))}remove(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Kt.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Vs(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Vs(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Vs(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Vs(this.root_,null,this.comparator_,!0,e)}};kt.EMPTY_NODE=new Am;function V2(t,e){return Ks(t.name,e.name)}function py(t,e){return Ks(t,e)}var Mm;function j2(t){Mm=t}var wD=function(t){return typeof t=="number"?"number:"+X0(t):"string:"+t},bD=function(t){if(t.isLeafNode()){let e=t.val();v(typeof e=="string"||typeof e=="number"||typeof e=="object"&&mn(e,".sv"),"Priority must be a string or number.")}else v(t===Mm||t.isEmpty(),"priority of unexpected type.");v(t===Mm||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var x0,Hs=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,v(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),bD(this.priorityNode_)}static set __childrenNodeConstructor(n){x0=n}static get __childrenNodeConstructor(){return x0}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return Z(n)?this:X(n)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=X(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(v(i!==".priority"||Er(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(me(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+wD(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=X0(this.value_):n+=this.value_,this.lazyHash_=Q0(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(v(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,s=t.VALUE_TYPE_ORDER.indexOf(r),o=t.VALUE_TYPE_ORDER.indexOf(i);return v(s>=0,"Unknown leaf type: "+r),v(o>=0,"Unknown leaf type: "+i),s===o?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}t.VALUE_TYPE_ORDER=["object","boolean","number","string"];return t})(),ED,CD;function U2(t){ED=t}function B2(t){CD=t}var Nm=class extends $s{compare(e,n){let r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Ks(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Q.MIN}maxPost(){return new Q(_i,new Hs("[PRIORITY-POST]",CD))}makePost(e,n){let r=ED(e);return new Q(n,new Hs("[PRIORITY-POST]",r))}toString(){return".priority"}},Ee=new Nm;var $2=Math.log(2),Rm=class{constructor(e){let n=s=>parseInt(Math.log(s)/$2,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;let i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},Hu=function(t,e,n,r){t.sort(e);let i=function(l,c){let u=c-l,d,h;if(u===0)return null;if(u===1)return d=t[l],h=n?n(d):d,new Kt(h,d.node,Kt.BLACK,null,null);{let f=parseInt(u/2,10)+l,p=i(l,f),m=i(f+1,c);return d=t[f],h=n?n(d):d,new Kt(h,d.node,Kt.BLACK,p,m)}},s=function(l){let c=null,u=null,d=t.length,h=function(p,m){let w=d-p,S=d;d-=p;let K=i(w+1,S),L=t[w],ie=n?n(L):L;f(new Kt(ie,L.node,m,null,K))},f=function(p){c?(c.left=p,c=p):(u=p,c=p)};for(let p=0;p<l.count;++p){let m=l.nextBitIsOne(),w=Math.pow(2,l.count-(p+1));m?h(w,Kt.BLACK):(h(w,Kt.BLACK),h(w,Kt.RED))}return u},o=new Rm(t.length),a=s(o);return new kt(r||e,a)};var um,Ls={},zs=class t{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return v(Ls&&Ee,"ChildrenNode.ts has not been loaded"),um=um||new t({".priority":Ls},{".priority":Ee}),um}get(e){let n=ri(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof kt?n:null}hasIndex(e){return mn(this.indexSet_,e.toString())}addIndex(e,n){v(e!==Us,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,s=n.getIterator(Q.Wrap),o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=Hu(r,e.getCompare()):a=Ls;let l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;let u=Object.assign({},this.indexes_);return u[l]=a,new t(u,c)}addToIndexes(e,n){let r=Yo(this.indexes_,(i,s)=>{let o=ri(this.indexSet_,s);if(v(o,"Missing index implementation for "+s),i===Ls)if(o.isDefinedOn(e.node)){let a=[],l=n.getIterator(Q.Wrap),c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),Hu(a,o.getCompare())}else return Ls;else{let a=n.get(e.name),l=i;return a&&(l=l.remove(new Q(e.name,a))),l.insert(e,e.node)}});return new t(r,this.indexSet_)}removeFromIndexes(e,n){let r=Yo(this.indexes_,i=>{if(i===Ls)return i;{let s=n.get(e.name);return s?i.remove(new Q(e.name,s)):i}});return new t(r,this.indexSet_)}};var va,$=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&bD(this.priorityNode_),this.children_.isEmpty()&&v(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return va||(va=new t(new kt(py),null,zs.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||va}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?va:r}}getChild(n){let r=X(n);return r===null?this:this.getImmediateChild(r).getChild(me(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(v(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new Q(n,r),s,o;r.isEmpty()?(s=this.children_.remove(n),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(n,r),o=this.indexMap_.addToIndexes(i,this.children_));let a=s.isEmpty()?va:this.priorityNode_;return new t(s,a,o)}}updateChild(n,r){let i=X(n);if(i===null)return r;{v(X(n)!==".priority"||Er(n)===1,".priority must be the last token in a path");let s=this.getImmediateChild(i).updateChild(me(n),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,s=0,o=!0;if(this.forEachChild(Ee,(a,l)=>{r[a]=l.val(n),i++,o&&t.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!n&&o&&s<2*i){let a=[];for(let l in r)a[l]=r[l];return a}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+wD(this.getPriority().val())+":"),this.forEachChild(Ee,(r,i)=>{let s=i.hash();s!==""&&(n+=":"+r+":"+s)}),this.lazyHash_=n===""?"":Q0(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let s=this.resolveIndex_(i);if(s){let o=s.getPredecessorKey(new Q(n,r));return o?o.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new Q(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new Q(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,s=>s);{let s=this.children_.getIteratorFrom(n.name,Q.Wrap),o=s.peek();for(;o!=null&&r.compare(o,n)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,s=>s);{let s=this.children_.getReverseIteratorFrom(n.name,Q.Wrap),o=s.peek();for(;o!=null&&r.compare(o,n)>0;)s.getNext(),o=s.peek();return s}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===ka?-1:0}withIndex(n){if(n===Us||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===Us||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(Ee),s=r.getIterator(Ee),o=i.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=i.getNext(),a=s.getNext()}return o===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===Us?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})(),xm=class extends ${constructor(){super(new kt(py),$.EMPTY_NODE,zs.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return $.EMPTY_NODE}isEmpty(){return!1}},ka=new xm;Object.defineProperties(Q,{MIN:{value:new Q(Bs,$.EMPTY_NODE)},MAX:{value:new Q(_i,ka)}});$u.__EMPTY_NODE=$.EMPTY_NODE;Hs.__childrenNodeConstructor=$;j2(ka);B2(ka);var H2=!0;function Ue(t,e=null){if(t===null)return $.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),v(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){let n=t;return new Hs(n,Ue(e))}if(!(t instanceof Array)&&H2){let n=[],r=!1;if(ct(t,(o,a)=>{if(o.substring(0,1)!=="."){let l=Ue(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Q(o,l)))}}),n.length===0)return $.EMPTY_NODE;let s=Hu(n,V2,o=>o.name,py);if(r){let o=Hu(n,Ee.getCompare());return new $(s,Ue(e),new zs({".priority":o},{".priority":Ee}))}else return new $(s,Ue(e),zs.Default)}else{let n=$.EMPTY_NODE;return ct(t,(r,i)=>{if(mn(t,r)&&r.substring(0,1)!=="."){let s=Ue(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Ue(e))}}U2(Ue);var Om=class extends $s{constructor(e){super(),this.indexPath_=e,v(!Z(e)&&X(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){let r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Ks(e.name,n.name):s}makePost(e,n){let r=Ue(e),i=$.EMPTY_NODE.updateChild(this.indexPath_,r);return new Q(n,i)}maxPost(){let e=$.EMPTY_NODE.updateChild(this.indexPath_,ka);return new Q(_i,e)}toString(){return mD(this.indexPath_,0).join("/")}};var km=class extends $s{compare(e,n){let r=e.node.compareTo(n.node);return r===0?Ks(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Q.MIN}maxPost(){return Q.MAX}makePost(e,n){let r=Ue(e);return new Q(n,r)}toString(){return".value"}},z2=new km;function ID(t){return{type:"value",snapshotNode:t}}function Ws(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Sa(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Ta(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function W2(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}var Aa=class{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){v(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(Sa(n,a)):v(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Ws(n,r)):o.trackChildChange(Ta(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Ee,(i,s)=>{n.hasChild(i)||r.trackChildChange(Sa(i,s))}),n.isLeafNode()||n.forEachChild(Ee,(i,s)=>{if(e.hasChild(i)){let o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(Ta(i,s,o))}else r.trackChildChange(Ws(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?$.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var zu=class t{constructor(e){this.indexedFilter_=new Aa(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){let n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new Q(n,r))||(r=$.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=$.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority($.EMPTY_NODE);let s=this;return n.forEachChild(Ee,(o,a)=>{s.matches(new Q(o,a))||(i=i.updateImmediateChild(o,$.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){let n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){let n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}};var Pm=class{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{let r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{let r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new zu(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new Q(n,r))||(r=$.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=$.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=$.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){let a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority($.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){let a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,$.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){let d=this.index_.getCompare();o=(h,f)=>d(f,h)}else o=this.index_.getCompare();let a=e;v(a.numChildren()===this.limit_,"");let l=new Q(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){let d=a.getImmediateChild(n),h=i.getChildAfterChild(this.index_,c,this.reverse_);for(;h!=null&&(h.name===n||a.hasChild(h.name));)h=i.getChildAfterChild(this.index_,h,this.reverse_);let f=h==null?1:o(h,l);if(u&&!r.isEmpty()&&f>=0)return s?.trackChildChange(Ta(n,r,d)),a.updateImmediateChild(n,r);{s?.trackChildChange(Sa(n,d));let m=a.updateImmediateChild(n,$.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(s?.trackChildChange(Ws(h.name,h.node)),m.updateImmediateChild(h.name,h.node)):m}}else return r.isEmpty()?e:u&&o(c,l)>=0?(s!=null&&(s.trackChildChange(Sa(c.name,c.node)),s.trackChildChange(Ws(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,$.EMPTY_NODE)):e}};var Fm=class t{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ee}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return v(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return v(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Bs}hasEnd(){return this.endSet_}getIndexEndValue(){return v(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return v(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:_i}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return v(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ee}copy(){let e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function G2(t){return t.loadsAllData()?new Aa(t.getIndex()):t.hasLimit()?new Pm(t):new zu(t)}function O0(t){let e={};if(t.isDefault())return e;let n;if(t.index_===Ee?n="$priority":t.index_===z2?n="$value":t.index_===Us?n="$key":(v(t.index_ instanceof Om,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Re(n),t.startSet_){let r=t.startAfterSet_?"startAfter":"startAt";e[r]=Re(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Re(t.indexStartName_))}if(t.endSet_){let r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Re(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Re(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function k0(t){let e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Ee&&(e.i=t.index_.toString()),e}var Lm=class t extends ju{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Oa("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(v(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){let s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);let o=t.getListenId_(e,r),a={};this.listens_[o]=a;let l=O0(e._queryParams);this.restRequest_(s+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(s,d,!1,r),ri(this.listens_,o)===a){let h;c?c===401?h="permission_denied":h="rest_error:"+c:h="ok",i(h,null)}})}unlisten(e,n){let r=t.getListenId_(e,n);delete this.listens_[r]}get(e){let n=O0(e._queryParams),r=e._path.toString(),i=new ar;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);let o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+ii(n);this.log_("Sending REST request for "+o);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=bs(a.responseText)}catch{lt("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&lt("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}};var Vm=class{constructor(){this.rootNode_=$.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}};function Wu(){return{value:null,children:new Map}}function DD(t,e,n){if(Z(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{let r=X(e);t.children.has(r)||t.children.set(r,Wu());let i=t.children.get(r);e=me(e),DD(i,e,n)}}function jm(t,e,n){t.value!==null?n(e,t.value):q2(t,(r,i)=>{let s=new he(e.toString()+"/"+r);jm(i,s,n)})}function q2(t,e){t.children.forEach((n,r)=>{e(r,n)})}var Um=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),n=Object.assign({},e);return this.last_&&ct(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}};var P0=10*1e3,K2=30*1e3,Y2=5*60*1e3,Bm=class{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Um(e);let r=P0+(K2-P0)*Math.random();ba(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let e=this.statsListener_.get(),n={},r=!1;ct(e,(i,s)=>{s>0&&mn(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),ba(this.reportStats_.bind(this),Math.floor(Math.random()*2*Y2))}};var En=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(En||{});function SD(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function gy(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function my(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var $m=class t{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=En.ACK_USER_WRITE,this.source=SD()}operationForChild(e){if(Z(this.path)){if(this.affectedTree.value!=null)return v(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new he(e));return new t(se(),n,this.revert)}}else return v(X(this.path)===e,"operationForChild called for unrelated child."),new t(me(this.path),this.affectedTree,this.revert)}};var Gu=class t{constructor(e,n){this.source=e,this.path=n,this.type=En.LISTEN_COMPLETE}operationForChild(e){return Z(this.path)?new t(this.source,se()):new t(this.source,me(this.path))}};var Gs=class t{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=En.OVERWRITE}operationForChild(e){return Z(this.path)?new t(this.source,se(),this.snap.getImmediateChild(e)):new t(this.source,me(this.path),this.snap)}};var qu=class t{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=En.MERGE}operationForChild(e){if(Z(this.path)){let n=this.children.subtree(new he(e));return n.isEmpty()?null:n.value?new Gs(this.source,se(),n.value):new t(this.source,se(),n)}else return v(X(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,me(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var Cn=class{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Z(e))return this.isFullyInitialized()&&!this.filtered_;let n=X(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};var Hm=class{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}};function Q2(t,e,n,r){let i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(W2(o.childName,o.snapshotNode))}),wa(t,i,"child_removed",e,r,n),wa(t,i,"child_added",e,r,n),wa(t,i,"child_moved",s,r,n),wa(t,i,"child_changed",e,r,n),wa(t,i,"value",e,r,n),i}function wa(t,e,n,r,i,s){let o=r.filter(a=>a.type===n);o.sort((a,l)=>J2(t,a,l)),o.forEach(a=>{let l=Z2(t,a,s);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function Z2(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function J2(t,e,n){if(e.childName==null||n.childName==null)throw ni("Should only compare child_ events.");let r=new Q(e.childName,e.snapshotNode),i=new Q(n.childName,n.snapshotNode);return t.index_.compare(r,i)}function rd(t,e){return{eventCache:t,serverCache:e}}function Ca(t,e,n,r){return rd(new Cn(e,n,r),t.serverCache)}function TD(t,e,n,r){return rd(t.eventCache,new Cn(e,n,r))}function Ku(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function vi(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var dm,X2=()=>(dm||(dm=new kt(e2)),dm),ut=class t{constructor(e,n=X2()){this.value=e,this.children=n}static fromObject(e){let n=new t(null);return ct(e,(r,i)=>{n=n.set(new he(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:se(),value:this.value};if(Z(e))return null;{let r=X(e),i=this.children.get(r);if(i!==null){let s=i.findRootMostMatchingPathAndValue(me(e),n);return s!=null?{path:Pe(new he(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Z(e))return this;{let n=X(e),r=this.children.get(n);return r!==null?r.subtree(me(e)):new t(null)}}set(e,n){if(Z(e))return new t(n,this.children);{let r=X(e),s=(this.children.get(r)||new t(null)).set(me(e),n),o=this.children.insert(r,s);return new t(this.value,o)}}remove(e){if(Z(e))return this.children.isEmpty()?new t(null):new t(null,this.children);{let n=X(e),r=this.children.get(n);if(r){let i=r.remove(me(e)),s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new t(null):new t(this.value,s)}else return this}}get(e){if(Z(e))return this.value;{let n=X(e),r=this.children.get(n);return r?r.get(me(e)):null}}setTree(e,n){if(Z(e))return n;{let r=X(e),s=(this.children.get(r)||new t(null)).setTree(me(e),n),o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new t(this.value,o)}}fold(e){return this.fold_(se(),e)}fold_(e,n){let r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Pe(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,se(),n)}findOnPath_(e,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if(Z(e))return null;{let s=X(e),o=this.children.get(s);return o?o.findOnPath_(me(e),Pe(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,se(),n)}foreachOnPath_(e,n,r){if(Z(e))return this;{this.value&&r(n,this.value);let i=X(e),s=this.children.get(i);return s?s.foreachOnPath_(me(e),Pe(n,i),r):new t(null)}}foreach(e){this.foreach_(se(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Pe(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}};var Qt=class t{constructor(e){this.writeTree_=e}static empty(){return new t(new ut(null))}};function Ia(t,e,n){if(Z(e))return new Qt(new ut(n));{let r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){let i=r.path,s=r.value,o=rt(i,e);return s=s.updateChild(o,n),new Qt(t.writeTree_.set(i,s))}else{let i=new ut(n),s=t.writeTree_.setTree(e,i);return new Qt(s)}}}function F0(t,e,n){let r=t;return ct(n,(i,s)=>{r=Ia(r,Pe(e,i),s)}),r}function L0(t,e){if(Z(e))return Qt.empty();{let n=t.writeTree_.setTree(e,new ut(null));return new Qt(n)}}function zm(t,e){return wi(t,e)!=null}function wi(t,e){let n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(rt(n.path,e)):null}function V0(t){let e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ee,(r,i)=>{e.push(new Q(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Q(r,i.value))}),e}function wr(t,e){if(Z(e))return t;{let n=wi(t,e);return n!=null?new Qt(new ut(n)):new Qt(t.writeTree_.subtree(e))}}function Wm(t){return t.writeTree_.isEmpty()}function qs(t,e){return AD(se(),t.writeTree_,e)}function AD(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(v(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=AD(Pe(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Pe(t,".priority"),r)),n}}function id(t,e){return xD(e,t)}function eV(t,e,n,r,i){v(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Ia(t.visibleWrites,e,n)),t.lastWriteId=r}function tV(t,e){for(let n=0;n<t.allWrites.length;n++){let r=t.allWrites[n];if(r.writeId===e)return r}return null}function nV(t,e){let n=t.allWrites.findIndex(a=>a.writeId===e);v(n>=0,"removeWrite called with nonexistent writeId.");let r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){let a=t.allWrites[o];a.visible&&(o>=n&&rV(a,r.path)?i=!1:Yt(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return iV(t),!0;if(r.snap)t.visibleWrites=L0(t.visibleWrites,r.path);else{let a=r.children;ct(a,l=>{t.visibleWrites=L0(t.visibleWrites,Pe(r.path,l))})}return!0}else return!1}function rV(t,e){if(t.snap)return Yt(t.path,e);for(let n in t.children)if(t.children.hasOwnProperty(n)&&Yt(Pe(t.path,n),e))return!0;return!1}function iV(t){t.visibleWrites=MD(t.allWrites,sV,se()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function sV(t){return t.visible}function MD(t,e,n){let r=Qt.empty();for(let i=0;i<t.length;++i){let s=t[i];if(e(s)){let o=s.path,a;if(s.snap)Yt(n,o)?(a=rt(n,o),r=Ia(r,a,s.snap)):Yt(o,n)&&(a=rt(o,n),r=Ia(r,se(),s.snap.getChild(a)));else if(s.children){if(Yt(n,o))a=rt(n,o),r=F0(r,a,s.children);else if(Yt(o,n))if(a=rt(o,n),Z(a))r=F0(r,se(),s.children);else{let l=ri(s.children,X(a));if(l){let c=l.getChild(me(a));r=Ia(r,se(),c)}}}else throw ni("WriteRecord should have .snap or .children")}}return r}function ND(t,e,n,r,i){if(!r&&!i){let s=wi(t.visibleWrites,e);if(s!=null)return s;{let o=wr(t.visibleWrites,e);if(Wm(o))return n;if(n==null&&!zm(o,se()))return null;{let a=n||$.EMPTY_NODE;return qs(o,a)}}}else{let s=wr(t.visibleWrites,e);if(!i&&Wm(s))return n;if(!i&&n==null&&!zm(s,se()))return null;{let o=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(Yt(c.path,e)||Yt(e,c.path))},a=MD(t.allWrites,o,e),l=n||$.EMPTY_NODE;return qs(a,l)}}}function oV(t,e,n){let r=$.EMPTY_NODE,i=wi(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Ee,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){let s=wr(t.visibleWrites,e);return n.forEachChild(Ee,(o,a)=>{let l=qs(wr(s,new he(o)),a);r=r.updateImmediateChild(o,l)}),V0(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{let s=wr(t.visibleWrites,e);return V0(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function aV(t,e,n,r,i){v(r||i,"Either existingEventSnap or existingServerSnap must exist");let s=Pe(e,n);if(zm(t.visibleWrites,s))return null;{let o=wr(t.visibleWrites,s);return Wm(o)?i.getChild(n):qs(o,i.getChild(n))}}function lV(t,e,n,r){let i=Pe(e,n),s=wi(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){let o=wr(t.visibleWrites,i);return qs(o,r.getNode().getImmediateChild(n))}else return null}function cV(t,e){return wi(t.visibleWrites,e)}function uV(t,e,n,r,i,s,o){let a,l=wr(t.visibleWrites,e),c=wi(l,se());if(c!=null)a=c;else if(n!=null)a=qs(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){let u=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o),f=h.getNext();for(;f&&u.length<i;)d(f,r)!==0&&u.push(f),f=h.getNext();return u}else return[]}function dV(){return{visibleWrites:Qt.empty(),allWrites:[],lastWriteId:-1}}function Yu(t,e,n,r){return ND(t.writeTree,t.treePath,e,n,r)}function yy(t,e){return oV(t.writeTree,t.treePath,e)}function j0(t,e,n,r){return aV(t.writeTree,t.treePath,e,n,r)}function Qu(t,e){return cV(t.writeTree,Pe(t.treePath,e))}function hV(t,e,n,r,i,s){return uV(t.writeTree,t.treePath,e,n,r,i,s)}function _y(t,e,n){return lV(t.writeTree,t.treePath,e,n)}function RD(t,e){return xD(Pe(t.treePath,e),t.writeTree)}function xD(t,e){return{treePath:t,writeTree:e}}var Gm=class{constructor(){this.changeMap=new Map}trackChildChange(e){let n=e.type,r=e.childName;v(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),v(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,Ta(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Sa(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,Ws(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,Ta(r,e.snapshotNode,i.oldSnap));else throw ni("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}};var qm=class{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}},OD=new qm,Ma=class{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{let r=this.optCompleteServerCache_!=null?new Cn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return _y(this.writes_,e,r)}}getChildAfterChild(e,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:vi(this.viewCache_),s=hV(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}};function fV(t){return{filter:t}}function pV(t,e){v(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),v(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function gV(t,e,n,r,i){let s=new Gm,o,a;if(n.type===En.OVERWRITE){let c=n;c.source.fromUser?o=Km(t,e,c.path,c.snap,r,i,s):(v(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!Z(c.path),o=Zu(t,e,c.path,c.snap,r,i,a,s))}else if(n.type===En.MERGE){let c=n;c.source.fromUser?o=yV(t,e,c.path,c.children,r,i,s):(v(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=Ym(t,e,c.path,c.children,r,i,a,s))}else if(n.type===En.ACK_USER_WRITE){let c=n;c.revert?o=wV(t,e,c.path,r,i,s):o=_V(t,e,c.path,c.affectedTree,r,i,s)}else if(n.type===En.LISTEN_COMPLETE)o=vV(t,e,n.path,r,s);else throw ni("Unknown operation type: "+n.type);let l=s.getChanges();return mV(e,o,l),{viewCache:o,changes:l}}function mV(t,e,n){let r=e.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Ku(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(ID(Ku(e)))}}function kD(t,e,n,r,i,s){let o=e.eventCache;if(Qu(r,n)!=null)return e;{let a,l;if(Z(n))if(v(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let c=vi(e),u=c instanceof $?c:$.EMPTY_NODE,d=yy(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{let c=Yu(r,vi(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{let c=X(n);if(c===".priority"){v(Er(n)===1,"Can't have a priority with additional path components");let u=o.getNode();l=e.serverCache.getNode();let d=j0(r,n,u,l);d!=null?a=t.filter.updatePriority(u,d):a=o.getNode()}else{let u=me(n),d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();let h=j0(r,n,o.getNode(),l);h!=null?d=o.getNode().getImmediateChild(c).updateChild(u,h):d=o.getNode().getImmediateChild(c)}else d=_y(r,c,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),c,d,u,i,s):a=o.getNode()}}return Ca(e,a,o.isFullyInitialized()||Z(n),t.filter.filtersNodes())}}function Zu(t,e,n,r,i,s,o,a){let l=e.serverCache,c,u=o?t.filter:t.filter.getIndexedFilter();if(Z(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){let f=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),f,null)}else{let f=X(n);if(!l.isCompleteForPath(n)&&Er(n)>1)return e;let p=me(n),w=l.getNode().getImmediateChild(f).updateChild(p,r);f===".priority"?c=u.updatePriority(l.getNode(),w):c=u.updateChild(l.getNode(),f,w,p,OD,null)}let d=TD(e,c,l.isFullyInitialized()||Z(n),u.filtersNodes()),h=new Ma(i,d,s);return kD(t,d,n,i,h,a)}function Km(t,e,n,r,i,s,o){let a=e.eventCache,l,c,u=new Ma(i,e,s);if(Z(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=Ca(e,c,!0,t.filter.filtersNodes());else{let d=X(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=Ca(e,c,a.isFullyInitialized(),a.isFiltered());else{let h=me(n),f=a.getNode().getImmediateChild(d),p;if(Z(h))p=r;else{let m=u.getCompleteChild(d);m!=null?gD(h)===".priority"&&m.getChild(yD(h)).isEmpty()?p=m:p=m.updateChild(h,r):p=$.EMPTY_NODE}if(f.equals(p))l=e;else{let m=t.filter.updateChild(a.getNode(),d,p,h,u,o);l=Ca(e,m,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function U0(t,e){return t.eventCache.isCompleteForChild(e)}function yV(t,e,n,r,i,s,o){let a=e;return r.foreach((l,c)=>{let u=Pe(n,l);U0(e,X(u))&&(a=Km(t,a,u,c,i,s,o))}),r.foreach((l,c)=>{let u=Pe(n,l);U0(e,X(u))||(a=Km(t,a,u,c,i,s,o))}),a}function B0(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Ym(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;Z(n)?c=r:c=new ut(null).setTree(n,r);let u=e.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){let f=e.serverCache.getNode().getImmediateChild(d),p=B0(t,f,h);l=Zu(t,l,new he(d),p,i,s,o,a)}}),c.children.inorderTraversal((d,h)=>{let f=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!u.hasChild(d)&&!f){let p=e.serverCache.getNode().getImmediateChild(d),m=B0(t,p,h);l=Zu(t,l,new he(d),m,i,s,o,a)}}),l}function _V(t,e,n,r,i,s,o){if(Qu(i,n)!=null)return e;let a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(Z(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Zu(t,e,n,l.getNode().getChild(n),i,s,a,o);if(Z(n)){let c=new ut(null);return l.getNode().forEachChild(Us,(u,d)=>{c=c.set(new he(u),d)}),Ym(t,e,n,c,i,s,a,o)}else return e}else{let c=new ut(null);return r.foreach((u,d)=>{let h=Pe(n,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),Ym(t,e,n,c,i,s,a,o)}}function vV(t,e,n,r,i){let s=e.serverCache,o=TD(e,s.getNode(),s.isFullyInitialized()||Z(n),s.isFiltered());return kD(t,o,n,r,OD,i)}function wV(t,e,n,r,i,s){let o;if(Qu(r,n)!=null)return e;{let a=new Ma(r,e,i),l=e.eventCache.getNode(),c;if(Z(n)||X(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=Yu(r,vi(e));else{let d=e.serverCache.getNode();v(d instanceof $,"serverChildren would be complete if leaf node"),u=yy(r,d)}u=u,c=t.filter.updateFullNode(l,u,s)}else{let u=X(n),d=_y(r,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=t.filter.updateChild(l,u,d,me(n),a,s):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,$.EMPTY_NODE,me(n),a,s):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Yu(r,vi(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||Qu(r,se())!=null,Ca(e,c,o,t.filter.filtersNodes())}}var Qm=class{constructor(e,n){this.query_=e,this.eventRegistrations_=[];let r=this.query_._queryParams,i=new Aa(r.getIndex()),s=G2(r);this.processor_=fV(s);let o=n.serverCache,a=n.eventCache,l=i.updateFullNode($.EMPTY_NODE,o.getNode(),null),c=s.updateFullNode($.EMPTY_NODE,a.getNode(),null),u=new Cn(l,o.isFullyInitialized(),i.filtersNodes()),d=new Cn(c,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=rd(d,u),this.eventGenerator_=new Hm(this.query_)}get query(){return this.query_}};function bV(t){return t.viewCache_.serverCache.getNode()}function EV(t){return Ku(t.viewCache_)}function CV(t,e){let n=vi(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Z(e)&&!n.getImmediateChild(X(e)).isEmpty())?n.getChild(e):null}function $0(t){return t.eventRegistrations_.length===0}function IV(t,e){t.eventRegistrations_.push(e)}function H0(t,e,n){let r=[];if(n){v(e==null,"A cancel should cancel all event registrations.");let i=t.query._path;t.eventRegistrations_.forEach(s=>{let o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){let o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function z0(t,e,n,r){e.type===En.MERGE&&e.source.queryId!==null&&(v(vi(t.viewCache_),"We should always have a full cache before handling merges"),v(Ku(t.viewCache_),"Missing event cache, even though we have a server cache"));let i=t.viewCache_,s=gV(t.processor_,i,e,n,r);return pV(t.processor_,s.viewCache),v(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,PD(t,s.changes,s.viewCache.eventCache.getNode(),null)}function DV(t,e){let n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ee,(s,o)=>{r.push(Ws(s,o))}),n.isFullyInitialized()&&r.push(ID(n.getNode())),PD(t,r,n.getNode(),e)}function PD(t,e,n,r){let i=r?[r]:t.eventRegistrations_;return Q2(t.eventGenerator_,e,n,i)}var Ju,Xu=class{constructor(){this.views=new Map}};function SV(t){v(!Ju,"__referenceConstructor has already been defined"),Ju=t}function TV(){return v(Ju,"Reference.ts has not been loaded"),Ju}function AV(t){return t.views.size===0}function vy(t,e,n,r){let i=e.source.queryId;if(i!==null){let s=t.views.get(i);return v(s!=null,"SyncTree gave us an op for an invalid query."),z0(s,e,n,r)}else{let s=[];for(let o of t.views.values())s=s.concat(z0(o,e,n,r));return s}}function FD(t,e,n,r,i){let s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=Yu(n,i?r:null),l=!1;a?l=!0:r instanceof $?(a=yy(n,r),l=!1):(a=$.EMPTY_NODE,l=!1);let c=rd(new Cn(a,l,!1),new Cn(r,i,!1));return new Qm(e,c)}return o}function MV(t,e,n,r,i,s){let o=FD(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),IV(o,n),DV(o,n)}function NV(t,e,n,r){let i=e._queryIdentifier,s=[],o=[],a=Cr(t);if(i==="default")for(let[l,c]of t.views.entries())o=o.concat(H0(c,n,r)),$0(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{let l=t.views.get(i);l&&(o=o.concat(H0(l,n,r)),$0(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!Cr(t)&&s.push(new(TV())(e._repo,e._path)),{removed:s,events:o}}function LD(t){let e=[];for(let n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function br(t,e){let n=null;for(let r of t.views.values())n=n||CV(r,e);return n}function VD(t,e){if(e._queryParams.loadsAllData())return sd(t);{let r=e._queryIdentifier;return t.views.get(r)}}function jD(t,e){return VD(t,e)!=null}function Cr(t){return sd(t)!=null}function sd(t){for(let e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}var ed;function RV(t){v(!ed,"__referenceConstructor has already been defined"),ed=t}function xV(){return v(ed,"Reference.ts has not been loaded"),ed}var OV=1,td=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ut(null),this.pendingWriteTree_=dV(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function UD(t,e,n,r,i){return eV(t.pendingWriteTree_,e,n,r,i),i?Fa(t,new Gs(SD(),e,n)):[]}function mi(t,e,n=!1){let r=tV(t.pendingWriteTree_,e);if(nV(t.pendingWriteTree_,e)){let s=new ut(null);return r.snap!=null?s=s.set(se(),!0):ct(r.children,o=>{s=s.set(new he(o),!0)}),Fa(t,new $m(r.path,s,n))}else return[]}function Pa(t,e,n){return Fa(t,new Gs(gy(),e,n))}function kV(t,e,n){let r=ut.fromObject(n);return Fa(t,new qu(gy(),e,r))}function PV(t,e){return Fa(t,new Gu(gy(),e))}function FV(t,e,n){let r=by(t,n);if(r){let i=Ey(r),s=i.path,o=i.queryId,a=rt(s,e),l=new Gu(my(o),a);return Cy(t,s,l)}else return[]}function BD(t,e,n,r,i=!1){let s=e._path,o=t.syncPointTree_.get(s),a=[];if(o&&(e._queryIdentifier==="default"||jD(o,e))){let l=NV(o,e,n,r);AV(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));let c=l.removed;if(a=l.events,!i){let u=c.findIndex(h=>h._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(s,(h,f)=>Cr(f));if(u&&!d){let h=t.syncPointTree_.subtree(s);if(!h.isEmpty()){let f=UV(h);for(let p=0;p<f.length;++p){let m=f[p],w=m.query,S=WD(t,m);t.listenProvider_.startListening(Da(w),Na(t,w),S.hashFn,S.onComplete)}}}!d&&c.length>0&&!r&&(u?t.listenProvider_.stopListening(Da(e),null):c.forEach(h=>{let f=t.queryToTagMap.get(od(h));t.listenProvider_.stopListening(Da(h),f)}))}BV(t,c)}return a}function $D(t,e,n,r){let i=by(t,r);if(i!=null){let s=Ey(i),o=s.path,a=s.queryId,l=rt(o,e),c=new Gs(my(a),l,n);return Cy(t,o,c)}else return[]}function LV(t,e,n,r){let i=by(t,r);if(i){let s=Ey(i),o=s.path,a=s.queryId,l=rt(o,e),c=ut.fromObject(n),u=new qu(my(a),l,c);return Cy(t,o,u)}else return[]}function VV(t,e,n,r=!1){let i=e._path,s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(h,f)=>{let p=rt(h,i);s=s||br(f,p),o=o||Cr(f)});let a=t.syncPointTree_.get(i);a?(o=o||Cr(a),s=s||br(a,se())):(a=new Xu,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;s!=null?l=!0:(l=!1,s=$.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((f,p)=>{let m=br(p,se());m&&(s=s.updateImmediateChild(f,m))}));let c=jD(a,e);if(!c&&!e._queryParams.loadsAllData()){let h=od(e);v(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");let f=$V();t.queryToTagMap.set(h,f),t.tagToQueryMap.set(f,h)}let u=id(t.pendingWriteTree_,i),d=MV(a,e,n,u,s,l);if(!c&&!o&&!r){let h=VD(a,e);d=d.concat(HV(t,e,h))}return d}function wy(t,e,n){let i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{let l=rt(o,e),c=br(a,l);if(c)return c});return ND(i,e,s,n,!0)}function jV(t,e){let n=e._path,r=null;t.syncPointTree_.foreachOnPath(n,(c,u)=>{let d=rt(c,n);r=r||br(u,d)});let i=t.syncPointTree_.get(n);i?r=r||br(i,se()):(i=new Xu,t.syncPointTree_=t.syncPointTree_.set(n,i));let s=r!=null,o=s?new Cn(r,!0,!1):null,a=id(t.pendingWriteTree_,e._path),l=FD(i,e,a,s?o.getNode():$.EMPTY_NODE,s);return EV(l)}function Fa(t,e){return HD(e,t.syncPointTree_,null,id(t.pendingWriteTree_,se()))}function HD(t,e,n,r){if(Z(t.path))return zD(t,e,n,r);{let i=e.get(se());n==null&&i!=null&&(n=br(i,se()));let s=[],o=X(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){let c=n?n.getImmediateChild(o):null,u=RD(r,o);s=s.concat(HD(a,l,c,u))}return i&&(s=s.concat(vy(i,t,r,n))),s}}function zD(t,e,n,r){let i=e.get(se());n==null&&i!=null&&(n=br(i,se()));let s=[];return e.children.inorderTraversal((o,a)=>{let l=n?n.getImmediateChild(o):null,c=RD(r,o),u=t.operationForChild(o);u&&(s=s.concat(zD(u,a,l,c)))}),i&&(s=s.concat(vy(i,t,r,n))),s}function WD(t,e){let n=e.query,r=Na(t,n);return{hashFn:()=>(bV(e)||$.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?FV(t,n._path,r):PV(t,n._path);{let s=r2(i,n);return BD(t,n,null,s)}}}}function Na(t,e){let n=od(e);return t.queryToTagMap.get(n)}function od(t){return t._path.toString()+"$"+t._queryIdentifier}function by(t,e){return t.tagToQueryMap.get(e)}function Ey(t){let e=t.indexOf("$");return v(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new he(t.substr(0,e))}}function Cy(t,e,n){let r=t.syncPointTree_.get(e);v(r,"Missing sync point for query tag that we're tracking");let i=id(t.pendingWriteTree_,e);return vy(r,n,i,null)}function UV(t){return t.fold((e,n,r)=>{if(n&&Cr(n))return[sd(n)];{let i=[];return n&&(i=LD(n)),ct(r,(s,o)=>{i=i.concat(o)}),i}})}function Da(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(xV())(t._repo,t._path):t}function BV(t,e){for(let n=0;n<e.length;++n){let r=e[n];if(!r._queryParams.loadsAllData()){let i=od(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function $V(){return OV++}function HV(t,e,n){let r=e._path,i=Na(t,e),s=WD(t,n),o=t.listenProvider_.startListening(Da(e),i,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(r);if(i)v(!Cr(a.value),"If we're adding a query, it shouldn't be shadowed");else{let l=a.fold((c,u,d)=>{if(!Z(c)&&u&&Cr(u))return[sd(u).query];{let h=[];return u&&(h=h.concat(LD(u).map(f=>f.query))),ct(d,(f,p)=>{h=h.concat(p)}),h}});for(let c=0;c<l.length;++c){let u=l[c];t.listenProvider_.stopListening(Da(u),Na(t,u))}}return o}var Zm=class t{constructor(e){this.node_=e}getImmediateChild(e){let n=this.node_.getImmediateChild(e);return new t(n)}node(){return this.node_}},Jm=class t{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){let n=Pe(this.path_,e);return new t(this.syncTree_,n)}node(){return wy(this.syncTree_,this.path_)}},zV=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},W0=function(t,e,n){if(!t||typeof t!="object")return t;if(v(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return WV(t[".sv"],e,n);if(typeof t[".sv"]=="object")return GV(t[".sv"],e);v(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},WV=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:v(!1,"Unexpected server value: "+t)}},GV=function(t,e,n){t.hasOwnProperty("increment")||v(!1,"Unexpected server value: "+JSON.stringify(t,null,2));let r=t.increment;typeof r!="number"&&v(!1,"Unexpected increment value: "+r);let i=e.node();if(v(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let o=i.getValue();return typeof o!="number"?r:o+r},qV=function(t,e,n,r){return Iy(e,new Jm(n,t),r)},GD=function(t,e,n){return Iy(t,new Zm(e),n)};function Iy(t,e,n){let r=t.getPriority().val(),i=W0(r,e.getImmediateChild(".priority"),n),s;if(t.isLeafNode()){let o=t,a=W0(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new Hs(a,Ue(i)):t}else{let o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Hs(i))),o.forEachChild(Ee,(a,l)=>{let c=Iy(l,e.getImmediateChild(a),n);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}var Ra=class{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}};function Dy(t,e){let n=e instanceof he?e:new he(e),r=t,i=X(n);for(;i!==null;){let s=ri(r.node.children,i)||{children:{},childCount:0};r=new Ra(i,r,s),n=me(n),i=X(n)}return r}function Qs(t){return t.node.value}function qD(t,e){t.node.value=e,Xm(t)}function KD(t){return t.node.childCount>0}function KV(t){return Qs(t)===void 0&&!KD(t)}function ad(t,e){ct(t.node.children,(n,r)=>{e(new Ra(n,t,r))})}function YD(t,e,n,r){n&&!r&&e(t),ad(t,i=>{YD(i,e,!0,r)}),n&&r&&e(t)}function YV(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function La(t){return new he(t.parent===null?t.name:La(t.parent)+"/"+t.name)}function Xm(t){t.parent!==null&&QV(t.parent,t.name,t)}function QV(t,e,n){let r=KV(n),i=mn(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Xm(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Xm(t))}var ZV=/[\[\].#$\/\u0000-\u001F\u007F]/,JV=/[\[\].#$\u0000-\u001F\u007F]/,hm=10*1024*1024,QD=function(t){return typeof t=="string"&&t.length!==0&&!ZV.test(t)},ZD=function(t){return typeof t=="string"&&t.length!==0&&!JV.test(t)},XV=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),ZD(t)};var ej=function(t,e,n,r){r&&e===void 0||Sy(Qc(t,"value"),e,n)},Sy=function(t,e,n){let r=n instanceof he?new Sm(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+pi(r));if(typeof e=="function")throw new Error(t+"contains a function "+pi(r)+" with contents = "+e.toString());if(Z0(e))throw new Error(t+"contains "+e.toString()+" "+pi(r));if(typeof e=="string"&&e.length>hm/3&&Qo(e)>hm)throw new Error(t+"contains a string greater than "+hm+" utf8 bytes "+pi(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(ct(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!QD(o)))throw new Error(t+" contains an invalid key ("+o+") "+pi(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);x2(r,o),Sy(t,a,r),O2(r)}),i&&s)throw new Error(t+' contains ".value" child '+pi(r)+" in addition to actual children.")}};var JD=function(t,e,n,r){if(!(r&&n===void 0)&&!ZD(n))throw new Error(Qc(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},tj=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),JD(t,e,n,r)},nj=function(t,e){if(X(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},rj=function(t,e){let n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!QD(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!XV(n))throw new Error(Qc(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var ey=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function XD(t,e){let n=null;for(let r=0;r<e.length;r++){let i=e[r],s=i.getPath();n!==null&&!_D(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function In(t,e,n){XD(t,n),ij(t,r=>Yt(r,e)||Yt(e,r))}function ij(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){let i=t.eventLists_[r];if(i){let s=i.path;e(s)?(sj(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function sj(t){for(let e=0;e<t.events.length;e++){let n=t.events[e];if(n!==null){t.events[e]=null;let r=n.getEventRunner();yi&&Qe("event: "+n.toString()),Ys(r)}}}var oj="repo_interrupt",aj=25,ty=class{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ey,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Wu(),this.transactionQueueTree_=new Ra,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function lj(t,e,n){if(t.stats_=hy(t.repoInfo_),t.forceRestClient_||a2())t.server_=new Lm(t.repoInfo_,(r,i,s,o)=>{G0(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>q0(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Re(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new fy(t.repoInfo_,e,(r,i,s,o)=>{G0(t,r,i,s,o)},r=>{q0(t,r)},r=>{uj(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=c2(t.repoInfo_,()=>new Bm(t.stats_,t.server_)),t.infoData_=new Vm,t.infoSyncTree_=new td({startListening:(r,i,s,o)=>{let a=[],l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=Pa(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),Ay(t,"connected",!1),t.serverSyncTree_=new td({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{let c=o(a,l);In(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function cj(t){let n=t.infoData_.getNode(new he(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Ty(t){return zV({timestamp:cj(t)})}function G0(t,e,n,r,i){t.dataUpdateCount++;let s=new he(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){let l=Yo(n,c=>Ue(c));o=LV(t.serverSyncTree_,s,l,i)}else{let l=Ue(n);o=$D(t.serverSyncTree_,s,l,i)}else if(r){let l=Yo(n,c=>Ue(c));o=kV(t.serverSyncTree_,s,l)}else{let l=Ue(n);o=Pa(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=cd(t,s)),In(t.eventQueue_,a,o)}function q0(t,e){Ay(t,"connected",e),e===!1&&fj(t)}function uj(t,e){ct(e,(n,r)=>{Ay(t,n,r)})}function Ay(t,e,n){let r=new he("/.info/"+e),i=Ue(n);t.infoData_.updateSnapshot(r,i);let s=Pa(t.infoSyncTree_,r,i);In(t.eventQueue_,r,s)}function eS(t){return t.nextWriteId_++}function dj(t,e,n){let r=jV(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{let s=Ue(i).withIndex(e._queryParams.getIndex());VV(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=Pa(t.serverSyncTree_,e._path,s);else{let a=Na(t.serverSyncTree_,e);o=$D(t.serverSyncTree_,e._path,s,a)}return In(t.eventQueue_,e._path,o),BD(t.serverSyncTree_,e,n,null,!0),s},i=>(ld(t,"get for query "+Re(e)+" failed: "+i),Promise.reject(new Error(i))))}function hj(t,e,n,r,i){ld(t,"set",{path:e.toString(),value:n,priority:r});let s=Ty(t),o=Ue(n,r),a=wy(t.serverSyncTree_,e),l=GD(o,a,s),c=eS(t),u=UD(t.serverSyncTree_,e,l,c,!0);XD(t.eventQueue_,u),t.server_.put(e.toString(),o.val(!0),(h,f)=>{let p=h==="ok";p||lt("set at "+e+" failed: "+h);let m=mi(t.serverSyncTree_,c,!p);In(t.eventQueue_,e,m),gj(t,i,h,f)});let d=sS(t,e);cd(t,d),In(t.eventQueue_,d,[])}function fj(t){ld(t,"onDisconnectEvents");let e=Ty(t),n=Wu();jm(t.onDisconnect_,se(),(i,s)=>{let o=qV(i,s,t.serverSyncTree_,e);DD(n,i,o)});let r=[];jm(n,se(),(i,s)=>{r=r.concat(Pa(t.serverSyncTree_,i,s));let o=sS(t,i);cd(t,o)}),t.onDisconnect_=Wu(),In(t.eventQueue_,se(),r)}function pj(t){t.persistentConnection_&&t.persistentConnection_.interrupt(oj)}function ld(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Qe(n,...e)}function gj(t,e,n,r){e&&Ys(()=>{if(n==="ok")e(null);else{let i=(n||"error").toUpperCase(),s=i;r&&(s+=": "+r);let o=new Error(s);o.code=i,e(o)}})}function tS(t,e,n){return wy(t.serverSyncTree_,e,n)||$.EMPTY_NODE}function My(t,e=t.transactionQueueTree_){if(e||ud(t,e),Qs(e)){let n=rS(t,e);v(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&mj(t,La(e),n)}else KD(e)&&ad(e,n=>{My(t,n)})}function mj(t,e,n){let r=n.map(c=>c.currentWriteId),i=tS(t,e,r),s=i,o=i.hash();for(let c=0;c<n.length;c++){let u=n[c];v(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let d=rt(e,u.path);s=s.updateChild(d,u.currentOutputSnapshotRaw)}let a=s.val(!0),l=e;t.server_.put(l.toString(),a,c=>{ld(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){let d=[];for(let h=0;h<n.length;h++)n[h].status=2,u=u.concat(mi(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();ud(t,Dy(t.transactionQueueTree_,e)),My(t,t.transactionQueueTree_),In(t.eventQueue_,e,u);for(let h=0;h<d.length;h++)Ys(d[h])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{lt("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}cd(t,e)}},o)}function cd(t,e){let n=nS(t,e),r=La(n),i=rS(t,n);return yj(t,i,r),r}function yj(t,e,n){if(e.length===0)return;let r=[],i=[],o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){let l=e[a],c=rt(n,l.path),u=!1,d;if(v(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,i=i.concat(mi(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=aj)u=!0,d="maxretry",i=i.concat(mi(t.serverSyncTree_,l.currentWriteId,!0));else{let h=tS(t,l.path,o);l.currentInputSnapshot=h;let f=e[a].update(h.val());if(f!==void 0){Sy("transaction failed: Data returned ",f,l.path);let p=Ue(f);typeof f=="object"&&f!=null&&mn(f,".priority")||(p=p.updatePriority(h.getPriority()));let w=l.currentWriteId,S=Ty(t),K=GD(p,h,S);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=K,l.currentWriteId=eS(t),o.splice(o.indexOf(w),1),i=i.concat(UD(t.serverSyncTree_,l.path,K,l.currentWriteId,l.applyLocally)),i=i.concat(mi(t.serverSyncTree_,w,!0))}else u=!0,d="nodata",i=i.concat(mi(t.serverSyncTree_,l.currentWriteId,!0))}In(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}ud(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Ys(r[a]);My(t,t.transactionQueueTree_)}function nS(t,e){let n,r=t.transactionQueueTree_;for(n=X(e);n!==null&&Qs(r)===void 0;)r=Dy(r,n),e=me(e),n=X(e);return r}function rS(t,e){let n=[];return iS(t,e,n),n.sort((r,i)=>r.order-i.order),n}function iS(t,e,n){let r=Qs(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);ad(e,i=>{iS(t,i,n)})}function ud(t,e){let n=Qs(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,qD(e,n.length>0?n:void 0)}ad(e,r=>{ud(t,r)})}function sS(t,e){let n=La(nS(t,e)),r=Dy(t.transactionQueueTree_,e);return YV(r,i=>{fm(t,i)}),fm(t,r),YD(r,i=>{fm(t,i)}),n}function fm(t,e){let n=Qs(e);if(n){let r=[],i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(v(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(v(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(mi(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?qD(e,void 0):n.length=s+1,In(t.eventQueue_,La(e),i);for(let o=0;o<r.length;o++)Ys(r[o])}}function _j(t){let e="",n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function vj(t){let e={};t.charAt(0)==="?"&&(t=t.substring(1));for(let n of t.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):lt(`Invalid query segment '${n}' in query '${t}'`)}return e}var K0=function(t,e){let n=wj(t),r=n.namespace;n.domain==="firebase.com"&&Vn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Vn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||JL();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Lu(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new he(n.pathString)}},wj=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(i=_j(t.substring(u,d)));let h=vj(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;let f=e.slice(0,c);if(f.toLowerCase()==="localhost")n="localhost";else if(f.split(".").length<=2)n=f;else{let p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),n=e.substring(p+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};var ny=class{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){let e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Re(this.snapshot.exportVal())}},ry=class{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var iy=class{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return v(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}};var sy=class t{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Z(this._path)?null:gD(this._path)}get ref(){return new jn(this._repo,this._path)}get _queryIdentifier(){let e=k0(this._queryParams),n=dy(e);return n==="{}"?"default":n}get _queryObject(){return k0(this._queryParams)}isEqual(e){if(e=Ke(e),!(e instanceof t))return!1;let n=this._repo===e._repo,r=_D(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+R2(this._path)}};var jn=class t extends sy{constructor(e,n){super(e,n,new Fm,!1)}get parent(){let e=yD(this._path);return e===null?null:new t(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}},nd=class t{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){let n=new he(e),r=oy(this.ref,e);return new t(this._node.getChild(n),r,Ee)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new t(i,oy(this.ref,r),Ee)))}hasChild(e){let n=new he(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function dd(t,e){return t=Ke(t),t._checkNotDeleted("ref"),e!==void 0?oy(t._root,e):t._root}function oy(t,e){return t=Ke(t),X(t._path)===null?tj("child","path",e,!1):JD("child","path",e,!1),new jn(t._repo,Pe(t._path,e))}function Ny(t,e){t=Ke(t),nj("set",t._path),ej("set",e,t._path,!1);let n=new ar;return hj(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function oS(t){t=Ke(t);let e=new iy(()=>{}),n=new ay(e);return dj(t._repo,t,n).then(r=>new nd(r,new jn(t._repo,t._path),t._queryParams.getIndex()))}var ay=class t{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){let r=n._queryParams.getIndex();return new ny("value",this,new nd(e.snapshotNode,new jn(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new ry(this,e,n):null}matches(e){return e instanceof t?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}};SV(jn);RV(jn);var bj="FIREBASE_DATABASE_EMULATOR_HOST",ly={},Ej=!1;function Cj(t,e,n,r){t.repoInfo_=new Lu(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function Ij(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Vn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Qe("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=K0(s,i),a=o.repoInfo,l,c;typeof process<"u"&&process.env&&(c=process.env[bj]),c?(l=!0,s=`http://${c}?ns=${a.namespace}`,o=K0(s,i),a=o.repoInfo):l=!o.repoInfo.secure;let u=i&&l?new Ea(Ea.OWNER):new vm(t.name,t.options,e);rj("Invalid Firebase Database URL",o),Z(o.path)||Vn("Database URL must point to the root of a Firebase Database (not including a child path).");let d=Sj(a,t,u,new _m(t.name,n));return new cy(d,t)}function Dj(t,e){let n=ly[e];(!n||n[t.key]!==t)&&Vn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),pj(t),delete n[t.key]}function Sj(t,e,n,r){let i=ly[e.name];i||(i={},ly[e.name]=i);let s=i[t.toURLString()];return s&&Vn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new ty(t,Ej,n,r),i[t.toURLString()]=s,s}var cy=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(lj(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new jn(this._repo,se())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Dj(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Vn("Cannot call "+e+" on a deleted database.")}};function hd(t=eu(),e){let n=Xo(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){let r=iC("database");r&&Tj(n,...r)}return n}function Tj(t,e,n,r={}){t=Ke(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Vn("Cannot call useEmulator() after instance has already been initialized.");let i=t._repoInternal,s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Vn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Ea(Ea.OWNER);else if(r.mockUserToken){let o=typeof r.mockUserToken=="string"?r.mockUserToken:sC(r.mockUserToken,t.app.options.projectId);s=new Ea(o)}Cj(i,e,n,s)}function Aj(t){YL(dr),ur(new Nt("database",(e,{instanceIdentifier:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return Ij(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),qt(y0,_0,t),qt(y0,_0,"esm2017")}fy.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};fy.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};Aj();var aS=(()=>{let e=class e{constructor(r){this.authService=r}getCardsLocation(){return this.authService.user+"/cards"}getCards(){return g(this,null,function*(){let r=hd(this.authService.firebaseApp),i=dd(r,this.getCardsLocation());return yield oS(i).then(s=>s.exists()?s.toJSON():null)})}updateCard(r){return g(this,null,function*(){let i=hd(this.authService.firebaseApp);return Ny(dd(i,this.getCardsLocation()+"/"+r.id),r)})}addCard(r){return g(this,null,function*(){let i=hd(this.authService.firebaseApp);return Ny(dd(i,this.getCardsLocation()+"/"+r.id),r)})}};e.\u0275fac=function(i){return new(i||e)(T(Ts))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var lS=(()=>{let e=class e{constructor(){}isLocal(){return location.hostname==="localhost"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Zs=(()=>{let e=class e{constructor(r,i){this.dbService=r,this.envService=i,this.locals=null,this.cardAdded=new _e,this.typeOptions=["masculine","feminine","neuter","verb","other"]}get(r){return g(this,null,function*(){return this.locals&&this.locals.length>0?this.locals:r||this.envService.isLocal()?(this.locals=m0,this.locals?this.locals:[]):this.dbService.getCards().then(i=>(this.locals=Object.values(i),this.locals))})}update(r){return g(this,null,function*(){if(this.envService.isLocal()){this.locals=yield this.get(),this.locals[r.id]=r;return}return this.dbService.updateCard(r)})}add(r){return g(this,null,function*(){if(this.locals=yield this.get(),r.id=this.locals.length,this.envService.isLocal()){this.locals.push(r),this.cardAdded.next(r);return}return this.dbService.addCard(r).then(()=>{this.locals?.push(r),this.cardAdded.next(r)})})}};e.\u0275fac=function(i){return new(i||e)(T(aS),T(lS))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Rj=t=>({background:t});function xj(t,e){if(t&1&&(y(0,"div"),ue(1),I()),t&2){let n=z();Gr(n.flipped?"card-content":"card-content back"),F(),Kr(" ",n.flipped?n.getFront():n.getBack()," ")}}function Oj(t,e){t&1&&(Ve(),y(0,"svg",10),N(1,"g",4)(2,"g",5),y(3,"g",6),N(4,"path",16),I()())}function kj(t,e){t&1&&(Ve(),y(0,"svg",11),N(1,"g",4)(2,"g",5),y(3,"g",6),N(4,"path",17),I()())}function Pj(t,e){if(t&1){let n=at();y(0,"div")(1,"button",2),j("click",function(i){Me(n);let s=z();return Ne(s.editTapped(i))}),Ve(),y(2,"svg",3),N(3,"g",4)(4,"g",5),y(5,"g",6),N(6,"path",7)(7,"path",8),I()()(),un(),y(8,"button",9),j("click",function(i){Me(n);let s=z();return Ne(s.starTapped(i))}),ke(9,Oj,5,0,":svg:svg",10)(10,kj,5,0,":svg:svg",11),I(),y(11,"button",2),j("click",function(i){Me(n);let s=z();return Ne(s.infoTapped(i))}),Ve(),y(12,"svg",12),N(13,"g",4)(14,"g",5),y(15,"g",6),N(16,"path",13)(17,"path",14)(18,"path",15),I()()()()}if(t&2){let n=z();Gr(n.flipped?"btn-row":"btn-row back"),F(9),qr(n.card.starred?9:10)}}function Fj(t,e){if(t&1&&(y(0,"option",29),os(1,"typeColor"),ue(2),I()),t&2){let n=e.$implicit,r=z(3);is("background",as(1,4,n)),U("selected",n===r.card.type),F(2),zt(n)}}function Lj(t,e){if(t&1&&(y(0,"div")(1,"form",20),N(2,"input",21)(3,"input",22),y(4,"select",23),ke(5,Fj,3,6,"option",24),I(),N(6,"textarea",25)(7,"textarea",26)(8,"textarea",27)(9,"textarea",28),I()()),t&2){let n=z(2);F(),U("formGroup",n.editForm),F(3),U("value",n.card.type),F(),U("ngForOf",n.typeOptions)}}function Vj(t,e){if(t&1&&(y(0,"div")(1,"p",30),ue(2),I(),y(3,"p",31),ue(4),I(),y(5,"p",30),ue(6),I(),y(7,"p",31),ue(8),I()()),t&2){let n=z(2);F(2),zt(n.card.goal_sent_1),F(2),zt(n.card.base_sent_1),F(2),zt(n.card.goal_sent_2),F(2),zt(n.card.base_sent_2)}}function jj(t,e){if(t&1){let n=at();y(0,"button",36),j("click",function(i){Me(n);let s=z(3);return Ne(s.saveEdit(i))}),Ve(),y(1,"svg",12),N(2,"g",4)(3,"g",5),y(4,"g",6),N(5,"path",37),I()()()}if(t&2){let n=z(3);U("disabled",n.editForm.invalid)}}function Uj(t,e){if(t&1){let n=at();y(0,"div",32)(1,"button",2),j("click",function(i){Me(n);let s=z(2);return Ne(s.menuClose(i))}),Ve(),y(2,"svg",12),N(3,"g",4)(4,"g",5),y(5,"g",6)(6,"g",33),N(7,"path",34),I()()()(),ke(8,jj,6,1,"button",35),un(),y(9,"button",2),j("click",function(i){Me(n);let s=z(2);return Ne(s.menuClose(i))}),Ve(),y(10,"svg",12),N(11,"g",4)(12,"g",5),y(13,"g",6)(14,"g",33),N(15,"path",34),I()()()()()}if(t&2){let n=z(2);F(8),U("ngIf",n.showEdit&&n.editForm.valid)}}function Bj(t,e){if(t&1){let n=at();y(0,"span"),j("@fadeIn.done",function(){Me(n);let i=z();return Ne(i.fadeInState==="inactive"?i.revealCard():null)}),ke(1,Lj,10,3,"div",18)(2,Vj,9,4,"div",18)(3,Uj,16,1,"div",19),I()}if(t&2){let n=z();Gr(n.flipped?"card-menu":"card-menu back"),U("@fadeIn",n.fadeInState),F(),U("ngIf",n.showEdit),F(),U("ngIf",n.showInfo),F(),U("ngIf",!n.showCard)}}var cS=(()=>{let e=class e{constructor(r){this.cardService=r,this.onSwiped=new ae,this.onUpdated=new ae,this.touchStart=null,this.flipState="inactive",this.swipeRightState="inactive",this.swipeLeftState="inactive",this.fadeInState="inactive",this.flipped=!1,this.flipping=!1,this.showEdit=!1,this.showCard=!0,this.showInfo=!1}ngOnInit(){this.typeOptions=this.cardService.typeOptions,this.editForm=new Ln({base:new De(this.card.base,Ye.required),goal:new De(this.card.goal,Ye.required),type:new De(this.card.type,Ye.required),goal_sent_1:new De(this.card.goal_sent_1),base_sent_1:new De(this.card.base_sent_1),goal_sent_2:new De(this.card.goal_sent_2),base_sent_2:new De(this.card.base_sent_2)})}handleTouchStart(r){this.touchStart=r}handleTouchEnd(r){this.touchStart&&(this.showCard&&this.handleSwipe({start:this.touchStart,end:r}),this.touchStart=null)}handleKeyDown(r){this.showCard&&(r.key==="ArrowUp"||r.key==="ArrowDown"?this.tap():r.key==="ArrowRight"?this.swipeRight():r.key==="ArrowLeft"&&this.swipeLeft())}handleTouch(){this.tap()}handleSwipe(r){let i=r.end.changedTouches[0].pageX-r.start.changedTouches[0].pageX;Math.abs(i)>100&&(i>0?this.swipeRight():this.swipeLeft())}getFront(){return this.baseFirst?this.card.base:this.card.goal}getBack(){return this.baseFirst?this.card.goal:this.card.base}tap(){this.showCard&&(this.flipState=this.flipState==="inactive"?"active":"inactive")}menuClose(r){r.stopPropagation(),this.fade()}saveEdit(r){this.onUpdated.emit(b(b({},this.card),this.editForm.value)),this.menuClose(r)}revealCard(){this.showEdit=!1,this.showCard=!0,this.showInfo=!1}editTapped(r){r.stopPropagation(),this.fade(),this.showEdit=!0,this.showCard=!1,this.showInfo=!1}starTapped(r){r.stopPropagation(),this.onUpdated.emit(ee(b({},this.card),{starred:!this.card.starred}))}infoTapped(r){r.stopPropagation(),this.fade(),this.showEdit=!1,this.showCard=!1,this.showInfo=!0}swipeRight(){this.swipeRightState=this.swipeRightState==="inactive"?"active":"inactive"}swipeLeft(){this.swipeLeftState=this.swipeLeftState==="inactive"?"active":"inactive"}fade(){this.fadeInState=this.fadeInState==="inactive"?"active":"inactive"}emitSwiped(r){r.fromState==="inactive"&&r.toState==="active"&&(r.triggerName==="swipeRight"?this.onSwiped.emit(!0):this.onSwiped.emit(!1))}};e.\u0275fac=function(i){return new(i||e)(A(Zs))},e.\u0275cmp=Le({type:e,selectors:[["app-card"]],hostBindings:function(i,s){i&1&&j("touchstart",function(a){return s.handleTouchStart(a)},!1,fc)("touchend",function(a){return s.handleTouchEnd(a)},!1,fc)("keydown",function(a){return s.handleKeyDown(a)},!1,fc)},inputs:{card:"card",color:"color",baseFirst:"baseFirst"},outputs:{onSwiped:"onSwiped",onUpdated:"onUpdated"},standalone:!0,features:[je],decls:4,vars:12,consts:[["id","container",3,"click"],[3,"class",4,"ngIf"],[1,"icon-btn",3,"click"],["viewBox","0 0 1024 1024","xmlns","http://www.w3.org/2000/svg","fill","#000000"],["id","SVGRepo_bgCarrier","stroke-width","0"],["id","SVGRepo_tracerCarrier","stroke-linecap","round","stroke-linejoin","round"],["id","SVGRepo_iconCarrier"],["fill","#000000","d","M832 512a32 32 0 1 1 64 0v352a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h352a32 32 0 0 1 0 64H192v640h640V512z"],["fill","#000000","d","m469.952 554.24 52.8-7.552L847.104 222.4a32 32 0 1 0-45.248-45.248L477.44 501.44l-7.552 52.8zm422.4-422.4a96 96 0 0 1 0 135.808l-331.84 331.84a32 32 0 0 1-18.112 9.088L436.8 623.68a32 32 0 0 1-36.224-36.224l15.104-105.6a32 32 0 0 1 9.024-18.112l331.904-331.84a96 96 0 0 1 135.744 0z"],[1,"icon-btn","star",3,"click"],["fill","#ffff00","viewBox","0 0 1920 1920","xmlns","http://www.w3.org/2000/svg","stroke","#ffff00"],["fill","#000000","viewBox","0 0 1920 1920","xmlns","http://www.w3.org/2000/svg"],["viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M12 17.75C12.4142 17.75 12.75 17.4142 12.75 17V11C12.75 10.5858 12.4142 10.25 12 10.25C11.5858 10.25 11.25 10.5858 11.25 11V17C11.25 17.4142 11.5858 17.75 12 17.75Z","fill","#000000"],["d","M12 7C12.5523 7 13 7.44772 13 8C13 8.55228 12.5523 9 12 9C11.4477 9 11 8.55228 11 8C11 7.44772 11.4477 7 12 7Z","fill","#000000"],["fill-rule","evenodd","clip-rule","evenodd","d","M1.25 12C1.25 6.06294 6.06294 1.25 12 1.25C17.9371 1.25 22.75 6.06294 22.75 12C22.75 17.9371 17.9371 22.75 12 22.75C6.06294 22.75 1.25 17.9371 1.25 12ZM12 2.75C6.89137 2.75 2.75 6.89137 2.75 12C2.75 17.1086 6.89137 21.25 12 21.25C17.1086 21.25 21.25 17.1086 21.25 12C21.25 6.89137 17.1086 2.75 12 2.75Z","fill","#000000"],["d","M1915.918 737.475c-10.955-33.543-42.014-56.131-77.364-56.131h-612.029l-189.063-582.1v-.112C1026.394 65.588 995.335 43 959.984 43c-35.237 0-66.41 22.588-77.365 56.245L693.443 681.344H81.415c-35.35 0-66.41 22.588-77.365 56.131-10.955 33.544.79 70.137 29.478 91.03l495.247 359.831-189.177 582.212c-10.955 33.657 1.13 70.25 29.817 90.918 14.23 10.278 30.946 15.487 47.66 15.487 16.716 0 33.432-5.21 47.775-15.6l495.134-359.718 495.021 359.718c28.574 20.781 67.087 20.781 95.662.113 28.687-20.668 40.658-57.261 29.703-91.03l-189.176-582.1 495.36-359.83c28.574-20.894 40.433-57.487 29.364-91.03","fill-rule","evenodd"],["d","M1306.181 1110.407c-28.461 20.781-40.32 57.261-29.477 91.03l166.136 511.398-435.05-316.122c-28.686-20.781-67.086-20.781-95.66 0l-435.05 316.122 166.25-511.623c10.842-33.544-1.017-70.024-29.591-90.805L178.577 794.285h537.825c35.351 0 66.523-22.701 77.365-56.245l166.25-511.51 166.136 511.397a81.155 81.155 0 0 0 77.365 56.358h537.939l-435.276 316.122Zm609.77-372.819c-10.956-33.656-42.014-56.244-77.365-56.244h-612.141l-189.064-582.1C1026.426 65.589 995.367 43 960.017 43c-35.351 0-66.523 22.588-77.365 56.245L693.475 681.344H81.335c-35.351 0-66.41 22.588-77.366 56.244-10.842 33.657 1.017 70.137 29.591 90.918l495.247 359.718-189.29 582.211c-10.842 33.657 1.017 70.137 29.704 90.918 14.23 10.39 31.059 15.586 47.661 15.586 16.829 0 33.657-5.195 47.887-15.699l495.248-359.718 495.02 359.718c28.575 20.894 67.088 20.894 95.775.113 28.574-20.781 40.433-57.261 29.59-91.03l-189.289-582.1 495.247-359.717c28.687-20.781 40.546-57.261 29.59-90.918Z","fill-rule","evenodd"],[4,"ngIf"],["class","btn-row",4,"ngIf"],[1,"edit-form",3,"formGroup"],["type","text","formControlName","base","placeholder","base",1,"border-input"],["type","text","formControlName","goal","placeholder","goal",1,"border-input"],["formControlName","type",1,"border-input",3,"value"],[3,"selected","background",4,"ngFor","ngForOf"],["type","text","formControlName","goal_sent_1","placeholder","goal sentence 1",1,"border-input"],["type","text","formControlName","base_sent_1","placeholder","base sentence 1",1,"border-input"],["type","text","formControlName","goal_sent_2","placeholder","goal sentence 2",1,"border-input"],["type","text","formControlName","base_sent_2","placeholder","base sentence 2",1,"border-input"],[3,"selected"],[1,"sent-ger"],[1,"sent-eng"],[1,"btn-row"],["id","Menu / Close_LG"],["id","Vector","d","M21 21L12 12M12 12L3 3M12 12L21.0001 3M12 12L3 21.0001","stroke","#000000","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["class","icon-btn",3,"disabled","click",4,"ngIf"],[1,"icon-btn",3,"click","disabled"],["fill-rule","evenodd","clip-rule","evenodd","d","M18.1716 1C18.702 1 19.2107 1.21071 19.5858 1.58579L22.4142 4.41421C22.7893 4.78929 23 5.29799 23 5.82843V20C23 21.6569 21.6569 23 20 23H4C2.34315 23 1 21.6569 1 20V4C1 2.34315 2.34315 1 4 1H18.1716ZM4 3C3.44772 3 3 3.44772 3 4V20C3 20.5523 3.44772 21 4 21L5 21L5 15C5 13.3431 6.34315 12 8 12L16 12C17.6569 12 19 13.3431 19 15V21H20C20.5523 21 21 20.5523 21 20V6.82843C21 6.29799 20.7893 5.78929 20.4142 5.41421L18.5858 3.58579C18.2107 3.21071 17.702 3 17.1716 3H17V5C17 6.65685 15.6569 8 14 8H10C8.34315 8 7 6.65685 7 5V3H4ZM17 21V15C17 14.4477 16.5523 14 16 14L8 14C7.44772 14 7 14.4477 7 15L7 21L17 21ZM9 3H15V5C15 5.55228 14.5523 6 14 6H10C9.44772 6 9 5.55228 9 5V3Z","fill","#0F0F0F"]],template:function(i,s){i&1&&(y(0,"div",0),j("click",function(){return s.handleTouch()})("@flip.start",function(){return s.flipping=!0})("@flip.done",function(){return s.flipped=!s.flipped,s.flipping=!1})("@swipeRight.done",function(a){return s.emitSwiped(a)})("@swipeLeft.done",function(a){return s.emitSwiped(a)}),ke(1,xj,2,3,"div",1)(2,Pj,19,3,"div",1)(3,Bj,4,6,"span",1),I()),i&2&&(bc(ss(10,Rj,s.color)),Gr(s.flipped?"card-container":"card-container back"),U("@flip",s.flipState)("@swipeRight",s.swipeRightState)("@swipeLeft",s.swipeLeftState),F(),U("ngIf",!s.flipping&&s.showCard),F(),U("ngIf",!s.flipping&&s.showCard),F(),U("ngIf",s.showEdit||s.showInfo))},dependencies:[At,ds,rr,Ps,Os,xu,Ou,_r,ks,Rs,xs,di,hi,Fs],styles:["body[_ngcontent-%COMP%]{margin:0;background:#dedede;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{height:2.5rem;margin:0 .5rem;padding:.25rem;border:none;outline:none;border-radius:5px;background-color:#f0f8ff;font-size:large;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}textarea[_ngcontent-%COMP%]{height:3.5rem}button[_ngcontent-%COMP%]{font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}.label[_ngcontent-%COMP%]{font-size:20px}.btn[_ngcontent-%COMP%]{width:fit-content;margin:auto;padding:.5rem 1rem;border:none;outline:none;height:3rem;border-radius:5px;font-size:20px;box-shadow:0 1px 2px #d3d3d3}.icon-btn[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;outline:none;border:none;background:none;width:4rem;height:4rem;padding:0 .5rem}.icon-btn[_ngcontent-%COMP%]:hover{cursor:pointer;outline:solid 1px black}.navbar[_ngcontent-%COMP%]{height:4rem;width:100%;display:flex;flex-direction:row;justify-content:space-between}.border-input[_ngcontent-%COMP%]{background:#ffffff10;border:solid 1px black}[_nghost-%COMP%]{width:100%}.card-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;text-align:center;height:100%;border-radius:10px;box-shadow:0 1px 2px gray;word-wrap:break-word;overflow-y:scroll}.card-container[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.card-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;height:100%;font-size:32px;padding:1rem}.back[_ngcontent-%COMP%]{transform:rotateY(180deg)}.star[_ngcontent-%COMP%]{width:3.5rem;height:3.5rem}.filled[_ngcontent-%COMP%]{background:#ff0}.btn-row[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:space-between;margin-bottom:.25rem}.card-menu[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:space-between;margin:1rem 1rem 0}.edit-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;gap:.5rem}.sent-ger[_ngcontent-%COMP%]{font-size:30px;font-weight:400}.sent-eng[_ngcontent-%COMP%]{font-size:24px;font-weight:300}"],data:{animation:[h0,f0,p0,g0]}});let t=e;return t})();var fd=(()=>{let e=class e{constructor(){this.undos=[],this.redos=[],this.activeUndo=new _e,this.activeRedo=new _e}pushUndo(r){this.undos.push(r)}pushRedo(r){this.redos.push(r)}applyUndo(){let r=this.undos.pop();r&&(this.redos.push(r),this.activeUndo.next(r))}applyRedo(){let r=this.redos.pop();r&&(this.undos.push(r),this.activeRedo.next(r))}reset(){this.resetUndos(),this.resetRedos()}resetUndos(){this.undos=[]}resetRedos(){this.redos=[]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var pd=(()=>{let e=class e{constructor(){this.dealStarred=!1,this.baseFront=!0,this.deckSize=10,this.dealStarredChanged=new _e}getDealStarred(){return this.dealStarred}setDealStarred(r){this.dealStarred=r,this.dealStarredChanged.next()}getBaseFront(){return this.baseFront}setBaseFront(r){this.baseFront=r}getDeckSize(){return this.deckSize}setDeckSize(r){this.deckSize=r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var $j=t=>({width:t});function Hj(t,e){t&1&&(y(0,"p"),ue(1,"loading..."),I())}function zj(t,e){if(t&1){let n=at();y(0,"app-card",6),os(1,"typeColor"),j("onSwiped",function(i){Me(n);let s=z(4);return Ne(s.handleSwiped(i))})("onUpdated",function(i){Me(n);let s=z(4);return Ne(s.handleCardUpdated(i))}),I()}if(t&2){let n=z().$implicit,r=z(3);U("card",n)("color",as(1,3,n.type))("baseFirst",r.getBaseFirst())}}function Wj(t,e){if(t&1&&(Kf(0),ke(1,zj,2,5,"app-card",5),Yf()),t&2){let n=e.index,r=z(3);F(),U("ngIf",n===r.deck.length-1)}}function Gj(t,e){if(t&1&&(y(0,"div",0),ke(1,Wj,2,1,"ng-container",2),y(2,"div",3),N(3,"div",4),I()()),t&2){let n=z(2);F(),U("ngForOf",n.deck),F(2),bc(ss(3,$j,n.getDeckProgress()))}}function qj(t,e){if(t&1){let n=at();y(0,"div",9)(1,"p"),ue(2,"You're out of cards!"),I(),y(3,"button",10),j("click",function(){Me(n);let i=z(3);return Ne(i.initAndDeal())}),ue(4,"Reset card pile?"),I()()}}function Kj(t,e){if(t&1){let n=at();y(0,"button",10),j("click",function(){Me(n);let i=z(3);return Ne(i.dealMissed())}),ue(1),I()}if(t&2){let n=z(3);F(),Kr("Deal ",n.missed.length," missed cards?")}}function Yj(t,e){if(t&1){let n=at();y(0,"button",10),j("click",function(){Me(n);let i=z(3);return Ne(i.dealSameDeck())}),ue(1,"Deal same deck?"),I()}}function Qj(t,e){if(t&1){let n=at();y(0,"button",10),j("click",function(){Me(n);let i=z(3);return Ne(i.dealNewDeck())}),ue(1),I()}if(t&2){let n=z(3);F(),Kr("Deal another ",n.getDeckSize(),"?")}}function Zj(t,e){if(t&1&&(y(0,"div",1),ke(1,qj,5,0,"div",7)(2,Kj,2,1,"button",8)(3,Yj,2,0,"button",8)(4,Qj,2,1,"button",8),I()),t&2){let n=z(2);F(),U("ngIf",n.pile.length===0),F(),U("ngIf",n.missed.length>0),F(),U("ngIf",n.currentDeck.length>0),F(),U("ngIf",n.pile.length>0)}}function Jj(t,e){if(t&1&&ke(0,Gj,4,5,"div",0)(1,Zj,5,4,"div",1),t&2){let n=z();qr(n.deck.length>0?0:1)}}var hS=(()=>{let e=class e{constructor(r,i,s){this.actionsService=r,this.cardService=i,this.settingsService=s,this.loading=!1,this.sample=!1,this.cards=[],this.pile=[],this.deck=[],this.currentDeck=[],this.missed=[]}ngOnInit(){this.loading=!0,this.actionsService.activeUndo.subscribe(r=>this.applyUndo(r)),this.actionsService.activeRedo.subscribe(r=>this.applyRedo(r)),this.settingsService.dealStarredChanged.subscribe(()=>this.initAndDeal()),this.cardService.get(this.sample).then(r=>{this.cards=r,this.initAndDeal(),this.loading=!1}).catch(r=>alert("Failed to get cards from database! "+r)),this.cardService.cardAdded.subscribe(r=>{this.initAndDeal()})}initPile(){this.settingsService.getDealStarred()?this.pile=structuredClone(this.getStarred()):this.pile=structuredClone(this.cards)}initAndDeal(){this.initPile(),this.dealNewDeck()}getStarred(){return this.cards.filter(r=>r.starred)}applyUndo(r){r.direction||this.missed.splice(this.missed.findIndex(i=>i.id===r.card.id),1),this.deck.push(r.card)}applyRedo(r){this.handleSwiped(r.direction)}refreshWorkingCards(){for(let r of[this.currentDeck,this.deck,this.missed])for(let i=0;i<r.length;i++)r[i]=this.cards[r[i].id]}updateCard(r){this.cardService.update(r).then(()=>{this.cards[r.id]=r,this.refreshWorkingCards()}).catch(i=>alert("Card update failed! "+i))}getBaseFirst(){return this.settingsService.getBaseFront()}getDeckSize(){return this.settingsService.getDeckSize()}shuffle(r){for(let i=r.length-1;i>0;i--){let s=Math.floor(Math.random()*(i+1));[r[i],r[s]]=[r[s],r[i]]}}deal(r){let i=[];for(let s=0;s<this.getDeckSize();s++){if(r.length===0)return i;let o=Math.floor(Math.random()*r.length);i.push(r[o]),r.splice(o,1)}return i}initDeck(){this.missed=[],this.actionsService.reset()}dealMissed(){this.deck=this.missed,this.shuffle(this.deck),this.initDeck()}dealSameDeck(){this.deck=structuredClone(this.currentDeck),this.shuffle(this.deck),this.initDeck()}dealNewDeck(){this.deck=this.deal(this.pile),this.currentDeck=structuredClone(this.deck),this.initDeck()}handleSwiped(r){let i=this.deck.pop();i&&(this.actionsService.pushUndo({direction:r,card:i}),this.actionsService.resetRedos(),r||this.missed.push(i))}getDeckProgress(){return(1+Math.abs(this.deck.length-this.getDeckSize()))*10+"%"}handleCardUpdated(r){this.updateCard(r)}};e.\u0275fac=function(i){return new(i||e)(A(fd),A(Zs),A(pd))},e.\u0275cmp=Le({type:e,selectors:[["app-deck"]],inputs:{sample:"sample"},standalone:!0,features:[je],decls:2,vars:1,consts:[[1,"deck"],[1,"options"],[4,"ngFor","ngForOf"],[1,"progress"],[1,"progress-inner"],[3,"card","color","baseFirst","onSwiped","onUpdated",4,"ngIf"],[3,"onSwiped","onUpdated","card","color","baseFirst"],["style","text-align: center;",4,"ngIf"],["class","btn",3,"click",4,"ngIf"],[2,"text-align","center"],[1,"btn",3,"click"]],template:function(i,s){i&1&&ke(0,Hj,2,0,"p")(1,Jj,2,1),i&2&&qr(s.loading?0:1)},dependencies:[At,ds,rr,cS,Fs],styles:["body[_ngcontent-%COMP%]{margin:0;background:#dedede;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{height:2.5rem;margin:0 .5rem;padding:.25rem;border:none;outline:none;border-radius:5px;background-color:#f0f8ff;font-size:large;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}textarea[_ngcontent-%COMP%]{height:3.5rem}button[_ngcontent-%COMP%]{font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}.label[_ngcontent-%COMP%]{font-size:20px}.btn[_ngcontent-%COMP%]{width:fit-content;margin:auto;padding:.5rem 1rem;border:none;outline:none;height:3rem;border-radius:5px;font-size:20px;box-shadow:0 1px 2px #d3d3d3}.icon-btn[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;outline:none;border:none;background:none;width:4rem;height:4rem;padding:0 .5rem}.icon-btn[_ngcontent-%COMP%]:hover{cursor:pointer;outline:solid 1px black}.navbar[_ngcontent-%COMP%]{height:4rem;width:100%;display:flex;flex-direction:row;justify-content:space-between}.border-input[_ngcontent-%COMP%]{background:#ffffff10;border:solid 1px black}[_nghost-%COMP%]{display:flex;flex-direction:column;margin:auto;width:100%;height:100%}.deck[_ngcontent-%COMP%]{height:100%;padding:1rem}.progress[_ngcontent-%COMP%]{width:100%;height:.25rem;background:#789;margin-top:.25rem;border-radius:2px}.progress-inner[_ngcontent-%COMP%]{height:100%;border-radius:2px;background:#0ff}.options[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:auto;gap:2rem}"]});let t=e;return t})();var fS=fi("drop",[xt("active",nt({top:"0"})),xt("inactive",nt({top:"-100%"})),Ot("active => inactive",Rt("200ms ease-out")),Ot("inactive => active",Rt("200ms ease-in"))]);var Xj=t=>({background:t}),pS=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Le({type:e,selectors:[["app-action-slider"]],inputs:{active:"active"},standalone:!0,features:[je],decls:2,vars:5,consts:[[1,"track",3,"ngStyle"]],template:function(i,s){i&1&&(y(0,"div",0),N(1,"div"),I()),i&2&&(U("ngStyle",ss(3,Xj,s.active?"lightgreen":"gray")),F(),Gr(s.active?"slider right":"slider left"))},dependencies:[sE],styles:["body[_ngcontent-%COMP%]{margin:0;background:#dedede;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{height:2.5rem;margin:0 .5rem;padding:.25rem;border:none;outline:none;border-radius:5px;background-color:#f0f8ff;font-size:large;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}textarea[_ngcontent-%COMP%]{height:3.5rem}button[_ngcontent-%COMP%]{font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}.label[_ngcontent-%COMP%]{font-size:20px}.btn[_ngcontent-%COMP%]{width:fit-content;margin:auto;padding:.5rem 1rem;border:none;outline:none;height:3rem;border-radius:5px;font-size:20px;box-shadow:0 1px 2px #d3d3d3}.icon-btn[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;outline:none;border:none;background:none;width:4rem;height:4rem;padding:0 .5rem}.icon-btn[_ngcontent-%COMP%]:hover{cursor:pointer;outline:solid 1px black}.navbar[_ngcontent-%COMP%]{height:4rem;width:100%;display:flex;flex-direction:row;justify-content:space-between}.border-input[_ngcontent-%COMP%]{background:#ffffff10;border:solid 1px black}[_nghost-%COMP%]{display:flex;flex-direction:column;justify-content:center;padding:4px;margin-right:4px}.track[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;border-radius:2rem;width:42px;height:24px;box-shadow:0 1px 1px gray}.slider[_ngcontent-%COMP%]{border-radius:2rem;width:18px;height:18px;background:#dedede;box-shadow:1px 1px 2px #00000070}.left[_ngcontent-%COMP%]{transition:all .3s ease;margin-left:4px}.right[_ngcontent-%COMP%]{transition:all .3s ease;margin-left:20px}"]});let t=e;return t})();function eU(t,e){if(t&1){let n=at();y(0,"form",1)(1,"div",12)(2,"p",13),ue(3,"Deal from starred cards only?"),I(),y(4,"app-action-slider",14),j("click",function(){Me(n);let i=z();return Ne(i.toggleDealFromStarred())}),I()(),y(5,"div",12)(6,"p",13),ue(7,"Base on front?"),I(),y(8,"app-action-slider",14),j("click",function(){Me(n);let i=z();return Ne(i.toggleBaseFront())}),I()(),y(9,"div",12),N(10,"input",15),y(11,"button",16),j("click",function(){Me(n);let i=z();return Ne(i.setDeckSize())}),ue(12,"Set deck size"),I()()()}if(t&2){let n=z();U("formGroup",n.settingsForm),F(4),U("active",n.getDealFromStarred()),F(4),U("active",n.getBaseFront())}}function tU(t,e){if(t&1&&(y(0,"option"),os(1,"typeColor"),ue(2),I()),t&2){let n=e.$implicit;is("background",as(1,3,n)),F(2),zt(n)}}function nU(t,e){if(t&1&&(y(0,"form",2)(1,"h2"),ue(2,"Add card"),I(),N(3,"input",17)(4,"input",18),y(5,"select",19),ke(6,tU,3,5,"option",20),I(),N(7,"textarea",21)(8,"textarea",22)(9,"textarea",23)(10,"textarea",24),I()),t&2){let n=z();U("formGroup",n.addCardForm),F(5),U("value",n.typeOptions[0]),F(),U("ngForOf",n.typeOptions)}}function rU(t,e){if(t&1){let n=at();y(0,"button",4),j("click",function(){Me(n);let i=z();return Ne(i.addCard())}),Ve(),y(1,"svg",5),N(2,"g",6)(3,"g",7),y(4,"g",8),N(5,"path",25),I()()()}}var gS=(()=>{let e=class e{constructor(r,i){this.cardsService=r,this.settingsService=i,this.dropState="inactive",this.settingsOpen=!1,this.addCardOpen=!1,this.closePressed=new ae,this.settingsForm=new Ln({deckSize:new De(this.settingsService.getDeckSize(),[Ye.min(1),Ye.required])}),this.addCardForm=new Ln({base:new De("",[Ye.required,Ye.minLength(1)]),goal:new De("",Ye.required),type:new De("masculine",Ye.required),goal_sent_1:new De(""),base_sent_1:new De(""),goal_sent_2:new De(""),base_sent_2:new De("")})}ngOnInit(){this.typeOptions=this.cardsService.typeOptions}close(){this.addCardOpen&&this.addCardForm.reset(),this.settingsOpen=!1,this.addCardOpen=!1,this.closePressed.emit()}addCard(){let r={id:-1,base:this.addCardForm.controls.base.value?this.addCardForm.controls.base.value:"",goal:this.addCardForm.controls.goal.value?this.addCardForm.controls.goal.value:"",type:this.addCardForm.controls.type.value?this.addCardForm.controls.type.value:"other",goal_sent_1:this.addCardForm.controls.goal_sent_1.value?this.addCardForm.controls.goal_sent_1.value:"",base_sent_1:this.addCardForm.controls.base_sent_1.value?this.addCardForm.controls.base_sent_1.value:"",goal_sent_2:this.addCardForm.controls.goal_sent_2.value?this.addCardForm.controls.goal_sent_2.value:"",base_sent_2:this.addCardForm.controls.base_sent_2.value?this.addCardForm.controls.base_sent_2.value:"",starred:!1};this.cardsService.add(r).then(()=>{this.close()}).catch(i=>{alert("Error adding card to db! "+i)})}getDropState(){return this.settingsOpen||this.addCardOpen?"active":"inactive"}getDealFromStarred(){return this.settingsService.getDealStarred()}toggleDealFromStarred(){this.settingsService.setDealStarred(!this.settingsService.getDealStarred())}getBaseFront(){return this.settingsService.getBaseFront()}toggleBaseFront(){this.settingsService.setBaseFront(!this.settingsService.getBaseFront())}setDeckSize(){let r=this.settingsForm.controls.deckSize.value;r&&this.settingsService.setDeckSize(r)}};e.\u0275fac=function(i){return new(i||e)(A(Zs),A(pd))},e.\u0275cmp=Le({type:e,selectors:[["app-menu"]],inputs:{settingsOpen:"settingsOpen",addCardOpen:"addCardOpen"},outputs:{closePressed:"closePressed"},standalone:!0,features:[je],decls:19,vars:3,consts:[[1,"menu-container"],[3,"formGroup"],[1,"add-card-form",3,"formGroup"],[1,"navbar"],[1,"icon-btn",3,"click"],["viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["id","SVGRepo_bgCarrier","stroke-width","0"],["id","SVGRepo_tracerCarrier","stroke-linecap","round","stroke-linejoin","round"],["id","SVGRepo_iconCarrier"],["id","Menu / Close_LG"],["id","Vector","d","M21 21L12 12M12 12L3 3M12 12L21.0001 3M12 12L3 21.0001","stroke","#000000","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["class","icon-btn",3,"click",4,"ngIf"],[1,"row"],[1,"label",2,"margin-right","1rem"],[3,"click","active"],["type","number","placeholder","deck size","formControlName","deckSize",2,"margin","0"],[1,"btn",2,"margin","0",3,"click"],["type","text","formControlName","base","placeholder","base",1,"border-input"],["type","text","formControlName","goal","placeholder","goal",1,"border-input"],["formControlName","type",1,"border-input",3,"value"],[3,"background",4,"ngFor","ngForOf"],["type","text","formControlName","goal_sent_1","placeholder","goal sentence 1",1,"border-input"],["type","text","formControlName","base_sent_1","placeholder","base sentence 1",1,"border-input"],["type","text","formControlName","goal_sent_2","placeholder","goal sentence 2",1,"border-input"],["type","text","formControlName","base_sent_2","placeholder","base sentence 2",1,"border-input"],["fill-rule","evenodd","clip-rule","evenodd","d","M18.1716 1C18.702 1 19.2107 1.21071 19.5858 1.58579L22.4142 4.41421C22.7893 4.78929 23 5.29799 23 5.82843V20C23 21.6569 21.6569 23 20 23H4C2.34315 23 1 21.6569 1 20V4C1 2.34315 2.34315 1 4 1H18.1716ZM4 3C3.44772 3 3 3.44772 3 4V20C3 20.5523 3.44772 21 4 21L5 21L5 15C5 13.3431 6.34315 12 8 12L16 12C17.6569 12 19 13.3431 19 15V21H20C20.5523 21 21 20.5523 21 20V6.82843C21 6.29799 20.7893 5.78929 20.4142 5.41421L18.5858 3.58579C18.2107 3.21071 17.702 3 17.1716 3H17V5C17 6.65685 15.6569 8 14 8H10C8.34315 8 7 6.65685 7 5V3H4ZM17 21V15C17 14.4477 16.5523 14 16 14L8 14C7.44772 14 7 14.4477 7 15L7 21L17 21ZM9 3H15V5C15 5.55228 14.5523 6 14 6H10C9.44772 6 9 5.55228 9 5V3Z","fill","#0F0F0F"]],template:function(i,s){i&1&&(y(0,"div",0),ke(1,eU,13,3,"form",1)(2,nU,11,3,"form",2),y(3,"div",3)(4,"button",4),j("click",function(){return s.close()}),Ve(),y(5,"svg",5),N(6,"g",6)(7,"g",7),y(8,"g",8)(9,"g",9),N(10,"path",10),I()()()(),ke(11,rU,6,0,"button",11),un(),y(12,"button",4),j("click",function(){return s.close()}),Ve(),y(13,"svg",5),N(14,"g",6)(15,"g",7),y(16,"g",8)(17,"g",9),N(18,"path",10),I()()()()()()),i&2&&(U("@drop",s.getDropState()),F(),qr(s.settingsOpen?1:s.addCardOpen?2:-1),F(10),U("ngIf",s.addCardOpen&&s.addCardForm.valid))},dependencies:[At,ds,rr,Ps,Os,xu,Ou,_r,sm,ks,Rs,xs,di,hi,pS,Fs],styles:["body[_ngcontent-%COMP%]{margin:0;background:#dedede;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{height:2.5rem;margin:0 .5rem;padding:.25rem;border:none;outline:none;border-radius:5px;background-color:#f0f8ff;font-size:large;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}textarea[_ngcontent-%COMP%]{height:3.5rem}button[_ngcontent-%COMP%]{font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}.label[_ngcontent-%COMP%]{font-size:20px}.btn[_ngcontent-%COMP%]{width:fit-content;margin:auto;padding:.5rem 1rem;border:none;outline:none;height:3rem;border-radius:5px;font-size:20px;box-shadow:0 1px 2px #d3d3d3}.icon-btn[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;outline:none;border:none;background:none;width:4rem;height:4rem;padding:0 .5rem}.icon-btn[_ngcontent-%COMP%]:hover{cursor:pointer;outline:solid 1px black}.navbar[_ngcontent-%COMP%]{height:4rem;width:100%;display:flex;flex-direction:row;justify-content:space-between}.border-input[_ngcontent-%COMP%]{background:#ffffff10;border:solid 1px black}.menu-container[_ngcontent-%COMP%]{position:absolute;left:0;display:flex;flex-direction:column;justify-content:flex-end;width:100%;height:100%;background:#dedede;z-index:1}.row[_ngcontent-%COMP%]{margin:0 1rem;display:flex;flex-direction:row;justify-content:space-between}.add-card-form[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:flex-end;margin:1rem 0;text-align:center;gap:.5rem}"],data:{animation:[fS]}});let t=e;return t})();var xy=(()=>{let e=class e{constructor(r,i){this.actionsService=r,this.router=i,this.settingsMenuOpen=!1,this.addCardMenuOpen=!1,this.sample=!1}ngOnInit(){this.router.url==="/sample"&&(this.sample=!0)}closeMenu(){this.settingsMenuOpen=!1,this.addCardMenuOpen=!1}toggleSettingsMenu(){this.settingsMenuOpen=!this.settingsMenuOpen}toggleAddCardMenu(){this.addCardMenuOpen=!this.addCardMenuOpen}handleUndo(){this.actionsService.applyUndo()}handleRedo(){this.actionsService.applyRedo()}};e.\u0275fac=function(i){return new(i||e)(A(fd),A(On))},e.\u0275cmp=Le({type:e,selectors:[["app-layout"]],standalone:!0,features:[je],decls:4,vars:3,consts:[[1,"content"],[3,"closePressed","settingsOpen","addCardOpen"],[3,"sample"],[3,"settingsPressed","undoPressed","redoPressed","addPressed"]],template:function(i,s){i&1&&(y(0,"div",0)(1,"app-menu",1),j("closePressed",function(){return s.closeMenu()}),I(),N(2,"app-deck",2),y(3,"app-navbar",3),j("settingsPressed",function(){return s.toggleSettingsMenu()})("undoPressed",function(){return s.handleUndo()})("redoPressed",function(){return s.handleRedo()})("addPressed",function(){return s.toggleAddCardMenu()}),I()()),i&2&&(F(),U("settingsOpen",s.settingsMenuOpen)("addCardOpen",s.addCardMenuOpen),F(),U("sample",s.sample))},dependencies:[gS,OI,hS],styles:["body[_ngcontent-%COMP%]{margin:0;background:#dedede;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{height:2.5rem;margin:0 .5rem;padding:.25rem;border:none;outline:none;border-radius:5px;background-color:#f0f8ff;font-size:large;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}textarea[_ngcontent-%COMP%]{height:3.5rem}button[_ngcontent-%COMP%]{font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}.label[_ngcontent-%COMP%]{font-size:20px}.btn[_ngcontent-%COMP%]{width:fit-content;margin:auto;padding:.5rem 1rem;border:none;outline:none;height:3rem;border-radius:5px;font-size:20px;box-shadow:0 1px 2px #d3d3d3}.icon-btn[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;outline:none;border:none;background:none;width:4rem;height:4rem;padding:0 .5rem}.icon-btn[_ngcontent-%COMP%]:hover{cursor:pointer;outline:solid 1px black}.navbar[_ngcontent-%COMP%]{height:4rem;width:100%;display:flex;flex-direction:row;justify-content:space-between}.border-input[_ngcontent-%COMP%]{background:#ffffff10;border:solid 1px black}.content[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;overflow:hidden;display:flex;flex-direction:column;justify-content:space-between}"]});let t=e;return t})();function iU(t,e){if(t&1&&(y(0,"button",6),ue(1,"Sign In"),I()),t&2){let n=z();U("disabled",n.signInForm.invalid)}}var mS=(()=>{let e=class e{constructor(r,i){this.authService=r,this.router=i,this.loading=!1,this.signInForm=new Ln({email:new De(null,Ye.required),password:new De(null,Ye.required)})}ngOnInit(){}onSubmit(){let r={email:this.signInForm.controls.email.value,password:this.signInForm.controls.password.value};!r.email||!r.password||(this.loading=!0,this.authService.signIn(r.email,r.password).then(i=>{i?this.router.navigate([""]):this.loading=!1}))}};e.\u0275fac=function(i){return new(i||e)(A(Ts),A(On))},e.\u0275cmp=Le({type:e,selectors:[["app-auth"]],standalone:!0,features:[je],decls:11,vars:3,consts:[[1,"signin",3,"submit","formGroup"],["type","text","placeholder","email","formControlName","email"],["type","password","placeholder","password","formControlName","password"],["class","btn submit","type","submit","style","margin: auto;",3,"disabled",4,"ngIf"],[1,"sample"],["routerLink","/sample"],["type","submit",1,"btn","submit",2,"margin","auto",3,"disabled"]],template:function(i,s){i&1&&(y(0,"form",0),j("submit",function(){return s.onSubmit()}),y(1,"h1"),ue(2),I(),N(3,"input",1)(4,"input",2),ke(5,iU,2,1,"button",3),I(),y(6,"p",4),ue(7," Don't have an account? Try a "),y(8,"a",5),ue(9,"sample"),I(),ue(10,`!
`),I()),i&2&&(U("formGroup",s.signInForm),F(2),zt(s.loading?"Loading...":"Sign In"),F(3),U("ngIf",!s.loading))},dependencies:[At,rr,Ps,Os,_r,Rs,xs,di,hi,JE],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;text-align:center}.signin[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.submit[_ngcontent-%COMP%]{background-color:#90ee90}.sample[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%}"]});let t=e;return t})();var yS=[{path:"",component:xy,canActivate:[Ts]},{path:"sample",component:xy},{path:"auth",component:mS}];function _S(t){return new _(3e3,!1)}function sU(){return new _(3100,!1)}function oU(){return new _(3101,!1)}function aU(t){return new _(3001,!1)}function lU(t){return new _(3003,!1)}function cU(t){return new _(3004,!1)}function uU(t,e){return new _(3005,!1)}function dU(){return new _(3006,!1)}function hU(){return new _(3007,!1)}function fU(t,e){return new _(3008,!1)}function pU(t){return new _(3002,!1)}function gU(t,e,n,r,i){return new _(3010,!1)}function mU(){return new _(3011,!1)}function yU(){return new _(3012,!1)}function _U(){return new _(3200,!1)}function vU(){return new _(3202,!1)}function wU(){return new _(3013,!1)}function bU(t){return new _(3014,!1)}function EU(t){return new _(3015,!1)}function CU(t){return new _(3016,!1)}function IU(t,e){return new _(3404,!1)}function DU(t){return new _(3502,!1)}function SU(t){return new _(3503,!1)}function TU(){return new _(3300,!1)}function AU(t){return new _(3504,!1)}function MU(t){return new _(3301,!1)}function NU(t,e){return new _(3302,!1)}function RU(t){return new _(3303,!1)}function xU(t,e){return new _(3400,!1)}function OU(t){return new _(3401,!1)}function kU(t){return new _(3402,!1)}function PU(t,e){return new _(3505,!1)}function Ir(t){switch(t.length){case 0:return new vr;case 1:return t[0];default:return new ga(t)}}function xS(t,e,n=new Map,r=new Map){let i=[],s=[],o=-1,a=null;if(e.forEach(l=>{let c=l.get("offset"),u=c==o,d=u&&a||new Map;l.forEach((h,f)=>{let p=f,m=h;if(f!=="offset")switch(p=t.normalizePropertyName(p,i),m){case ku:m=n.get(f);break;case bn:m=r.get(f);break;default:m=t.normalizeStyleValue(f,p,m,i);break}d.set(p,m)}),u||s.push(d),a=d,o=c}),i.length)throw DU(i);return s}function t_(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&Oy(n,"start",t)));break;case"done":t.onDone(()=>r(n&&Oy(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&Oy(n,"destroy",t)));break}}function Oy(t,e,n){let r=n.totalTime,i=!!n.disabled,s=n_(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,r??t.totalTime,i),o=t._data;return o!=null&&(s._data=o),s}function n_(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Et(t,e,n){let r=t.get(e);return r||t.set(e,r=n),r}function vS(t){let e=t.indexOf(":"),n=t.substring(1,e),r=t.slice(e+1);return[n,r]}var FU=typeof document>"u"?null:document.documentElement;function r_(t){let e=t.parentNode||t.host||null;return e===FU?null:e}function LU(t){return t.substring(1,6)=="ebkit"}var bi=null,wS=!1;function VU(t){bi||(bi=jU()||{},wS=bi.style?"WebkitAppearance"in bi.style:!1);let e=!0;return bi.style&&!LU(t)&&(e=t in bi.style,!e&&wS&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in bi.style)),e}function jU(){return typeof document<"u"?document.body:null}function OS(t,e){for(;e;){if(e===t)return!0;e=r_(e)}return!1}function kS(t,e,n){if(n)return Array.from(t.querySelectorAll(e));let r=t.querySelector(e);return r?[r]:[]}var i_=(()=>{let e=class e{validateStyleProperty(r){return VU(r)}containsElement(r,i){return OS(r,i)}getParentElement(r){return r_(r)}query(r,i,s){return kS(r,i,s)}computeStyle(r,i,s){return s||""}animate(r,i,s,o,a,l=[],c){return new vr(s,o)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac});let t=e;return t})(),l_=class l_{};l_.NOOP=new i_;var Ii=l_,Di=class{};var UU=1e3,PS="{{",BU="}}",FS="ng-enter",jy="ng-leave",gd="ng-trigger",wd=".ng-trigger",bS="ng-animating",Uy=".ng-animating";function Un(t){if(typeof t=="number")return t;let e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:By(parseFloat(e[1]),e[2])}function By(t,e){switch(e){case"s":return t*UU;default:return t}}function bd(t,e,n){return t.hasOwnProperty("duration")?t:$U(t,e,n)}function $U(t,e,n){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,s=0,o="";if(typeof t=="string"){let a=t.match(r);if(a===null)return e.push(_S(t)),{duration:0,delay:0,easing:""};i=By(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(s=By(parseFloat(l),a[4]));let c=a[5];c&&(o=c)}else i=t;if(!n){let a=!1,l=e.length;i<0&&(e.push(sU()),a=!0),s<0&&(e.push(oU()),a=!0),a&&e.splice(l,0,_S(t))}return{duration:i,delay:s,easing:o}}function HU(t){return t.length?t[0]instanceof Map?t:t.map(e=>new Map(Object.entries(e))):[]}function Dn(t,e,n){e.forEach((r,i)=>{let s=s_(i);n&&!n.has(i)&&n.set(i,t.style[s]),t.style[s]=r})}function Ci(t,e){e.forEach((n,r)=>{let i=s_(r);t.style[i]=""})}function Va(t){return Array.isArray(t)?t.length==1?t[0]:d0(t):t}function zU(t,e,n){let r=e.params||{},i=LS(t);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||n.push(aU(s))})}var $y=new RegExp(`${PS}\\s*(.+?)\\s*${BU}`,"g");function LS(t){let e=[];if(typeof t=="string"){let n;for(;n=$y.exec(t);)e.push(n[1]);$y.lastIndex=0}return e}function Ua(t,e,n){let r=`${t}`,i=r.replace($y,(s,o)=>{let a=e[o];return a==null&&(n.push(lU(o)),a=""),a.toString()});return i==r?t:i}var WU=/-+([a-z0-9])/g;function s_(t){return t.replace(WU,(...e)=>e[1].toUpperCase())}function GU(t,e){return t===0||e===0}function qU(t,e,n){if(n.size&&e.length){let r=e[0],i=[];if(n.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,o_(t,a)))}}return e}function bt(t,e,n){switch(e.type){case B.Trigger:return t.visitTrigger(e,n);case B.State:return t.visitState(e,n);case B.Transition:return t.visitTransition(e,n);case B.Sequence:return t.visitSequence(e,n);case B.Group:return t.visitGroup(e,n);case B.Animate:return t.visitAnimate(e,n);case B.Keyframes:return t.visitKeyframes(e,n);case B.Style:return t.visitStyle(e,n);case B.Reference:return t.visitReference(e,n);case B.AnimateChild:return t.visitAnimateChild(e,n);case B.AnimateRef:return t.visitAnimateRef(e,n);case B.Query:return t.visitQuery(e,n);case B.Stagger:return t.visitStagger(e,n);default:throw cU(e.type)}}function o_(t,e){return window.getComputedStyle(t)[e]}var KU=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Ed=class extends Di{normalizePropertyName(e,n){return s_(e)}normalizeStyleValue(e,n,r,i){let s="",o=r.toString().trim();if(KU.has(n)&&r!==0&&r!=="0")if(typeof r=="number")s="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(uU(e,r))}return o+s}};var Cd="*";function YU(t,e){let n=[];return typeof t=="string"?t.split(/\s*,\s*/).forEach(r=>QU(r,n,e)):n.push(t),n}function QU(t,e,n){if(t[0]==":"){let l=ZU(t,n);if(typeof l=="function"){e.push(l);return}t=l}let r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return n.push(EU(t)),e;let i=r[1],s=r[2],o=r[3];e.push(ES(i,o));let a=i==Cd&&o==Cd;s[0]=="<"&&!a&&e.push(ES(o,i))}function ZU(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,r)=>parseFloat(r)>parseFloat(n);case":decrement":return(n,r)=>parseFloat(r)<parseFloat(n);default:return e.push(CU(t)),"* => *"}}var md=new Set(["true","1"]),yd=new Set(["false","0"]);function ES(t,e){let n=md.has(t)||yd.has(t),r=md.has(e)||yd.has(e);return(i,s)=>{let o=t==Cd||t==i,a=e==Cd||e==s;return!o&&n&&typeof i=="boolean"&&(o=i?md.has(t):yd.has(t)),!a&&r&&typeof s=="boolean"&&(a=s?md.has(e):yd.has(e)),o&&a}}var VS=":self",JU=new RegExp(`s*${VS}s*,?`,"g");function jS(t,e,n,r){return new Hy(t).build(e,n,r)}var CS="",Hy=class{constructor(e){this._driver=e}build(e,n,r){let i=new zy(n);return this._resetContextStyleTimingState(i),bt(this,Va(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=CS,e.collectedStyles=new Map,e.collectedStyles.set(CS,new Map),e.currentTime=0}visitTrigger(e,n){let r=n.queryCount=0,i=n.depCount=0,s=[],o=[];return e.name.charAt(0)=="@"&&n.errors.push(dU()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),a.type==B.State){let l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,n))}),l.name=c}else if(a.type==B.Transition){let l=this.visitTransition(a,n);r+=l.queryCount,i+=l.depCount,o.push(l)}else n.errors.push(hU())}),{type:B.Trigger,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,n){let r=this.visitStyle(e.styles,n),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){let s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{LS(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&n.errors.push(fU(e.name,[...s.values()]))}return{type:B.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;let r=bt(this,Va(e.animation),n),i=YU(e.expr,n.errors);return{type:B.Transition,matchers:i,animation:r,queryCount:n.queryCount,depCount:n.depCount,options:Ei(e.options)}}visitSequence(e,n){return{type:B.Sequence,steps:e.steps.map(r=>bt(this,r,n)),options:Ei(e.options)}}visitGroup(e,n){let r=n.currentTime,i=0,s=e.steps.map(o=>{n.currentTime=r;let a=bt(this,o,n);return i=Math.max(i,n.currentTime),a});return n.currentTime=i,{type:B.Group,steps:s,options:Ei(e.options)}}visitAnimate(e,n){let r=nB(e.timings,n.errors);n.currentAnimateTimings=r;let i,s=e.styles?e.styles:nt({});if(s.type==B.Keyframes)i=this.visitKeyframes(s,n);else{let o=e.styles,a=!1;if(!o){a=!0;let c={};r.easing&&(c.easing=r.easing),o=nt(c)}n.currentTime+=r.duration+r.delay;let l=this.visitStyle(o,n);l.isEmptyStep=a,i=l}return n.currentAnimateTimings=null,{type:B.Animate,timings:r,style:i,options:null}}visitStyle(e,n){let r=this._makeStyleAst(e,n);return this._validateStyleAst(r,n),r}_makeStyleAst(e,n){let r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===bn?r.push(a):n.errors.push(pU(a)):r.push(new Map(Object.entries(a)));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s)){for(let l of a.values())if(l.toString().indexOf(PS)>=0){s=!0;break}}}),{type:B.Style,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,n){let r=n.currentAnimateTimings,i=n.currentTime,s=n.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,l)=>{let c=n.collectedStyles.get(n.currentQuerySelector),u=c.get(l),d=!0;u&&(s!=i&&s>=u.startTime&&i<=u.endTime&&(n.errors.push(gU(l,u.startTime,u.endTime,s,i)),d=!1),s=u.startTime),d&&c.set(l,{startTime:s,endTime:i}),n.options&&zU(a,n.options,n.errors)})})}visitKeyframes(e,n){let r={type:B.Keyframes,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(mU()),r;let i=1,s=0,o=[],a=!1,l=!1,c=0,u=e.steps.map(S=>{let K=this._makeStyleAst(S,n),L=K.offset!=null?K.offset:tB(K.styles),ie=0;return L!=null&&(s++,ie=K.offset=L),l=l||ie<0||ie>1,a=a||ie<c,c=ie,o.push(ie),K});l&&n.errors.push(yU()),a&&n.errors.push(_U());let d=e.steps.length,h=0;s>0&&s<d?n.errors.push(vU()):s==0&&(h=i/(d-1));let f=d-1,p=n.currentTime,m=n.currentAnimateTimings,w=m.duration;return u.forEach((S,K)=>{let L=h>0?K==f?1:h*K:o[K],ie=L*w;n.currentTime=p+m.delay+ie,m.duration=ie,this._validateStyleAst(S,n),S.offset=L,r.styles.push(S)}),r}visitReference(e,n){return{type:B.Reference,animation:bt(this,Va(e.animation),n),options:Ei(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:B.AnimateChild,options:Ei(e.options)}}visitAnimateRef(e,n){return{type:B.AnimateRef,animation:this.visitReference(e.animation,n),options:Ei(e.options)}}visitQuery(e,n){let r=n.currentQuerySelector,i=e.options||{};n.queryCount++,n.currentQuery=e;let[s,o]=XU(e.selector);n.currentQuerySelector=r.length?r+" "+s:s,Et(n.collectedStyles,n.currentQuerySelector,new Map);let a=bt(this,Va(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=r,{type:B.Query,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:Ei(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(wU());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:bd(e.timings,n.errors,!0);return{type:B.Stagger,animation:bt(this,Va(e.animation),n),timings:r,options:null}}};function XU(t){let e=!!t.split(/\s*,\s*/).find(n=>n==VS);return e&&(t=t.replace(JU,"")),t=t.replace(/@\*/g,wd).replace(/@\w+/g,n=>wd+"-"+n.slice(1)).replace(/:animating/g,Uy),[t,e]}function eB(t){return t?b({},t):null}var zy=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function tB(t){if(typeof t=="string")return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){let r=n;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(t instanceof Map&&t.has("offset")){let n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}function nB(t,e){if(t.hasOwnProperty("duration"))return t;if(typeof t=="number"){let s=bd(t,e).duration;return ky(s,0,"")}let n=t;if(n.split(/\s+/).some(s=>s.charAt(0)=="{"&&s.charAt(1)=="{")){let s=ky(0,0,"");return s.dynamic=!0,s.strValue=n,s}let i=bd(n,e);return ky(i.duration,i.delay,i.easing)}function Ei(t){return t?(t=b({},t),t.params&&(t.params=eB(t.params))):t={},t}function ky(t,e,n){return{duration:t,delay:e,easing:n}}function a_(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}var Ba=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,n){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}},rB=1,iB=":enter",sB=new RegExp(iB,"g"),oB=":leave",aB=new RegExp(oB,"g");function US(t,e,n,r,i,s=new Map,o=new Map,a,l,c=[]){return new Wy().buildKeyframes(t,e,n,r,i,s,o,a,l,c)}var Wy=class{buildKeyframes(e,n,r,i,s,o,a,l,c,u=[]){c=c||new Ba;let d=new Gy(e,n,c,i,s,u,[]);d.options=l;let h=l.delay?Un(l.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([o],null,d.errors,l),bt(this,r,d);let f=d.timelines.filter(p=>p.containsAnimation());if(f.length&&a.size){let p;for(let m=f.length-1;m>=0;m--){let w=f[m];if(w.element===n){p=w;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,l)}return f.length?f.map(p=>p.buildKeyframes()):[a_(n,[],[],[],0,h,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){let r=n.subInstructions.get(n.element);if(r){let i=n.createSubContext(e.options),s=n.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&n.transformIntoNewTimeline(o)}n.previousNode=e}visitAnimateRef(e,n){let r=n.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,r),this.visitReference(e.animation,r),n.transformIntoNewTimeline(r.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,r){for(let i of e){let s=i?.delay;if(s){let o=typeof s=="number"?s:Un(Ua(s,i?.params??{},n.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,n,r){let s=n.currentTimeline.currentTime,o=r.duration!=null?Un(r.duration):null,a=r.delay!=null?Un(r.delay):null;return o!==0&&e.forEach(l=>{let c=n.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,n){n.updateOptions(e.options,!0),bt(this,e.animation,n),n.previousNode=e}visitSequence(e,n){let r=n.subContextCount,i=n,s=e.options;if(s&&(s.params||s.delay)&&(i=n.createSubContext(s),i.transformIntoNewTimeline(),s.delay!=null)){i.previousNode.type==B.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Id);let o=Un(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>bt(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){let r=[],i=n.currentTimeline.currentTime,s=e.options&&e.options.delay?Un(e.options.delay):0;e.steps.forEach(o=>{let a=n.createSubContext(e.options);s&&a.delayNextStep(s),bt(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>n.currentTimeline.mergeTimelineCollectedStyles(o)),n.transformIntoNewTimeline(i),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){let r=e.strValue,i=n.params?Ua(r,n.params,n.errors):r;return bd(i,n.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){let r=n.currentAnimateTimings=this._visitTiming(e.timings,n),i=n.currentTimeline;r.delay&&(n.incrementTime(r.delay),i.snapshotCurrentStyles());let s=e.style;s.type==B.Keyframes?this.visitKeyframes(s,n):(n.incrementTime(r.duration),this.visitStyle(s,n),i.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){let r=n.currentTimeline,i=n.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){let r=n.currentAnimateTimings,i=n.currentTimeline.duration,s=r.duration,a=n.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(l=>{let c=l.offset||0;a.forwardTime(c*s),a.setStyles(l.styles,l.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(i+s),n.previousNode=e}visitQuery(e,n){let r=n.currentTimeline.currentTime,i=e.options||{},s=i.delay?Un(i.delay):0;s&&(n.previousNode.type===B.Style||r==0&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=Id);let o=r,a=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,n.errors);n.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{n.currentQueryIndex=u;let d=n.createSubContext(e.options,c);s&&d.delayNextStep(s),c===n.element&&(l=d.currentTimeline),bt(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe();let h=d.currentTimeline.currentTime;o=Math.max(o,h)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(o),l&&(n.currentTimeline.mergeTimelineCollectedStyles(l),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){let r=n.parentContext,i=n.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(n.currentQueryTotal-1),l=o*n.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime;break}let u=n.currentTimeline;l&&u.delayNextStep(l);let d=u.currentTime;bt(this,e.animation,n),n.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}},Id={},Gy=class t{constructor(e,n,r,i,s,o,a,l){this._driver=e,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Id,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Dd(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;let r=e,i=this.options;r.duration!=null&&(i.duration=Un(r.duration)),r.delay!=null&&(i.delay=Un(r.delay));let s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!n||!o.hasOwnProperty(a))&&(o[a]=Ua(s[a],o,this.errors))})}}_copyOptions(){let e={};if(this.options){let n=this.options.params;if(n){let r=e.params={};Object.keys(n).forEach(i=>{r[i]=n[i]})}}return e}createSubContext(e=null,n,r){let i=n||this.element,s=new t(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=Id,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,r){let i={duration:n??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new qy(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace(sB,"."+this._enterClassName),e=e.replace(aB,"."+this._leaveClassName);let l=r!=1,c=this._driver.query(this.element,e,l);r!==0&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),a.push(...c)}return!s&&a.length==0&&o.push(bU(n)),a}},Dd=class t{constructor(e,n,r,i){this._driver=e,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let n=this._keyframes.size===1&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=rB,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,r]of this._globalTimelineStyles)this._backFill.set(n,r||bn),this._currentKeyframe.set(n,bn);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,r,i){n&&this._previousKeyframe.set("easing",n);let s=i&&i.params||{},o=lB(e,this._globalTimelineStyles);for(let[a,l]of o){let c=Ua(l,s,r);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??bn),this._updateStyle(a,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,r)=>{let i=this._styleSummary.get(r);(!i||n.time>i.time)&&this._updateStyle(r,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,n=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,l)=>{let c=new Map([...this._backFill,...a]);c.forEach((u,d)=>{u===ku?e.add(d):u===bn&&n.add(d)}),r||c.set("offset",l/this.duration),i.push(c)});let s=[...e.values()],o=[...n.values()];if(r){let a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return a_(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}},qy=class extends Dd{constructor(e,n,r,i,s,o,a=!1){super(e,n,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&n){let s=[],o=r+n,a=n/o,l=new Map(e[0]);l.set("offset",0),s.push(l);let c=new Map(e[0]);c.set("offset",IS(a)),s.push(c);let u=e.length-1;for(let d=1;d<=u;d++){let h=new Map(e[d]),f=h.get("offset"),p=n+f*r;h.set("offset",IS(p/o)),s.push(h)}r=o,n=0,i="",e=s}return a_(this.element,e,this.preStyleProps,this.postStyleProps,r,n,i,!0)}};function IS(t,e=3){let n=Math.pow(10,e-1);return Math.round(t*n)/n}function lB(t,e){let n=new Map,r;return t.forEach(i=>{if(i==="*"){r??=e.keys();for(let s of r)n.set(s,bn)}else for(let[s,o]of i)n.set(s,o)}),n}function DS(t,e,n,r,i,s,o,a,l,c,u,d,h){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}var Py={},Sd=class{constructor(e,n,r){this._triggerName=e,this.ast=n,this._stateStyles=r}match(e,n,r,i){return cB(this.ast.matchers,e,n,r,i)}buildStyles(e,n,r){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(n,r):new Map}build(e,n,r,i,s,o,a,l,c,u){let d=[],h=this.ast.options&&this.ast.options.params||Py,f=a&&a.params||Py,p=this.buildStyles(r,f,d),m=l&&l.params||Py,w=this.buildStyles(i,m,d),S=new Set,K=new Map,L=new Map,ie=i==="void",We={params:BS(m,h),delay:this.ast.options?.delay},pe=u?[]:US(e,n,this.ast.animation,s,o,p,w,We,c,d),ye=0;return pe.forEach(Se=>{ye=Math.max(Se.duration+Se.delay,ye)}),d.length?DS(n,this._triggerName,r,i,ie,p,w,[],[],K,L,ye,d):(pe.forEach(Se=>{let dt=Se.element,Jt=Et(K,dt,new Set);Se.preStyleProps.forEach(Dr=>Jt.add(Dr));let c_=Et(L,dt,new Set);Se.postStyleProps.forEach(Dr=>c_.add(Dr)),dt!==n&&S.add(dt)}),DS(n,this._triggerName,r,i,ie,p,w,pe,[...S.values()],K,L,ye))}};function cB(t,e,n,r,i){return t.some(s=>s(e,n,r,i))}function BS(t,e){let n=b({},e);return Object.entries(t).forEach(([r,i])=>{i!=null&&(n[r]=i)}),n}var Ky=class{constructor(e,n,r){this.styles=e,this.defaultParams=n,this.normalizer=r}buildStyles(e,n){let r=new Map,i=BS(e,this.defaultParams);return this.styles.styles.forEach(s=>{typeof s!="string"&&s.forEach((o,a)=>{o&&(o=Ua(o,i,n));let l=this.normalizer.normalizePropertyName(a,n);o=this.normalizer.normalizeStyleValue(a,l,o,n),r.set(a,o)})}),r}};function uB(t,e,n){return new Yy(t,e,n)}var Yy=class{constructor(e,n,r){this.name=e,this.ast=n,this._normalizer=r,this.transitionFactories=[],this.states=new Map,n.states.forEach(i=>{let s=i.options&&i.options.params||{};this.states.set(i.name,new Ky(i.style,s,r))}),SS(this.states,"true","1"),SS(this.states,"false","0"),n.transitions.forEach(i=>{this.transitionFactories.push(new Sd(e,i,this.states))}),this.fallbackTransition=dB(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,r,i){return this.transitionFactories.find(o=>o.match(e,n,r,i))||null}matchStyles(e,n,r){return this.fallbackTransition.buildStyles(e,n,r)}};function dB(t,e,n){let r=[(o,a)=>!0],i={type:B.Sequence,steps:[],options:null},s={type:B.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new Sd(t,s,e)}function SS(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}var hB=new Ba,Qy=class{constructor(e,n,r){this.bodyNode=e,this._driver=n,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,n){let r=[],i=[],s=jS(this._driver,n,r,i);if(r.length)throw SU(r);i.length&&void 0,this._animations.set(e,s)}_buildPlayer(e,n,r){let i=e.element,s=xS(this._normalizer,e.keyframes,n,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,n,r={}){let i=[],s=this._animations.get(e),o,a=new Map;if(s?(o=US(this._driver,n,s,FS,jy,new Map,new Map,r,hB,i),o.forEach(u=>{let d=Et(a,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(i.push(TU()),o=[]),i.length)throw AU(i);a.forEach((u,d)=>{u.forEach((h,f)=>{u.set(f,this._driver.computeStyle(d,f,bn))})});let l=o.map(u=>{let d=a.get(u.element);return this._buildPlayer(u,new Map,d)}),c=Ir(l);return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){let n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);let r=this.players.indexOf(n);r>=0&&this.players.splice(r,1)}_getPlayer(e){let n=this._playersById.get(e);if(!n)throw MU(e);return n}listen(e,n,r,i){let s=n_(n,"","","");return t_(this._getPlayer(e),r,s,i),()=>{}}command(e,n,r,i){if(r=="register"){this.register(e,i[0]);return}if(r=="create"){let o=i[0]||{};this.create(e,n,o);return}let s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},TS="ng-animate-queued",fB=".ng-animate-queued",Fy="ng-animate-disabled",pB=".ng-animate-disabled",gB="ng-star-inserted",mB=".ng-star-inserted",yB=[],$S={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},_B={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Zt="__ng_removed",$a=class{get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;let r=e&&e.hasOwnProperty("value"),i=r?e.value:e;if(this.value=wB(i),r){let s=e,{value:o}=s,a=Od(s,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let n=e.params;if(n){let r=this.options.params;Object.keys(n).forEach(i=>{r[i]==null&&(r[i]=n[i])})}}},ja="void",Ly=new $a(ja),Zy=class{constructor(e,n,r){this.id=e,this.hostElement=n,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Pt(n,this._hostClassName)}listen(e,n,r,i){if(!this._triggers.has(n))throw NU(r,n);if(r==null||r.length==0)throw RU(n);if(!bB(r))throw xU(r,n);let s=Et(this._elementListeners,e,[]),o={name:n,phase:r,callback:i};s.push(o);let a=Et(this._engine.statesByElement,e,new Map);return a.has(n)||(Pt(e,gd),Pt(e,gd+"-"+n),a.set(n,Ly)),()=>{this._engine.afterFlush(()=>{let l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(n)||a.delete(n)})}}register(e,n){return this._triggers.has(e)?!1:(this._triggers.set(e,n),!0)}_getTrigger(e){let n=this._triggers.get(e);if(!n)throw OU(e);return n}trigger(e,n,r,i=!0){let s=this._getTrigger(n),o=new Ha(this.id,n,e),a=this._engine.statesByElement.get(e);a||(Pt(e,gd),Pt(e,gd+"-"+n),this._engine.statesByElement.set(e,a=new Map));let l=a.get(n),c=new $a(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(n,c),l||(l=Ly),!(c.value===ja)&&l.value===c.value){if(!IB(l.params,c.params)){let m=[],w=s.matchStyles(l.value,l.params,m),S=s.matchStyles(c.value,c.params,m);m.length?this._engine.reportError(m):this._engine.afterFlush(()=>{Ci(e,w),Dn(e,S)})}return}let h=Et(this._engine.playersByElement,e,[]);h.forEach(m=>{m.namespaceId==this.id&&m.triggerName==n&&m.queued&&m.destroy()});let f=s.matchTransition(l.value,c.value,e,c.params),p=!1;if(!f){if(!i)return;f=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:f,fromState:l,toState:c,player:o,isFallbackTransition:p}),p||(Pt(e,TS),o.onStart(()=>{Js(e,TS)})),o.onDone(()=>{let m=this.players.indexOf(o);m>=0&&this.players.splice(m,1);let w=this._engine.playersByElement.get(e);if(w){let S=w.indexOf(o);S>=0&&w.splice(S,1)}}),this.players.push(o),h.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,r)=>{this._elementListeners.set(r,n.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let n=this._engine.playersByElement.get(e);n&&(n.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){let r=this._engine.driver.query(e,wd,!0);r.forEach(i=>{if(i[Zt])return;let s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,n,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,n,r,i){let s=this._engine.statesByElement.get(e),o=new Map;if(s){let a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){let u=this.trigger(e,c,ja,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,o),r&&Ir(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let n=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(n&&r){let i=new Set;n.forEach(s=>{let o=s.name;if(i.has(o))return;i.add(o);let l=this._triggers.get(o).fallbackTransition,c=r.get(o)||Ly,u=new $a(ja),d=new Ha(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,n){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let i=!1;if(r.totalAnimations){let s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,n);else{let s=e[Zt];(!s||s===$S)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,n))}}insertNode(e,n){Pt(e,this._hostClassName)}drainQueuedTransitions(e){let n=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){let l=n_(s,r.triggerName,r.fromState.value,r.toState.value);l._data=e,t_(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):n.push(r)}),this._queue=[],n.sort((r,i)=>{let s=r.transition.ast.depCount,o=i.transition.ast.depCount;return s==0||o==0?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},Jy=class{_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,r){this.bodyNode=e,this.driver=n,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(n=>{n.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,n){let r=new Zy(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(r,n):(this.newHostElements.set(n,r),this.collectEnterElement(n)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,n){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(n);for(;a;){let l=i.get(a);if(l){let c=r.indexOf(l);r.splice(c+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(n,e),e}register(e,n){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,n)),r}registerTrigger(e,n,r){let i=this._namespaceLookup[e];i&&i.register(n,r)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let n=new Set,r=this.statesByElement.get(e);if(r){for(let i of r.values())if(i.namespaceId){let s=this._fetchNamespace(i.namespaceId);s&&n.add(s)}}return n}trigger(e,n,r,i){if(_d(n)){let s=this._fetchNamespace(e);if(s)return s.trigger(n,r,i),!0}return!1}insertNode(e,n,r,i){if(!_d(n))return;let s=n[Zt];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;let o=this.collectedLeaveElements.indexOf(n);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){let o=this._fetchNamespace(e);o&&o.insertNode(n,r)}i&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Pt(e,Fy)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Js(e,Fy))}removeNode(e,n,r){if(_d(n)){let i=e?this._fetchNamespace(e):null;i?i.removeNode(n,r):this.markElementAsRemoved(e,n,!1,r);let s=this.namespacesByHostElement.get(n);s&&s.id!==e&&s.removeNode(n,r)}else this._onRemovalComplete(n,r)}markElementAsRemoved(e,n,r,i,s){this.collectedLeaveElements.push(n),n[Zt]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,n,r,i,s){return _d(n)?this._fetchNamespace(e).listen(n,r,i,s):()=>{}}_buildInstruction(e,n,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,n,s)}destroyInnerAnimations(e){let n=this.driver.query(e,wd,!0);n.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(n=this.driver.query(e,Uy,!0),n.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let n=this.playersByElement.get(e);n&&n.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let n=this.playersByQueriedElement.get(e);n&&n.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Ir(this.players).onDone(()=>e());e()})}processLeaveNode(e){let n=e[Zt];if(n&&n.setForRemoval){if(e[Zt]=$S,n.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}e.classList?.contains(Fy)&&this.markElementAsDisabled(e,!1),this.driver.query(e,pB,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];Pt(i,gB)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{n=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],n.length?Ir(n).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw kU(e)}_flushAnimations(e,n){let r=new Ba,i=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(D=>{u.add(D);let M=this.driver.query(D,fB,!0);for(let x=0;x<M.length;x++)u.add(M[x])});let d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=NS(h,this.collectedEnterElements),p=new Map,m=0;f.forEach((D,M)=>{let x=FS+m++;p.set(M,x),D.forEach(ne=>Pt(ne,x))});let w=[],S=new Set,K=new Set;for(let D=0;D<this.collectedLeaveElements.length;D++){let M=this.collectedLeaveElements[D],x=M[Zt];x&&x.setForRemoval&&(w.push(M),S.add(M),x.hasAnimation?this.driver.query(M,mB,!0).forEach(ne=>S.add(ne)):K.add(M))}let L=new Map,ie=NS(h,Array.from(S));ie.forEach((D,M)=>{let x=jy+m++;L.set(M,x),D.forEach(ne=>Pt(ne,x))}),e.push(()=>{f.forEach((D,M)=>{let x=p.get(M);D.forEach(ne=>Js(ne,x))}),ie.forEach((D,M)=>{let x=L.get(M);D.forEach(ne=>Js(ne,x))}),w.forEach(D=>{this.processLeaveNode(D)})});let We=[],pe=[];for(let D=this._namespaceList.length-1;D>=0;D--)this._namespaceList[D].drainQueuedTransitions(n).forEach(x=>{let ne=x.player,Fe=x.element;if(We.push(ne),this.collectedEnterElements.length){let Ge=Fe[Zt];if(Ge&&Ge.setForMove){if(Ge.previousTriggersValues&&Ge.previousTriggersValues.has(x.triggerName)){let Sr=Ge.previousTriggersValues.get(x.triggerName),Ct=this.statesByElement.get(x.element);if(Ct&&Ct.has(x.triggerName)){let za=Ct.get(x.triggerName);za.value=Sr,Ct.set(x.triggerName,za)}}ne.destroy();return}}let Xt=!d||!this.driver.containsElement(d,Fe),ht=L.get(Fe),Bn=p.get(Fe),ve=this._buildInstruction(x,r,Bn,ht,Xt);if(ve.errors&&ve.errors.length){pe.push(ve);return}if(Xt){ne.onStart(()=>Ci(Fe,ve.fromStyles)),ne.onDestroy(()=>Dn(Fe,ve.toStyles)),i.push(ne);return}if(x.isFallbackTransition){ne.onStart(()=>Ci(Fe,ve.fromStyles)),ne.onDestroy(()=>Dn(Fe,ve.toStyles)),i.push(ne);return}let h_=[];ve.timelines.forEach(Ge=>{Ge.stretchStartingKeyframe=!0,this.disabledNodes.has(Ge.element)||h_.push(Ge)}),ve.timelines=h_,r.append(Fe,ve.timelines);let QS={instruction:ve,player:ne,element:Fe};o.push(QS),ve.queriedElements.forEach(Ge=>Et(a,Ge,[]).push(ne)),ve.preStyleProps.forEach((Ge,Sr)=>{if(Ge.size){let Ct=l.get(Sr);Ct||l.set(Sr,Ct=new Set),Ge.forEach((za,xd)=>Ct.add(xd))}}),ve.postStyleProps.forEach((Ge,Sr)=>{let Ct=c.get(Sr);Ct||c.set(Sr,Ct=new Set),Ge.forEach((za,xd)=>Ct.add(xd))})});if(pe.length){let D=[];pe.forEach(M=>{D.push(PU(M.triggerName,M.errors))}),We.forEach(M=>M.destroy()),this.reportError(D)}let ye=new Map,Se=new Map;o.forEach(D=>{let M=D.element;r.has(M)&&(Se.set(M,M),this._beforeAnimationBuild(D.player.namespaceId,D.instruction,ye))}),i.forEach(D=>{let M=D.element;this._getPreviousPlayers(M,!1,D.namespaceId,D.triggerName,null).forEach(ne=>{Et(ye,M,[]).push(ne),ne.destroy()})});let dt=w.filter(D=>RS(D,l,c)),Jt=new Map;MS(Jt,this.driver,K,c,bn).forEach(D=>{RS(D,l,c)&&dt.push(D)});let Dr=new Map;f.forEach((D,M)=>{MS(Dr,this.driver,new Set(D),l,ku)}),dt.forEach(D=>{let M=Jt.get(D),x=Dr.get(D);Jt.set(D,new Map([...M?.entries()??[],...x?.entries()??[]]))});let Rd=[],u_=[],d_={};o.forEach(D=>{let{element:M,player:x,instruction:ne}=D;if(r.has(M)){if(u.has(M)){x.onDestroy(()=>Dn(M,ne.toStyles)),x.disabled=!0,x.overrideTotalTime(ne.totalTime),i.push(x);return}let Fe=d_;if(Se.size>1){let ht=M,Bn=[];for(;ht=ht.parentNode;){let ve=Se.get(ht);if(ve){Fe=ve;break}Bn.push(ht)}Bn.forEach(ve=>Se.set(ve,Fe))}let Xt=this._buildAnimation(x.namespaceId,ne,ye,s,Dr,Jt);if(x.setRealPlayer(Xt),Fe===d_)Rd.push(x);else{let ht=this.playersByElement.get(Fe);ht&&ht.length&&(x.parentPlayer=Ir(ht)),i.push(x)}}else Ci(M,ne.fromStyles),x.onDestroy(()=>Dn(M,ne.toStyles)),u_.push(x),u.has(M)&&i.push(x)}),u_.forEach(D=>{let M=s.get(D.element);if(M&&M.length){let x=Ir(M);D.setRealPlayer(x)}}),i.forEach(D=>{D.parentPlayer?D.syncPlayerEvents(D.parentPlayer):D.destroy()});for(let D=0;D<w.length;D++){let M=w[D],x=M[Zt];if(Js(M,jy),x&&x.hasAnimation)continue;let ne=[];if(a.size){let Xt=a.get(M);Xt&&Xt.length&&ne.push(...Xt);let ht=this.driver.query(M,Uy,!0);for(let Bn=0;Bn<ht.length;Bn++){let ve=a.get(ht[Bn]);ve&&ve.length&&ne.push(...ve)}}let Fe=ne.filter(Xt=>!Xt.destroyed);Fe.length?EB(this,M,Fe):this.processLeaveNode(M)}return w.length=0,Rd.forEach(D=>{this.players.push(D),D.onDone(()=>{D.destroy();let M=this.players.indexOf(D);this.players.splice(M,1)}),D.play()}),Rd}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,r,i,s){let o=[];if(n){let a=this.playersByQueriedElement.get(e);a&&(o=a)}else{let a=this.playersByElement.get(e);if(a){let l=!s||s==ja;a.forEach(c=>{c.queued||!l&&c.triggerName!=i||o.push(c)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,n,r){let i=n.triggerName,s=n.element,o=n.isRemovalTransition?void 0:e,a=n.isRemovalTransition?void 0:i;for(let l of n.timelines){let c=l.element,u=c!==s,d=Et(r,c,[]);this._getPreviousPlayers(c,u,o,a,n.toState).forEach(f=>{let p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}Ci(s,n.fromStyles)}_buildAnimation(e,n,r,i,s,o){let a=n.triggerName,l=n.element,c=[],u=new Set,d=new Set,h=n.timelines.map(p=>{let m=p.element;u.add(m);let w=m[Zt];if(w&&w.removedBeforeQueried)return new vr(p.duration,p.delay);let S=m!==l,K=CB((r.get(m)||yB).map(ye=>ye.getRealPlayer())).filter(ye=>{let Se=ye;return Se.element?Se.element===m:!1}),L=s.get(m),ie=o.get(m),We=xS(this._normalizer,p.keyframes,L,ie),pe=this._buildPlayer(p,We,K);if(p.subTimeline&&i&&d.add(m),S){let ye=new Ha(e,a,m);ye.setRealPlayer(pe),c.push(ye)}return pe});c.forEach(p=>{Et(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>vB(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>Pt(p,bS));let f=Ir(h);return f.onDestroy(()=>{u.forEach(p=>Js(p,bS)),Dn(l,n.toStyles)}),d.forEach(p=>{Et(i,p,[]).push(f)}),f}_buildPlayer(e,n,r){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,r):new vr(e.duration,e.delay)}},Ha=class{constructor(e,n,r){this.namespaceId=e,this.triggerName=n,this.element=r,this._player=new vr,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,r)=>{n.forEach(i=>t_(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){Et(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let n=this._player;n.triggerCallback&&n.triggerCallback(e)}};function vB(t,e,n){let r=t.get(e);if(r){if(r.length){let i=r.indexOf(n);r.splice(i,1)}r.length==0&&t.delete(e)}return r}function wB(t){return t??null}function _d(t){return t&&t.nodeType===1}function bB(t){return t=="start"||t=="done"}function AS(t,e){let n=t.style.display;return t.style.display=e??"none",n}function MS(t,e,n,r,i){let s=[];n.forEach(l=>s.push(AS(l)));let o=[];r.forEach((l,c)=>{let u=new Map;l.forEach(d=>{let h=e.computeStyle(c,d,i);u.set(d,h),(!h||h.length==0)&&(c[Zt]=_B,o.push(c))}),t.set(c,u)});let a=0;return n.forEach(l=>AS(l,s[a++])),o}function NS(t,e){let n=new Map;if(t.forEach(a=>n.set(a,[])),e.length==0)return n;let r=1,i=new Set(e),s=new Map;function o(a){if(!a)return r;let l=s.get(a);if(l)return l;let c=a.parentNode;return n.has(c)?l=c:i.has(c)?l=r:l=o(c),s.set(a,l),l}return e.forEach(a=>{let l=o(a);l!==r&&n.get(l).push(a)}),n}function Pt(t,e){t.classList?.add(e)}function Js(t,e){t.classList?.remove(e)}function EB(t,e,n){Ir(n).onDone(()=>t.processLeaveNode(e))}function CB(t){let e=[];return HS(t,e),e}function HS(t,e){for(let n=0;n<t.length;n++){let r=t[n];r instanceof ga?HS(r.players,e):e.push(r)}}function IB(t,e){let n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){let s=n[i];if(!e.hasOwnProperty(s)||t[s]!==e[s])return!1}return!0}function RS(t,e,n){let r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(s=>i.add(s)):e.set(t,r),n.delete(t),!0}var eo=class{constructor(e,n,r){this._driver=n,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new Jy(e.body,n,r),this._timelineEngine=new Qy(e.body,n,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,n,r,i,s){let o=e+"-"+i,a=this._triggerCache[o];if(!a){let l=[],c=[],u=jS(this._driver,s,l,c);if(l.length)throw IU(i,l);c.length&&void 0,a=uB(i,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(n,i,a)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,r,i){this._transitionEngine.insertNode(e,n,r,i)}onRemove(e,n,r){this._transitionEngine.removeNode(e,n,r)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,r,i){if(r.charAt(0)=="@"){let[s,o]=vS(r),a=i;this._timelineEngine.command(s,n,o,a)}else this._transitionEngine.trigger(e,n,r,i)}listen(e,n,r,i,s){if(r.charAt(0)=="@"){let[o,a]=vS(r);return this._timelineEngine.listen(o,n,a,s)}return this._transitionEngine.listen(e,n,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function DB(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=Vy(e[0]),e.length>1&&(r=Vy(e[e.length-1]))):e instanceof Map&&(n=Vy(e)),n||r?new Xy(t,n,r):null}var Xs=class Xs{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=Xs.initialStylesByElement.get(e);i||Xs.initialStylesByElement.set(e,i=new Map),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&Dn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Dn(this._element,this._initialStyles),this._endStyles&&(Dn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Xs.initialStylesByElement.delete(this._element),this._startStyles&&(Ci(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ci(this._element,this._endStyles),this._endStyles=null),Dn(this._element,this._initialStyles),this._state=3)}};Xs.initialStylesByElement=new WeakMap;var Xy=Xs;function Vy(t){let e=null;return t.forEach((n,r)=>{SB(r)&&(e=e||new Map,e.set(r,n))}),e}function SB(t){return t==="display"||t==="position"}var Td=class{constructor(e,n,r,i){this.element=e,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let n=()=>this._onFinish();this.domPlayer.addEventListener("finish",n),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let n=[];return e.forEach(r=>{n.push(Object.fromEntries(r))}),n}_triggerWebAnimation(e,n,r){return e.animate(this._convertKeyframesToObject(n),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&e.set(i,this._finished?r:o_(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let n=e==="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},Ad=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,n){return OS(e,n)}getParentElement(e){return r_(e)}query(e,n,r){return kS(e,n,r)}computeStyle(e,n,r){return o_(e,n)}animate(e,n,r,i,s,o=[]){let a=i==0?"both":"forwards",l={duration:r,delay:i,fill:a};s&&(l.easing=s);let c=new Map,u=o.filter(f=>f instanceof Td);GU(r,i)&&u.forEach(f=>{f.currentSnapshot.forEach((p,m)=>c.set(m,p))});let d=HU(n).map(f=>new Map(f));d=qU(e,d,c);let h=DB(e,d);return new Td(e,d,l,h)}};var vd="@",zS="@.disabled",Md=class{constructor(e,n,r,i){this.namespaceId=e,this.delegate=n,this.engine=r,this._onDestroy=i,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,r,i=!0){this.delegate.insertBefore(e,n,r),this.engine.onInsert(this.namespaceId,n,e,i)}removeChild(e,n,r){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,r,i){this.delegate.setAttribute(e,n,r,i)}removeAttribute(e,n,r){this.delegate.removeAttribute(e,n,r)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,r,i){this.delegate.setStyle(e,n,r,i)}removeStyle(e,n,r){this.delegate.removeStyle(e,n,r)}setProperty(e,n,r){n.charAt(0)==vd&&n==zS?this.disableAnimations(e,!!r):this.delegate.setProperty(e,n,r)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,r){return this.delegate.listen(e,n,r)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}},e_=class extends Md{constructor(e,n,r,i,s){super(n,r,i,s),this.factory=e,this.namespaceId=n}setProperty(e,n,r){n.charAt(0)==vd?n.charAt(1)=="."&&n==zS?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,n.slice(1),r):this.delegate.setProperty(e,n,r)}listen(e,n,r){if(n.charAt(0)==vd){let i=TB(e),s=n.slice(1),o="";return s.charAt(0)!=vd&&([s,o]=AB(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{let l=a._data||-1;this.factory.scheduleListenerCallback(l,r,a)})}return this.delegate.listen(e,n,r)}};function TB(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}function AB(t){let e=t.indexOf("."),n=t.substring(0,e),r=t.slice(e+1);return[n,r]}var Nd=class{constructor(e,n,r){this.delegate=e,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,n.onRemovalComplete=(i,s)=>{let o=s?.parentNode(i);o&&s.removeChild(o,i)}}createRenderer(e,n){let r="",i=this.delegate.createRenderer(e,n);if(!e||!n?.data?.animation){let c=this._rendererCache,u=c.get(i);if(!u){let d=()=>c.delete(i);u=new Md(r,i,this.engine,d),c.set(i,u)}return u}let s=n.id,o=n.id+"-"+this._currentId;this._currentId++,this.engine.register(o,e);let a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(s,o,e,c.name,c)};return n.data.animation.forEach(a),new e_(this,o,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,n,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>n(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(s=>{let[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),i.push([n,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var NB=(()=>{let e=class e extends eo{constructor(r,i,s){super(r,i,s)}ngOnDestroy(){this.flush()}};e.\u0275fac=function(i){return new(i||e)(T(qe),T(Ii),T(Di))},e.\u0275prov=C({token:e,factory:e.\u0275fac});let t=e;return t})();function RB(){return new Ed}function xB(t,e,n){return new Nd(t,e,n)}var GS=[{provide:Di,useFactory:RB},{provide:eo,useClass:NB},{provide:Zn,useFactory:xB,deps:[Mc,eo,ge]}],WS=[{provide:Ii,useFactory:()=>new Ad},{provide:Tf,useValue:"BrowserAnimations"},...GS],OB=[{provide:Ii,useClass:i_},{provide:Tf,useValue:"NoopAnimations"},...GS],qS=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:r.disableAnimations?OB:WS}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=_t({type:e}),e.\u0275inj=yt({providers:WS,imports:[mE]});let t=e;return t})();var KS={providers:[XE(yS),gf([qS,RI.forRoot({config:{tokenGetter:()=>localStorage.getItem("jwt"),allowedDomains:[],disallowedRoutes:[]}})])]};var YS=(()=>{let e=class e{constructor(){this.title="cardo"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Le({type:e,selectors:[["app-root"]],standalone:!0,features:[je],decls:1,vars:0,template:function(i,s){i&1&&N(0,"router-outlet")},dependencies:[At,Kp]});let t=e;return t})();pE(YS,KS).catch(t=>console.error(t));

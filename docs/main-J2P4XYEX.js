var FS=Object.defineProperty,LS=Object.defineProperties;var VS=Object.getOwnPropertyDescriptors;var Pa=Object.getOwnPropertySymbols,jS=Object.getPrototypeOf,Xy=Object.prototype.hasOwnProperty,e_=Object.prototype.propertyIsEnumerable,US=Reflect.get;var Jy=(t,e,n)=>e in t?FS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,b=(t,e)=>{for(var n in e||={})Xy.call(e,n)&&Jy(t,n,e[n]);if(Pa)for(var n of Pa(e))e_.call(e,n)&&Jy(t,n,e[n]);return t},X=(t,e)=>LS(t,VS(e));var wd=(t,e)=>{var n={};for(var r in t)Xy.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Pa)for(var r of Pa(t))e.indexOf(r)<0&&e_.call(t,r)&&(n[r]=t[r]);return n};var Cr=(t,e,n)=>US(jS(t),n,e);var g=(t,e,n)=>new Promise((r,i)=>{var s=l=>{try{a(n.next(l))}catch(c){i(c)}},o=l=>{try{a(n.throw(l))}catch(c){i(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(s,o);a((n=n.apply(t,e)).next())});var t_=null;var bd=1,n_=Symbol("SIGNAL");function ne(t){let e=t_;return t_=t,e}var r_={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function BS(t){if(!(Id(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===bd)){if(!t.producerMustRecompute(t)&&!Ed(t)){t.dirty=!1,t.lastCleanEpoch=bd;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=bd}}function i_(t){return t&&(t.nextProducerIndex=0),ne(t)}function s_(t,e){if(ne(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Id(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Cd(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Ed(t){Dd(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(BS(n),r!==n.version))return!0}return!1}function o_(t){if(Dd(t),Id(t))for(let e=0;e<t.producerNode.length;e++)Cd(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Cd(t,e){if($S(t),t.liveConsumerNode.length===1&&HS(t))for(let r=0;r<t.producerNode.length;r++)Cd(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Dd(i),i.producerIndexOfThis[r]=e}}function Id(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Dd(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function $S(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function HS(t){return t.producerNode!==void 0}function zS(){throw new Error}var WS=zS;function a_(t){WS=t}function L(t){return typeof t=="function"}function wi(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Fa=wi(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function zs(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var De=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(L(r))try{r()}catch(s){e=s instanceof Fa?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{l_(s)}catch(o){e=e??[],o instanceof Fa?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Fa(e)}}add(e){var n;if(e&&e!==this)if(this.closed)l_(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&zs(n,e)}remove(e){let{_finalizers:n}=this;n&&zs(n,e),e instanceof t&&e._removeParent(this)}};De.EMPTY=(()=>{let t=new De;return t.closed=!0,t})();var Sd=De.EMPTY;function La(t){return t instanceof De||t&&"closed"in t&&L(t.remove)&&L(t.add)&&L(t.unsubscribe)}function l_(t){L(t)?t():t.unsubscribe()}var xt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var bi={setTimeout(t,e,...n){let{delegate:r}=bi;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=bi;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Va(t){bi.setTimeout(()=>{let{onUnhandledError:e}=xt;if(e)e(t);else throw t})}function Ws(){}var c_=Td("C",void 0,void 0);function u_(t){return Td("E",void 0,t)}function d_(t){return Td("N",t,void 0)}function Td(t,e,n){return{kind:t,value:e,error:n}}var Ir=null;function Ei(t){if(xt.useDeprecatedSynchronousErrorHandling){let e=!Ir;if(e&&(Ir={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Ir;if(Ir=null,n)throw r}}else t()}function h_(t){xt.useDeprecatedSynchronousErrorHandling&&Ir&&(Ir.errorThrown=!0,Ir.error=t)}var Dr=class extends De{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,La(e)&&e.add(this)):this.destination=KS}static create(e,n,r){return new Ci(e,n,r)}next(e){this.isStopped?Md(d_(e),this):this._next(e)}error(e){this.isStopped?Md(u_(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Md(c_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},GS=Function.prototype.bind;function Ad(t,e){return GS.call(t,e)}var Nd=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){ja(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){ja(r)}else ja(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){ja(n)}}},Ci=class extends Dr{constructor(e,n,r){super();let i;if(L(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&xt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Ad(e.next,s),error:e.error&&Ad(e.error,s),complete:e.complete&&Ad(e.complete,s)}):i=e}this.destination=new Nd(i)}};function ja(t){xt.useDeprecatedSynchronousErrorHandling?h_(t):Va(t)}function qS(t){throw t}function Md(t,e){let{onStoppedNotification:n}=xt;n&&bi.setTimeout(()=>n(t,e))}var KS={closed:!0,next:Ws,error:qS,complete:Ws};var Ii=typeof Symbol=="function"&&Symbol.observable||"@@observable";function ht(t){return t}function Rd(...t){return xd(t)}function xd(t){return t.length===0?ht:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var oe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=QS(n)?n:new Ci(n,r,i);return Ei(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=f_(r),new r((i,s)=>{let o=new Ci({next:a=>{try{n(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Ii](){return this}pipe(...n){return xd(n)(this)}toPromise(n){return n=f_(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function f_(t){var e;return(e=t??xt.Promise)!==null&&e!==void 0?e:Promise}function YS(t){return t&&L(t.next)&&L(t.error)&&L(t.complete)}function QS(t){return t&&t instanceof Dr||YS(t)&&La(t)}function kd(t){return L(t?.lift)}function ee(t){return e=>{if(kd(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Q(t,e,n,r,i){return new Od(t,e,n,r,i)}var Od=class extends Dr{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Di(){return ee((t,e)=>{let n=null;t._refCount++;let r=Q(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Si=class extends oe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,kd(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new De;let n=this.getSubject();e.add(this.source.subscribe(Q(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=De.EMPTY)}return e}refCount(){return Di()(this)}};var p_=wi(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ve=(()=>{class t extends oe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Ua(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new p_}next(n){Ei(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Ei(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Ei(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?Sd:(this.currentObservers=null,s.push(n),new De(()=>{this.currentObservers=null,zs(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new oe;return n.source=this,n}}return t.create=(e,n)=>new Ua(e,n),t})(),Ua=class extends ve{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Sd}};var Fe=class extends ve{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var ft=new oe(t=>t.complete());function g_(t){return t&&L(t.schedule)}function m_(t){return t[t.length-1]}function Ba(t){return L(m_(t))?t.pop():void 0}function Un(t){return g_(m_(t))?t.pop():void 0}function Pd(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function __(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}function y_(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Sr(t){return this instanceof Sr?(this.v=t,this):new Sr(t)}function v_(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(f){return function(p){return Promise.resolve(p).then(f,d)}}function a(f,p){r[f]&&(i[f]=function(m){return new Promise(function(w,D){s.push([f,m,w,D])>1||l(f,m)})},p&&(i[f]=p(i[f])))}function l(f,p){try{c(r[f](p))}catch(m){h(s[0][3],m)}}function c(f){f.value instanceof Sr?Promise.resolve(f.value.v).then(u,d):h(s[0][2],f)}function u(f){l("next",f)}function d(f){l("throw",f)}function h(f,p){f(p),s.shift(),s.length&&l(s[0][0],s[0][1])}}function w_(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof y_=="function"?y_(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,l){o=t[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}}var $a=t=>t&&typeof t.length=="number"&&typeof t!="function";function Ha(t){return L(t?.then)}function za(t){return L(t[Ii])}function Wa(t){return Symbol.asyncIterator&&L(t?.[Symbol.asyncIterator])}function Ga(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function ZS(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var qa=ZS();function Ka(t){return L(t?.[qa])}function Ya(t){return v_(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Sr(n.read());if(i)return yield Sr(void 0);yield yield Sr(r)}}finally{n.releaseLock()}})}function Qa(t){return L(t?.getReader)}function Se(t){if(t instanceof oe)return t;if(t!=null){if(za(t))return JS(t);if($a(t))return XS(t);if(Ha(t))return eT(t);if(Wa(t))return b_(t);if(Ka(t))return tT(t);if(Qa(t))return nT(t)}throw Ga(t)}function JS(t){return new oe(e=>{let n=t[Ii]();if(L(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function XS(t){return new oe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function eT(t){return new oe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Va)})}function tT(t){return new oe(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function b_(t){return new oe(e=>{rT(t,e).catch(n=>e.error(n))})}function nT(t){return b_(Ya(t))}function rT(t,e){var n,r,i,s;return __(this,void 0,void 0,function*(){try{for(n=w_(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function et(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Za(t,e=0){return ee((n,r)=>{n.subscribe(Q(r,i=>et(r,t,()=>r.next(i),e),()=>et(r,t,()=>r.complete(),e),i=>et(r,t,()=>r.error(i),e)))})}function Ja(t,e=0){return ee((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function E_(t,e){return Se(t).pipe(Ja(e),Za(e))}function C_(t,e){return Se(t).pipe(Ja(e),Za(e))}function I_(t,e){return new oe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function D_(t,e){return new oe(n=>{let r;return et(n,e,()=>{r=t[qa](),et(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>L(r?.return)&&r.return()})}function Xa(t,e){if(!t)throw new Error("Iterable cannot be null");return new oe(n=>{et(n,e,()=>{let r=t[Symbol.asyncIterator]();et(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function S_(t,e){return Xa(Ya(t),e)}function T_(t,e){if(t!=null){if(za(t))return E_(t,e);if($a(t))return I_(t,e);if(Ha(t))return C_(t,e);if(Wa(t))return Xa(t,e);if(Ka(t))return D_(t,e);if(Qa(t))return S_(t,e)}throw Ga(t)}function Ce(t,e){return e?T_(t,e):Se(t)}function O(...t){let e=Un(t);return Ce(t,e)}function Ti(t,e){let n=L(t)?t:()=>t,r=i=>i.error(n());return new oe(e?i=>e.schedule(r,0,i):r)}function Fd(t){return!!t&&(t instanceof oe||L(t.lift)&&L(t.subscribe))}var En=wi(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function $(t,e){return ee((n,r)=>{let i=0;n.subscribe(Q(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:iT}=Array;function sT(t,e){return iT(e)?t(...e):t(e)}function el(t){return $(e=>sT(t,e))}var{isArray:oT}=Array,{getPrototypeOf:aT,prototype:lT,keys:cT}=Object;function tl(t){if(t.length===1){let e=t[0];if(oT(e))return{args:e,keys:null};if(uT(e)){let n=cT(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function uT(t){return t&&typeof t=="object"&&aT(t)===lT}function nl(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function rl(...t){let e=Un(t),n=Ba(t),{args:r,keys:i}=tl(t);if(r.length===0)return Ce([],e);let s=new oe(dT(r,e,i?o=>nl(i,o):ht));return n?s.pipe(el(n)):s}function dT(t,e,n=ht){return r=>{A_(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let l=0;l<i;l++)A_(e,()=>{let c=Ce(t[l],e),u=!1;c.subscribe(Q(r,d=>{s[l]=d,u||(u=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function A_(t,e,n){t?et(n,t,e):e()}function M_(t,e,n,r,i,s,o,a){let l=[],c=0,u=0,d=!1,h=()=>{d&&!l.length&&!c&&e.complete()},f=m=>c<r?p(m):l.push(m),p=m=>{s&&e.next(m),c++;let w=!1;Se(n(m,u++)).subscribe(Q(e,D=>{i?.(D),s?f(D):e.next(D)},()=>{w=!0},void 0,()=>{if(w)try{for(c--;l.length&&c<r;){let D=l.shift();o?et(e,o,()=>p(D)):p(D)}h()}catch(D){e.error(D)}}))};return t.subscribe(Q(e,f,()=>{d=!0,h()})),()=>{a?.()}}function we(t,e,n=1/0){return L(e)?we((r,i)=>$((s,o)=>e(r,s,i,o))(Se(t(r,i))),n):(typeof e=="number"&&(n=e),ee((r,i)=>M_(r,i,t,n)))}function Ld(t=1/0){return we(ht,t)}function N_(){return Ld(1)}function Ai(...t){return N_()(Ce(t,Un(t)))}function Mi(t){return new oe(e=>{Se(t()).subscribe(e)})}function Vd(...t){let e=Ba(t),{args:n,keys:r}=tl(t),i=new oe(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),l=o,c=o;for(let u=0;u<o;u++){let d=!1;Se(n[u]).subscribe(Q(s,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||s.next(r?nl(r,a):a),s.complete())}))}});return e?i.pipe(el(e)):i}function kt(t,e){return ee((n,r)=>{let i=0;n.subscribe(Q(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Bn(t){return ee((e,n)=>{let r=null,i=!1,s;r=e.subscribe(Q(n,void 0,void 0,o=>{s=Se(t(o,Bn(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function R_(t,e,n,r,i){return(s,o)=>{let a=n,l=e,c=0;s.subscribe(Q(o,u=>{let d=c++;l=a?t(l,u,d):(a=!0,u),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}function Ni(t,e){return L(e)?we(t,e,1):we(t,1)}function $n(t){return ee((e,n)=>{let r=!1;e.subscribe(Q(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Cn(t){return t<=0?()=>ft:ee((e,n)=>{let r=0;e.subscribe(Q(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function jd(t){return $(()=>t)}function il(t=hT){return ee((e,n)=>{let r=!1;e.subscribe(Q(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function hT(){return new En}function Gs(t){return ee((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Qt(t,e){let n=arguments.length>=2;return r=>r.pipe(t?kt((i,s)=>t(i,s,r)):ht,Cn(1),n?$n(e):il(()=>new En))}function Ri(t){return t<=0?()=>ft:ee((e,n)=>{let r=[];e.subscribe(Q(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Ud(t,e){let n=arguments.length>=2;return r=>r.pipe(t?kt((i,s)=>t(i,s,r)):ht,Ri(1),n?$n(e):il(()=>new En))}function Bd(t,e){return ee(R_(t,e,arguments.length>=2,!0))}function $d(...t){let e=Un(t);return ee((n,r)=>{(e?Ai(t,n,e):Ai(t,n)).subscribe(r)})}function Ot(t,e){return ee((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(Q(r,l=>{i?.unsubscribe();let c=0,u=s++;Se(t(l,u)).subscribe(i=Q(r,d=>r.next(e?e(l,d,u,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Hd(t){return ee((e,n)=>{Se(t).subscribe(Q(n,()=>n.complete(),Ws)),!n.closed&&e.subscribe(n)})}function Le(t,e,n){let r=L(t)||e||n?{next:t,error:e,complete:n}:t;return r?ee((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(Q(s,l=>{var c;(c=r.next)===null||c===void 0||c.call(r,l),s.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),s.complete()},l=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,l),s.error(l)},()=>{var l,c;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):ht}var fT="https://g.co/ng/security#xss",y=class extends Error{constructor(e,n){super(Fl(e,n)),this.code=e}};function Fl(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function io(t){return{toString:t}.toString()}var sl="__parameters__";function pT(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function mv(t,e,n){return io(()=>{let r=pT(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(l,c,u){let d=l.hasOwnProperty(sl)?l[sl]:Object.defineProperty(l,sl,{value:[]})[sl];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Xt=globalThis;function de(t){for(let e in t)if(t[e]===de)return e;throw Error("Could not find renamed property on target object.")}function gT(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function qe(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(qe).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function sh(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var mT=de({__forward_ref__:de});function Sn(t){return t.__forward_ref__=Sn,t.toString=function(){return qe(this())},t}function Ge(t){return yv(t)?t():t}function yv(t){return typeof t=="function"&&t.hasOwnProperty(mT)&&t.__forward_ref__===Sn}function C(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function mt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ll(t){return x_(t,vv)||x_(t,wv)}function _v(t){return Ll(t)!==null}function x_(t,e){return t.hasOwnProperty(e)?t[e]:null}function yT(t){let e=t&&(t[vv]||t[wv]);return e||null}function k_(t){return t&&(t.hasOwnProperty(O_)||t.hasOwnProperty(_T))?t[O_]:null}var vv=de({\u0275prov:de}),O_=de({\u0275inj:de}),wv=de({ngInjectableDef:de}),_T=de({ngInjectorDef:de}),M=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=C({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function bv(t){return t&&!!t.\u0275providers}var vT=de({\u0275cmp:de}),wT=de({\u0275dir:de}),bT=de({\u0275pipe:de}),ET=de({\u0275mod:de}),fl=de({\u0275fac:de}),qs=de({__NG_ELEMENT_ID__:de}),P_=de({__NG_ENV_ID__:de});function Ev(t){return typeof t=="string"?t:t==null?"":String(t)}function CT(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Ev(t)}function IT(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new y(-200,t)}function Zh(t,e){throw new y(-201,!1)}var H=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(H||{}),oh;function Cv(){return oh}function tt(t){let e=oh;return oh=t,e}function Iv(t,e,n){let r=Ll(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&H.Optional)return null;if(e!==void 0)return e;Zh(t,"Injector")}var DT={},Ks=DT,ah="__NG_DI_FLAG__",pl="ngTempTokenPath",ST="ngTokenPath",TT=/\n/gm,AT="\u0275",F_="__source",Pi;function MT(){return Pi}function Hn(t){let e=Pi;return Pi=t,e}function NT(t,e=H.Default){if(Pi===void 0)throw new y(-203,!1);return Pi===null?Iv(t,void 0,e):Pi.get(t,e&H.Optional?null:void 0,e)}function S(t,e=H.Default){return(Cv()||NT)(Ge(t),e)}function E(t,e=H.Default){return S(t,Vl(e))}function Vl(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function lh(t){let e=[];for(let n=0;n<t.length;n++){let r=Ge(t[n]);if(Array.isArray(r)){if(r.length===0)throw new y(900,!1);let i,s=H.Default;for(let o=0;o<r.length;o++){let a=r[o],l=RT(a);typeof l=="number"?l===-1?i=a.token:s|=l:i=a}e.push(S(i,s))}else e.push(S(r))}return e}function Dv(t,e){return t[ah]=e,t.prototype[ah]=e,t}function RT(t){return t[ah]}function xT(t,e,n,r){let i=t[pl];throw e[F_]&&i.unshift(e[F_]),t.message=kT(`
`+t.message,i,n,r),t[ST]=i,t[pl]=null,t}function kT(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==AT?t.slice(2):t;let i=qe(e);if(Array.isArray(e))i=e.map(qe).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):qe(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(TT,`
  `)}`}var jl=Dv(mv("Optional"),8);var Jh=Dv(mv("SkipSelf"),4);function Mr(t,e){let n=t.hasOwnProperty(fl);return n?t[fl]:null}function Xh(t,e){t.forEach(n=>Array.isArray(n)?Xh(n,e):e(n))}function Sv(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function gl(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function OT(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function Ul(t,e,n){let r=so(t,e);return r>=0?t[r|1]=n:(r=~r,OT(t,r,e,n)),r}function zd(t,e){let n=so(t,e);if(n>=0)return t[n|1]}function so(t,e){return PT(t,e,1)}function PT(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var Li={},nt=[],Vi=new M(""),Tv=new M("",-1),Av=new M(""),ml=class{get(e,n=Ks){if(n===Ks){let r=new Error(`NullInjectorError: No provider for ${qe(e)}!`);throw r.name="NullInjectorError",r}return n}},Mv=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Mv||{}),en=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(en||{}),ji=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(ji||{});function FT(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function ch(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];VT(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function LT(t){return t===3||t===4||t===6}function VT(t){return t.charCodeAt(0)===64}function Ys(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?L_(t,n,i,null,e[++r]):L_(t,n,i,null,null))}}return t}function L_(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var Nv="ng-template";function jT(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&FT(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(ef(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function ef(t){return t.type===4&&t.value!==Nv}function UT(t,e,n){let r=t.type===4&&!n?Nv:t.value;return e===r}function BT(t,e,n){let r=4,i=t.attrs,s=i!==null?zT(i):0,o=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!o&&!Pt(r)&&!Pt(l))return!1;if(o&&Pt(l))continue;o=!1,r=l|r&1;continue}if(!o)if(r&4){if(r=2|r&1,l!==""&&!UT(t,l,n)||l===""&&e.length===1){if(Pt(r))return!1;o=!0}}else if(r&8){if(i===null||!jT(t,i,l,n)){if(Pt(r))return!1;o=!0}}else{let c=e[++a],u=$T(l,i,ef(t),n);if(u===-1){if(Pt(r))return!1;o=!0;continue}if(c!==""){let d;if(u>s?d="":d=i[u+1].toLowerCase(),r&2&&c!==d){if(Pt(r))return!1;o=!0}}}}return Pt(r)||o}function Pt(t){return(t&1)===0}function $T(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return WT(e,t)}function HT(t,e,n=!1){for(let r=0;r<e.length;r++)if(BT(t,e[r],n))return!0;return!1}function zT(t){for(let e=0;e<t.length;e++){let n=t[e];if(LT(n))return e}return t.length}function WT(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function V_(t,e){return t?":not("+e.trim()+")":e}function GT(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Pt(o)&&(e+=V_(s,i),i=""),r=o,s=s||!Pt(r);n++}return i!==""&&(e+=V_(s,i)),e}function qT(t){return t.map(GT).join(",")}function KT(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!Pt(i))break;i=s}r++}return{attrs:e,classes:n}}function ke(t){return io(()=>{let e=Pv(t),n=X(b({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Mv.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||en.Emulated,styles:t.styles||nt,_:null,schemas:t.schemas||null,tView:null,id:""});Fv(n);let r=t.dependencies;return n.directiveDefs=U_(r,!1),n.pipeDefs=U_(r,!0),n.id=ZT(n),n})}function YT(t){return Nr(t)||Rv(t)}function QT(t){return t!==null}function yt(t){return io(()=>({type:t.type,bootstrap:t.bootstrap||nt,declarations:t.declarations||nt,imports:t.imports||nt,exports:t.exports||nt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function j_(t,e){if(t==null)return Li;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=ji.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==ji.None?[r,a]:r,e[s]=o):n[s]=r}return n}function Te(t){return io(()=>{let e=Pv(t);return Fv(e),e})}function tf(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Nr(t){return t[vT]||null}function Rv(t){return t[wT]||null}function xv(t){return t[bT]||null}function kv(t){let e=Nr(t)||Rv(t)||xv(t);return e!==null?e.standalone:!1}function Ov(t,e){let n=t[ET]||null;if(!n&&e===!0)throw new Error(`Type ${qe(t)} does not have '\u0275mod' property.`);return n}function Pv(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Li,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||nt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:j_(t.inputs,e),outputs:j_(t.outputs),debugInfo:null}}function Fv(t){t.features?.forEach(e=>e(t))}function U_(t,e){if(!t)return null;let n=e?xv:YT;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(QT)}function ZT(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Bl(t){return{\u0275providers:t}}function nf(...t){return{\u0275providers:Lv(!0,t),\u0275fromNgModule:!0}}function Lv(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return Xh(e,o=>{let a=o;uh(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Vv(i,s),n}function Vv(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];rf(i,s=>{e(s,r)})}}function uh(t,e,n,r){if(t=Ge(t),!t)return!1;let i=null,s=k_(t),o=!s&&Nr(t);if(!s&&!o){let l=t.ngModule;if(s=k_(l),s)i=l;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let l=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let c of l)uh(c,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let c;try{Xh(s.imports,u=>{uh(u,e,n,r)&&(c||=[],c.push(u))})}finally{}c!==void 0&&Vv(c,e)}if(!a){let c=Mr(i)||(()=>new i);e({provide:i,useFactory:c,deps:nt},i),e({provide:Av,useValue:i,multi:!0},i),e({provide:Vi,useValue:()=>S(i),multi:!0},i)}let l=s.providers;if(l!=null&&!a){let c=t;rf(l,u=>{e(u,c)})}}else return!1;return i!==t&&t.providers!==void 0}function rf(t,e){for(let n of t)bv(n)&&(n=n.\u0275providers),Array.isArray(n)?rf(n,e):e(n)}var JT=de({provide:String,useValue:de});function jv(t){return t!==null&&typeof t=="object"&&JT in t}function XT(t){return!!(t&&t.useExisting)}function eA(t){return!!(t&&t.useFactory)}function Ui(t){return typeof t=="function"}function tA(t){return!!t.useClass}var $l=new M(""),ll={},nA={},Wd;function sf(){return Wd===void 0&&(Wd=new ml),Wd}var Ct=class{},Qs=class extends Ct{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,hh(e,o=>this.processProvider(o)),this.records.set(Tv,xi(void 0,this)),i.has("environment")&&this.records.set(Ct,xi(void 0,this));let s=this.records.get($l);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Av,nt,H.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=ne(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ne(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Hn(this),r=tt(void 0),i;try{return e()}finally{Hn(n),tt(r)}}get(e,n=Ks,r=H.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(P_))return e[P_](this);r=Vl(r);let i,s=Hn(this),o=tt(void 0);try{if(!(r&H.SkipSelf)){let l=this.records.get(e);if(l===void 0){let c=aA(e)&&Ll(e);c&&this.injectableDefInScope(c)?l=xi(dh(e),ll):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let a=r&H.Self?sf():this.parent;return n=r&H.Optional&&n===Ks?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[pl]=a[pl]||[]).unshift(qe(e)),s)throw a;return xT(a,e,"R3InjectorError",this.source)}else throw a}finally{tt(o),Hn(s)}}resolveInjectorInitializers(){let e=ne(null),n=Hn(this),r=tt(void 0),i;try{let s=this.get(Vi,nt,H.Self);for(let o of s)o()}finally{Hn(n),tt(r),ne(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(qe(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new y(205,!1)}processProvider(e){e=Ge(e);let n=Ui(e)?e:Ge(e&&e.provide),r=iA(e);if(!Ui(e)&&e.multi===!0){let i=this.records.get(n);i||(i=xi(void 0,ll,!0),i.factory=()=>lh(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=ne(null);try{return n.value===ll&&(n.value=nA,n.value=n.factory()),typeof n.value=="object"&&n.value&&oA(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ne(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Ge(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function dh(t){let e=Ll(t),n=e!==null?e.factory:Mr(t);if(n!==null)return n;if(t instanceof M)throw new y(204,!1);if(t instanceof Function)return rA(t);throw new y(204,!1)}function rA(t){if(t.length>0)throw new y(204,!1);let n=yT(t);return n!==null?()=>n.factory(t):()=>new t}function iA(t){if(jv(t))return xi(void 0,t.useValue);{let e=Uv(t);return xi(e,ll)}}function Uv(t,e,n){let r;if(Ui(t)){let i=Ge(t);return Mr(i)||dh(i)}else if(jv(t))r=()=>Ge(t.useValue);else if(eA(t))r=()=>t.useFactory(...lh(t.deps||[]));else if(XT(t))r=()=>S(Ge(t.useExisting));else{let i=Ge(t&&(t.useClass||t.provide));if(sA(t))r=()=>new i(...lh(t.deps));else return Mr(i)||dh(i)}return r}function xi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function sA(t){return!!t.deps}function oA(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function aA(t){return typeof t=="function"||typeof t=="object"&&t instanceof M}function hh(t,e){for(let n of t)Array.isArray(n)?hh(n,e):n&&bv(n)?hh(n.\u0275providers,e):e(n)}function sn(t,e){t instanceof Qs&&t.assertNotDestroyed();let n,r=Hn(t),i=tt(void 0);try{return e()}finally{Hn(r),tt(i)}}function lA(){return Cv()!==void 0||MT()!=null}function cA(t){return typeof t=="function"}var Tn=0,q=1,P=2,Ke=3,Ft=4,Lt=5,yl=6,_l=7,It=8,Bi=9,In=10,xe=11,Zs=12,B_=13,Yi=14,tn=15,$i=16,ki=17,Hi=18,Hl=19,Bv=20,zn=21,Gd=22,Rr=23,gt=25,$v=1;var xr=7,vl=8,wl=9,pt=10,bl=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(bl||{});function Wn(t){return Array.isArray(t)&&typeof t[$v]=="object"}function An(t){return Array.isArray(t)&&t[$v]===!0}function of(t){return(t.flags&4)!==0}function zl(t){return t.componentOffset>-1}function Wl(t){return(t.flags&1)===1}function Gn(t){return!!t.template}function fh(t){return(t[P]&512)!==0}var ph=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Hv(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Lr(){return zv}function zv(t){return t.type.prototype.ngOnChanges&&(t.setInput=dA),uA}Lr.ngInherit=!0;function uA(){let t=Gv(this),e=t?.current;if(e){let n=t.previous;if(n===Li)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function dA(t,e,n,r,i){let s=this.declaredInputs[r],o=Gv(t)||hA(t,{previous:Li,current:null}),a=o.current||(o.current={}),l=o.previous,c=l[s];a[s]=new ph(c&&c.currentValue,n,l===Li),Hv(t,e,i,n)}var Wv="__ngSimpleChanges__";function Gv(t){return t[Wv]||null}function hA(t,e){return t[Wv]=e}var $_=null;var Zt=function(t,e,n){$_?.(t,e,n)},qv="svg",fA="math";function nn(t){for(;Array.isArray(t);)t=t[Tn];return t}function Kv(t,e){return nn(e[t])}function Vt(t,e){return nn(e[t.index])}function af(t,e){return t.data[e]}function pA(t,e){return t[e]}function Zn(t,e){let n=e[t];return Wn(n)?n:n[Tn]}function lf(t){return(t[P]&128)===128}function gA(t){return An(t[Ke])}function zi(t,e){return e==null?null:t[e]}function Yv(t){t[ki]=0}function mA(t){t[P]&1024||(t[P]|=1024,lf(t)&&Gl(t))}function yA(t,e){for(;t>0;)e=e[Yi],t--;return e}function Js(t){return!!(t[P]&9216||t[Rr]?.dirty)}function gh(t){t[In].changeDetectionScheduler?.notify(7),t[P]&64&&(t[P]|=1024),Js(t)&&Gl(t)}function Gl(t){t[In].changeDetectionScheduler?.notify(0);let e=Xs(t);for(;e!==null&&!(e[P]&8192||(e[P]|=8192,!lf(e)));)e=Xs(e)}function Qv(t,e){if((t[P]&256)===256)throw new y(911,!1);t[zn]===null&&(t[zn]=[]),t[zn].push(e)}function _A(t,e){if(t[zn]===null)return;let n=t[zn].indexOf(e);n!==-1&&t[zn].splice(n,1)}function Xs(t){let e=t[Ke];return An(e)?e[Ke]:e}var z={lFrame:aw(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Zv=!1;function vA(){return z.lFrame.elementDepthCount}function wA(){z.lFrame.elementDepthCount++}function bA(){z.lFrame.elementDepthCount--}function Jv(){return z.bindingsEnabled}function EA(){return z.skipHydrationRootTNode!==null}function CA(t){return z.skipHydrationRootTNode===t}function IA(){z.skipHydrationRootTNode=null}function he(){return z.lFrame.lView}function rt(){return z.lFrame.tView}function Ye(t){return z.lFrame.contextLView=t,t[It]}function Qe(t){return z.lFrame.contextLView=null,t}function it(){let t=Xv();for(;t!==null&&t.type===64;)t=t.parent;return t}function Xv(){return z.lFrame.currentTNode}function DA(){let t=z.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Vr(t,e){let n=z.lFrame;n.currentTNode=t,n.isParent=e}function cf(){return z.lFrame.isParent}function ew(){z.lFrame.isParent=!1}function tw(){return Zv}function H_(t){Zv=t}function nw(){let t=z.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function SA(t){return z.lFrame.bindingIndex=t}function uf(){return z.lFrame.bindingIndex++}function rw(t){let e=z.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function TA(){return z.lFrame.inI18n}function AA(t,e){let n=z.lFrame;n.bindingIndex=n.bindingRootIndex=t,mh(e)}function MA(){return z.lFrame.currentDirectiveIndex}function mh(t){z.lFrame.currentDirectiveIndex=t}function NA(t){let e=z.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function iw(t){z.lFrame.currentQueryIndex=t}function RA(t){let e=t[q];return e.type===2?e.declTNode:e.type===1?t[Lt]:null}function sw(t,e,n){if(n&H.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&H.Host);)if(i=RA(s),i===null||(s=s[Yi],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=z.lFrame=ow();return r.currentTNode=e,r.lView=t,!0}function df(t){let e=ow(),n=t[q];z.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ow(){let t=z.lFrame,e=t===null?null:t.child;return e===null?aw(t):e}function aw(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function lw(){let t=z.lFrame;return z.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var cw=lw;function hf(){let t=lw();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function xA(t){return(z.lFrame.contextLView=yA(t,z.lFrame.contextLView))[It]}function jr(){return z.lFrame.selectedIndex}function kr(t){z.lFrame.selectedIndex=t}function kA(){let t=z.lFrame;return af(t.tView,t.selectedIndex)}function $e(){z.lFrame.currentNamespace=qv}function Mn(){OA()}function OA(){z.lFrame.currentNamespace=null}function PA(){return z.lFrame.currentNamespace}var uw=!0;function ql(){return uw}function Kl(t){uw=t}function FA(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=zv(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function Yl(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),l&&(t.viewHooks??=[]).push(-n,l),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function cl(t,e,n){dw(t,e,3,n)}function ul(t,e,n,r){(t[P]&3)===n&&dw(t,e,n,r)}function qd(t,e){let n=t[P];(n&3)===e&&(n&=16383,n+=1,t[P]=n)}function dw(t,e,n,r){let i=r!==void 0?t[ki]&65535:0,s=r??-1,o=e.length-1,a=0;for(let l=i;l<o;l++)if(typeof e[l+1]=="number"){if(a=e[l],r!=null&&a>=r)break}else e[l]<0&&(t[ki]+=65536),(a<s||s==-1)&&(LA(t,n,e,l),t[ki]=(t[ki]&4294901760)+l+2),l++}function z_(t,e){Zt(4,t,e);let n=ne(null);try{e.call(t)}finally{ne(n),Zt(5,t,e)}}function LA(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[P]>>14<t[ki]>>16&&(t[P]&3)===e&&(t[P]+=16384,z_(a,s)):z_(a,s)}var Fi=-1,Or=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function VA(t){return t instanceof Or}function jA(t){return(t.flags&8)!==0}function UA(t){return(t.flags&16)!==0}function hw(t){return t!==Fi}function El(t){return t&32767}function BA(t){return t>>16}function Cl(t,e){let n=BA(t),r=e;for(;n>0;)r=r[Yi],n--;return r}var yh=!0;function Il(t){let e=yh;return yh=t,e}var $A=256,fw=$A-1,pw=5,HA=0,Jt={};function zA(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(qs)&&(r=n[qs]),r==null&&(r=n[qs]=HA++);let i=r&fw,s=1<<i;e.data[t+(i>>pw)]|=s}function Dl(t,e){let n=gw(t,e);if(n!==-1)return n;let r=e[q];r.firstCreatePass&&(t.injectorIndex=e.length,Kd(r.data,t),Kd(e,null),Kd(r.blueprint,null));let i=ff(t,e),s=t.injectorIndex;if(hw(i)){let o=El(i),a=Cl(i,e),l=a[q].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=i,s}function Kd(t,e){t.push(0,0,0,0,0,0,0,0,e)}function gw(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function ff(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=ww(i),r===null)return Fi;if(n++,i=i[Yi],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Fi}function _h(t,e,n){zA(t,e,n)}function mw(t,e,n){if(n&H.Optional||t!==void 0)return t;Zh(e,"NodeInjector")}function yw(t,e,n,r){if(n&H.Optional&&r===void 0&&(r=null),!(n&(H.Self|H.Host))){let i=t[Bi],s=tt(void 0);try{return i?i.get(e,r,n&H.Optional):Iv(e,r,n&H.Optional)}finally{tt(s)}}return mw(r,e,n)}function _w(t,e,n,r=H.Default,i){if(t!==null){if(e[P]&2048&&!(r&H.Self)){let o=YA(t,e,n,r,Jt);if(o!==Jt)return o}let s=vw(t,e,n,r,Jt);if(s!==Jt)return s}return yw(e,n,r,i)}function vw(t,e,n,r,i){let s=qA(n);if(typeof s=="function"){if(!sw(e,t,r))return r&H.Host?mw(i,n,r):yw(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&H.Optional))Zh(n);else return o}finally{cw()}}else if(typeof s=="number"){let o=null,a=gw(t,e),l=Fi,c=r&H.Host?e[tn][Lt]:null;for((a===-1||r&H.SkipSelf)&&(l=a===-1?ff(t,e):e[a+8],l===Fi||!G_(r,!1)?a=-1:(o=e[q],a=El(l),e=Cl(l,e)));a!==-1;){let u=e[q];if(W_(s,a,u.data)){let d=WA(a,e,n,o,r,c);if(d!==Jt)return d}l=e[a+8],l!==Fi&&G_(r,e[q].data[a+8]===c)&&W_(s,a,e)?(o=u,a=El(l),e=Cl(l,e)):a=-1}}return i}function WA(t,e,n,r,i,s){let o=e[q],a=o.data[t+8],l=r==null?zl(a)&&yh:r!=o&&(a.type&3)!==0,c=i&H.Host&&s===a,u=GA(a,o,n,l,c);return u!==null?Wi(e,o,u,a):Jt}function GA(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,l=t.directiveStart,c=t.directiveEnd,u=s>>20,d=r?a:a+u,h=i?a+u:c;for(let f=d;f<h;f++){let p=o[f];if(f<l&&n===p||f>=l&&p.type===n)return f}if(i){let f=o[l];if(f&&Gn(f)&&f.type===n)return l}return null}function Wi(t,e,n,r){let i=t[n],s=e.data;if(VA(i)){let o=i;o.resolving&&IT(CT(s[n]));let a=Il(o.canSeeViewProviders);o.resolving=!0;let l,c=o.injectImpl?tt(o.injectImpl):null,u=sw(t,r,H.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&FA(n,s[n],e)}finally{c!==null&&tt(c),Il(a),o.resolving=!1,cw()}}return i}function qA(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(qs)?t[qs]:void 0;return typeof e=="number"?e>=0?e&fw:KA:e}function W_(t,e,n){let r=1<<t;return!!(n[e+(t>>pw)]&r)}function G_(t,e){return!(t&H.Self)&&!(t&H.Host&&e)}var Ar=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return _w(this._tNode,this._lView,e,Vl(r),n)}};function KA(){return new Ar(it(),he())}function Jn(t){return io(()=>{let e=t.prototype.constructor,n=e[fl]||vh(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[fl]||vh(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function vh(t){return yv(t)?()=>{let e=vh(Ge(t));return e&&e()}:Mr(t)}function YA(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[P]&2048&&!(o[P]&512);){let a=vw(s,o,n,r|H.Self,Jt);if(a!==Jt)return a;let l=s.parent;if(!l){let c=o[Bv];if(c){let u=c.get(n,Jt,r);if(u!==Jt)return u}l=ww(o),o=o[Yi]}s=l}return i}function ww(t){let e=t[q],n=e.type;return n===2?e.declTNode:n===1?t[Lt]:null}function q_(t,e=null,n=null,r){let i=bw(t,e,n,r);return i.resolveInjectorInitializers(),i}function bw(t,e=null,n=null,r,i=new Set){let s=[n||nt,nf(t)];return r=r||(typeof t=="object"?void 0:qe(t)),new Qs(s,e||sf(),r||null,i)}var Tr=class Tr{static create(e,n){if(Array.isArray(e))return q_({name:""},n,e,"");{let r=e.name??"";return q_({name:r},e.parent,e.providers,r)}}};Tr.THROW_IF_NOT_FOUND=Ks,Tr.NULL=new ml,Tr.\u0275prov=C({token:Tr,providedIn:"any",factory:()=>S(Tv)}),Tr.__NG_ELEMENT_ID__=-1;var qn=Tr;var QA=new M("");QA.__NG_ELEMENT_ID__=t=>{let e=it();if(e===null)throw new y(204,!1);if(e.type&2)return e.value;if(t&H.Optional)return null;throw new y(204,!1)};var ZA="ngOriginalError";function Yd(t){return t[ZA]}var Dn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Yd(e);for(;n&&Yd(n);)n=Yd(n);return n||null}},Ew=new M("",{providedIn:"root",factory:()=>E(Dn).handleError.bind(void 0)}),Cw=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=JA,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),wh=class extends Cw{constructor(e){super(),this._lView=e}onDestroy(e){return Qv(this._lView,e),()=>_A(this._lView,e)}};function JA(){return new wh(he())}function XA(){return Ql(it(),he())}function Ql(t,e){return new on(Vt(t,e))}var on=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=XA;let t=e;return t})();var bh=class extends ve{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,lA()&&(this.destroyRef=E(Cw,{optional:!0})??void 0)}emit(e){let n=ne(null);try{super.next(e)}finally{ne(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=Qd(s),i&&(i=Qd(i)),o&&(o=Qd(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof De&&e.add(a),a}};function Qd(t){return e=>{setTimeout(t,void 0,e)}}var le=bh;function Iw(t){return(t.flags&128)===128}var Dw=new Map,eM=0;function tM(){return eM++}function nM(t){Dw.set(t[Hl],t)}function rM(t){Dw.delete(t[Hl])}var K_="__ngContext__";function Kn(t,e){Wn(e)?(t[K_]=e[Hl],nM(e)):t[K_]=e}function Sw(t){return Aw(t[Zs])}function Tw(t){return Aw(t[Ft])}function Aw(t){for(;t!==null&&!An(t);)t=t[Ft];return t}var Eh;function Mw(t){Eh=t}function iM(){if(Eh!==void 0)return Eh;if(typeof document<"u")return document;throw new y(210,!1)}var Zl=new M("",{providedIn:"root",factory:()=>sM}),sM="ng",pf=new M(""),Ur=new M("",{providedIn:"platform",factory:()=>"unknown"});var gf=new M(""),mf=new M("",{providedIn:"root",factory:()=>iM().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var oM="h",aM="b";var lM=()=>null;function yf(t,e,n=!1){return lM(t,e,n)}var Nw=!1,cM=new M("",{providedIn:"root",factory:()=>Nw});var Ch=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${fT})`}};function oo(t){return t instanceof Ch?t.changingThisBreaksApplicationSecurity:t}var uM=/^>|^->|<!--|-->|--!>|<!-$/g,dM=/(<|>)/g,hM="\u200B$1\u200B";function fM(t){return t.replace(uM,e=>e.replace(dM,hM))}function Jl(t){return t.ownerDocument.defaultView}function Rw(t){return t instanceof Function?t():t}var rn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(rn||{}),pM;function _f(t,e){return pM(t,e)}function Oi(t,e,n,r,i){if(r!=null){let s,o=!1;An(r)?s=r:Wn(r)&&(o=!0,r=r[Tn]);let a=nn(r);t===0&&n!==null?i==null?Pw(e,n,a):Tl(e,n,a,i||null,!0):t===1&&n!==null?Tl(e,n,a,i||null,!0):t===2?RM(e,a,o):t===3&&e.destroyNode(a),s!=null&&kM(e,t,s,n,i)}}function gM(t,e){return t.createText(e)}function mM(t,e,n){t.setValue(e,n)}function yM(t,e){return t.createComment(fM(e))}function xw(t,e,n){return t.createElement(e,n)}function _M(t,e){kw(t,e),e[Tn]=null,e[Lt]=null}function vM(t,e,n,r,i,s){r[Tn]=i,r[Lt]=e,ec(t,r,n,1,i,s)}function kw(t,e){e[In].changeDetectionScheduler?.notify(8),ec(t,e,e[xe],2,null,null)}function wM(t){let e=t[Zs];if(!e)return Zd(t[q],t);for(;e;){let n=null;if(Wn(e))n=e[Zs];else{let r=e[pt];r&&(n=r)}if(!n){for(;e&&!e[Ft]&&e!==t;)Wn(e)&&Zd(e[q],e),e=e[Ke];e===null&&(e=t),Wn(e)&&Zd(e[q],e),n=e&&e[Ft]}e=n}}function bM(t,e,n,r){let i=pt+r,s=n.length;r>0&&(n[i-1][Ft]=e),r<s-pt?(e[Ft]=n[i],Sv(n,pt+r,e)):(n.push(e),e[Ft]=null),e[Ke]=n;let o=e[$i];o!==null&&n!==o&&Ow(o,e);let a=e[Hi];a!==null&&a.insertView(t),gh(e),e[P]|=128}function Ow(t,e){let n=t[wl],r=e[Ke];if(Wn(r))t[P]|=bl.HasTransplantedViews;else{let i=r[Ke][tn];e[tn]!==i&&(t[P]|=bl.HasTransplantedViews)}n===null?t[wl]=[e]:n.push(e)}function vf(t,e){let n=t[wl],r=n.indexOf(e);n.splice(r,1)}function Sl(t,e){if(t.length<=pt)return;let n=pt+e,r=t[n];if(r){let i=r[$i];i!==null&&i!==t&&vf(i,r),e>0&&(t[n-1][Ft]=r[Ft]);let s=gl(t,pt+e);_M(r[q],r);let o=s[Hi];o!==null&&o.detachView(s[q]),r[Ke]=null,r[Ft]=null,r[P]&=-129}return r}function wf(t,e){if(!(e[P]&256)){let n=e[xe];n.destroyNode&&ec(t,e,n,3,null,null),wM(e)}}function Zd(t,e){if(e[P]&256)return;let n=ne(null);try{e[P]&=-129,e[P]|=256,e[Rr]&&o_(e[Rr]),CM(t,e),EM(t,e),e[q].type===1&&e[xe].destroy();let r=e[$i];if(r!==null&&An(e[Ke])){r!==e[Ke]&&vf(r,e);let i=e[Hi];i!==null&&i.detachView(t)}rM(e)}finally{ne(n)}}function EM(t,e){let n=t.cleanup,r=e[_l];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[_l]=null);let i=e[zn];if(i!==null){e[zn]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function CM(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Or)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],l=s[o+1];Zt(4,a,l);try{l.call(a)}finally{Zt(5,a,l)}}else{Zt(4,i,s);try{s.call(i)}finally{Zt(5,i,s)}}}}}function IM(t,e,n){return DM(t,e.parent,n)}function DM(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[Tn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===en.None||s===en.Emulated)return null}return Vt(r,n)}}function Tl(t,e,n,r,i){t.insertBefore(e,n,r,i)}function Pw(t,e,n){t.appendChild(e,n)}function Y_(t,e,n,r,i){r!==null?Tl(t,e,n,r,i):Pw(t,e,n)}function SM(t,e,n,r){t.removeChild(e,n,r)}function bf(t,e){return t.parentNode(e)}function TM(t,e){return t.nextSibling(e)}function AM(t,e,n){return NM(t,e,n)}function MM(t,e,n){return t.type&40?Vt(t,n):null}var NM=MM,Q_;function Xl(t,e,n,r){let i=IM(t,r,e),s=e[xe],o=r.parent||e[Lt],a=AM(o,r,e);if(i!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)Y_(s,i,n[l],a,!1);else Y_(s,i,n,a,!1);Q_!==void 0&&Q_(s,r,e,n,i)}function dl(t,e){if(e!==null){let n=e.type;if(n&3)return Vt(e,t);if(n&4)return Ih(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return dl(t,r);{let i=t[e.index];return An(i)?Ih(-1,i):nn(i)}}else{if(n&32)return _f(e,t)()||nn(t[e.index]);{let r=Fw(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Xs(t[tn]);return dl(i,r)}else return dl(t,e.next)}}}return null}function Fw(t,e){if(e!==null){let r=t[tn][Lt],i=e.projection;return r.projection[i]}return null}function Ih(t,e){let n=pt+t+1;if(n<e.length){let r=e[n],i=r[q].firstChild;if(i!==null)return dl(r,i)}return e[xr]}function RM(t,e,n){let r=bf(t,e);r&&SM(t,r,e,n)}function Ef(t,e,n,r,i,s,o){for(;n!=null;){let a=r[n.index],l=n.type;if(o&&e===0&&(a&&Kn(nn(a),r),n.flags|=2),(n.flags&32)!==32)if(l&8)Ef(t,e,n.child,r,i,s,!1),Oi(e,t,i,a,s);else if(l&32){let c=_f(n,r),u;for(;u=c();)Oi(e,t,i,u,s);Oi(e,t,i,a,s)}else l&16?xM(t,e,r,n,i,s):Oi(e,t,i,a,s);n=o?n.projectionNext:n.next}}function ec(t,e,n,r,i,s){Ef(n,r,t.firstChild,e,i,s,!1)}function xM(t,e,n,r,i,s){let o=n[tn],l=o[Lt].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];Oi(e,t,i,u,s)}else{let c=l,u=o[Ke];Iw(r)&&(c.flags|=128),Ef(t,e,c,u,i,s,!0)}}function kM(t,e,n,r,i){let s=n[xr],o=nn(n);s!==o&&Oi(e,t,r,s,i);for(let a=pt;a<n.length;a++){let l=n[a];ec(l[q],l,t,e,r,s)}}function OM(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:rn.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=rn.Important),t.setStyle(n,r,i,s))}}function PM(t,e,n){t.setAttribute(e,"style",n)}function Lw(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Vw(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&ch(t,e,r),i!==null&&Lw(t,e,i),s!==null&&PM(t,e,s)}var an={};function W(t=1){jw(rt(),he(),jr()+t,!1)}function jw(t,e,n,r){if(!r)if((e[P]&3)===3){let s=t.preOrderCheckHooks;s!==null&&cl(e,s,n)}else{let s=t.preOrderHooks;s!==null&&ul(e,s,0,n)}kr(n)}function R(t,e=H.Default){let n=he();if(n===null)return S(t,e);let r=it();return _w(r,n,Ge(t),e)}function Uw(t,e,n,r,i,s){let o=ne(null);try{let a=null;i&ji.SignalBased&&(a=e[r][n_]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&ji.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):Hv(e,a,r,s)}finally{ne(o)}}function FM(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)kr(~i);else{let s=i,o=n[++r],a=n[++r];AA(o,s);let l=e[s];a(2,l)}}}finally{kr(-1)}}function tc(t,e,n,r,i,s,o,a,l,c,u){let d=e.blueprint.slice();return d[Tn]=i,d[P]=r|4|128|8|64,(c!==null||t&&t[P]&2048)&&(d[P]|=2048),Yv(d),d[Ke]=d[Yi]=t,d[It]=n,d[In]=o||t&&t[In],d[xe]=a||t&&t[xe],d[Bi]=l||t&&t[Bi]||null,d[Lt]=s,d[Hl]=tM(),d[yl]=u,d[Bv]=c,d[tn]=e.type==2?t[tn]:d,d}function ao(t,e,n,r,i){let s=t.data[e];if(s===null)s=LM(t,e,n,r,i),TA()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=DA();s.injectorIndex=o===null?-1:o.injectorIndex}return Vr(s,!0),s}function LM(t,e,n,r,i){let s=Xv(),o=cf(),a=o?s:s&&s.parent,l=t.data[e]=$M(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=l),s!==null&&(o?s.child==null&&l.parent!==null&&(s.child=l):s.next===null&&(s.next=l,l.prev=s)),l}function Bw(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function $w(t,e,n,r,i){let s=jr(),o=r&2;try{kr(-1),o&&e.length>gt&&jw(t,e,gt,!1),Zt(o?2:0,i),n(r,i)}finally{kr(s),Zt(o?3:1,i)}}function Cf(t,e,n){if(of(e)){let r=ne(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let l=n[o];a.contentQueries(1,l,o)}}}finally{ne(r)}}}function If(t,e,n){Jv()&&(YM(t,e,n,Vt(n,e)),(n.flags&64)===64&&Ww(t,e,n))}function Df(t,e,n=Vt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function Hw(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Sf(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Sf(t,e,n,r,i,s,o,a,l,c,u){let d=gt+r,h=d+i,f=VM(d,h),p=typeof c=="function"?c():c;return f[q]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:u}}function VM(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:an);return n}function jM(t,e,n,r){let s=r.get(cM,Nw)||n===en.ShadowDom,o=t.selectRootElement(e,s);return UM(o),o}function UM(t){BM(t)}var BM=()=>null;function $M(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return EA()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Z_(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,l=ji.None;Array.isArray(o)?(a=o[0],l=o[1]):a=o;let c=s;if(i!==null){if(!i.hasOwnProperty(s))continue;c=i[s]}t===0?J_(r,n,c,a,l):J_(r,n,c,a)}return r}function J_(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function HM(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],l=null,c=null;for(let u=r;u<i;u++){let d=s[u],h=n?n.get(d):null,f=h?h.inputs:null,p=h?h.outputs:null;l=Z_(0,d.inputs,u,l,f),c=Z_(1,d.outputs,u,c,p);let m=l!==null&&o!==null&&!ef(e)?iN(l,u,o):null;a.push(m)}l!==null&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}function zM(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function WM(t,e,n,r,i,s,o,a){let l=Vt(e,n),c=e.inputs,u;!a&&c!=null&&(u=c[r])?(Af(t,n,u,r,i),zl(e)&&GM(n,e.index)):e.type&3?(r=zM(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(l,r,i)):e.type&12}function GM(t,e){let n=Zn(e,t);n[P]&16||(n[P]|=64)}function Tf(t,e,n,r){if(Jv()){let i=r===null?null:{"":-1},s=ZM(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&zw(t,e,n,o,i,a),i&&JM(n,r,i)}n.mergedAttrs=Ys(n.mergedAttrs,n.attrs)}function zw(t,e,n,r,i,s){for(let c=0;c<r.length;c++)_h(Dl(n,e),t,r[c].type);eN(n,t.data.length,r.length);for(let c=0;c<r.length;c++){let u=r[c];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,l=Bw(t,e,r.length,null);for(let c=0;c<r.length;c++){let u=r[c];n.mergedAttrs=Ys(n.mergedAttrs,u.hostAttrs),tN(t,n,e,l,u),XM(l,u,i),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),l++}HM(t,n,s)}function qM(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;KM(o)!=a&&o.push(a),o.push(n,r,s)}}function KM(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function YM(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;zl(n)&&nN(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Dl(n,e),Kn(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let l=t.data[a],c=Wi(e,t,a,n);if(Kn(c,e),o!==null&&rN(e,a-i,c,l,n,o),Gn(l)){let u=Zn(n.index,e);u[It]=Wi(e,t,a,n)}}}function Ww(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=MA();try{kr(s);for(let a=r;a<i;a++){let l=t.data[a],c=e[a];mh(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&QM(l,c)}}finally{kr(-1),mh(o)}}function QM(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function ZM(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(HT(e,o.selectors,!1))if(r||(r=[]),Gn(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let l=a.length;Dh(t,e,l)}else r.unshift(o),Dh(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function Dh(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function JM(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new y(-301,!1);r.push(e[i],s)}}}function XM(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Gn(e)&&(n[""]=t)}}function eN(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function tN(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=Mr(i.type,!0)),o=new Or(s,Gn(i),R);t.blueprint[r]=o,n[r]=o,qM(t,e,r,Bw(t,n,i.hostVars,an),i)}function nN(t,e,n){let r=Vt(e,t),i=Hw(n),s=t[In].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=nc(t,tc(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function rN(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let l=o[a++],c=o[a++],u=o[a++],d=o[a++];Uw(r,n,l,c,u,d)}}function iN(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function Gw(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function qw(t,e){let n=t.contentQueries;if(n!==null){let r=ne(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];iw(s),a.contentQueries(2,e[o],o)}}}finally{ne(r)}}}function nc(t,e){return t[Zs]?t[B_][Ft]=e:t[Zs]=e,t[B_]=e,e}function Sh(t,e,n){iw(0);let r=ne(null);try{e(t,n)}finally{ne(r)}}function sN(t){return t[_l]??=[]}function oN(t){return t.cleanup??=[]}function Kw(t,e){let n=t[Bi],r=n?n.get(Dn,null):null;r&&r.handleError(e)}function Af(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],l=n[s++],c=e[o],u=t.data[o];Uw(u,c,r,a,l,i)}}function aN(t,e,n){let r=Kv(e,t);mM(t[xe],r,n)}function lN(t,e){let n=Zn(e,t),r=n[q];cN(r,n);let i=n[Tn];i!==null&&n[yl]===null&&(n[yl]=yf(i,n[Bi])),Mf(r,n,n[It])}function cN(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Mf(t,e,n){df(e);try{let r=t.viewQuery;r!==null&&Sh(1,r,n);let i=t.template;i!==null&&$w(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Hi]?.finishViewCreation(t),t.staticContentQueries&&qw(t,e),t.staticViewQueries&&Sh(2,t.viewQuery,n);let s=t.components;s!==null&&uN(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[P]&=-5,hf()}}function uN(t,e){for(let n=0;n<e.length;n++)lN(t,e[n])}function Yw(t,e,n,r){let i=ne(null);try{let s=e.tView,a=t[P]&4096?4096:16,l=tc(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=t[e.index];l[$i]=c;let u=t[Hi];return u!==null&&(l[Hi]=u.createEmbeddedView(s)),Mf(s,l,n),l}finally{ne(i)}}function dN(t,e){let n=pt+e;if(n<t.length)return t[n]}function Th(t,e){return!e||e.firstChild===null||Iw(t)}function Qw(t,e,n,r=!0){let i=e[q];if(bM(i,e,t,n),r){let o=Ih(n,t),a=e[xe],l=bf(a,t[xr]);l!==null&&vM(i,t[Lt],a,e,l,o)}let s=e[yl];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function hN(t,e){let n=Sl(t,e);return n!==void 0&&wf(n[q],n),n}function Al(t,e,n,r,i=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(nn(s)),An(s)&&fN(s,r);let o=n.type;if(o&8)Al(t,e,n.child,r);else if(o&32){let a=_f(n,e),l;for(;l=a();)r.push(l)}else if(o&16){let a=Fw(e,n);if(Array.isArray(a))r.push(...a);else{let l=Xs(e[tn]);Al(l[q],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function fN(t,e){for(let n=pt;n<t.length;n++){let r=t[n],i=r[q].firstChild;i!==null&&Al(r[q],r,i,e)}t[xr]!==t[Tn]&&e.push(t[xr])}var Zw=[];function pN(t){return t[Rr]??gN(t)}function gN(t){let e=Zw.pop()??Object.create(yN);return e.lView=t,e}function mN(t){t.lView[Rr]!==t&&(t.lView=null,Zw.push(t))}var yN=X(b({},r_),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Gl(t.lView)},consumerOnSignalRead(){this.lView[Rr]=this}}),_N=100;function Jw(t,e=!0,n=0){let r=t[In],i=r.rendererFactory,s=!1;s||i.begin?.();try{vN(t,n)}catch(o){throw e&&Kw(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function vN(t,e){let n=tw();try{H_(!0),Ah(t,e);let r=0;for(;Js(t);){if(r===_N)throw new y(103,!1);r++,Ah(t,1)}}finally{H_(n)}}function wN(t,e,n,r){let i=e[P];if((i&256)===256)return;let s=!1,o=!1;!s&&e[In].inlineEffectRunner?.flush(),df(e);let a=null,l=null;!s&&bN(t)&&(l=pN(e),a=i_(l));try{Yv(e),SA(t.bindingStartIndex),n!==null&&$w(t,e,n,2,r);let c=(i&3)===3;if(!s)if(c){let h=t.preOrderCheckHooks;h!==null&&cl(e,h,null)}else{let h=t.preOrderHooks;h!==null&&ul(e,h,0,null),qd(e,0)}if(o||EN(e),Xw(e,0),t.contentQueries!==null&&qw(t,e),!s)if(c){let h=t.contentCheckHooks;h!==null&&cl(e,h)}else{let h=t.contentHooks;h!==null&&ul(e,h,1),qd(e,1)}FM(t,e);let u=t.components;u!==null&&tb(e,u,0);let d=t.viewQuery;if(d!==null&&Sh(2,d,r),!s)if(c){let h=t.viewCheckHooks;h!==null&&cl(e,h)}else{let h=t.viewHooks;h!==null&&ul(e,h,2),qd(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Gd]){for(let h of e[Gd])h();e[Gd]=null}s||(e[P]&=-73)}catch(c){throw s||Gl(e),c}finally{l!==null&&(s_(l,a),mN(l)),hf()}}function bN(t){return t.type!==2}function Xw(t,e){for(let n=Sw(t);n!==null;n=Tw(n))for(let r=pt;r<n.length;r++){let i=n[r];eb(i,e)}}function EN(t){for(let e=Sw(t);e!==null;e=Tw(e)){if(!(e[P]&bl.HasTransplantedViews))continue;let n=e[wl];for(let r=0;r<n.length;r++){let i=n[r];mA(i)}}}function CN(t,e,n){let r=Zn(e,t);eb(r,n)}function eb(t,e){lf(t)&&Ah(t,e)}function Ah(t,e){let r=t[q],i=t[P],s=t[Rr],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&Ed(s)),o||=!1,s&&(s.dirty=!1),t[P]&=-9217,o)wN(r,t,r.template,t[It]);else if(i&8192){Xw(t,1);let a=r.components;a!==null&&tb(t,a,1)}}function tb(t,e,n){for(let r=0;r<e.length;r++)CN(t,e[r],n)}function Nf(t,e){let n=tw()?64:1088;for(t[In].changeDetectionScheduler?.notify(e);t;){t[P]|=n;let r=Xs(t);if(fh(t)&&!r)return t;t=r}return null}var Pr=class{get rootNodes(){let e=this._lView,n=e[q];return Al(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[It]}set context(e){this._lView[It]=e}get destroyed(){return(this._lView[P]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ke];if(An(e)){let n=e[vl],r=n?n.indexOf(this):-1;r>-1&&(Sl(e,r),gl(n,r))}this._attachedToViewContainer=!1}wf(this._lView[q],this._lView)}onDestroy(e){Qv(this._lView,e)}markForCheck(){Nf(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[P]&=-129}reattach(){gh(this._lView),this._lView[P]|=128}detectChanges(){this._lView[P]|=1024,Jw(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new y(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=fh(this._lView),n=this._lView[$i];n!==null&&!e&&vf(n,this._lView),kw(this._lView[q],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new y(902,!1);this._appRef=e;let n=fh(this._lView),r=this._lView[$i];r!==null&&!n&&Ow(r,this._lView),gh(this._lView)}},rc=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=SN;let t=e;return t})(),IN=rc,DN=class extends IN{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=Yw(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Pr(i)}};function SN(){return TN(it(),he())}function TN(t,e){return t.type&4?new DN(e,t,Ql(t,e)):null}var lW=new RegExp(`^(\\d+)*(${aM}|${oM})*(.*)`);var AN=()=>null;function Mh(t,e){return AN(t,e)}var eo=class{},nb=new M("",{providedIn:"root",factory:()=>!1});var rb=new M(""),Nh=class{},Ml=class{};function MN(t){let e=Error(`No component factory found for ${qe(t)}.`);return e[NN]=t,e}var NN="ngComponent";var Rh=class{resolveComponentFactory(e){throw MN(e)}},$f=class $f{};$f.NULL=new Rh;var Gi=$f,Yn=class{},Nn=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>RN();let t=e;return t})();function RN(){let t=he(),e=it(),n=Zn(e.index,t);return(Wn(n)?n:t)[xe]}var xN=(()=>{let e=class e{};e.\u0275prov=C({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Jd={};var X_=new Set;function lo(t){X_.has(t)||(X_.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function ib(t){let e=!0;return setTimeout(()=>{e&&(e=!1,t())}),typeof Xt.requestAnimationFrame=="function"&&Xt.requestAnimationFrame(()=>{e&&(e=!1,t())}),()=>{e=!1}}function ev(t){let e=!0;return queueMicrotask(()=>{e&&t()}),()=>{e=!1}}function tv(...t){}var pe=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new le(!1),this.onMicrotaskEmpty=new le(!1),this.onStable=new le(!1),this.onError=new le(!1),typeof Zone>"u")throw new y(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.callbackScheduled=!1,PN(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new y(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new y(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,kN,tv,tv);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},kN={};function Rf(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function ON(t){t.isCheckStableRunning||t.callbackScheduled||(t.callbackScheduled=!0,Zone.root.run(()=>{ib(()=>{t.callbackScheduled=!1,xh(t),t.isCheckStableRunning=!0,Rf(t),t.isCheckStableRunning=!1})}),xh(t))}function PN(t){let e=()=>{ON(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(FN(a))return n.invokeTask(i,s,o,a);try{return nv(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),rv(t)}},onInvoke:(n,r,i,s,o,a,l)=>{try{return nv(t),n.invoke(i,s,o,a,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!LN(a)&&e(),rv(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,xh(t),Rf(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function xh(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function nv(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function rv(t){t._nesting--,Rf(t)}var kh=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new le,this.onMicrotaskEmpty=new le,this.onStable=new le,this.onError=new le}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function FN(t){return sb(t,"__ignore_ng_zone__")}function LN(t){return sb(t,"__scheduler_tick__")}function sb(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var ob=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=C({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function Nl(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=sh(i,a);else if(s==2){let l=a,c=e[++o];r=sh(r,l+": "+c+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Rl=class extends Gi{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Nr(e);return new to(n,this.ngModule)}};function iv(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function VN(t){let e=t.toLowerCase();return e==="svg"?qv:e==="math"?fA:null}var Oh=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Vl(r);let i=this.injector.get(e,Jd,r);return i!==Jd||n===Jd?i:this.parentInjector.get(e,n,r)}},to=class extends Ml{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=iv(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return iv(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=qT(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=ne(null);try{i=i||this.ngModule;let o=i instanceof Ct?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new Oh(e,o):e,l=a.get(Yn,null);if(l===null)throw new y(407,!1);let c=a.get(xN,null),u=a.get(ob,null),d=a.get(eo,null),h={rendererFactory:l,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:d},f=l.createRenderer(null,this.componentDef),p=this.componentDef.selectors[0][0]||"div",m=r?jM(f,r,this.componentDef.encapsulation,a):xw(f,p,VN(p)),w=512;this.componentDef.signals?w|=4096:this.componentDef.onPush||(w|=16);let D=null;m!==null&&(D=yf(m,a,!0));let G=Sf(0,null,null,1,0,null,null,null,null,null,null),F=tc(null,G,null,w,null,null,h,f,a,null,D);df(F);let ie,Ue;try{let fe=this.componentDef,me,Ie=null;fe.findHostDirectiveDefs?(me=[],Ie=new Map,fe.findHostDirectiveDefs(fe,me,Ie),me.push(fe)):me=[fe];let ut=jN(F,m),Kt=UN(ut,m,fe,me,F,h,f);Ue=af(G,gt),m&&HN(f,fe,m,r),n!==void 0&&zN(Ue,this.ngContentSelectors,n),ie=$N(Kt,fe,me,Ie,F,[WN]),Mf(G,F,null)}finally{hf()}return new Ph(this.componentType,ie,Ql(Ue,F),F,Ue)}finally{ne(s)}}},Ph=class extends Nh{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Pr(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;Af(s[q],s,i,e,n),this.previousInputValues.set(e,n);let o=Zn(this._tNode.index,s);Nf(o,1)}}get injector(){return new Ar(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function jN(t,e){let n=t[q],r=gt;return t[r]=e,ao(n,r,2,"#host",null)}function UN(t,e,n,r,i,s,o){let a=i[q];BN(r,t,e,o);let l=null;e!==null&&(l=yf(e,i[Bi]));let c=s.rendererFactory.createRenderer(e,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let d=tc(i,Hw(n),null,u,i[t.index],t,s,c,null,null,l);return a.firstCreatePass&&Dh(a,t,r.length-1),nc(i,d),i[t.index]=d}function BN(t,e,n,r){for(let i of t)e.mergedAttrs=Ys(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Nl(e,e.mergedAttrs,!0),n!==null&&Vw(r,n,e))}function $N(t,e,n,r,i,s){let o=it(),a=i[q],l=Vt(o,i);zw(a,i,o,n,null,r);for(let u=0;u<n.length;u++){let d=o.directiveStart+u,h=Wi(i,a,d,o);Kn(h,i)}Ww(a,i,o),l&&Kn(l,i);let c=Wi(i,a,o.directiveStart+o.componentOffset,o);if(t[It]=i[It]=c,s!==null)for(let u of s)u(c,e);return Cf(a,o,i),c}function HN(t,e,n,r){if(r)ch(t,n,["ng-version","18.0.2"]);else{let{attrs:i,classes:s}=KT(e.selectors[0]);i&&ch(t,n,i),s&&s.length>0&&Lw(t,n,s.join(" "))}}function zN(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function WN(){let t=it();Yl(he()[q],t)}var Qi=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=GN;let t=e;return t})();function GN(){let t=it();return KN(t,he())}var qN=Qi,ab=class extends qN{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Ql(this._hostTNode,this._hostLView)}get injector(){return new Ar(this._hostTNode,this._hostLView)}get parentInjector(){let e=ff(this._hostTNode,this._hostLView);if(hw(e)){let n=Cl(e,this._hostLView),r=El(e),i=n[q].data[r+8];return new Ar(i,n)}else return new Ar(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=sv(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-pt}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=Mh(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,Th(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!cA(e),a;if(o)a=n;else{let p=n||{};a=p.index,r=p.injector,i=p.projectableNodes,s=p.environmentInjector||p.ngModuleRef}let l=o?e:new to(Nr(e)),c=r||this.parentInjector;if(!s&&l.ngModule==null){let m=(o?c:this.parentInjector).get(Ct,null);m&&(s=m)}let u=Nr(l.componentType??{}),d=Mh(this._lContainer,u?.id??null),h=d?.firstChild??null,f=l.create(c,i,h,s);return this.insertImpl(f.hostView,a,Th(this._hostTNode,d)),f}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(gA(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=i[Ke],c=new ab(l,l[Lt],l[Ke]);c.detach(c.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return Qw(o,i,s,r),e.attachToViewContainerRef(),Sv(Xd(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=sv(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Sl(this._lContainer,n);r&&(gl(Xd(this._lContainer),n),wf(r[q],r))}detach(e){let n=this._adjustIndex(e,-1),r=Sl(this._lContainer,n);return r&&gl(Xd(this._lContainer),n)!=null?new Pr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function sv(t){return t[vl]}function Xd(t){return t[vl]||(t[vl]=[])}function KN(t,e){let n,r=e[t.index];return An(r)?n=r:(n=Gw(r,e,null,t),e[t.index]=n,nc(e,n)),QN(n,e,t,r),new ab(n,t,e)}function YN(t,e){let n=t[xe],r=n.createComment(""),i=Vt(e,t),s=bf(n,i);return Tl(n,s,r,TM(n,i),!1),r}var QN=XN,ZN=()=>!1;function JN(t,e,n){return ZN(t,e,n)}function XN(t,e,n,r){if(t[xr])return;let i;n.type&8?i=nn(r):i=YN(e,n),t[xr]=i}function eR(t){return Object.getPrototypeOf(t.prototype).constructor}function jt(t){let e=eR(t.type),n=!0,r=[t];for(;e;){let i;if(Gn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new y(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=ol(t.inputs),o.inputTransforms=ol(t.inputTransforms),o.declaredInputs=ol(t.declaredInputs),o.outputs=ol(t.outputs);let a=i.hostBindings;a&&sR(t,a);let l=i.viewQuery,c=i.contentQueries;if(l&&rR(t,l),c&&iR(t,c),tR(t,i),gT(t.outputs,i.outputs),Gn(i)&&i.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===jt&&(n=!1)}}e=Object.getPrototypeOf(e)}nR(r)}function tR(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function nR(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ys(i.hostAttrs,n=Ys(n,i.hostAttrs))}}function ol(t){return t===Li?{}:t===nt?[]:t}function rR(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function iR(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function sR(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}var Qn=class{},no=class{};var Fh=class extends Qn{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Rl(this);let i=Ov(e);this._bootstrapComponents=Rw(i.bootstrap),this._r3Injector=bw(e,n,[{provide:Qn,useValue:this},{provide:Gi,useValue:this.componentFactoryResolver},...r],qe(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Lh=class extends no{constructor(e){super(),this.moduleType=e}create(e){return new Fh(this.moduleType,e,[])}};var xl=class extends Qn{constructor(e){super(),this.componentFactoryResolver=new Rl(this),this.instance=null;let n=new Qs([...e.providers,{provide:Qn,useValue:this},{provide:Gi,useValue:this.componentFactoryResolver}],e.parent||sf(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function xf(t,e,n=null){return new xl({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Zi=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Fe(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function lb(t){return kf(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function oR(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function kf(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function aR(t,e,n){return t[e]=n}function Ji(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function lR(t){return(t.flags&32)===32}function cR(t,e,n,r,i,s,o,a,l){let c=e.consts,u=ao(e,t,4,o||null,a||null);Tf(e,n,u,zi(c,l)),Yl(e,u);let d=u.tView=Sf(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function uR(t,e,n,r,i,s,o,a,l,c){let u=n+gt,d=e.firstCreatePass?cR(u,e,t,r,i,s,o,a,l):e.data[u];Vr(d,!1);let h=dR(e,t,d,n);ql()&&Xl(e,t,h,d),Kn(h,t);let f=Gw(h,t,h,d);return t[u]=f,nc(t,f),JN(f,d,t),Wl(d)&&If(e,t,d),l!=null&&Df(t,d,c),d}function Ze(t,e,n,r,i,s,o,a){let l=he(),c=rt(),u=zi(c.consts,s);return uR(l,c,t,e,n,r,i,u,o,a),Ze}var dR=hR;function hR(t,e,n,r){return Kl(!0),e[xe].createComment("")}function fR(t,e,n,r){return Ji(t,uf(),n)?e+Ev(n)+r:an}function al(t,e){return t<<17|e<<2}function Fr(t){return t>>17&32767}function pR(t){return(t&2)==2}function gR(t,e){return t&131071|e<<17}function Vh(t){return t|2}function qi(t){return(t&131068)>>2}function eh(t,e){return t&-131069|e<<2}function mR(t){return(t&1)===1}function jh(t){return t|1}function yR(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Fr(o),l=qi(o);t[r]=n;let c=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||so(d,u)>0)&&(c=!0)}else u=n;if(i)if(l!==0){let h=Fr(t[a+1]);t[r+1]=al(h,a),h!==0&&(t[h+1]=eh(t[h+1],r)),t[a+1]=gR(t[a+1],r)}else t[r+1]=al(a,0),a!==0&&(t[a+1]=eh(t[a+1],r)),a=r;else t[r+1]=al(l,0),a===0?a=r:t[l+1]=eh(t[l+1],r),l=r;c&&(t[r+1]=Vh(t[r+1])),ov(t,u,r,!0),ov(t,u,r,!1),_R(e,u,t,r,s),o=al(a,l),s?e.classBindings=o:e.styleBindings=o}function _R(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&so(s,e)>=0&&(n[r+1]=jh(n[r+1]))}function ov(t,e,n,r){let i=t[n+1],s=e===null,o=r?Fr(i):qi(i),a=!1;for(;o!==0&&(a===!1||s);){let l=t[o],c=t[o+1];vR(l,e)&&(a=!0,t[o+1]=r?jh(c):Vh(c)),o=r?Fr(c):qi(c)}a&&(t[n+1]=r?Vh(i):jh(i))}function vR(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?so(t,e)>=0:!1}var Me={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function cb(t){return t.substring(Me.key,Me.keyEnd)}function wR(t){return t.substring(Me.value,Me.valueEnd)}function bR(t){return hb(t),ub(t,Ki(t,0,Me.textEnd))}function ub(t,e){let n=Me.textEnd;return n===e?-1:(e=Me.keyEnd=CR(t,Me.key=e,n),Ki(t,e,n))}function ER(t){return hb(t),db(t,Ki(t,0,Me.textEnd))}function db(t,e){let n=Me.textEnd,r=Me.key=Ki(t,e,n);return n===r?-1:(r=Me.keyEnd=IR(t,r,n),r=av(t,r,n,58),r=Me.value=Ki(t,r,n),r=Me.valueEnd=DR(t,r,n),av(t,r,n,59))}function hb(t){Me.key=0,Me.keyEnd=0,Me.value=0,Me.valueEnd=0,Me.textEnd=t.length}function Ki(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function CR(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function IR(t,e,n){let r;for(;e<n&&((r=t.charCodeAt(e))===45||r===95||(r&-33)>=65&&(r&-33)<=90||r>=48&&r<=57);)e++;return e}function av(t,e,n,r){return e=Ki(t,e,n),e<n&&e++,e}function DR(t,e,n){let r=-1,i=-1,s=-1,o=e,a=o;for(;o<n;){let l=t.charCodeAt(o++);if(l===59)return a;l===34||l===39?a=o=lv(t,l,o,n):e===o-4&&s===85&&i===82&&r===76&&l===40?a=o=lv(t,41,o,n):l>32&&(a=o),s=i,i=r,r=l&-33}return a}function lv(t,e,n,r){let i=-1,s=n;for(;s<r;){let o=t.charCodeAt(s++);if(o==e&&i!==92)return s;o==92&&i===92?i=0:i=o}throw new Error}function Z(t,e,n){let r=he(),i=uf();if(Ji(r,i,e)){let s=rt(),o=kA();WM(s,o,r,t,e,r[xe],n,!1)}return Z}function Uh(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";Af(t,n,s[o],o,r)}function ic(t,e,n){return fb(t,e,n,!1),ic}function sc(t,e){return fb(t,e,null,!0),sc}function oc(t){pb(yb,SR,t,!1)}function SR(t,e){for(let n=ER(e);n>=0;n=db(e,n))yb(t,cb(e),wR(e))}function Br(t){pb(kR,TR,t,!0)}function TR(t,e){for(let n=bR(e);n>=0;n=ub(e,n))Ul(t,cb(e),!0)}function fb(t,e,n,r){let i=he(),s=rt(),o=rw(2);if(s.firstUpdatePass&&mb(s,t,o,r),e!==an&&Ji(i,o,e)){let a=s.data[jr()];_b(s,a,i,i[xe],t,i[o+1]=PR(e,n),r,o)}}function pb(t,e,n,r){let i=rt(),s=rw(2);i.firstUpdatePass&&mb(i,null,s,r);let o=he();if(n!==an&&Ji(o,s,n)){let a=i.data[jr()];if(vb(a,r)&&!gb(i,s)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(n=sh(l,n||"")),Uh(i,a,o,n,r)}else OR(i,a,o,o[xe],o[s+1],o[s+1]=xR(t,e,n),r,s)}}function gb(t,e){return e>=t.expandoStartIndex}function mb(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[jr()],o=gb(t,n);vb(s,r)&&e===null&&!o&&(e=!1),e=AR(i,s,e,r),yR(i,s,e,n,o,r)}}function AR(t,e,n,r){let i=NA(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=th(null,t,e,n,r),n=ro(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=th(i,t,e,n,r),s===null){let l=MR(t,e,r);l!==void 0&&Array.isArray(l)&&(l=th(null,t,e,l[1],r),l=ro(l,e.attrs,r),NR(t,e,r,l))}else s=RR(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function MR(t,e,n){let r=n?e.classBindings:e.styleBindings;if(qi(r)!==0)return t[Fr(r)]}function NR(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Fr(i)]=r}function RR(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=ro(r,o,n)}return ro(r,e.attrs,n)}function th(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=ro(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function ro(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Ul(t,o,n?!0:e[++s]))}return t===void 0?null:t}function xR(t,e,n){if(n==null||n==="")return nt;let r=[],i=oo(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if(typeof i=="object")for(let s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else typeof i=="string"&&e(r,i);return r}function yb(t,e,n){Ul(t,e,oo(n))}function kR(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&Ul(t,r,n)}function OR(t,e,n,r,i,s,o,a){i===an&&(i=nt);let l=0,c=0,u=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;u!==null||d!==null;){let h=l<i.length?i[l+1]:void 0,f=c<s.length?s[c+1]:void 0,p=null,m;u===d?(l+=2,c+=2,h!==f&&(p=d,m=f)):d===null||u!==null&&u<d?(l+=2,p=u):(c+=2,p=d,m=f),p!==null&&_b(t,e,n,r,p,m,o,a),u=l<i.length?i[l]:null,d=c<s.length?s[c]:null}}function _b(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let l=t.data,c=l[a+1],u=mR(c)?cv(l,e,n,i,qi(c),o):void 0;if(!kl(u)){kl(s)||pR(c)&&(s=cv(l,null,n,i,a,o));let d=Kv(jr(),n);OM(r,o,d,i,s)}}function cv(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let l=t[i],c=Array.isArray(l),u=c?l[1]:l,d=u===null,h=n[i+1];h===an&&(h=d?nt:void 0);let f=d?zd(h,r):u===r?h:void 0;if(c&&!kl(f)&&(f=zd(l,r)),kl(f)&&(a=f,o))return a;let p=t[i+1];i=o?Fr(p):qi(p)}if(e!==null){let l=s?e.residualClasses:e.residualStyles;l!=null&&(a=zd(l,r))}return a}function kl(t){return t!==void 0}function PR(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=qe(oo(t)))),t}function vb(t,e){return(t.flags&(e?8:16))!==0}function co(t,e){lo("NgControlFlow");let n=he(),r=uf(),i=n[r]!==an?n[r]:-1,s=i!==-1?uv(n,gt+i):void 0,o=0;if(Ji(n,r,t)){let a=ne(null);try{if(s!==void 0&&hN(s,o),t!==-1){let l=gt+t,c=uv(n,l),u=FR(n[q],l),d=Mh(c,u.tView.ssrId),h=Yw(n,u,e,{dehydratedView:d});Qw(c,h,o,Th(u,d))}}finally{ne(a)}}else if(s!==void 0){let a=dN(s,o);a!==void 0&&(a[It]=e)}}function uv(t,e){return t[e]}function FR(t,e){return af(t,e)}function LR(t,e,n,r,i,s){let o=e.consts,a=zi(o,i),l=ao(e,t,2,r,a);return Tf(e,n,l,zi(o,s)),l.attrs!==null&&Nl(l,l.attrs,!1),l.mergedAttrs!==null&&Nl(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function v(t,e,n,r){let i=he(),s=rt(),o=gt+t,a=i[xe],l=s.firstCreatePass?LR(o,s,i,e,n,r):s.data[o],c=VR(s,i,l,a,e,t);i[o]=c;let u=Wl(l);return Vr(l,!0),Vw(a,c,l),!lR(l)&&ql()&&Xl(s,i,c,l),vA()===0&&Kn(c,i),wA(),u&&(If(s,i,l),Cf(s,l,i)),r!==null&&Df(i,l),v}function T(){let t=it();cf()?ew():(t=t.parent,Vr(t,!1));let e=t;CA(e)&&IA(),bA();let n=rt();return n.firstCreatePass&&(Yl(n,t),of(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&jA(e)&&Uh(n,e,he(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&UA(e)&&Uh(n,e,he(),e.stylesWithoutHost,!1),T}function x(t,e,n,r){return v(t,e,n,r),T(),x}var VR=(t,e,n,r,i,s)=>(Kl(!0),xw(r,i,PA()));function jR(t,e,n,r,i){let s=e.consts,o=zi(s,r),a=ao(e,t,8,"ng-container",o);o!==null&&Nl(a,o,!0);let l=zi(s,i);return Tf(e,n,a,l),e.queries!==null&&e.queries.elementStart(e,a),a}function Of(t,e,n){let r=he(),i=rt(),s=t+gt,o=i.firstCreatePass?jR(s,i,r,e,n):i.data[s];Vr(o,!0);let a=UR(i,r,o,t);return r[s]=a,ql()&&Xl(i,r,a,o),Kn(a,r),Wl(o)&&(If(i,r,o),Cf(i,o,r)),n!=null&&Df(r,o),Of}function Pf(){let t=it(),e=rt();return cf()?ew():(t=t.parent,Vr(t,!1)),e.firstCreatePass&&(Yl(e,t),of(t)&&e.queries.elementEnd(t)),Pf}var UR=(t,e,n,r)=>(Kl(!0),yM(e[xe],""));function Ut(){return he()}var Ol="en-US";var BR=Ol;function $R(t){typeof t=="string"&&(BR=t.toLowerCase().replace(/_/g,"-"))}var HR=(t,e,n)=>{};function B(t,e,n,r){let i=he(),s=rt(),o=it();return WR(s,i,i[xe],o,t,e,r),B}function zR(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[_l],l=i[s+2];return a.length>l?a[l]:null}typeof o=="string"&&(s+=2)}return null}function WR(t,e,n,r,i,s,o){let a=Wl(r),c=t.firstCreatePass&&oN(t),u=e[It],d=sN(e),h=!0;if(r.type&3||o){let m=Vt(r,e),w=o?o(m):m,D=d.length,G=o?ie=>o(nn(ie[r.index])):r.index,F=null;if(!o&&a&&(F=zR(t,e,i,r.index)),F!==null){let ie=F.__ngLastListenerFn__||F;ie.__ngNextListenerFn__=s,F.__ngLastListenerFn__=s,h=!1}else{s=hv(r,e,u,s),HR(m,i,s);let ie=n.listen(w,i,s);d.push(s,ie),c&&c.push(i,G,D,D+1)}}else s=hv(r,e,u,s);let f=r.outputs,p;if(h&&f!==null&&(p=f[i])){let m=p.length;if(m)for(let w=0;w<m;w+=2){let D=p[w],G=p[w+1],Ue=e[D][G].subscribe(s),fe=d.length;d.push(s,Ue),c&&c.push(i,r.index,fe,-(fe+1))}}}function dv(t,e,n,r){let i=ne(null);try{return Zt(6,e,n),n(r)!==!1}catch(s){return Kw(t,s),!1}finally{Zt(7,e,n),ne(i)}}function hv(t,e,n,r){return function i(s){if(s===Function)return r;let o=t.componentOffset>-1?Zn(t.index,e):e;Nf(o,5);let a=dv(e,n,r,s),l=i.__ngNextListenerFn__;for(;l;)a=dv(e,n,l,s)&&a,l=l.__ngNextListenerFn__;return a}}function re(t=1){return xA(t)}function GR(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function ye(t,e=""){let n=he(),r=rt(),i=t+gt,s=r.firstCreatePass?ao(r,i,1,e,null):r.data[i],o=qR(r,n,s,e,t);n[i]=o,ql()&&Xl(r,n,o,s),Vr(s,!1)}var qR=(t,e,n,r,i)=>(Kl(!0),gM(e[xe],r));function Rn(t){return $r("",t,""),Rn}function $r(t,e,n){let r=he(),i=fR(r,t,e,n);return i!==an&&aN(r,jr(),i),$r}function KR(t,e,n){let r=rt();if(r.firstCreatePass){let i=Gn(t);Bh(n,r.data,r.blueprint,i,!0),Bh(e,r.data,r.blueprint,i,!1)}}function Bh(t,e,n,r,i){if(t=Ge(t),Array.isArray(t))for(let s=0;s<t.length;s++)Bh(t[s],e,n,r,i);else{let s=rt(),o=he(),a=it(),l=Ui(t)?t:Ge(t.provide),c=Uv(t),u=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(Ui(t)||!t.multi){let f=new Or(c,i,R),p=rh(l,e,i?u:u+h,d);p===-1?(_h(Dl(a,o),s,l),nh(s,t,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{let f=rh(l,e,u+h,d),p=rh(l,e,u,u+h),m=f>=0&&n[f],w=p>=0&&n[p];if(i&&!w||!i&&!m){_h(Dl(a,o),s,l);let D=ZR(i?QR:YR,n.length,i,r,c);!i&&w&&(n[p].providerFactory=D),nh(s,t,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(D),o.push(D)}else{let D=wb(n[i?p:f],c,!i&&r);nh(s,t,f>-1?f:p,D)}!i&&r&&w&&n[p].componentProviders++}}}function nh(t,e,n,r){let i=Ui(e),s=tA(e);if(i||s){let l=(s?Ge(e.useClass):e).prototype.ngOnDestroy;if(l){let c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let u=c.indexOf(n);u===-1?c.push(n,[r,l]):c[u+1].push(r,l)}else c.push(n,l)}}}function wb(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function rh(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function YR(t,e,n,r){return $h(this.multi,[])}function QR(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=Wi(n,n[q],this.providerFactory.index,r);s=a.slice(0,o),$h(i,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],$h(i,s);return s}function $h(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function ZR(t,e,n,r,i){let s=new Or(t,n,R);return s.multi=[],s.index=e,s.componentProviders=0,wb(s,i,r&&!n),s}function Hr(t,e=[]){return n=>{n.providersResolver=(r,i)=>KR(r,i?i(t):t,e)}}var JR=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=Lv(!1,r.type),s=i.length>0?xf([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=C({token:e,providedIn:"environment",factory:()=>new e(S(Ct))});let t=e;return t})();function Oe(t){lo("NgStandalone"),t.getStandaloneInjector=e=>e.get(JR).getOrCreateStandaloneInjector(t)}function Xi(t,e,n,r){return bb(he(),nw(),t,e,n,r)}function XR(t,e){let n=t[e];return n===an?void 0:n}function bb(t,e,n,r,i,s){let o=e+n;return Ji(t,o,i)?aR(t,o+1,s?r.call(s,i):r(i)):XR(t,o+1)}function ac(t,e){let n=rt(),r,i=t+gt;n.firstCreatePass?(r=ex(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let s=r.factory||(r.factory=Mr(r.type,!0)),o,a=tt(R);try{let l=Il(!1),c=s();return Il(l),GR(n,he(),i,c),c}finally{tt(a)}}function ex(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function lc(t,e,n){let r=t+gt,i=he(),s=pA(i,r);return tx(i,r)?bb(i,nw(),e,s.transform,n,s):s.transform(n)}function tx(t,e){return t[q].data[e].pure}var cc=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var Ff=new M(""),uo=new M(""),uc=(()=>{let e=class e{constructor(r,i,s){this._ngZone=r,this.registry=i,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Lf||(nx(s),s.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{pe.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(r)?(clearTimeout(i.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,s){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),r()},i)),this._callbacks.push({doneCb:r,timeoutId:o,updateCb:s})}whenStable(r,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,s),this._runCallbacksIfReady()}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,s){return[]}};e.\u0275fac=function(i){return new(i||e)(S(pe),S(dc),S(uo))},e.\u0275prov=C({token:e,factory:e.\u0275fac});let t=e;return t})(),dc=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return Lf?.findTestabilityInTree(this,r,i)??null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function nx(t){Lf=t}var Lf;function zr(t){return!!t&&typeof t.then=="function"}function Eb(t){return!!t&&typeof t.subscribe=="function"}var Cb=new M(""),Ib=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=E(Cb,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(zr(o))r.push(o);else if(Eb(o)){let a=new Promise((l,c)=>{o.subscribe({complete:l,error:c})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),hc=new M("");function rx(){a_(()=>{throw new y(600,!1)})}function ix(t){return t.isBoundToModule}var sx=10;function ox(t,e,n){try{let r=n();return zr(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Xn=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=E(Ew),this.afterRenderEffectManager=E(ob),this.zonelessEnabled=E(nb),this.externalTestViews=new Set,this.beforeRender=new ve,this.afterTick=new ve,this.componentTypes=[],this.components=[],this.isStable=E(Zi).hasPendingTasks.pipe($(r=>!r)),this._injector=E(Ct)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof Ml;if(!this._injector.get(Ib).done){let f=!s&&kv(r),p=!1;throw new y(405,p)}let a;s?a=r:a=this._injector.get(Gi).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let l=ix(a)?void 0:this._injector.get(Qn),c=i||a.selector,u=a.create(qn.NULL,[],c,l),d=u.location.nativeElement,h=u.injector.get(Ff,null);return h?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),ih(this.components,u),h?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new y(101,!1);let i=ne(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1,ne(i),this.afterTick.next()}}detectChangesInAttachedViews(r){let i=null;this._injector.destroyed||(i=this._injector.get(Yn,null,{optional:!0}));let s=0,o=this.afterRenderEffectManager;for(;s<sx;){let a=s===0;if(r||!a){this.beforeRender.next(a);for(let{_lView:l,notifyErrorHandler:c}of this._views)ax(l,c,a,this.zonelessEnabled)}else i?.begin?.(),i?.end?.();if(s++,o.executeInternalCallbacks(),!this.allViews.some(({_lView:l})=>Js(l))&&(o.execute(),!this.allViews.some(({_lView:l})=>Js(l))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;ih(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(hc,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>ih(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new y(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ih(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function ax(t,e,n,r){if(!n&&!Js(t))return;Jw(t,e,n&&!r?0:1)}var Hh=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Vf=(()=>{let e=class e{compileModuleSync(r){return new Lh(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=Ov(r),o=Rw(s.declarations).reduce((a,l)=>{let c=Nr(l);return c&&a.push(new to(c)),a},[]);return new Hh(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var lx=(()=>{let e=class e{constructor(){this.zone=E(pe),this.changeDetectionScheduler=E(eo),this.applicationRef=E(Xn)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function cx({ngZoneFactory:t,ignoreChangesOutsideZone:e}){return t??=()=>new pe(dx()),[{provide:pe,useFactory:t},{provide:Vi,multi:!0,useFactory:()=>{let n=E(lx,{optional:!0});return()=>n.initialize()}},{provide:Vi,multi:!0,useFactory:()=>{let n=E(hx);return()=>{n.initialize()}}},{provide:Ew,useFactory:ux},e===!0?{provide:rb,useValue:!0}:[]]}function ux(){let t=E(pe),e=E(Dn);return n=>t.runOutsideAngular(()=>e.handleError(n))}function dx(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var hx=(()=>{let e=class e{constructor(){this.subscription=new De,this.initialized=!1,this.zone=E(pe),this.pendingTasks=E(Zi)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{pe.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{pe.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var fx=(()=>{let e=class e{constructor(){this.appRef=E(Xn),this.taskService=E(Zi),this.ngZone=E(pe),this.zonelessEnabled=E(nb),this.disableScheduling=E(rb,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new De,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof kh||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&r===5)return;switch(r){case 3:case 2:case 0:case 4:case 5:case 1:{this.shouldRefreshViews=!0;break}case 8:case 7:case 6:case 9:default:}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?ev:ib;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&pe.isInAngularZone())}tick(r){if(this.runningTick||this.appRef.destroyed)return;let i=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(r)},void 0,this.schedulerTickApplyArgs)}catch(s){throw this.taskService.remove(i),s}finally{this.cleanup()}this.useMicrotaskScheduler=!0,ev(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(i)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function px(){return typeof $localize<"u"&&$localize.locale||Ol}var jf=new M("",{providedIn:"root",factory:()=>E(jf,H.Optional|H.SkipSelf)||px()});var Db=new M("");var hl=null;function gx(t=[],e){return qn.create({name:e,providers:[{provide:$l,useValue:"platform"},{provide:Db,useValue:new Set([()=>hl=null])},...t]})}function mx(t=[]){if(hl)return hl;let e=gx(t);return hl=e,rx(),yx(e),e}function yx(t){t.get(pf,null)?.forEach(n=>n())}var es=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=_x;let t=e;return t})();function _x(t){return vx(it(),he(),(t&16)===16)}function vx(t,e,n){if(zl(t)&&!n){let r=Zn(t.index,e);return new Pr(r,r)}else if(t.type&47){let r=e[tn];return new Pr(r,e)}return null}var zh=class{constructor(){}supports(e){return lb(e)}create(e){return new Wh(e)}},wx=(t,e)=>e,Wh=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||wx}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<fv(r,i,s)?n:r,a=fv(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let c=a-i,u=l-i;if(c!=u){for(let h=0;h<c;h++){let f=h<s.length?s[h]:s[h]=0,p=f+h;u<=p&&p<c&&(s[h]=f+1)}let d=o.previousIndex;s[d]=u-c}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!lb(e))throw new y(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,oR(e,a=>{o=this._trackByFn(i,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new Gh(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Pl),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Pl),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Gh=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},qh=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Pl=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new qh,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function fv(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var Kh=class{constructor(){}supports(e){return e instanceof Map||kf(e)}create(){return new Yh}},Yh=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let n;for(n=this._mapHead;n!==null;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||kf(e)))throw new y(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{let s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){let r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,n);let s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}let r=new Qh(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}},Qh=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function pv(){return new Uf([new zh])}var Uf=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||pv()),deps:[[e,new Jh,new jl]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i!=null)return i;throw new y(901,!1)}};e.\u0275prov=C({token:e,providedIn:"root",factory:pv});let t=e;return t})();function gv(){return new Bf([new Kh])}var Bf=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||gv()),deps:[[e,new Jh,new jl]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i)return i;throw new y(901,!1)}};e.\u0275prov=C({token:e,providedIn:"root",factory:gv});let t=e;return t})();var Sb=(()=>{let e=class e{constructor(r){}};e.\u0275fac=function(i){return new(i||e)(S(Xn))},e.\u0275mod=yt({type:e}),e.\u0275inj=mt({});let t=e;return t})();function Tb(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=mx(r),s=[cx({}),{provide:eo,useExisting:fx},...n||[]],a=new xl({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,l=a.get(pe);return l.run(()=>{a.resolveInjectorInitializers();let c=a.get(Dn,null),u;l.runOutsideAngular(()=>{u=l.onError.subscribe({next:f=>{c.handleError(f)}})});let d=()=>a.destroy(),h=i.get(Db);return h.add(d),a.onDestroy(()=>{u.unsubscribe(),h.delete(d)}),ox(c,l,()=>{let f=a.get(Ib);return f.runInitializers(),f.donePromise.then(()=>{let p=a.get(jf,Ol);$R(p||Ol);let m=a.get(Xn);return e!==void 0&&m.bootstrap(e),m})})})}catch(e){return Promise.reject(e)}}var kb=null;function ln(){return kb}function Ob(t){kb??=t}var fc=class{};var He=new M(""),Pb=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:()=>E(Cx),providedIn:"platform"});let t=e;return t})();var Cx=(()=>{let e=class e extends Pb{constructor(){super(),this._doc=E(He),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ln().getBaseHref(this._doc)}onPopState(r){let i=ln().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=ln().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function Fb(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function Ab(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Wr(t){return t&&t[0]!=="?"?"?"+t:t}var gc=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:()=>E(Lb),providedIn:"root"});let t=e;return t})(),Ix=new M(""),Lb=(()=>{let e=class e extends gc{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??E(He).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return Fb(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Wr(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Wr(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Wr(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(S(Pb),S(Ix,8))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ho=(()=>{let e=class e{constructor(r){this._subject=new le,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=Tx(Ab(Mb(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Wr(i))}normalize(r){return e.stripTrailingSlash(Sx(this._basePath,Mb(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Wr(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Wr(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=Wr,e.joinWithSlash=Fb,e.stripTrailingSlash=Ab,e.\u0275fac=function(i){return new(i||e)(S(gc))},e.\u0275prov=C({token:e,factory:()=>Dx(),providedIn:"root"});let t=e;return t})();function Dx(){return new ho(S(gc))}function Sx(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Mb(t){return t.replace(/\/index.html$/,"")}function Tx(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function Vb(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var Hf=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},mc=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((s,o,a)=>{if(s.previousIndex==null)i.createEmbeddedView(this._template,new Hf(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(o===null?void 0:o);else if(o!==null){let l=i.get(o);i.move(l,a),Nb(l,s)}});for(let s=0,o=i.length;s<o;s++){let l=i.get(s).context;l.index=s,l.count=o,l.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{let o=i.get(s.currentIndex);Nb(o,s)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(R(Qi),R(rc),R(Uf))},e.\u0275dir=Te({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function Nb(t,e){t.context.$implicit=e.item}var ts=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new zf,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){Rb("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){Rb("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(R(Qi),R(rc))},e.\u0275dir=Te({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),zf=class{constructor(){this.$implicit=null,this.ngIf=null}};function Rb(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${qe(e)}'.`)}var jb=(()=>{let e=class e{constructor(r,i,s){this._ngEl=r,this._differs=i,this._renderer=s,this._ngStyle=null,this._differ=null}set ngStyle(r){this._ngStyle=r,!this._differ&&r&&(this._differ=this._differs.find(r).create())}ngDoCheck(){if(this._differ){let r=this._differ.diff(this._ngStyle);r&&this._applyChanges(r)}}_setStyle(r,i){let[s,o]=r.split("."),a=s.indexOf("-")===-1?void 0:rn.DashCase;i!=null?this._renderer.setStyle(this._ngEl.nativeElement,s,o?`${i}${o}`:i,a):this._renderer.removeStyle(this._ngEl.nativeElement,s,a)}_applyChanges(r){r.forEachRemovedItem(i=>this._setStyle(i.key,null)),r.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),r.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}};e.\u0275fac=function(i){return new(i||e)(R(on),R(Bf),R(Nn))},e.\u0275dir=Te({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0});let t=e;return t})();var cn=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=yt({type:e}),e.\u0275inj=mt({});let t=e;return t})(),Ub="browser",Ax="server";function Gf(t){return t===Ax}var pc=class{};var Bb=new M("");var Qf=class extends fc{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Zf=class t extends Qf{static makeCurrent(){Ob(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=Mx();return n==null?null:Nx(n)}resetBaseElement(){fo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Vb(document.cookie,e)}},fo=null;function Mx(){return fo=fo||document.querySelector("base"),fo?fo.getAttribute("href"):null}function Nx(t){return new URL(t,document.baseURI).pathname}var Jf=class{addToWindow(e){Xt.getAngularTestability=(r,i=!0)=>{let s=e.findTestabilityInTree(r,i);if(s==null)throw new y(5103,!1);return s},Xt.getAllAngularTestabilities=()=>e.getAllTestabilities(),Xt.getAllAngularRootElements=()=>e.getAllRootElements();let n=r=>{let i=Xt.getAllAngularTestabilities(),s=i.length,o=function(){s--,s==0&&r()};i.forEach(a=>{a.whenStable(o)})};Xt.frameworkStabilizers||(Xt.frameworkStabilizers=[]),Xt.frameworkStabilizers.push(n)}findTestabilityInTree(e,n,r){if(n==null)return null;let i=e.getTestability(n);return i??(r?ln().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},Rx=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac});let t=e;return t})(),Xf=new M(""),zb=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new y(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(S(Xf),S(pe))},e.\u0275prov=C({token:e,factory:e.\u0275fac});let t=e;return t})(),yc=class{constructor(e){this._doc=e}},Kf="ng-app-id",Wb=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Gf(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Kf}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(Kf),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Kf,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(S(He),S(Zl),S(mf,8),S(Ur))},e.\u0275prov=C({token:e,factory:e.\u0275fac});let t=e;return t})(),Yf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},tp=/%COMP%/g,Gb="%COMP%",xx=`_nghost-${Gb}`,kx=`_ngcontent-${Gb}`,Ox=!0,Px=new M("",{providedIn:"root",factory:()=>Ox});function Fx(t){return kx.replace(tp,t)}function Lx(t){return xx.replace(tp,t)}function qb(t,e){return e.map(n=>n.replace(tp,t))}var _c=(()=>{let e=class e{constructor(r,i,s,o,a,l,c,u=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=l,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=Gf(l),this.defaultRenderer=new po(r,a,c,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===en.ShadowDom&&(i=X(b({},i),{encapsulation:en.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof vc?s.applyToHost(r):s instanceof go&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,l=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case en.Emulated:o=new vc(c,u,i,this.appId,d,a,l,h);break;case en.ShadowDom:return new ep(c,u,r,i,a,l,this.nonce,h);default:o=new go(c,u,i,d,a,l,h);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(S(zb),S(Wb),S(Zl),S(Px),S(He),S(Ur),S(pe),S(mf))},e.\u0275prov=C({token:e,factory:e.\u0275fac});let t=e;return t})(),po=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Yf[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){($b(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&($b(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new y(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=Yf[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Yf[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(rn.DashCase|rn.Important)?e.style.setProperty(n,r,i&rn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&rn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=ln().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function $b(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var ep=class extends po{constructor(e,n,r,i,s,o,a,l){super(e,s,o,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=qb(i.id,i.styles);for(let u of c){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},go=class extends po{constructor(e,n,r,i,s,o,a,l){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=l?qb(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},vc=class extends go{constructor(e,n,r,i,s,o,a,l){let c=i+"-"+r.id;super(e,n,r,s,o,a,l,c),this.contentAttr=Fx(c),this.hostAttr=Lx(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},Vx=(()=>{let e=class e extends yc{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(S(He))},e.\u0275prov=C({token:e,factory:e.\u0275fac});let t=e;return t})(),Hb=["alt","control","meta","shift"],jx={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ux={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},Bx=(()=>{let e=class e extends yc{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ln().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",l=i.indexOf("code");if(l>-1&&(i.splice(l,1),a="code."),Hb.forEach(u=>{let d=i.indexOf(u);d>-1&&(i.splice(d,1),a+=u+".")}),a+=o,i.length!=0||o.length===0)return null;let c={};return c.domEventName=s,c.fullKey=a,c}static matchEventFullKeyCode(r,i){let s=jx[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),Hb.forEach(a=>{if(a!==s){let l=Ux[a];l(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(S(He))},e.\u0275prov=C({token:e,factory:e.\u0275fac});let t=e;return t})();function Kb(t,e){return Tb(b({rootComponent:t},$x(e)))}function $x(t){return{appProviders:[...Yb,...t?.providers??[]],platformProviders:Gx}}function Hx(){Zf.makeCurrent()}function zx(){return new Dn}function Wx(){return Mw(document),document}var Gx=[{provide:Ur,useValue:Ub},{provide:pf,useValue:Hx,multi:!0},{provide:He,useFactory:Wx,deps:[]}];var qx=new M(""),Kx=[{provide:uo,useClass:Jf,deps:[]},{provide:Ff,useClass:uc,deps:[pe,dc,uo]},{provide:uc,useClass:uc,deps:[pe,dc,uo]}],Yb=[{provide:$l,useValue:"root"},{provide:Dn,useFactory:zx,deps:[]},{provide:Xf,useClass:Vx,multi:!0,deps:[He,pe,Ur]},{provide:Xf,useClass:Bx,multi:!0,deps:[He]},_c,Wb,zb,{provide:Yn,useExisting:_c},{provide:pc,useClass:Rx,deps:[]},[]],Qb=(()=>{let e=class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:Zl,useValue:r.appId}]}}};e.\u0275fac=function(i){return new(i||e)(S(qx,12))},e.\u0275mod=yt({type:e}),e.\u0275inj=mt({providers:[...Yb,...Kx],imports:[cn,Sb]});let t=e;return t})();var Zb=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(S(He))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var U="primary",xo=Symbol("RouteTitle"),op=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function as(t){return new op(t)}function Zx(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Jx(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!un(t[n],e[n]))return!1;return!0}function un(t,e){let n=t?ap(t):void 0,r=e?ap(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!sE(t[i],e[i]))return!1;return!0}function ap(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function sE(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function oE(t){return t.length>0?t[t.length-1]:null}function tr(t){return Fd(t)?t:zr(t)?Ce(Promise.resolve(t)):O(t)}var Xx={exact:lE,subset:cE},aE={exact:ek,subset:tk,ignored:()=>!0};function Jb(t,e,n){return Xx[n.paths](t.root,e.root,n.matrixParams)&&aE[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function ek(t,e){return un(t,e)}function lE(t,e,n){if(!qr(t.segments,e.segments)||!Ec(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!lE(t.children[r],e.children[r],n))return!1;return!0}function tk(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>sE(t[n],e[n]))}function cE(t,e,n){return uE(t,e,e.segments,n)}function uE(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!qr(i,n)||e.hasChildren()||!Ec(i,n,r))}else if(t.segments.length===n.length){if(!qr(t.segments,n)||!Ec(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!cE(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!qr(t.segments,i)||!Ec(t.segments,i,r)||!t.children[U]?!1:uE(t.children[U],e,s,r)}}function Ec(t,e,n){return e.every((r,i)=>aE[n](t[i].parameters,r.parameters))}var er=class{constructor(e=new ae([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=as(this.queryParams),this._queryParamMap}toString(){return ik.serialize(this)}},ae=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Cc(this)}},Gr=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=as(this.parameters),this._parameterMap}toString(){return hE(this)}};function nk(t,e){return qr(t,e)&&t.every((n,r)=>un(n.parameters,e[r].parameters))}function qr(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function rk(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===U&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==U&&(n=n.concat(e(i,r)))}),n}var kp=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:()=>new Eo,providedIn:"root"});let t=e;return t})(),Eo=class{parse(e){let n=new cp(e);return new er(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${mo(e.root,!0)}`,r=ak(e.queryParams),i=typeof e.fragment=="string"?`#${sk(e.fragment)}`:"";return`${n}${r}${i}`}},ik=new Eo;function Cc(t){return t.segments.map(e=>hE(e)).join("/")}function mo(t,e){if(!t.hasChildren())return Cc(t);if(e){let n=t.children[U]?mo(t.children[U],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==U&&r.push(`${i}:${mo(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=rk(t,(r,i)=>i===U?[mo(t.children[U],!1)]:[`${i}:${mo(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[U]!=null?`${Cc(t)}/${n[0]}`:`${Cc(t)}/(${n.join("//")})`}}function dE(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function wc(t){return dE(t).replace(/%3B/gi,";")}function sk(t){return encodeURI(t)}function lp(t){return dE(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ic(t){return decodeURIComponent(t)}function Xb(t){return Ic(t.replace(/\+/g,"%20"))}function hE(t){return`${lp(t.path)}${ok(t.parameters)}`}function ok(t){return Object.entries(t).map(([e,n])=>`;${lp(e)}=${lp(n)}`).join("")}function ak(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${wc(n)}=${wc(i)}`).join("&"):`${wc(n)}=${wc(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var lk=/^[^\/()?;#]+/;function np(t){let e=t.match(lk);return e?e[0]:""}var ck=/^[^\/()?;=#]+/;function uk(t){let e=t.match(ck);return e?e[0]:""}var dk=/^[^=?&#]+/;function hk(t){let e=t.match(dk);return e?e[0]:""}var fk=/^[^&#]+/;function pk(t){let e=t.match(fk);return e?e[0]:""}var cp=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ae([],{}):new ae([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[U]=new ae(e,n)),r}parseSegment(){let e=np(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new y(4009,!1);return this.capture(e),new Gr(Ic(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=uk(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=np(this.remaining);i&&(r=i,this.capture(r))}e[Ic(n)]=Ic(r)}parseQueryParam(e){let n=hk(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=pk(this.remaining);o&&(r=o,this.capture(r))}let i=Xb(n),s=Xb(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=np(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new y(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=U);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[U]:new ae([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new y(4011,!1)}};function fE(t){return t.segments.length>0?new ae([],{[U]:t}):t}function pE(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=pE(i);if(r===U&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new ae(t.segments,e);return gk(n)}function gk(t){if(t.numberOfChildren===1&&t.children[U]){let e=t.children[U];return new ae(t.segments.concat(e.segments),e.children)}return t}function Co(t){return t instanceof er}function mk(t,e,n=null,r=null){let i=gE(t);return mE(i,e,n,r)}function gE(t){let e;function n(s){let o={};for(let l of s.children){let c=n(l);o[l.outlet]=c}let a=new ae(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=fE(r);return e??i}function mE(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return rp(i,i,i,n,r);let s=yk(e);if(s.toRoot())return rp(i,i,new ae([],{}),n,r);let o=_k(s,i,t),a=o.processChildren?vo(o.segmentGroup,o.index,s.commands):_E(o.segmentGroup,o.index,s.commands);return rp(i,o.segmentGroup,a,n,r)}function Dc(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Io(t){return typeof t=="object"&&t!=null&&t.outlets}function rp(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let o;t===e?o=n:o=yE(t,e,n);let a=fE(pE(o));return new er(a,s,i)}function yE(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=yE(s,e,n)}),new ae(t.segments,r)}var Sc=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Dc(r[0]))throw new y(4003,!1);let i=r.find(Io);if(i&&i!==oE(r))throw new y(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function yk(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Sc(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new Sc(n,e,r)}var is=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function _k(t,e,n){if(t.isAbsolute)return new is(e,!0,0);if(!n)return new is(e,!1,NaN);if(n.parent===null)return new is(n,!0,0);let r=Dc(t.commands[0])?0:1,i=n.segments.length-1+r;return vk(n,i,t.numberOfDoubleDots)}function vk(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new y(4005,!1);i=r.segments.length}return new is(r,!1,i-s)}function wk(t){return Io(t[0])?t[0].outlets:{[U]:t}}function _E(t,e,n){if(t??=new ae([],{}),t.segments.length===0&&t.hasChildren())return vo(t,e,n);let r=bk(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new ae(t.segments.slice(0,r.pathIndex),{});return s.children[U]=new ae(t.segments.slice(r.pathIndex),t.children),vo(s,0,i)}else return r.match&&i.length===0?new ae(t.segments,{}):r.match&&!t.hasChildren()?up(t,e,n):r.match?vo(t,0,i):up(t,e,n)}function vo(t,e,n){if(n.length===0)return new ae(t.segments,{});{let r=wk(n),i={};if(Object.keys(r).some(s=>s!==U)&&t.children[U]&&t.numberOfChildren===1&&t.children[U].segments.length===0){let s=vo(t.children[U],e,n);return new ae(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=_E(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new ae(t.segments,i)}}function bk(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(Io(a))break;let l=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!tE(l,c,o))return s;r+=2}else{if(!tE(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function up(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(Io(s)){let l=Ek(s.outlets);return new ae(r,l)}if(i===0&&Dc(n[0])){let l=t.segments[e];r.push(new Gr(l.path,eE(n[0]))),i++;continue}let o=Io(s)?s.outlets[U]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Dc(a)?(r.push(new Gr(o,eE(a))),i+=2):(r.push(new Gr(o,{})),i++)}return new ae(r,{})}function Ek(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=up(new ae([],{}),0,r))}),e}function eE(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function tE(t,e,n){return t==n.path&&un(e,n.parameters)}var wo="imperative",Ve=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Ve||{}),Dt=class{constructor(e,n){this.id=e,this.url=n}},Do=class extends Dt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Ve.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Kr=class extends Dt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Ve.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},vt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(vt||{}),dp=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(dp||{}),xn=class extends Dt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ve.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Yr=class extends Dt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ve.NavigationSkipped}},So=class extends Dt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Ve.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Tc=class extends Dt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ve.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},hp=class extends Dt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ve.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},fp=class extends Dt{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=Ve.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},pp=class extends Dt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ve.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},gp=class extends Dt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ve.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},mp=class{constructor(e){this.route=e,this.type=Ve.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},yp=class{constructor(e){this.route=e,this.type=Ve.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},_p=class{constructor(e){this.snapshot=e,this.type=Ve.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},vp=class{constructor(e){this.snapshot=e,this.type=Ve.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},wp=class{constructor(e){this.snapshot=e,this.type=Ve.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},bp=class{constructor(e){this.snapshot=e,this.type=Ve.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var To=class{},ls=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};var Ep=class{constructor(e){this.injector=e,this.outlet=null,this.route=null,this.children=new Oc(this.injector),this.attachRef=null}},Oc=(()=>{let e=class e{constructor(r){this.parentInjector=r,this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Ep(this.parentInjector),this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)(S(Ct))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ac=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Cp(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Cp(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Ip(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Ip(e,this._root).map(n=>n.value)}};function Cp(t,e){if(t===e.value)return e;for(let n of e.children){let r=Cp(t,n);if(r)return r}return null}function Ip(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Ip(t,n);if(r.length)return r.unshift(e),r}return[]}var _t=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function rs(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Mc=class extends Ac{constructor(e,n){super(e),this.snapshot=n,Op(this,e)}toString(){return this.snapshot.toString()}};function vE(t){let e=Ck(t),n=new Fe([new Gr("",{})]),r=new Fe({}),i=new Fe({}),s=new Fe({}),o=new Fe(""),a=new cs(n,r,s,o,i,U,t,e.root);return a.snapshot=e.root,new Mc(new _t(a,[]),e)}function Ck(t){let e={},n={},r={},i="",s=new ss([],e,r,i,n,U,t,null,{});return new Rc("",new _t(s,[]))}var cs=class{constructor(e,n,r,i,s,o,a,l){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe($(c=>c[xo]))??O(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe($(e=>as(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe($(e=>as(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Nc(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:b(b({},e.params),t.params),data:b(b({},e.data),t.data),resolve:b(b(b(b({},t.data),e.data),i?.data),t._resolvedData)}:r={params:b({},t.params),data:b({},t.data),resolve:b(b({},t.data),t._resolvedData??{})},i&&bE(i)&&(r.resolve[xo]=i.title),r}var ss=class{get title(){return this.data?.[xo]}constructor(e,n,r,i,s,o,a,l,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=as(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=as(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Rc=class extends Ac{constructor(e,n){super(n),this.url=e,Op(this,n)}toString(){return wE(this._root)}};function Op(t,e){e.value._routerState=t,e.children.forEach(n=>Op(t,n))}function wE(t){let e=t.children.length>0?` { ${t.children.map(wE).join(", ")} } `:"";return`${t.value}${e}`}function ip(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,un(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),un(e.params,n.params)||t.paramsSubject.next(n.params),Jx(e.url,n.url)||t.urlSubject.next(n.url),un(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Dp(t,e){let n=un(t.params,e.params)&&nk(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Dp(t.parent,e.parent))}function bE(t){return typeof t.title=="string"||t.title===null}var Pp=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=U,this.activateEvents=new le,this.deactivateEvents=new le,this.attachEvents=new le,this.detachEvents=new le,this.parentContexts=E(Oc),this.location=E(Qi),this.changeDetector=E(es),this.inputBinder=E(Fp,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new y(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new y(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new y(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new y(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new Sp(r,l,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:c,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Te({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Lr]});let t=e;return t})(),Sp=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===cs?this.route:e===Oc?this.childContexts:this.parent.get(e,n)}},Fp=new M("");function Ik(t,e,n){let r=Ao(t,e._root,n?n._root:void 0);return new Mc(r,e)}function Ao(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=Dk(t,e,n);return new _t(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Ao(t,a)),o}}let r=Sk(e.value),i=e.children.map(s=>Ao(t,s));return new _t(r,i)}}function Dk(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Ao(t,r,i);return Ao(t,r)})}function Sk(t){return new cs(new Fe(t.url),new Fe(t.params),new Fe(t.queryParams),new Fe(t.fragment),new Fe(t.data),t.outlet,t.component,t)}var Mo=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},EE="ngNavigationCancelingError";function xc(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Co(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=CE(!1,vt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function CE(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[EE]=!0,n.cancellationCode=e,n}function Tk(t){return IE(t)&&Co(t.url)}function IE(t){return!!t&&t[EE]}var Ak=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ke({type:e,selectors:[["ng-component"]],standalone:!0,features:[Oe],decls:1,vars:0,template:function(i,s){i&1&&x(0,"router-outlet")},dependencies:[Pp],encapsulation:2});let t=e;return t})();function Mk(t,e){return t.providers&&!t._injector&&(t._injector=xf(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Lp(t){let e=t.children&&t.children.map(Lp),n=e?X(b({},t),{children:e}):b({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==U&&(n.component=Ak),n}function Bt(t){return t.outlet||U}function Nk(t,e){let n=t.filter(r=>Bt(r)===e);return n.push(...t.filter(r=>Bt(r)!==e)),n}function ko(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Rk=(t,e,n,r)=>$(i=>(new Tp(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Tp=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),ip(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=rs(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=rs(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=rs(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=rs(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new bp(s.value.snapshot))}),e.children.length&&this.forwardEvent(new vp(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(ip(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),ip(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=ko(i.snapshot);o.attachRef=null,o.route=i,o.injector=a??o.injector,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},kc=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},os=class{constructor(e,n){this.component=e,this.route=n}};function xk(t,e,n){let r=t._root,i=e?e._root:null;return yo(r,i,n,[r.value])}function kk(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function ds(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!_v(t)?t:e.get(t):r}function yo(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=rs(e);return t.children.forEach(o=>{Ok(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>bo(a,n.getContext(o),i)),i}function Ok(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let l=Pk(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new kc(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?yo(t,e,a?a.children:null,r,i):yo(t,e,n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new os(a.outlet.component,o))}else o&&bo(e,a,i),i.canActivateChecks.push(new kc(r)),s.component?yo(t,null,a?a.children:null,r,i):yo(t,null,n,r,i);return i}function Pk(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!qr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!qr(t.url,e.url)||!un(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Dp(t,e)||!un(t.queryParams,e.queryParams);case"paramsChange":default:return!Dp(t,e)}}function bo(t,e,n){let r=rs(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?bo(o,e.children.getContext(s),n):bo(o,null,n):bo(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new os(e.outlet.component,i)):n.canDeactivateChecks.push(new os(null,i)):n.canDeactivateChecks.push(new os(null,i))}function Oo(t){return typeof t=="function"}function Fk(t){return typeof t=="boolean"}function Lk(t){return t&&Oo(t.canLoad)}function Vk(t){return t&&Oo(t.canActivate)}function jk(t){return t&&Oo(t.canActivateChild)}function Uk(t){return t&&Oo(t.canDeactivate)}function Bk(t){return t&&Oo(t.canMatch)}function DE(t){return t instanceof En||t?.name==="EmptyError"}var bc=Symbol("INITIAL_VALUE");function us(){return Ot(t=>rl(t.map(e=>e.pipe(Cn(1),$d(bc)))).pipe($(e=>{for(let n of e)if(n!==!0){if(n===bc)return bc;if(n===!1||$k(n))return n}return!0}),kt(e=>e!==bc),Cn(1)))}function $k(t){return Co(t)||t instanceof Mo}function Hk(t,e){return we(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?O(X(b({},n),{guardsResult:!0})):zk(o,r,i,t).pipe(we(a=>a&&Fk(a)?Wk(r,s,t,e):O(a)),$(a=>X(b({},n),{guardsResult:a})))})}function zk(t,e,n,r){return Ce(t).pipe(we(i=>Qk(i.component,i.route,n,e,r)),Qt(i=>i!==!0,!0))}function Wk(t,e,n,r){return Ce(e).pipe(Ni(i=>Ai(qk(i.route.parent,r),Gk(i.route,r),Yk(t,i.path,n),Kk(t,i.route,n))),Qt(i=>i!==!0,!0))}function Gk(t,e){return t!==null&&e&&e(new wp(t)),O(!0)}function qk(t,e){return t!==null&&e&&e(new _p(t)),O(!0)}function Kk(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return O(!0);let i=r.map(s=>Mi(()=>{let o=ko(e)??n,a=ds(s,o),l=Vk(a)?a.canActivate(e,t):sn(o,()=>a(e,t));return tr(l).pipe(Qt())}));return O(i).pipe(us())}function Yk(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>kk(o)).filter(o=>o!==null).map(o=>Mi(()=>{let a=o.guards.map(l=>{let c=ko(o.node)??n,u=ds(l,c),d=jk(u)?u.canActivateChild(r,t):sn(c,()=>u(r,t));return tr(d).pipe(Qt())});return O(a).pipe(us())}));return O(s).pipe(us())}function Qk(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return O(!0);let o=s.map(a=>{let l=ko(e)??i,c=ds(a,l),u=Uk(c)?c.canDeactivate(t,e,n,r):sn(l,()=>c(t,e,n,r));return tr(u).pipe(Qt())});return O(o).pipe(us())}function Zk(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return O(!0);let s=i.map(o=>{let a=ds(o,t),l=Lk(a)?a.canLoad(e,n):sn(t,()=>a(e,n));return tr(l)});return O(s).pipe(us(),SE(r))}function SE(t){return Rd(Le(e=>{if(typeof e!="boolean")throw xc(t,e)}),$(e=>e===!0))}function Jk(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return O(!0);let s=i.map(o=>{let a=ds(o,t),l=Bk(a)?a.canMatch(e,n):sn(t,()=>a(e,n));return tr(l)});return O(s).pipe(us(),SE(r))}var No=class{constructor(e){this.segmentGroup=e||null}},Ro=class extends Error{constructor(e){super(),this.urlTree=e}};function ns(t){return Ti(new No(t))}function Xk(t){return Ti(new y(4e3,!1))}function eO(t){return Ti(CE(!1,vt.GuardRejected))}var Ap=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return O(r);if(i.numberOfChildren>1||!i.children[U])return Xk(`${e.redirectTo}`);i=i.children[U]}}applyRedirectCommands(e,n,r,i,s){if(typeof n!="string"){let a=n,{queryParams:l,fragment:c,routeConfig:u,url:d,outlet:h,params:f,data:p,title:m}=i,w=sn(s,()=>a({params:f,data:p,queryParams:l,fragment:c,routeConfig:u,url:d,outlet:h,title:m}));if(w instanceof er)throw new Ro(w);n=w}let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Ro(o);return o}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new er(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(e,l,r,i)}),new ae(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new y(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Mp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function tO(t,e,n,r,i){let s=Vp(t,e,n);return s.matched?(r=Mk(e,r),Jk(r,e,n,i).pipe($(o=>o===!0?s:b({},Mp)))):O(s)}function Vp(t,e,n){if(e.path==="**")return nO(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?b({},Mp):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||Zx)(n,t,e);if(!i)return b({},Mp);let s={};Object.entries(i.posParams??{}).forEach(([a,l])=>{s[a]=l.path});let o=i.consumed.length>0?b(b({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function nO(t){return{matched:!0,parameters:t.length>0?oE(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function nE(t,e,n,r){return n.length>0&&sO(t,n,r)?{segmentGroup:new ae(e,iO(r,new ae(n,t.children))),slicedSegments:[]}:n.length===0&&oO(t,n,r)?{segmentGroup:new ae(t.segments,rO(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ae(t.segments,t.children),slicedSegments:n}}function rO(t,e,n,r){let i={};for(let s of n)if(Pc(t,e,s)&&!r[Bt(s)]){let o=new ae([],{});i[Bt(s)]=o}return b(b({},r),i)}function iO(t,e){let n={};n[U]=e;for(let r of t)if(r.path===""&&Bt(r)!==U){let i=new ae([],{});n[Bt(r)]=i}return n}function sO(t,e,n){return n.some(r=>Pc(t,e,r)&&Bt(r)!==U)}function oO(t,e,n){return n.some(r=>Pc(t,e,r))}function Pc(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function aO(t,e,n,r){return Bt(t)!==r&&(r===U||!Pc(e,n,t))?!1:Vp(e,t,n).matched}function lO(t,e,n){return e.length===0&&!t.children[n]}var Np=class{};function cO(t,e,n,r,i,s,o="emptyOnly"){return new Rp(t,e,n,r,i,o,s).recognize()}var uO=31,Rp=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Ap(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new y(4002,`'${e.segmentGroup}'`)}recognize(){let e=nE(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe($(({children:n,rootSnapshot:r})=>{let i=new _t(r,n),s=new Rc("",i),o=mk(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let n=new ss([],Object.freeze({}),Object.freeze(b({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),U,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,U,n).pipe($(r=>({children:r,rootSnapshot:n})),Bn(r=>{if(r instanceof Ro)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof No?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,s):this.processSegment(e,n,r,r.segments,i,!0,s).pipe($(o=>o instanceof _t?[o]:[]))}processChildren(e,n,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return Ce(s).pipe(Ni(o=>{let a=r.children[o],l=Nk(n,o);return this.processSegmentGroup(e,l,a,o,i)}),Bd((o,a)=>(o.push(...a),o)),$n(null),Ud(),we(o=>{if(o===null)return ns(r);let a=TE(o);return dO(a),O(a)}))}processSegment(e,n,r,i,s,o,a){return Ce(n).pipe(Ni(l=>this.processSegmentAgainstRoute(l._injector??e,n,l,r,i,s,o,a).pipe(Bn(c=>{if(c instanceof No)return O(null);throw c}))),Qt(l=>!!l),Bn(l=>{if(DE(l))return lO(r,i,s)?O(new Np):ns(r);throw l}))}processSegmentAgainstRoute(e,n,r,i,s,o,a,l){return aO(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o,l):ns(i):ns(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o,a){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:d,remainingSegments:h}=Vp(n,i,s);if(!l)return ns(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>uO&&(this.allowRedirects=!1));let f=new ss(s,c,Object.freeze(b({},this.urlTree.queryParams)),this.urlTree.fragment,rE(i),Bt(i),i.component??i._loadedComponent??null,i,iE(i)),p=Nc(f,a,this.paramsInheritanceStrategy);f.params=Object.freeze(p.params),f.data=Object.freeze(p.data);let m=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,f,e);return this.applyRedirects.lineralizeSegments(i,m).pipe(we(w=>this.processSegment(e,r,n,w.concat(h),o,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a=tO(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Ot(l=>l.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Ot(({routes:c})=>{let u=r._loadedInjector??e,{parameters:d,consumedSegments:h,remainingSegments:f}=l,p=new ss(h,d,Object.freeze(b({},this.urlTree.queryParams)),this.urlTree.fragment,rE(r),Bt(r),r.component??r._loadedComponent??null,r,iE(r)),m=Nc(p,o,this.paramsInheritanceStrategy);p.params=Object.freeze(m.params),p.data=Object.freeze(m.data);let{segmentGroup:w,slicedSegments:D}=nE(n,h,f,c);if(D.length===0&&w.hasChildren())return this.processChildren(u,c,w,p).pipe($(F=>new _t(p,F)));if(c.length===0&&D.length===0)return O(new _t(p,[]));let G=Bt(r)===s;return this.processSegment(u,c,w,D,G?U:s,!0,p).pipe($(F=>new _t(p,F instanceof _t?[F]:[])))}))):ns(n)))}getChildConfig(e,n,r){return n.children?O({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?O({routes:n._loadedRoutes,injector:n._loadedInjector}):Zk(e,n,r,this.urlSerializer).pipe(we(i=>i?this.configLoader.loadChildren(e,n).pipe(Le(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):eO(n))):O({routes:[],injector:e})}};function dO(t){t.sort((e,n)=>e.value.outlet===U?-1:n.value.outlet===U?1:e.value.outlet.localeCompare(n.value.outlet))}function hO(t){let e=t.value.routeConfig;return e&&e.path===""}function TE(t){let e=[],n=new Set;for(let r of t){if(!hO(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=TE(r.children);e.push(new _t(r.value,i))}return e.filter(r=>!n.has(r))}function rE(t){return t.data||{}}function iE(t){return t.resolve||{}}function fO(t,e,n,r,i,s){return we(o=>cO(t,e,n,r,o.extractedUrl,i,s).pipe($(({state:a,tree:l})=>X(b({},o),{targetSnapshot:a,urlAfterRedirects:l}))))}function pO(t,e){return we(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return O(n);let s=new Set(i.map(l=>l.route)),o=new Set;for(let l of s)if(!o.has(l))for(let c of AE(l))o.add(c);let a=0;return Ce(o).pipe(Ni(l=>s.has(l)?gO(l,r,t,e):(l.data=Nc(l,l.parent,t).resolve,O(void 0))),Le(()=>a++),Ri(1),we(l=>a===o.size?O(n):ft))})}function AE(t){let e=t.children.map(n=>AE(n)).flat();return[t,...e]}function gO(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!bE(i)&&(s[xo]=i.title),mO(s,t,e,r).pipe($(o=>(t._resolvedData=o,t.data=Nc(t,t.parent,n).resolve,null)))}function mO(t,e,n,r){let i=ap(t);if(i.length===0)return O({});let s={};return Ce(i).pipe(we(o=>yO(t[o],e,n,r).pipe(Qt(),Le(a=>{if(a instanceof Mo)throw xc(new Eo,a);s[o]=a}))),Ri(1),jd(s),Bn(o=>DE(o)?ft:Ti(o)))}function yO(t,e,n,r){let i=ko(e)??r,s=ds(t,i),o=s.resolve?s.resolve(e,n):sn(i,()=>s(e,n));return tr(o)}function sp(t){return Ot(e=>{let n=t(e);return n?Ce(n).pipe($(()=>e)):O(e)})}var ME=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===U);return i}getResolvedTitleForRoute(r){return r.data[xo]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:()=>E(_O),providedIn:"root"});let t=e;return t})(),_O=(()=>{let e=class e extends ME{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(S(Zb))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),jp=new M("",{providedIn:"root",factory:()=>({})}),Up=new M(""),vO=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=E(Vf)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return O(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=tr(r.loadComponent()).pipe($(NE),Le(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),Gs(()=>{this.componentLoaders.delete(r)})),s=new Si(i,()=>new ve).pipe(Di());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return O({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=wO(i,this.compiler,r,this.onLoadEndListener).pipe(Gs(()=>{this.childrenLoaders.delete(i)})),a=new Si(o,()=>new ve).pipe(Di());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function wO(t,e,n,r){return tr(t.loadChildren()).pipe($(NE),we(i=>i instanceof no||Array.isArray(i)?O(i):Ce(e.compileModuleAsync(i))),$(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(Up,[],{optional:!0,self:!0}).flat()),{routes:o.map(Lp),injector:s}}))}function bO(t){return t&&typeof t=="object"&&"default"in t}function NE(t){return bO(t)?t.default:t}var Bp=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:()=>E(EO),providedIn:"root"});let t=e;return t})(),EO=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),CO=new M("");var IO=new M(""),DO=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ve,this.transitionAbortSubject=new ve,this.configLoader=E(vO),this.environmentInjector=E(Ct),this.urlSerializer=E(kp),this.rootContexts=E(Oc),this.location=E(ho),this.inputBindingEnabled=E(Fp,{optional:!0})!==null,this.titleStrategy=E(ME),this.options=E(jp,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=E(Bp),this.createViewTransition=E(CO,{optional:!0}),this.navigationErrorHandler=E(IO,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>O(void 0),this.rootComponentType=null;let r=s=>this.events.next(new mp(s)),i=s=>this.events.next(new yp(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(X(b(b({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new Fe({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:wo,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(kt(o=>o.id!==0),$(o=>X(b({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Ot(o=>{let a=!1,l=!1;return O(o).pipe(Ot(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",vt.SupersededByNewNavigation),ft;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?X(b({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=c.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!u&&d!=="reload"){let h="";return this.events.next(new Yr(c.id,this.urlSerializer.serialize(c.rawUrl),h,dp.IgnoredSameUrlNavigation)),c.resolve(!1),ft}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return O(c).pipe(Ot(h=>{let f=this.transitions?.getValue();return this.events.next(new Do(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?ft:Promise.resolve(h)}),fO(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Le(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=X(b({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let f=new Tc(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:h,extractedUrl:f,source:p,restoredState:m,extras:w}=c,D=new Do(h,this.urlSerializer.serialize(f),p,m);this.events.next(D);let G=vE(this.rootComponentType).snapshot;return this.currentTransition=o=X(b({},c),{targetSnapshot:G,urlAfterRedirects:f,extras:X(b({},w),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,O(o)}else{let h="";return this.events.next(new Yr(c.id,this.urlSerializer.serialize(c.extractedUrl),h,dp.IgnoredByUrlHandlingStrategy)),c.resolve(!1),ft}}),Le(c=>{let u=new hp(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),$(c=>(this.currentTransition=o=X(b({},c),{guards:xk(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),Hk(this.environmentInjector,c=>this.events.next(c)),Le(c=>{if(o.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw xc(this.urlSerializer,c.guardsResult);let u=new fp(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),kt(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",vt.GuardRejected),!1)),sp(c=>{if(c.guards.canActivateChecks.length)return O(c).pipe(Le(u=>{let d=new pp(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),Ot(u=>{let d=!1;return O(u).pipe(pO(this.paramsInheritanceStrategy,this.environmentInjector),Le({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",vt.NoDataFromResolver)}}))}),Le(u=>{let d=new gp(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),sp(c=>{let u=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(Le(f=>{d.component=f}),$(()=>{})));for(let f of d.children)h.push(...u(f));return h};return rl(u(c.targetSnapshot.root)).pipe($n(null),Cn(1))}),sp(()=>this.afterPreactivation()),Ot(()=>{let{currentSnapshot:c,targetSnapshot:u}=o,d=this.createViewTransition?.(this.environmentInjector,c.root,u.root);return d?Ce(d).pipe($(()=>o)):O(o)}),$(c=>{let u=Ik(r.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=X(b({},c),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,o}),Le(()=>{this.events.next(new To)}),Rk(this.rootContexts,r.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Cn(1),Le({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Kr(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),Hd(this.transitionAbortSubject.pipe(Le(c=>{throw c}))),Gs(()=>{!a&&!l&&this.cancelNavigationTransition(o,"",vt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Bn(c=>{if(l=!0,IE(c))this.events.next(new xn(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),Tk(c)?this.events.next(new ls(c.url,c.navigationBehaviorOptions)):o.resolve(!1);else{let u=new So(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0);try{let d=sn(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(d instanceof Mo){let{message:h,cancellationCode:f}=xc(this.urlSerializer,d);this.events.next(new xn(o.id,this.urlSerializer.serialize(o.extractedUrl),h,f)),this.events.next(new ls(d.redirectTo,d.navigationBehaviorOptions))}else{this.events.next(u);let h=r.errorHandler(c);o.resolve(!!h)}}catch(d){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(d)}}return ft}))}))}cancelNavigationTransition(r,i,s){let o=new xn(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function SO(t){return t!==wo}var TO=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:()=>E(AO),providedIn:"root"});let t=e;return t})(),xp=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},AO=(()=>{let e=class e extends xp{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Jn(e)))(s||e)}})(),e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),RE=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:()=>E(MO),providedIn:"root"});let t=e;return t})(),MO=(()=>{let e=class e extends RE{constructor(){super(...arguments),this.location=E(ho),this.urlSerializer=E(kp),this.options=E(jp,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=E(Bp),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new er,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=vE(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Do)this.stateMemento=this.createStateMemento();else if(r instanceof Yr)this.rawUrlTree=i.initialUrl;else if(r instanceof Tc){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof To?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof xn&&(r.code===vt.GuardRejected||r.code===vt.NoDataFromResolver)?this.restoreHistory(i):r instanceof So?this.restoreHistory(i,!0):r instanceof Kr&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=b(b({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=b(b({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Jn(e)))(s||e)}})(),e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),_o=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(_o||{});function NO(t,e){t.events.pipe(kt(n=>n instanceof Kr||n instanceof xn||n instanceof So||n instanceof Yr),$(n=>n instanceof Kr||n instanceof Yr?_o.COMPLETE:(n instanceof xn?n.code===vt.Redirect||n.code===vt.SupersededByNewNavigation:!1)?_o.REDIRECTING:_o.FAILED),kt(n=>n!==_o.REDIRECTING),Cn(1)).subscribe(()=>{e()})}function RO(t){throw t}var xO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},kO={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},hs=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=E(cc),this.stateManager=E(RE),this.options=E(jp,{optional:!0})||{},this.pendingTasks=E(Zi),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=E(DO),this.urlSerializer=E(kp),this.location=E(ho),this.urlHandlingStrategy=E(Bp),this._events=new ve,this.errorHandler=this.options.errorHandler||RO,this.navigated=!1,this.routeReuseStrategy=E(TO),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=E(Up,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!E(Fp,{optional:!0}),this.eventsSubscription=new De,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof xn&&i.code!==vt.Redirect&&i.code!==vt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Kr)this.navigated=!0;else if(i instanceof ls){let a=i.navigationBehaviorOptions,l=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),c=b({info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||this.urlUpdateStrategy==="eager"||SO(s.source)},a);this.scheduleNavigation(l,wo,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}PO(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),wo,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let c=b({},s);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let l=this.parseUrl(r);this.scheduleNavigation(l,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Lp),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:l,preserveFragment:c}=i,u=c?this.currentUrlTree.fragment:a,d=null;switch(l){case"merge":d=b(b({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let f=s?s.snapshot:this.routerState.snapshot.root;h=gE(f)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),h=this.currentUrlTree.root}return mE(h,r,d,u??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=Co(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,wo,null,i)}navigate(r,i={skipLocationChange:!1}){return OO(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=b({},xO):i===!1?s=b({},kO):s=i,Co(r))return Jb(this.currentUrlTree,r,s);let o=this.parseUrl(r);return Jb(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let l,c,u;a?(l=a.resolve,c=a.reject,u=a.promise):u=new Promise((h,f)=>{l=h,c=f});let d=this.pendingTasks.add();return NO(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:l,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(h=>Promise.reject(h))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function OO(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new y(4008,!1)}function PO(t){return!(t instanceof To)&&!(t instanceof ls)}var FO=new M("");function xE(t,...e){return Bl([{provide:Up,multi:!0,useValue:t},[],{provide:cs,useFactory:LO,deps:[hs]},{provide:hc,multi:!0,useFactory:VO},e.map(n=>n.\u0275providers)])}function LO(t){return t.routerState.root}function VO(){let t=E(qn);return e=>{let n=t.get(Xn);if(e!==n.components[0])return;let r=t.get(hs),i=t.get(jO);t.get(UO)===1&&r.initialNavigation(),t.get(BO,null,H.Optional)?.setUpPreloading(),t.get(FO,null,H.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var jO=new M("",{factory:()=>new ve}),UO=new M("",{providedIn:"root",factory:()=>1});var BO=new M("");var Hp={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var _=function(t,e){if(!t)throw Qr(e)},Qr=function(t){return new Error("Firebase Database ("+Hp.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};var PE=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},$O=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Lc={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=s>>2,d=(s&3)<<4|a>>4,h=(a&15)<<2|c>>6,f=c&63;l||(f=64,o||(h=64)),r.push(n[u],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(PE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):$O(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let c=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||d==null)throw new zp;let h=s<<2|a>>4;if(r.push(h),c!==64){let f=a<<4&240|c>>2;if(r.push(f),d!==64){let p=c<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},zp=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Gp=function(t){let e=PE(t);return Lc.encodeByteArray(e,!0)},Po=function(t){return Gp(t).replace(/\./g,"")},Fo=function(t){try{return Lc.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function FE(t){return LE(void 0,t)}function LE(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(let n in e)!e.hasOwnProperty(n)||!HO(n)||(t[n]=LE(t[n],e[n]));return t}function HO(t){return t!=="__proto__"}function zO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var WO=()=>zO().__FIREBASE_DEFAULTS__,GO=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},qO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Fo(t[1]);return e&&JSON.parse(e)},qp=()=>{try{return WO()||GO()||qO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Kp=t=>{var e,n;return(n=(e=qp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},VE=t=>{let e=Kp(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Yp=()=>{var t;return(t=qp())===null||t===void 0?void 0:t.config},Qp=t=>{var e;return(e=qp())===null||e===void 0?void 0:e[`_${t}`]};var nr=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function jE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Po(JSON.stringify(n)),Po(JSON.stringify(o)),""].join(".")}function je(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Lo(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(je())}function UE(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Vc(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function BE(){let t=je();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function dn(){return Hp.NODE_CLIENT===!0||Hp.NODE_ADMIN===!0}function $E(){try{return typeof indexedDB=="object"}catch{return!1}}function HE(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var KO="FirebaseError",$t=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=KO,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,kn.prototype.create)}},kn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?YO(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new $t(i,a,r)}};function YO(t,e){return t.replace(QO,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var QO=/\{\$([^}]+)}/g;function fs(t){return JSON.parse(t)}function Ae(t){return JSON.stringify(t)}var zE=function(t){let e={},n={},r={},i="";try{let s=t.split(".");e=fs(Fo(s[0])||""),n=fs(Fo(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}};var WE=function(t){let e=zE(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},GE=function(t){let e=zE(t).claims;return typeof e=="object"&&e.admin===!0};function hn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Zr(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Vo(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function jo(t,e,n){let r={};for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function ps(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(OE(s)&&OE(o)){if(!ps(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function OE(t){return t!==null&&typeof t=="object"}function Jr(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function gs(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function ms(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}var Fc=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);let r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){let h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let d=0;d<80;d++){d<40?d<20?(c=a^s&(o^a),u=1518500249):(c=s^o^a,u=1859775393):d<60?(c=s&o|a&(s|o),u=2400959708):(c=s^o^a,u=3395469782);let h=(i<<5|i>>>27)+c+l+u+r[d]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);let r=n-this.blockSize,i=0,s=this.buf_,o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){let e=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}};function qE(t,e){let n=new Wp(t,e);return n.subscribe.bind(n)}var Wp=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");ZO(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=$p),i.error===void 0&&(i.error=$p),i.complete===void 0&&(i.complete=$p);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function ZO(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function $p(){}function jc(t,e){return`${t} failed: ${e} argument `}var KE=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){let s=i-55296;r++,_(r<t.length,"Surrogate pair missing trail surrogate.");let o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Uo=function(t){let e=0;for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};var UG=4*60*60*1e3;function ze(t){return t&&t._delegate?t._delegate:t}var St=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Xr="[DEFAULT]";var Uc=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new nr;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(XO(e))try{this.getOrInitializeService({instanceIdentifier:Xr})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Xr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return g(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Xr){return this.instances.has(e)}getOptions(e=Xr){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:JO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Xr){return this.component?this.component.multipleInstances?e:Xr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function JO(t){return t===Xr?void 0:t}function XO(t){return t.instantiationMode==="EAGER"}var Bo=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Uc(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var eP=[],ce=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ce||{}),tP={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},nP=ce.INFO,rP={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},iP=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=rP[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},rr=class{constructor(e){this.name=e,this._logLevel=nP,this._logHandler=iP,this._userLogHandler=null,eP.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?tP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...e),this._logHandler(this,ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...e),this._logHandler(this,ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...e),this._logHandler(this,ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...e),this._logHandler(this,ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...e),this._logHandler(this,ce.ERROR,...e)}};var sP=(t,e)=>e.some(n=>t instanceof n),YE,QE;function oP(){return YE||(YE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aP(){return QE||(QE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var ZE=new WeakMap,Jp=new WeakMap,JE=new WeakMap,Zp=new WeakMap,eg=new WeakMap;function lP(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(fn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&ZE.set(n,t)}).catch(()=>{}),eg.set(e,t),e}function cP(t){if(Jp.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Jp.set(t,e)}var Xp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Jp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||JE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function XE(t){Xp=t(Xp)}function uP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Bc(this),e,...n);return JE.set(r,e.sort?e.sort():[e]),fn(r)}:aP().includes(t)?function(...e){return t.apply(Bc(this),e),fn(ZE.get(this))}:function(...e){return fn(t.apply(Bc(this),e))}}function dP(t){return typeof t=="function"?uP(t):(t instanceof IDBTransaction&&cP(t),sP(t,oP())?new Proxy(t,Xp):t)}function fn(t){if(t instanceof IDBRequest)return lP(t);if(Zp.has(t))return Zp.get(t);let e=dP(t);return e!==t&&(Zp.set(t,e),eg.set(e,t)),e}var Bc=t=>eg.get(t);function tC(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=fn(o);return r&&o.addEventListener("upgradeneeded",l=>{r(fn(o.result),l.oldVersion,l.newVersion,fn(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}var hP=["get","getKey","getAll","getAllKeys","count"],fP=["put","add","delete","clear"],tg=new Map;function eC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(tg.get(e))return tg.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=fP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||hP.includes(n)))return;let s=function(o,...a){return g(this,null,function*(){let l=this.transaction(o,i?"readwrite":"readonly"),c=l.store;return r&&(c=c.index(a.shift())),(yield Promise.all([c[n](...a),i&&l.done]))[0]})};return tg.set(e,s),s}XE(t=>X(b({},t),{get:(e,n,r)=>eC(e,n)||t.get(e,n,r),has:(e,n)=>!!eC(e,n)||t.has(e,n)}));var rg=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(pP(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function pP(t){let e=t.getComponent();return e?.type==="VERSION"}var ig="@firebase/app",nC="0.10.5";var ei=new rr("@firebase/app"),gP="@firebase/app-compat",mP="@firebase/analytics-compat",yP="@firebase/analytics",_P="@firebase/app-check-compat",vP="@firebase/app-check",wP="@firebase/auth",bP="@firebase/auth-compat",EP="@firebase/database",CP="@firebase/database-compat",IP="@firebase/functions",DP="@firebase/functions-compat",SP="@firebase/installations",TP="@firebase/installations-compat",AP="@firebase/messaging",MP="@firebase/messaging-compat",NP="@firebase/performance",RP="@firebase/performance-compat",xP="@firebase/remote-config",kP="@firebase/remote-config-compat",OP="@firebase/storage",PP="@firebase/storage-compat",FP="@firebase/firestore",LP="@firebase/vertexai-preview",VP="@firebase/firestore-compat",jP="firebase",UP="10.12.2";var sg="[DEFAULT]",BP={[ig]:"fire-core",[gP]:"fire-core-compat",[yP]:"fire-analytics",[mP]:"fire-analytics-compat",[vP]:"fire-app-check",[_P]:"fire-app-check-compat",[wP]:"fire-auth",[bP]:"fire-auth-compat",[EP]:"fire-rtdb",[CP]:"fire-rtdb-compat",[IP]:"fire-fn",[DP]:"fire-fn-compat",[SP]:"fire-iid",[TP]:"fire-iid-compat",[AP]:"fire-fcm",[MP]:"fire-fcm-compat",[NP]:"fire-perf",[RP]:"fire-perf-compat",[xP]:"fire-rc",[kP]:"fire-rc-compat",[OP]:"fire-gcs",[PP]:"fire-gcs-compat",[FP]:"fire-fst",[VP]:"fire-fst-compat",[LP]:"fire-vertex","fire-js":"fire-js",[jP]:"fire-js-all"};var $c=new Map,$P=new Map,og=new Map;function rC(t,e){try{t.container.addComponent(e)}catch(n){ei.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function sr(t){let e=t.name;if(og.has(e))return ei.debug(`There were multiple attempts to register component ${e}.`),!1;og.set(e,t);for(let n of $c.values())rC(n,t);for(let n of $P.values())rC(n,t);return!0}function Ho(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function pn(t){return t.settings!==void 0}var HP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ir=new kn("app","Firebase",HP);var ag=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new St("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ir.create("app-deleted",{appName:this._name})}};var or=UP;function ug(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:sg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ir.create("bad-app-name",{appName:String(i)});if(n||(n=Yp()),!n)throw ir.create("no-options");let s=$c.get(i);if(s){if(ps(n,s.options)&&ps(r,s.config))return s;throw ir.create("duplicate-app",{appName:i})}let o=new Bo(i);for(let l of og.values())o.addComponent(l);let a=new ag(n,r,o);return $c.set(i,a),a}function Hc(t=sg){let e=$c.get(t);if(!e&&t===sg&&Yp())return ug();if(!e)throw ir.create("no-app",{appName:t});return e}function Ht(t,e,n){var r;let i=(r=BP[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ei.warn(a.join(" "));return}sr(new St(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var zP="firebase-heartbeat-database",WP=1,$o="firebase-heartbeat-store",ng=null;function aC(){return ng||(ng=tC(zP,WP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore($o)}catch(n){console.warn(n)}}}}).catch(t=>{throw ir.create("idb-open",{originalErrorMessage:t.message})})),ng}function GP(t){return g(this,null,function*(){try{let n=(yield aC()).transaction($o),r=yield n.objectStore($o).get(lC(t));return yield n.done,r}catch(e){if(e instanceof $t)ei.warn(e.message);else{let n=ir.create("idb-get",{originalErrorMessage:e?.message});ei.warn(n.message)}}})}function iC(t,e){return g(this,null,function*(){try{let r=(yield aC()).transaction($o,"readwrite");yield r.objectStore($o).put(e,lC(t)),yield r.done}catch(n){if(n instanceof $t)ei.warn(n.message);else{let r=ir.create("idb-set",{originalErrorMessage:n?.message});ei.warn(r.message)}}})}function lC(t){return`${t.name}!${t.options.appId}`}var qP=1024,KP=30*24*60*60*1e3,lg=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new cg(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return g(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=sC();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=KP}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return g(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=sC(),{heartbeatsToSend:r,unsentEntries:i}=YP(this._heartbeatsCache.heartbeats),s=Po(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function sC(){return new Date().toISOString().substring(0,10)}function YP(t,e=qP){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),oC(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),oC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var cg=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return g(this,null,function*(){return $E()?HE().then(()=>!0).catch(()=>!1):!1})}read(){return g(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield GP(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return g(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return iC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return g(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return iC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function oC(t){return Po(JSON.stringify({version:2,heartbeats:t})).length}function QP(t){sr(new St("platform-logger",e=>new rg(e),"PRIVATE")),sr(new St("heartbeat",e=>new lg(e),"PRIVATE")),Ht(ig,nC,t),Ht(ig,nC,"esm2017"),Ht("fire-js","")}QP("");function SC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var TC=SC,AC=new kn("auth","Firebase",SC());var Yc=new rr("@firebase/auth");function ZP(t,...e){Yc.logLevel<=ce.WARN&&Yc.warn(`Auth (${or}): ${t}`,...e)}function Wc(t,...e){Yc.logLevel<=ce.ERROR&&Yc.error(`Auth (${or}): ${t}`,...e)}function mn(t,...e){throw xg(t,...e)}function ti(t,...e){return xg(t,...e)}function MC(t,e,n){let r=Object.assign(Object.assign({},TC()),{[e]:n});return new kn("auth","Firebase",r).create(e,{appName:t.name})}function lr(t){return MC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xg(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return AC.create(t,...e)}function k(t,e,...n){if(!t)throw xg(e,...n)}function On(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Wc(e),new Error(e)}function cr(t,e){t||On(e)}function pg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function JP(){return cC()==="http:"||cC()==="https:"}function cC(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function XP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(JP()||UE()||"connection"in navigator)?navigator.onLine:!0}function e1(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var ni=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,cr(n>e,"Short delay should be less than long delay!"),this.isMobile=Lo()||Vc()}get(){return XP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function kg(t,e){cr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Qc=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;On("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;On("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;On("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var t1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var n1=new ni(3e4,6e4);function ii(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function ur(s,o,a,l){return g(this,arguments,function*(t,e,n,r,i={}){return NC(t,i,()=>g(this,null,function*(){let c={},u={};r&&(e==="GET"?u=r:c={body:JSON.stringify(r)});let d=Jr(Object.assign({key:t.config.apiKey},u)).slice(1),h=yield t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),Qc.fetch()(RC(t,t.config.apiHost,n,d),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},c))}))})}function NC(t,e,n){return g(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},t1),e);try{let i=new gg(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw zc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw zc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw zc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw zc(t,"user-disabled",o);let u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw MC(t,u,c);mn(t,u)}}catch(i){if(i instanceof $t)throw i;mn(t,"network-request-failed",{message:String(i)})}})}function ou(s,o,a,l){return g(this,arguments,function*(t,e,n,r,i={}){let c=yield ur(t,e,n,r,i);return"mfaPendingCredential"in c&&mn(t,"multi-factor-auth-required",{_serverResponse:c}),c})}function RC(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?kg(t.config,i):`${t.config.apiScheme}://${i}`}function r1(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var gg=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ti(this.auth,"network-request-failed")),n1.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function zc(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=ti(t,e,r);return i.customData._tokenResponse=n,i}function uC(t){return t!==void 0&&t.enterprise!==void 0}var mg=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return r1(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function i1(t,e){return g(this,null,function*(){return ur(t,"GET","/v2/recaptchaConfig",ii(t,e))})}function s1(t,e){return g(this,null,function*(){return ur(t,"POST","/v1/accounts:delete",e)})}function xC(t,e){return g(this,null,function*(){return ur(t,"POST","/v1/accounts:lookup",e)})}function zo(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function kC(t,e=!1){return g(this,null,function*(){let n=ze(t),r=yield n.getIdToken(e),i=Og(r);k(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:zo(dg(i.auth_time)),issuedAtTime:zo(dg(i.iat)),expirationTime:zo(dg(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function dg(t){return Number(t)*1e3}function Og(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Wc("JWT malformed, contained fewer than 3 sections"),null;try{let i=Fo(n);return i?JSON.parse(i):(Wc("Failed to decode base64 JWT payload"),null)}catch(i){return Wc("Caught error parsing JWT payload as JSON",i?.toString()),null}}function dC(t){let e=Og(t);return k(e,"internal-error"),k(typeof e.exp<"u","internal-error"),k(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Go(t,e,n=!1){return g(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof $t&&o1(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function o1({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var yg=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>g(this,null,function*(){yield this.iteration()}),n)}iteration(){return g(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var qo=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=zo(this.lastLoginAt),this.creationTime=zo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Zc(t){return g(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Go(t,xC(n,{idToken:r}));k(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?PC(s.providerUserInfo):[],a=a1(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!a?.length,u=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new qo(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)})}function OC(t){return g(this,null,function*(){let e=ze(t);yield Zc(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function a1(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function PC(t){return t.map(e=>{var{providerId:n}=e,r=Pd(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function l1(t,e){return g(this,null,function*(){let n=yield NC(t,{},()=>g(this,null,function*(){let r=Jr({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=RC(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Qc.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function c1(t,e){return g(this,null,function*(){return ur(t,"POST","/v2/accounts:revokeToken",ii(t,e))})}var Wo=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){k(e.idToken,"internal-error"),k(typeof e.idToken<"u","internal-error"),k(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):dC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){k(e.length!==0,"internal-error");let n=dC(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return g(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(k(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return g(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield l1(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(k(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(k(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(k(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return On("not implemented")}};function ar(t,e){k(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var ys=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Pd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new yg(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new qo(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return g(this,null,function*(){let n=yield Go(this,this.stsTokenManager.getToken(this.auth,e));return k(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return kC(this,e)}reload(){return OC(this)}_assign(e){this!==e&&(k(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){k(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return g(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Zc(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return g(this,null,function*(){if(pn(this.auth.app))return Promise.reject(lr(this.auth));let e=yield this.getIdToken();return yield Go(this,s1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,u;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,D=(c=n.createdAt)!==null&&c!==void 0?c:void 0,G=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:F,emailVerified:ie,isAnonymous:Ue,providerData:fe,stsTokenManager:me}=n;k(F&&me,e,"internal-error");let Ie=Wo.fromJSON(this.name,me);k(typeof F=="string",e,"internal-error"),ar(d,e.name),ar(h,e.name),k(typeof ie=="boolean",e,"internal-error"),k(typeof Ue=="boolean",e,"internal-error"),ar(f,e.name),ar(p,e.name),ar(m,e.name),ar(w,e.name),ar(D,e.name),ar(G,e.name);let ut=new t({uid:F,auth:e,email:h,emailVerified:ie,displayName:d,isAnonymous:Ue,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:Ie,createdAt:D,lastLoginAt:G});return fe&&Array.isArray(fe)&&(ut.providerData=fe.map(Kt=>Object.assign({},Kt))),w&&(ut._redirectEventId=w),ut}static _fromIdTokenResponse(e,n,r=!1){return g(this,null,function*(){let i=new Wo;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Zc(s),s})}static _fromGetAccountInfoResponse(e,n,r){return g(this,null,function*(){let i=n.users[0];k(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?PC(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new Wo;a.updateFromIdToken(r);let l=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new qo(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(l,c),l})}};var hC=new Map;function Pn(t){cr(t instanceof Function,"Expected a class definition");let e=hC.get(t);return e?(cr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,hC.set(t,e),e)}var u1=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return g(this,null,function*(){return!0})}_set(n,r){return g(this,null,function*(){this.storage[n]=r})}_get(n){return g(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return g(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),_g=u1;function Gc(t,e,n){return`firebase:${t}:${e}:${n}`}var Jc=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Gc(this.userKey,i.apiKey,s),this.fullPersistenceKey=Gc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return g(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?ys._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return g(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return g(this,null,function*(){if(!n.length)return new t(Pn(_g),e,r);let i=(yield Promise.all(n.map(c=>g(this,null,function*(){if(yield c._isAvailable())return c})))).filter(c=>c),s=i[0]||Pn(_g),o=Gc(r,e.config.apiKey,e.name),a=null;for(let c of n)try{let u=yield c._get(o);if(u){let d=ys._fromJSON(e,u);c!==s&&(a=d),s=c;break}}catch{}let l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new t(s,e,r):(s=l[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(c=>g(this,null,function*(){if(c!==s)try{yield c._remove(o)}catch{}}))),new t(s,e,r))})}};function fC(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(VC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(FC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(UC(e))return"Blackberry";if(BC(e))return"Webos";if(Pg(e))return"Safari";if((e.includes("chrome/")||LC(e))&&!e.includes("edge/"))return"Chrome";if(jC(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function FC(t=je()){return/firefox\//i.test(t)}function Pg(t=je()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function LC(t=je()){return/crios\//i.test(t)}function VC(t=je()){return/iemobile/i.test(t)}function jC(t=je()){return/android/i.test(t)}function UC(t=je()){return/blackberry/i.test(t)}function BC(t=je()){return/webos/i.test(t)}function au(t=je()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function d1(t=je()){var e;return au(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function h1(){return BE()&&document.documentMode===10}function $C(t=je()){return au(t)||jC(t)||BC(t)||UC(t)||/windows phone/i.test(t)||VC(t)}function f1(){try{return!!(window&&window!==window.top)}catch{return!1}}function HC(t,e=[]){let n;switch(t){case"Browser":n=fC(je());break;case"Worker":n=`${fC(je())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${or}/${r}`}var vg=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return g(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function p1(n){return g(this,arguments,function*(t,e={}){return ur(t,"GET","/v2/passwordPolicy",ii(t,e))})}var g1=6,wg=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:g1,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var bg=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Xc(this),this.idTokenSubscription=new Xc(this),this.beforeStateQueue=new vg(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=AC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Pn(n)),this._initializationPromise=this.queue(()=>g(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Jc.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return g(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return g(this,null,function*(){try{let n=yield xC(this,{idToken:e}),r=yield ys._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return g(this,null,function*(){var n;if(pn(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,l=yield this.tryRedirectSignIn(e);(!o||o===a)&&l?.user&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return k(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return g(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return g(this,null,function*(){try{yield Zc(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=e1()}_delete(){return g(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return g(this,null,function*(){if(pn(this.app))return Promise.reject(lr(this));let n=e?ze(e):null;return n&&k(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return g(this,null,function*(){if(!this._deleted)return e&&k(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>g(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return g(this,null,function*(){return pn(this.app)?Promise.reject(lr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return pn(this.app)?Promise.reject(lr(this)):this.queue(()=>g(this,null,function*(){yield this.assertedPersistence.setPersistence(Pn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return g(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return g(this,null,function*(){let e=yield p1(this),n=new wg(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new kn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return g(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield c1(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return g(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return g(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Pn(e)||this._popupRedirectResolver;k(n,this,"argument-error"),this.redirectPersistenceManager=yield Jc.create(this,[Pn(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return g(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>g(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return g(this,null,function*(){if(e===this.currentUser)return this.queue(()=>g(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(k(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{let l=e.addObserver(n);return()=>{o=!0,l()}}}directlySetCurrentUser(e){return g(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return k(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=HC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return g(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return g(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&ZP(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function _s(t){return ze(t)}var Xc=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=qE(n=>this.observer=n)}get next(){return k(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var lu={loadJS(){return g(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function m1(t){lu=t}function zC(t){return lu.loadJS(t)}function y1(){return lu.recaptchaEnterpriseScript}function _1(){return lu.gapiScript}function WC(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var v1="recaptcha-enterprise",w1="NO_RECAPTCHA",Eg=class{constructor(e){this.type=v1,this.auth=_s(e)}verify(e="verify",n=!1){return g(this,null,function*(){function r(s){return g(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>g(this,null,function*(){i1(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let c=new mg(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})}))})}function i(s,o,a){let l=window.grecaptcha;uC(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(w1)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&uC(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=y1();l.length!==0&&(l+=a),zC(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})})}};function pC(t,e,n,r=!1){return g(this,null,function*(){let i=new Eg(t),s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function gC(t,e,n,r){return g(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield pC(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(s=>g(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield pC(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)}))})}function GC(t,e){let n=Ho(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(ps(s,e??{}))return i;mn(i,"already-initialized")}return n.initialize({options:e})}function b1(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Pn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function qC(t,e,n){let r=_s(t);k(r._canInitEmulator,r,"emulator-config-failed"),k(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=KC(e),{host:o,port:a}=E1(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||C1()}function KC(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function E1(t){let e=KC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:mC(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:mC(o)}}}function mC(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function C1(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Ko=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return On("not implemented")}_getIdTokenResponse(e){return On("not implemented")}_linkToIdToken(e,n){return On("not implemented")}_getReauthenticationResolver(e){return On("not implemented")}};function I1(t,e){return g(this,null,function*(){return ur(t,"POST","/v1/accounts:signUp",e)})}function D1(t,e){return g(this,null,function*(){return ou(t,"POST","/v1/accounts:signInWithPassword",ii(t,e))})}function S1(t,e){return g(this,null,function*(){return ou(t,"POST","/v1/accounts:signInWithEmailLink",ii(t,e))})}function T1(t,e){return g(this,null,function*(){return ou(t,"POST","/v1/accounts:signInWithEmailLink",ii(t,e))})}var Yo=class t extends Ko{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return g(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gC(e,n,"signInWithPassword",D1);case"emailLink":return S1(e,{email:this._email,oobCode:this._password});default:mn(e,"internal-error")}})}_linkToIdToken(e,n){return g(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gC(e,r,"signUpPassword",I1);case"emailLink":return T1(e,{idToken:n,email:this._email,oobCode:this._password});default:mn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function hg(t,e){return g(this,null,function*(){return ou(t,"POST","/v1/accounts:signInWithIdp",ii(t,e))})}function A1(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function M1(t){let e=gs(ms(t)).link,n=e?gs(ms(e)).deep_link_id:null,r=gs(ms(t)).deep_link_id;return(r?gs(ms(r)).link:null)||r||n||e||t}var eu=class t{constructor(e){var n,r,i,s,o,a;let l=gs(ms(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,d=A1((i=l.mode)!==null&&i!==void 0?i:null);k(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=M1(e);try{return new t(n)}catch{return null}}};var YC=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Yo._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=eu.parseLink(r);return k(i,"argument-error"),Yo._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),tu=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Cg=class extends tu{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Qo=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return g(this,null,function*(){let s=yield ys._fromIdTokenResponse(e,r,i),o=yC(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return g(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=yC(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function yC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Ig=class t extends $t{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function QC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Ig._fromErrorAndOperation(t,s,e,r):s})}function N1(t,e,n=!1){return g(this,null,function*(){let r=yield Go(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Qo._forOperation(t,"link",r)})}function R1(t,e,n=!1){return g(this,null,function*(){let{auth:r}=t;if(pn(r.app))return Promise.reject(lr(r));let i="reauthenticate";try{let s=yield Go(t,QC(r,i,e,t),n);k(s.idToken,r,"internal-error");let o=Og(s.idToken);k(o,r,"internal-error");let{sub:a}=o;return k(t.uid===a,r,"user-mismatch"),Qo._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&mn(r,"user-mismatch"),s}})}function ZC(t,e,n=!1){return g(this,null,function*(){if(pn(t.app))return Promise.reject(lr(t));let r="signIn",i=yield QC(t,r,e),s=yield Qo._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function JC(t,e){return g(this,null,function*(){return ZC(_s(t),e)})}function x1(t){return g(this,null,function*(){let e=_s(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Fg(t,e,n){return pn(t.app)?Promise.reject(lr(t)):JC(ze(t),YC.credential(e,n)).catch(r=>g(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&x1(t),r}))}function XC(t,e,n,r){return ze(t).onIdTokenChanged(e,n,r)}function eI(t,e,n){return ze(t).beforeAuthStateChanged(e,n)}function Lg(t,e,n,r){return ze(t).onAuthStateChanged(e,n,r)}var nu="__sak";var ru=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(nu,"1"),this.storage.removeItem(nu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function k1(){let t=je();return Pg(t)||au(t)}var O1=1e3,P1=10,F1=(()=>{class t extends ru{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=k1()&&f1(),this.fallbackToPolling=$C(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}let i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(i);if(n.newValue!==a)n.newValue!==null?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);h1()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,P1):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},O1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return g(this,null,function*(){yield Cr(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return g(this,null,function*(){let r=yield Cr(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return g(this,null,function*(){yield Cr(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),tI=F1;var L1=(()=>{class t extends ru{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),Vg=L1;function V1(t){return Promise.all(t.map(e=>g(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var j1=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return g(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let l=Array.from(a).map(u=>g(this,null,function*(){return u(r.origin,o)})),c=yield V1(l);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:c})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function nI(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Dg=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return g(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{let c=nI("",20);i.port1.start();let u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){let h=d;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function gn(){return window}function U1(t){gn().location.href=t}function rI(){return typeof gn().WorkerGlobalScope<"u"&&typeof gn().importScripts=="function"}function B1(){return g(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function $1(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function H1(){return rI()?self:null}var iI="firebaseLocalStorageDb",z1=1,iu="firebaseLocalStorage",sI="fbase_key",ri=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function cu(t,e){return t.transaction([iu],e?"readwrite":"readonly").objectStore(iu)}function W1(){let t=indexedDB.deleteDatabase(iI);return new ri(t).toPromise()}function Sg(){let t=indexedDB.open(iI,z1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(iu,{keyPath:sI})}catch(i){n(i)}}),t.addEventListener("success",()=>g(this,null,function*(){let r=t.result;r.objectStoreNames.contains(iu)?e(r):(r.close(),yield W1(),e(yield Sg()))}))})}function _C(t,e,n){return g(this,null,function*(){let r=cu(t,!0).put({[sI]:e,value:n});return new ri(r).toPromise()})}function G1(t,e){return g(this,null,function*(){let n=cu(t,!1).get(e),r=yield new ri(n).toPromise();return r===void 0?null:r.value})}function vC(t,e){let n=cu(t,!0).delete(e);return new ri(n).toPromise()}var q1=800,K1=3,Y1=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return g(this,null,function*(){return this.db?this.db:(this.db=yield Sg(),this.db)})}_withRetries(n){return g(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>K1)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return g(this,null,function*(){return rI()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return g(this,null,function*(){this.receiver=j1._getInstance(H1()),this.receiver._subscribe("keyChanged",(n,r)=>g(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>g(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return g(this,null,function*(){var n,r;if(this.activeServiceWorker=yield B1(),!this.activeServiceWorker)return;this.sender=new Dg(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return g(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||$1()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return g(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Sg();return yield _C(n,nu,"1"),yield vC(n,nu),!0}catch{}return!1})}_withPendingWrite(n){return g(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return g(this,null,function*(){return this._withPendingWrite(()=>g(this,null,function*(){return yield this._withRetries(i=>_C(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return g(this,null,function*(){let r=yield this._withRetries(i=>G1(i,n));return this.localCache[n]=r,r})}_remove(n){return g(this,null,function*(){return this._withPendingWrite(()=>g(this,null,function*(){return yield this._withRetries(r=>vC(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return g(this,null,function*(){let n=yield this._withRetries(s=>{let o=cu(s,!1).getAll();return new ri(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>g(this,null,function*(){return this._poll()}),q1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),oI=Y1;var h8=WC("rcb"),f8=new ni(3e4,6e4);function Q1(t,e){return e?Pn(e):(k(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Zo=class extends Ko{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return hg(e,this._buildIdpRequest())}_linkToIdToken(e,n){return hg(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return hg(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function Z1(t){return ZC(t.auth,new Zo(t),t.bypassAuthState)}function J1(t){let{auth:e,user:n}=t;return k(n,e,"internal-error"),R1(n,new Zo(t),t.bypassAuthState)}function X1(t){return g(this,null,function*(){let{auth:e,user:n}=t;return k(n,e,"internal-error"),N1(n,new Zo(t),t.bypassAuthState)})}var Tg=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>g(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return g(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(l))}catch(c){this.reject(c)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Z1;case"linkViaPopup":case"linkViaRedirect":return X1;case"reauthViaPopup":case"reauthViaRedirect":return J1;default:mn(this.auth,"internal-error")}}resolve(e){cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var p8=new ni(2e3,1e4);var eF="pendingRedirect",qc=new Map,Ag=class t extends Tg{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return g(this,null,function*(){let e=qc.get(this.auth._key());if(!e){try{let r=(yield tF(this.resolver,this.auth))?yield Cr(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}qc.set(this.auth._key(),e)}return this.bypassAuthState||qc.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return g(this,null,function*(){if(e.type==="signInViaRedirect")return Cr(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Cr(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return g(this,null,function*(){})}cleanUp(){}};function tF(t,e){return g(this,null,function*(){let n=iF(e),r=rF(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function nF(t,e){qc.set(t._key(),e)}function rF(t){return Pn(t._redirectPersistence)}function iF(t){return Gc(eF,t.config.apiKey,t.name)}function sF(t,e,n=!1){return g(this,null,function*(){if(pn(t.app))return Promise.reject(lr(t));let r=_s(t),i=Q1(r,e),o=yield new Ag(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var oF=10*60*1e3,Mg=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!aF(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!aI(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ti(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=oF&&this.cachedEventUids.clear(),this.cachedEventUids.has(wC(e))}saveEventToCache(e){this.cachedEventUids.add(wC(e)),this.lastProcessedEventTime=Date.now()}};function wC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function aI({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function aF(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aI(t);default:return!1}}function lF(n){return g(this,arguments,function*(t,e={}){return ur(t,"GET","/v1/projects",e)})}var cF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uF=/^https?/;function dF(t){return g(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield lF(t);for(let n of e)try{if(hF(n))return}catch{}mn(t,"unauthorized-domain")})}function hF(t){let e=pg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!uF.test(n))return!1;if(cF.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var fF=new ni(3e4,6e4);function bC(){let t=gn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function pF(t){return new Promise((e,n)=>{var r,i,s;function o(){bC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{bC(),n(ti(t,"network-request-failed"))},timeout:fF.get()})}if(!((i=(r=gn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=gn().gapi)===null||s===void 0)&&s.load)o();else{let a=WC("iframefcb");return gn()[a]=()=>{gapi.load?o():n(ti(t,"network-request-failed"))},zC(`${_1()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Kc=null,e})}var Kc=null;function gF(t){return Kc=Kc||pF(t),Kc}var mF=new ni(5e3,15e3),yF="__/auth/iframe",_F="emulator/auth/iframe",vF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bF(t){let e=t.config;k(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?kg(e,_F):`https://${t.config.authDomain}/${yF}`,r={apiKey:e.apiKey,appName:t.name,v:or},i=wF.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Jr(r).slice(1)}`}function EF(t){return g(this,null,function*(){let e=yield gF(t),n=gn().gapi;return k(n,t,"internal-error"),e.open({where:document.body,url:bF(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vF,dontclear:!0},r=>new Promise((i,s)=>g(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=ti(t,"network-request-failed"),a=gn().setTimeout(()=>{s(o)},mF.get());function l(){gn().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})})))})}var CF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},IF=500,DF=600,SF="_blank",TF="http://localhost",su=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function AF(t,e,n,r=IF,i=DF){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",l=Object.assign(Object.assign({},CF),{width:r.toString(),height:i.toString(),top:s,left:o}),c=je().toLowerCase();n&&(a=LC(c)?SF:n),FC(c)&&(e=e||TF,l.scrollbars="yes");let u=Object.entries(l).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(d1(c)&&a!=="_self")return MF(e||"",a),new su(null);let d=window.open(e||"",a,u);k(d,t,"popup-blocked");try{d.focus()}catch{}return new su(d)}function MF(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var NF="__/auth/handler",RF="emulator/auth/handler",xF=encodeURIComponent("fac");function EC(t,e,n,r,i,s){return g(this,null,function*(){k(t.config.authDomain,t,"auth-domain-config-required"),k(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:or,eventId:i};if(e instanceof tu){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Vo(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[u,d]of Object.entries(s||{}))o[u]=d}if(e instanceof Cg){let u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let u of Object.keys(a))a[u]===void 0&&delete a[u];let l=yield t._getAppCheckToken(),c=l?`#${xF}=${encodeURIComponent(l)}`:"";return`${kF(t)}?${Jr(a).slice(1)}${c}`})}function kF({config:t}){return t.emulator?kg(t,RF):`https://${t.authDomain}/${NF}`}var fg="webStorageSupport",Ng=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Vg,this._completeRedirectFn=sF,this._overrideRedirectResult=nF}_openPopup(e,n,r,i){return g(this,null,function*(){var s;cr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield EC(e,n,r,pg(),i);return AF(e,o,nI())})}_openRedirect(e,n,r,i){return g(this,null,function*(){yield this._originValidation(e);let s=yield EC(e,n,r,pg(),i);return U1(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(cr(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return g(this,null,function*(){let n=yield EF(e),r=new Mg(e);return n.register("authEvent",i=>(k(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(fg,{type:fg},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[fg];o!==void 0&&n(!!o),mn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=dF(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return $C()||Pg()||au()}},lI=Ng;var CC="@firebase/auth",IC="1.7.4";var Rg=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return g(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){k(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function OF(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function PF(t){sr(new St("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;k(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:HC(t)},c=new bg(r,i,s,l);return b1(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),sr(new St("auth-internal",e=>{let n=_s(e.getProvider("auth").getImmediate());return(r=>new Rg(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ht(CC,IC,OF(t)),Ht(CC,IC,"esm2017")}var FF=5*60,LF=Qp("authIdTokenMaxAge")||FF,DC=null,VF=t=>e=>g(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>LF)return;let i=n?.token;DC!==i&&(DC=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Jo(t=Hc()){let e=Ho(t,"auth");if(e.isInitialized())return e.getImmediate();let n=GC(t,{popupRedirectResolver:lI,persistence:[oI,tI,Vg]}),r=Qp("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=VF(s.toString());eI(n,o,()=>o(n.currentUser)),XC(n,a=>o(a))}}let i=Kp("auth");return i&&qC(n,`http://${i}`),n}function jF(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}m1({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=ti("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",jF().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});PF("Browser");var UF="firebase",BF="10.12.2";Ht(UF,BF,"app");var cI={apiKey:"AIzaSyBFNn8bOJwSlczp0HZKzrrH4g0iH0PHfd4",authDomain:"cardo-425721.firebaseapp.com",databaseURL:"https://cardo-425721-default-rtdb.firebaseio.com",projectId:"cardo-425721",storageBucket:"cardo-425721.appspot.com",messagingSenderId:"887682909859",appId:"1:887682909859:web:d3bee13fad508780f52116"};var jg=new M("JWT_OPTIONS"),uu=(()=>{class t{constructor(n=null){this.tokenGetter=n&&n.tokenGetter||function(){}}urlBase64Decode(n){let r=n.replace(/-/g,"+").replace(/_/g,"/");switch(r.length%4){case 0:break;case 2:{r+="==";break}case 3:{r+="=";break}default:throw new Error("Illegal base64url string!")}return this.b64DecodeUnicode(r)}b64decode(n){let r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i="";if(n=String(n).replace(/=+$/,""),n.length%4===1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(let s=0,o,a,l=0;a=n.charAt(l++);~a&&(o=s%4?o*64+a:a,s++%4)?i+=String.fromCharCode(255&o>>(-2*s&6)):0)a=r.indexOf(a);return i}b64DecodeUnicode(n){return decodeURIComponent(Array.prototype.map.call(this.b64decode(n),r=>"%"+("00"+r.charCodeAt(0).toString(16)).slice(-2)).join(""))}decodeToken(n=this.tokenGetter()){return n instanceof Promise?n.then(r=>this._decodeToken(r)):this._decodeToken(n)}_decodeToken(n){if(!n||n==="")return null;let r=n.split(".");if(r.length!==3)throw new Error("The inspected token doesn't appear to be a JWT. Check to make sure it has three parts and see https://jwt.io for more.");let i=this.urlBase64Decode(r[1]);if(!i)throw new Error("Cannot decode the token.");return JSON.parse(i)}getTokenExpirationDate(n=this.tokenGetter()){return n instanceof Promise?n.then(r=>this._getTokenExpirationDate(r)):this._getTokenExpirationDate(n)}_getTokenExpirationDate(n){let r;if(r=this.decodeToken(n),!r||!r.hasOwnProperty("exp"))return null;let i=new Date(0);return i.setUTCSeconds(r.exp),i}isTokenExpired(n=this.tokenGetter(),r){return n instanceof Promise?n.then(i=>this._isTokenExpired(i,r)):this._isTokenExpired(n,r)}_isTokenExpired(n,r){if(!n||n==="")return!0;let i=this.getTokenExpirationDate(n);return r=r||0,i===null?!1:!(i.valueOf()>new Date().valueOf()+r*1e3)}getAuthScheme(n,r){return typeof n=="function"?n(r):n}}return t.\u0275fac=function(n){return new(n||t)(S(jg))},t.\u0275prov=C({token:t,factory:t.\u0275fac}),t})(),uI=t=>t instanceof Promise?Mi(()=>t):O(t),$F=(()=>{class t{constructor(n,r,i){this.jwtHelper=r,this.document=i,this.standardPorts=["80","443"],this.tokenGetter=n.tokenGetter,this.headerName=n.headerName||"Authorization",this.authScheme=n.authScheme||n.authScheme===""?n.authScheme:"Bearer ",this.allowedDomains=n.allowedDomains||[],this.disallowedRoutes=n.disallowedRoutes||[],this.throwNoTokenError=n.throwNoTokenError||!1,this.skipWhenExpired=n.skipWhenExpired}isAllowedDomain(n){let r=new URL(n.url,this.document.location.origin);if(r.host===this.document.location.host)return!0;let i=`${r.hostname}${r.port&&!this.standardPorts.includes(r.port)?":"+r.port:""}`;return this.allowedDomains.findIndex(s=>typeof s=="string"?s===i:s instanceof RegExp?s.test(i):!1)>-1}isDisallowedRoute(n){let r=new URL(n.url,this.document.location.origin);return this.disallowedRoutes.findIndex(i=>{if(typeof i=="string"){let s=new URL(i,this.document.location.origin);return s.hostname===r.hostname&&s.pathname===r.pathname}return i instanceof RegExp?i.test(n.url):!1})>-1}handleInterception(n,r,i){let s=this.jwtHelper.getAuthScheme(this.authScheme,r);if(!n&&this.throwNoTokenError)throw new Error("Could not get token from tokenGetter function.");let o=O(!1);return this.skipWhenExpired&&(o=n?uI(this.jwtHelper.isTokenExpired(n)):O(!0)),n?o.pipe($(a=>a&&this.skipWhenExpired?r.clone():r.clone({setHeaders:{[this.headerName]:`${s}${n}`}})),we(a=>i.handle(a))):i.handle(r)}intercept(n,r){if(!this.isAllowedDomain(n)||this.isDisallowedRoute(n))return r.handle(n);let i=this.tokenGetter(n);return uI(i).pipe(we(s=>this.handleInterception(s,n,r)))}}return t.\u0275fac=function(n){return new(n||t)(S(jg),S(uu),S(He))},t.\u0275prov=C({token:t,factory:t.\u0275fac}),t})(),dI=(()=>{class t{constructor(n){if(n)throw new Error("JwtModule is already loaded. It should only be imported in your application's main module.")}static forRoot(n){return{ngModule:t,providers:[{provide:Bb,useClass:$F,multi:!0},n.jwtOptionsProvider||{provide:jg,useValue:n.config},uu]}}}return t.\u0275fac=function(n){return new(n||t)(S(t,12))},t.\u0275mod=yt({type:t}),t.\u0275inj=mt({}),t})();var vs=(()=>{let e=class e{constructor(r,i){this.jwtHelper=r,this.router=i,this.firebaseApp=ug(cI),Lg(Jo(this.firebaseApp),s=>{s||this.signOut()})}parseEmail(r){return r.replaceAll("@","_").replaceAll(".","_")}signIn(r,i){return g(this,null,function*(){let s=Jo(this.firebaseApp);return Fg(s,r,i).then(o=>g(this,null,function*(){let a=yield o.user.getIdToken();return localStorage.setItem("jwt",a),this.user=this.parseEmail(r),!0})).catch(()=>!1)})}signOut(){Jo(this.firebaseApp).signOut()}isAuthenticated(){let r=localStorage.getItem("jwt");if(!r||this.jwtHelper.isTokenExpired(r))return!1;let i=this.jwtHelper.decodeToken(r);return i.email?(this.user=this.parseEmail(i.email),!0):!1}canActivate(){return this.isAuthenticated()?!0:(this.router.navigate(["auth"]),!1)}};e.\u0275fac=function(i){return new(i||e)(S(uu),S(hs))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var fI=(()=>{let e=class e{constructor(){this.menuPressed=new le,this.undoPressed=new le,this.redoPressed=new le}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ke({type:e,selectors:[["app-navbar"]],outputs:{menuPressed:"menuPressed",undoPressed:"undoPressed",redoPressed:"redoPressed"},standalone:!0,features:[Oe],decls:37,vars:0,consts:[[1,"navbar"],["title","Menu",1,"icon-btn",3,"click"],["viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["id","SVGRepo_bgCarrier","stroke-width","0"],["id","SVGRepo_tracerCarrier","stroke-linecap","round","stroke-linejoin","round"],["id","SVGRepo_iconCarrier"],["d","M4 6H20M4 12H20M4 18H20","stroke","#000000","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["title","Undo",1,"icon-btn",3,"click"],["viewBox","0 0 48 48","xmlns","http://www.w3.org/2000/svg","fill","#000000"],["id","Layer_2","data-name","Layer 2"],["id","invisible_box","data-name","invisible box"],["width","48","height","48","fill","none"],["id","icons_Q2","data-name","icons Q2"],["d","M46,24A22,22,0,0,1,4.3,33.7a2,2,0,0,1,.5-2.6,2,2,0,0,1,3,.7A17.8,17.8,0,0,0,24,42,18,18,0,1,0,10.6,12h5.3A2.1,2.1,0,0,1,18,13.7,2,2,0,0,1,16,16H6a2,2,0,0,1-2-2V4.1A2.1,2.1,0,0,1,5.7,2,2,2,0,0,1,8,4V8.9A22,22,0,0,1,46,24Z"],["title","Redo",1,"icon-btn",2,"transform","rotateY(180deg)",3,"click"]],template:function(i,s){i&1&&(v(0,"div",0)(1,"button",1),B("click",function(){return s.menuPressed.emit()}),$e(),v(2,"svg",2),x(3,"g",3)(4,"g",4),v(5,"g",5),x(6,"path",6),T()()(),Mn(),v(7,"button",7),B("click",function(){return s.undoPressed.emit()}),$e(),v(8,"svg",8),x(9,"g",3)(10,"g",4),v(11,"g",5)(12,"title"),ye(13,"undo"),T(),v(14,"g",9)(15,"g",10),x(16,"rect",11),T(),v(17,"g",12),x(18,"path",13),T()()()()(),Mn(),v(19,"button",14),B("click",function(){return s.redoPressed.emit()}),$e(),v(20,"svg",8),x(21,"g",3)(22,"g",4),v(23,"g",5)(24,"title"),ye(25,"undo"),T(),v(26,"g",9)(27,"g",10),x(28,"rect",11),T(),v(29,"g",12),x(30,"path",13),T()()()()(),Mn(),v(31,"button",1),B("click",function(){return s.menuPressed.emit()}),$e(),v(32,"svg",2),x(33,"g",3)(34,"g",4),v(35,"g",5),x(36,"path",6),T()()()())}});let t=e;return t})();var EI=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(R(Nn),R(on))},e.\u0275dir=Te({type:e});let t=e;return t})(),vu=(()=>{let e=class e extends EI{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Jn(e)))(s||e)}})(),e.\u0275dir=Te({type:e,features:[jt]});let t=e;return t})(),ia=new M("");var zF={provide:ia,useExisting:Sn(()=>pr),multi:!0};function WF(){let t=ln()?ln().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var GF=new M(""),pr=(()=>{let e=class e extends EI{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!WF())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(R(Nn),R(on),R(GF,8))},e.\u0275dir=Te({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&B("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[Hr([zF]),jt]});let t=e;return t})();function dr(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function CI(t){return t!=null&&typeof t.length=="number"}var II=new M(""),DI=new M(""),qF=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,st=class{static min(e){return KF(e)}static max(e){return YF(e)}static required(e){return QF(e)}static requiredTrue(e){return ZF(e)}static email(e){return JF(e)}static minLength(e){return XF(e)}static maxLength(e){return eL(e)}static pattern(e){return tL(e)}static nullValidator(e){return SI(e)}static compose(e){return xI(e)}static composeAsync(e){return OI(e)}};function KF(t){return e=>{if(dr(e.value)||dr(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function YF(t){return e=>{if(dr(e.value)||dr(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function QF(t){return dr(t.value)?{required:!0}:null}function ZF(t){return t.value===!0?null:{required:!0}}function JF(t){return dr(t.value)||qF.test(t.value)?null:{email:!0}}function XF(t){return e=>dr(e.value)||!CI(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function eL(t){return e=>CI(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function tL(t){if(!t)return SI;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(dr(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function SI(t){return null}function TI(t){return t!=null}function AI(t){return zr(t)?Ce(t):t}function MI(t){let e={};return t.forEach(n=>{e=n!=null?b(b({},e),n):e}),Object.keys(e).length===0?null:e}function NI(t,e){return e.map(n=>n(t))}function nL(t){return!t.validate}function RI(t){return t.map(e=>nL(e)?e:n=>e.validate(n))}function xI(t){if(!t)return null;let e=t.filter(TI);return e.length==0?null:function(n){return MI(NI(n,e))}}function kI(t){return t!=null?xI(RI(t)):null}function OI(t){if(!t)return null;let e=t.filter(TI);return e.length==0?null:function(n){let r=NI(n,e).map(AI);return Vd(r).pipe($(MI))}}function PI(t){return t!=null?OI(RI(t)):null}function pI(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function FI(t){return t._rawValidators}function LI(t){return t._rawAsyncValidators}function Ug(t){return t?Array.isArray(t)?t:[t]:[]}function hu(t,e){return Array.isArray(t)?t.includes(e):t===e}function gI(t,e){let n=Ug(e);return Ug(t).forEach(i=>{hu(n,i)||n.push(i)}),n}function mI(t,e){return Ug(e).filter(n=>!hu(t,n))}var fu=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=kI(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=PI(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Es=class extends fu{get formDirective(){return null}get path(){return null}},ra=class extends fu{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},pu=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},rL={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},_q=X(b({},rL),{"[class.ng-submitted]":"isSubmitted"}),Cs=(()=>{let e=class e extends pu{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(R(ra,2))},e.\u0275dir=Te({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&sc("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[jt]});let t=e;return t})(),Is=(()=>{let e=class e extends pu{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(R(Es,10))},e.\u0275dir=Te({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,s){i&2&&sc("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[jt]});let t=e;return t})();var Xo="VALID",du="INVALID",ws="PENDING",ea="DISABLED",hr=class{},gu=class extends hr{constructor(e,n){super(),this.value=e,this.source=n}},ta=class extends hr{constructor(e,n){super(),this.pristine=e,this.source=n}},na=class extends hr{constructor(e,n){super(),this.touched=e,this.source=n}},bs=class extends hr{constructor(e,n){super(),this.status=e,this.source=n}},Bg=class extends hr{constructor(e){super(),this.source=e}},$g=class extends hr{constructor(e){super(),this.source=e}};function VI(t){return(wu(t)?t.validators:t)||null}function iL(t){return Array.isArray(t)?kI(t):t||null}function jI(t,e){return(wu(e)?e.asyncValidators:t)||null}function sL(t){return Array.isArray(t)?PI(t):t||null}function wu(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function oL(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new y(1e3,"");if(!r[n])throw new y(1001,"")}function aL(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new y(1002,"")})}var mu=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._events=new ve,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Xo}get invalid(){return this.status===du}get pending(){return this.status==ws}get disabled(){return this.status===ea}get enabled(){return this.status!==ea}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(gI(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(gI(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(mI(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(mI(e,this._rawAsyncValidators))}hasValidator(e){return hu(this._rawValidators,e)}hasAsyncValidator(e){return hu(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(X(b({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new na(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new na(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(X(b({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new ta(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new ta(!0,r))}markAsPending(e={}){this.status=ws;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new bs(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(X(b({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ea,this.errors=null,this._forEachChild(i=>{i.disable(X(b({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new gu(this.value,r)),this._events.next(new bs(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(X(b({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Xo,this._forEachChild(r=>{r.enable(X(b({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(X(b({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Xo||this.status===ws)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new gu(this.value,n)),this._events.next(new bs(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(X(b({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ea:Xo}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=ws,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=AI(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new bs(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new le,this.statusChanges=new le}_calculateStatus(){return this._allControlsDisabled()?ea:this.errors?du:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ws)?ws:this._anyControlsHaveStatus(du)?du:Xo}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new ta(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new na(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){wu(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=iL(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=sL(this._rawAsyncValidators)}},fr=class extends mu{constructor(e,n,r){super(VI(n),jI(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){aL(this,!0,e),Object.keys(e).forEach(r=>{oL(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var UI=new M("CallSetDisabledState",{providedIn:"root",factory:()=>Hg}),Hg="always";function lL(t,e){return[...e.path,t]}function yI(t,e,n=Hg){zg(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),uL(t,e),hL(t,e),dL(t,e),cL(t,e)}function _I(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),_u(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function yu(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function cL(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function zg(t,e){let n=FI(t);e.validator!==null?t.setValidators(pI(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=LI(t);e.asyncValidator!==null?t.setAsyncValidators(pI(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();yu(e._rawValidators,i),yu(e._rawAsyncValidators,i)}function _u(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=FI(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(e.asyncValidator!==null){let i=LI(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}let r=()=>{};return yu(e._rawValidators,r),yu(e._rawAsyncValidators,r),n}function uL(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&BI(t,e)})}function dL(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&BI(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function BI(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function hL(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function fL(t,e){t==null,zg(t,e)}function pL(t,e){return _u(t,e)}function gL(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function mL(t){return Object.getPrototypeOf(t.constructor)===vu}function yL(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function _L(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===pr?n=s:mL(s)?r=s:i=s}),i||r||n||null}function vL(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function vI(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function wI(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var ot=class extends mu{constructor(e=null,n,r){super(VI(n),jI(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),wu(n)&&(n.nonNullable||n.initialValueIsDefault)&&(wI(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){vI(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){vI(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){wI(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var wL=t=>t instanceof ot;var Ds=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Te({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})(),bL={provide:ia,useExisting:Sn(()=>Wg),multi:!0},Wg=(()=>{let e=class e extends vu{writeValue(r){let i=r??"";this.setProperty("value",i)}registerOnChange(r){this.onChange=i=>{r(i==""?null:parseFloat(i))}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Jn(e)))(s||e)}})(),e.\u0275dir=Te({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,s){i&1&&B("input",function(a){return s.onChange(a.target.value)})("blur",function(){return s.onTouched()})},features:[Hr([bL]),jt]});let t=e;return t})();var $I=new M("");var EL={provide:Es,useExisting:Sn(()=>si)},si=(()=>{let e=class e extends Es{constructor(r,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new le,this._setValidators(r),this._setAsyncValidators(i)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(_u(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){let i=this.form.get(r.path);return yI(i,r,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),i}getControl(r){return this.form.get(r.path)}removeControl(r){_I(r.control||null,r,!1),vL(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,i){this.form.get(r.path).setValue(i)}onSubmit(r){return this.submitted=!0,yL(this.form,this.directives),this.ngSubmit.emit(r),this.form._events.next(new Bg(this.control)),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1,this.form._events.next(new $g(this.form))}_updateDomValue(){this.directives.forEach(r=>{let i=r.control,s=this.form.get(r.path);i!==s&&(_I(i||null,r),wL(s)&&(yI(s,r,this.callSetDisabledState),r.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){let i=this.form.get(r.path);fL(i,r),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){let i=this.form.get(r.path);i&&pL(i,r)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){zg(this.form,this),this._oldForm&&_u(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(i){return new(i||e)(R(II,10),R(DI,10),R(UI,8))},e.\u0275dir=Te({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,s){i&1&&B("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Hr([EL]),jt,Lr]});let t=e;return t})();var CL={provide:ra,useExisting:Sn(()=>oi)},oi=(()=>{let e=class e extends ra{set isDisabled(r){}constructor(r,i,s,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new le,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=_L(this,o)}ngOnChanges(r){this._added||this._setUpControl(),gL(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return lL(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(R(Es,13),R(II,10),R(DI,10),R(ia,10),R($I,8))},e.\u0275dir=Te({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Hr([CL]),jt,Lr]});let t=e;return t})(),IL={provide:ia,useExisting:Sn(()=>bu),multi:!0};function HI(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function DL(t){return t.split(":")[0]}var bu=(()=>{let e=class e extends vu{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i=this._getOptionId(r),s=HI(i,r);this.setProperty("value",s)}registerOnChange(r){this.onChange=i=>{this.value=this._getOptionValue(i),r(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),r))return i;return null}_getOptionValue(r){let i=DL(r);return this._optionMap.has(i)?this._optionMap.get(i):r}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Jn(e)))(s||e)}})(),e.\u0275dir=Te({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,s){i&1&&B("change",function(a){return s.onChange(a.target.value)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[Hr([IL]),jt]});let t=e;return t})(),zI=(()=>{let e=class e{constructor(r,i,s){this._element=r,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(r){this._select!=null&&(this._select._optionMap.set(this.id,r),this._setElementValue(HI(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._setElementValue(r),this._select&&this._select.writeValue(this._select.value)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(R(on),R(Nn),R(bu,9))},e.\u0275dir=Te({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})(),SL={provide:ia,useExisting:Sn(()=>WI),multi:!0};function bI(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function TL(t){return t.split(":")[0]}var WI=(()=>{let e=class e extends vu{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i;if(Array.isArray(r)){let s=r.map(o=>this._getOptionId(o));i=(o,a)=>{o._setSelected(s.indexOf(a.toString())>-1)}}else i=(s,o)=>{s._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(r){this.onChange=i=>{let s=[],o=i.selectedOptions;if(o!==void 0){let a=o;for(let l=0;l<a.length;l++){let c=a[l],u=this._getOptionValue(c.value);s.push(u)}}else{let a=i.options;for(let l=0;l<a.length;l++){let c=a[l];if(c.selected){let u=this._getOptionValue(c.value);s.push(u)}}}this.value=s,r(s)}}_registerOption(r){let i=(this._idCounter++).toString();return this._optionMap.set(i,r),i}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,r))return i;return null}_getOptionValue(r){let i=TL(r);return this._optionMap.has(i)?this._optionMap.get(i)._value:r}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Jn(e)))(s||e)}})(),e.\u0275dir=Te({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,s){i&1&&B("change",function(a){return s.onChange(a.target)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[Hr([SL]),jt]});let t=e;return t})(),GI=(()=>{let e=class e{constructor(r,i,s){this._element=r,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(r){this._select!=null&&(this._value=r,this._setElementValue(bI(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._select?(this._value=r,this._setElementValue(bI(this.id,r)),this._select.writeValue(this._select.value)):this._setElementValue(r)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}_setSelected(r){this._renderer.setProperty(this._element.nativeElement,"selected",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(R(on),R(Nn),R(WI,9))},e.\u0275dir=Te({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();var AL=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=yt({type:e}),e.\u0275inj=mt({});let t=e;return t})();var Ss=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:$I,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:UI,useValue:r.callSetDisabledState??Hg}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=yt({type:e}),e.\u0275inj=mt({imports:[AL]});let t=e;return t})();var V=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(V||{}),yn="*";function ai(t,e){return{type:V.Trigger,name:t,definitions:e,options:{}}}function Tt(t,e=null){return{type:V.Animate,styles:e,timings:t}}function qI(t,e=null){return{type:V.Sequence,steps:t,options:e}}function Je(t){return{type:V.Style,styles:t,offset:null}}function At(t,e,n){return{type:V.State,name:t,styles:e,options:n}}function Mt(t,e,n=null){return{type:V.Transition,expr:t,animation:e,options:n}}var gr=class{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},sa=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,r=0,i=0,s=this.players.length;s==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++n==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let n=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,n/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((n,r)=>n===null||r.totalTime>n.totalTime?r:n,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},Eu="!";var KI=ai("flip",[At("active",Je({transform:"rotateY(180deg)"})),At("inactive",Je({transform:"rotateY(0)"})),Mt("active => inactive",Tt("300ms ease-out")),Mt("inactive => active",Tt("300ms ease-in"))]),YI=ai("swipeRight",[At("active",Je({transform:"rotateZ(90deg)",translate:"150% -100%"})),At("inactive",Je({transform:"rotateZ(0deg)",translate:"0% 0%"})),Mt("active => inactive",Tt("300ms ease-out")),Mt("inactive => active",Tt("300ms ease-in"))]),QI=ai("swipeLeft",[At("active",Je({transform:"rotateZ(-90deg)",translate:"-150% -100%"})),At("inactive",Je({transform:"rotateZ(0deg)",translate:"0% 0%"})),Mt("active => inactive",Tt("400ms ease-out")),Mt("inactive => active",Tt("400ms ease-in"))]),ZI=ai("fadeIn",[At("active",Je({opacity:"100%"})),At("inactive",Je({opacity:"0%"})),Mt("active => inactive",Tt("200ms ease-out")),Mt("inactive => active",Tt("200ms ease-in"))]);var Cu=(()=>{let e=class e{transform(r){switch(r){case"masculine":return"lightblue";case"feminine":return"lightpink";case"neuter":return"palegoldenrod";case"verb":return"plum";case"other":return"lightgreen";default:return"gray"}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275pipe=tf({name:"typeColor",type:e,pure:!0,standalone:!0});let t=e;return t})();var ML=t=>({background:t});function NL(t,e){if(t&1&&(v(0,"div"),ye(1),T()),t&2){let n=re();Br(n.flipped?"card-content":"card-content back"),W(),$r(" ",n.flipped?n.getFront():n.getBack()," ")}}function RL(t,e){t&1&&($e(),v(0,"svg",10),x(1,"g",4)(2,"g",5),v(3,"g",6),x(4,"path",16),T()())}function xL(t,e){t&1&&($e(),v(0,"svg",11),x(1,"g",4)(2,"g",5),v(3,"g",6),x(4,"path",17),T()())}function kL(t,e){if(t&1){let n=Ut();v(0,"div")(1,"button",2),B("click",function(i){Ye(n);let s=re();return Qe(s.editTapped(i))}),$e(),v(2,"svg",3),x(3,"g",4)(4,"g",5),v(5,"g",6),x(6,"path",7)(7,"path",8),T()()(),Mn(),v(8,"button",9),B("click",function(i){Ye(n);let s=re();return Qe(s.starTapped(i))}),Ze(9,RL,5,0,":svg:svg",10)(10,xL,5,0,":svg:svg",11),T(),v(11,"button",2),B("click",function(i){Ye(n);let s=re();return Qe(s.infoTapped(i))}),$e(),v(12,"svg",12),x(13,"g",4)(14,"g",5),v(15,"g",6),x(16,"path",13)(17,"path",14)(18,"path",15),T()()()()}if(t&2){let n=re();Br(n.flipped?"btn-row":"btn-row back"),W(9),co(n.card.starred?9:10)}}function OL(t,e){if(t&1&&(v(0,"option",29),ac(1,"typeColor"),ye(2),T()),t&2){let n=e.$implicit,r=re(3);ic("background",lc(1,4,n)),Z("selected",n===r.card.type),W(2),Rn(n)}}function PL(t,e){if(t&1&&(v(0,"div")(1,"form",20),x(2,"input",21)(3,"input",22),v(4,"select",23),Ze(5,OL,3,6,"option",24),T(),x(6,"textarea",25)(7,"textarea",26)(8,"textarea",27)(9,"textarea",28),T()()),t&2){let n=re(2);W(),Z("formGroup",n.editForm),W(3),Z("value",n.card.type),W(),Z("ngForOf",n.typeOptions)}}function FL(t,e){if(t&1&&(v(0,"div")(1,"p",30),ye(2),T(),v(3,"p",31),ye(4),T(),v(5,"p",30),ye(6),T(),v(7,"p",31),ye(8),T()()),t&2){let n=re(2);W(2),Rn(n.card.goal_sent_1),W(2),Rn(n.card.base_sent_1),W(2),Rn(n.card.goal_sent_2),W(2),Rn(n.card.base_sent_2)}}function LL(t,e){if(t&1){let n=Ut();v(0,"button",36),B("click",function(i){Ye(n);let s=re(3);return Qe(s.saveEdit(i))}),$e(),v(1,"svg",12),x(2,"g",4)(3,"g",5),v(4,"g",6),x(5,"path",37),T()()()}if(t&2){let n=re(3);Z("disabled",n.editForm.invalid)}}function VL(t,e){if(t&1){let n=Ut();v(0,"div",32)(1,"button",2),B("click",function(i){Ye(n);let s=re(2);return Qe(s.menuClose(i))}),$e(),v(2,"svg",12),x(3,"g",4)(4,"g",5),v(5,"g",6)(6,"g",33),x(7,"path",34),T()()()(),Ze(8,LL,6,1,"button",35),Mn(),v(9,"button",2),B("click",function(i){Ye(n);let s=re(2);return Qe(s.menuClose(i))}),$e(),v(10,"svg",12),x(11,"g",4)(12,"g",5),v(13,"g",6)(14,"g",33),x(15,"path",34),T()()()()()}if(t&2){let n=re(2);W(8),Z("ngIf",n.showEdit&&n.editForm.valid)}}function jL(t,e){if(t&1){let n=Ut();v(0,"span"),B("@fadeIn.done",function(){Ye(n);let i=re();return Qe(i.fadeInState==="inactive"?i.revealCard():null)}),Ze(1,PL,10,3,"div",18)(2,FL,9,4,"div",18)(3,VL,16,1,"div",19),T()}if(t&2){let n=re();Br(n.flipped?"card-menu":"card-menu back"),Z("@fadeIn",n.fadeInState),W(),Z("ngIf",n.showEdit),W(),Z("ngIf",n.showInfo),W(),Z("ngIf",!n.showCard)}}var JI=(()=>{let e=class e{constructor(){this.onSwiped=new le,this.onUpdated=new le,this.typeOptions=["masculine","feminine","neuter","verb","other"],this.touchStart=null,this.flipState="inactive",this.swipeRightState="inactive",this.swipeLeftState="inactive",this.fadeInState="inactive",this.flipped=!1,this.flipping=!1,this.showEdit=!1,this.showCard=!0,this.showInfo=!1}ngOnInit(){this.editForm=new fr({base:new ot(this.card.base,st.required),goal:new ot(this.card.goal,st.required),type:new ot(this.card.type,st.required),goal_sent_1:new ot(this.card.goal_sent_1,st.required),base_sent_1:new ot(this.card.base_sent_1,st.required),goal_sent_2:new ot(this.card.goal_sent_2),base_sent_2:new ot(this.card.base_sent_2)})}handleTouchStart(r){this.touchStart=r}handleTouchEnd(r){this.touchStart&&(this.showCard&&this.handleSwipe({start:this.touchStart,end:r}),this.touchStart=null)}handleKeyDown(r){this.showCard&&(r.key==="ArrowUp"||r.key==="ArrowDown"?this.tap():r.key==="ArrowRight"?this.swipeRight():r.key==="ArrowLeft"&&this.swipeLeft())}handleTouch(){this.tap()}handleSwipe(r){let i=r.end.changedTouches[0].pageX-r.start.changedTouches[0].pageX;Math.abs(i)>100&&(i>0?this.swipeRight():this.swipeLeft())}getFront(){return this.baseFirst?this.card.base:this.card.goal}getBack(){return this.baseFirst?this.card.goal:this.card.base}tap(){this.showCard&&(this.flipState=this.flipState==="inactive"?"active":"inactive")}menuClose(r){r.stopPropagation(),this.fade()}saveEdit(r){this.onUpdated.emit(b(b({},this.card),this.editForm.value)),this.menuClose(r)}revealCard(){this.showEdit=!1,this.showCard=!0,this.showInfo=!1}editTapped(r){r.stopPropagation(),this.fade(),this.showEdit=!0,this.showCard=!1,this.showInfo=!1}starTapped(r){r.stopPropagation(),this.onUpdated.emit(X(b({},this.card),{starred:!this.card.starred}))}infoTapped(r){r.stopPropagation(),this.fade(),this.showEdit=!1,this.showCard=!1,this.showInfo=!0}swipeRight(){this.swipeRightState=this.swipeRightState==="inactive"?"active":"inactive"}swipeLeft(){this.swipeLeftState=this.swipeLeftState==="inactive"?"active":"inactive"}fade(){this.fadeInState=this.fadeInState==="inactive"?"active":"inactive"}emitSwiped(r){r.fromState==="inactive"&&r.toState==="active"&&(r.triggerName==="swipeRight"?this.onSwiped.emit(!0):this.onSwiped.emit(!1))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ke({type:e,selectors:[["app-card"]],hostBindings:function(i,s){i&1&&B("touchstart",function(a){return s.handleTouchStart(a)},!1,Jl)("touchend",function(a){return s.handleTouchEnd(a)},!1,Jl)("keydown",function(a){return s.handleKeyDown(a)},!1,Jl)},inputs:{card:"card",color:"color",baseFirst:"baseFirst"},outputs:{onSwiped:"onSwiped",onUpdated:"onUpdated"},standalone:!0,features:[Oe],decls:4,vars:12,consts:[["id","container",3,"click"],[3,"class",4,"ngIf"],[1,"icon-btn",3,"click"],["viewBox","0 0 1024 1024","xmlns","http://www.w3.org/2000/svg","fill","#000000"],["id","SVGRepo_bgCarrier","stroke-width","0"],["id","SVGRepo_tracerCarrier","stroke-linecap","round","stroke-linejoin","round"],["id","SVGRepo_iconCarrier"],["fill","#000000","d","M832 512a32 32 0 1 1 64 0v352a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h352a32 32 0 0 1 0 64H192v640h640V512z"],["fill","#000000","d","m469.952 554.24 52.8-7.552L847.104 222.4a32 32 0 1 0-45.248-45.248L477.44 501.44l-7.552 52.8zm422.4-422.4a96 96 0 0 1 0 135.808l-331.84 331.84a32 32 0 0 1-18.112 9.088L436.8 623.68a32 32 0 0 1-36.224-36.224l15.104-105.6a32 32 0 0 1 9.024-18.112l331.904-331.84a96 96 0 0 1 135.744 0z"],[1,"icon-btn","star",3,"click"],["fill","#ffff00","viewBox","0 0 1920 1920","xmlns","http://www.w3.org/2000/svg","stroke","#ffff00"],["fill","#000000","viewBox","0 0 1920 1920","xmlns","http://www.w3.org/2000/svg"],["viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M12 17.75C12.4142 17.75 12.75 17.4142 12.75 17V11C12.75 10.5858 12.4142 10.25 12 10.25C11.5858 10.25 11.25 10.5858 11.25 11V17C11.25 17.4142 11.5858 17.75 12 17.75Z","fill","#000000"],["d","M12 7C12.5523 7 13 7.44772 13 8C13 8.55228 12.5523 9 12 9C11.4477 9 11 8.55228 11 8C11 7.44772 11.4477 7 12 7Z","fill","#000000"],["fill-rule","evenodd","clip-rule","evenodd","d","M1.25 12C1.25 6.06294 6.06294 1.25 12 1.25C17.9371 1.25 22.75 6.06294 22.75 12C22.75 17.9371 17.9371 22.75 12 22.75C6.06294 22.75 1.25 17.9371 1.25 12ZM12 2.75C6.89137 2.75 2.75 6.89137 2.75 12C2.75 17.1086 6.89137 21.25 12 21.25C17.1086 21.25 21.25 17.1086 21.25 12C21.25 6.89137 17.1086 2.75 12 2.75Z","fill","#000000"],["d","M1915.918 737.475c-10.955-33.543-42.014-56.131-77.364-56.131h-612.029l-189.063-582.1v-.112C1026.394 65.588 995.335 43 959.984 43c-35.237 0-66.41 22.588-77.365 56.245L693.443 681.344H81.415c-35.35 0-66.41 22.588-77.365 56.131-10.955 33.544.79 70.137 29.478 91.03l495.247 359.831-189.177 582.212c-10.955 33.657 1.13 70.25 29.817 90.918 14.23 10.278 30.946 15.487 47.66 15.487 16.716 0 33.432-5.21 47.775-15.6l495.134-359.718 495.021 359.718c28.574 20.781 67.087 20.781 95.662.113 28.687-20.668 40.658-57.261 29.703-91.03l-189.176-582.1 495.36-359.83c28.574-20.894 40.433-57.487 29.364-91.03","fill-rule","evenodd"],["d","M1306.181 1110.407c-28.461 20.781-40.32 57.261-29.477 91.03l166.136 511.398-435.05-316.122c-28.686-20.781-67.086-20.781-95.66 0l-435.05 316.122 166.25-511.623c10.842-33.544-1.017-70.024-29.591-90.805L178.577 794.285h537.825c35.351 0 66.523-22.701 77.365-56.245l166.25-511.51 166.136 511.397a81.155 81.155 0 0 0 77.365 56.358h537.939l-435.276 316.122Zm609.77-372.819c-10.956-33.656-42.014-56.244-77.365-56.244h-612.141l-189.064-582.1C1026.426 65.589 995.367 43 960.017 43c-35.351 0-66.523 22.588-77.365 56.245L693.475 681.344H81.335c-35.351 0-66.41 22.588-77.366 56.244-10.842 33.657 1.017 70.137 29.591 90.918l495.247 359.718-189.29 582.211c-10.842 33.657 1.017 70.137 29.704 90.918 14.23 10.39 31.059 15.586 47.661 15.586 16.829 0 33.657-5.195 47.887-15.699l495.248-359.718 495.02 359.718c28.575 20.894 67.088 20.894 95.775.113 28.574-20.781 40.433-57.261 29.59-91.03l-189.289-582.1 495.247-359.717c28.687-20.781 40.546-57.261 29.59-90.918Z","fill-rule","evenodd"],[4,"ngIf"],["class","btn-row",4,"ngIf"],[1,"edit-form",3,"formGroup"],["type","text","formControlName","base","placeholder","base",1,"card-input"],["type","text","formControlName","goal","placeholder","goal",1,"card-input"],["formControlName","type",1,"card-input",3,"value"],[3,"selected","background",4,"ngFor","ngForOf"],["type","text","formControlName","goal_sent_1","placeholder","goal sentence 1",1,"card-input"],["type","text","formControlName","base_sent_1","placeholder","base sentence 1",1,"card-input"],["type","text","formControlName","goal_sent_2","placeholder","goal sentence 2",1,"card-input"],["type","text","formControlName","base_sent_2","placeholder","base sentence 2",1,"card-input"],[3,"selected"],[1,"sent-ger"],[1,"sent-eng"],[1,"btn-row"],["id","Menu / Close_LG"],["id","Vector","d","M21 21L12 12M12 12L3 3M12 12L21.0001 3M12 12L3 21.0001","stroke","#000000","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["class","icon-btn",3,"disabled","click",4,"ngIf"],[1,"icon-btn",3,"click","disabled"],["fill-rule","evenodd","clip-rule","evenodd","d","M18.1716 1C18.702 1 19.2107 1.21071 19.5858 1.58579L22.4142 4.41421C22.7893 4.78929 23 5.29799 23 5.82843V20C23 21.6569 21.6569 23 20 23H4C2.34315 23 1 21.6569 1 20V4C1 2.34315 2.34315 1 4 1H18.1716ZM4 3C3.44772 3 3 3.44772 3 4V20C3 20.5523 3.44772 21 4 21L5 21L5 15C5 13.3431 6.34315 12 8 12L16 12C17.6569 12 19 13.3431 19 15V21H20C20.5523 21 21 20.5523 21 20V6.82843C21 6.29799 20.7893 5.78929 20.4142 5.41421L18.5858 3.58579C18.2107 3.21071 17.702 3 17.1716 3H17V5C17 6.65685 15.6569 8 14 8H10C8.34315 8 7 6.65685 7 5V3H4ZM17 21V15C17 14.4477 16.5523 14 16 14L8 14C7.44772 14 7 14.4477 7 15L7 21L17 21ZM9 3H15V5C15 5.55228 14.5523 6 14 6H10C9.44772 6 9 5.55228 9 5V3Z","fill","#0F0F0F"]],template:function(i,s){i&1&&(v(0,"div",0),B("click",function(){return s.handleTouch()})("@flip.start",function(){return s.flipping=!0})("@flip.done",function(){return s.flipped=!s.flipped,s.flipping=!1})("@swipeRight.done",function(a){return s.emitSwiped(a)})("@swipeLeft.done",function(a){return s.emitSwiped(a)}),Ze(1,NL,2,3,"div",1)(2,kL,19,3,"div",1)(3,jL,4,6,"span",1),T()),i&2&&(oc(Xi(10,ML,s.color)),Br(s.flipped?"card-container":"card-container back"),Z("@flip",s.flipState)("@swipeRight",s.swipeRightState)("@swipeLeft",s.swipeLeftState),W(),Z("ngIf",!s.flipping&&s.showCard),W(),Z("ngIf",!s.flipping&&s.showCard),W(),Z("ngIf",s.showEdit||s.showInfo))},dependencies:[cn,mc,ts,Ss,Ds,zI,GI,pr,bu,Cs,Is,si,oi,Cu],styles:["body[_ngcontent-%COMP%]{margin:0;background:#dedede;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{height:2.5rem;margin:0 .5rem;padding:.25rem;border:none;outline:none;border-radius:5px;background-color:#f0f8ff;font-size:large;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}textarea[_ngcontent-%COMP%]{height:3.5rem}button[_ngcontent-%COMP%]{font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}.label[_ngcontent-%COMP%]{font-size:20px}.btn[_ngcontent-%COMP%]{width:fit-content;margin:auto;padding:.5rem 1rem;border:none;outline:none;height:3rem;border-radius:5px;font-size:20px;box-shadow:0 1px 2px #d3d3d3}.icon-btn[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;outline:none;border:none;background:none;width:4rem;height:4rem;padding:0 .5rem}.icon-btn[_ngcontent-%COMP%]:hover{cursor:pointer;outline:solid 1px black}.navbar[_ngcontent-%COMP%]{height:4rem;width:100%;display:flex;flex-direction:row;justify-content:space-between}[_nghost-%COMP%]{width:100%}.card-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;text-align:center;height:100%;border-radius:10px;box-shadow:0 1px 2px gray;word-wrap:break-word;overflow-y:scroll}.card-container[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.card-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;height:100%;font-size:32px;padding:1rem}.back[_ngcontent-%COMP%]{transform:rotateY(180deg)}.star[_ngcontent-%COMP%]{width:3.5rem;height:3.5rem}.filled[_ngcontent-%COMP%]{background:#ff0}.btn-row[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:space-between;margin-bottom:.25rem}.card-menu[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:space-between;margin:1rem 1rem 0}.edit-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;gap:.5rem}.card-input[_ngcontent-%COMP%]{background:#ffffff10;border:solid 1px black}.sent-ger[_ngcontent-%COMP%]{font-size:30px;font-weight:400}.sent-eng[_ngcontent-%COMP%]{font-size:24px;font-weight:300}"],data:{animation:[KI,YI,QI,ZI]}});let t=e;return t})();var Iu=(()=>{let e=class e{constructor(){this.undos=[],this.redos=[],this.activeUndo=new ve,this.activeRedo=new ve}pushUndo(r){this.undos.push(r)}pushRedo(r){this.redos.push(r)}applyUndo(){let r=this.undos.pop();r&&(this.redos.push(r),this.activeUndo.next(r))}applyRedo(){let r=this.redos.pop();r&&(this.undos.push(r),this.activeRedo.next(r))}reset(){this.resetUndos(),this.resetRedos()}resetUndos(){this.undos=[]}resetRedos(){this.redos=[]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var e0=[{id:0,goal:"ab",base:"from, off",goal_sent_1:"Die Fahrt kostet ab Hamburg 200 Euro.",base_sent_1:"The journey costs 200 Euro from Hamburg.",goal_sent_2:"Ab n\xE4chster Woche bleibt unser Gesch\xE4ft samstags geschlossen.",base_sent_2:"From next week, our business will be closed on Saturdays.",starred:!1,type:"other"},{id:1,goal:"abbiegen, biegt ab, bog ab, ist abgebogen",base:"to turn off, bend",goal_sent_1:"An der n\xE4chsten Kreuzung m\xFCssen Sie links abbiegen.",base_sent_1:"At the next junction you have to turn left.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:2,goal:"die Abbildung, -en",base:"Illustration",goal_sent_1:"Hier in der Abbildung sehen Sie, wie man das Ger\xE4t einschaltet.",base_sent_1:"Here you can see how to turn on the device.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"feminine"},{id:3,goal:"aber",base:"but",goal_sent_1:"Heute kann ich nicht, aber morgen ganz bestimmt.",base_sent_1:"I can not today, but certainly tomorrow.",goal_sent_2:"Es lag sehr viel Schnee, aber Enzo ist trotzdem mit dem Motorrad gefahren.",base_sent_2:"There was a lot of snow, but Enzo went by motorbike anyway.",starred:!1,type:"other"},{id:4,goal:'der Abfall, -"e',base:"waste, rubbish, garbage",goal_sent_1:"Werfen Sie den Bioabfall in die gr\xFCne Tonne.",base_sent_1:"Throw the bio-waste into the green bin.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"masculine"},{id:5,goal:"abfahren, f\xE4hrt ab, fuhr ab, ist abgefahren",base:"to depart",goal_sent_1:"Unser Zug ist p\xFCnktlich abgefahren.",base_sent_1:"Our train left on time.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:6,goal:"das Abgas, -e",base:"exhaust, waste gas",goal_sent_1:"Abgase aus Industrie und Haushalten verschmutzen die Luft.",base_sent_1:"Exhaust gases from industry and households pollute the air.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"neuter"},{id:7,goal:"abgeben, gibt ab, gab ab, hat abgegeben",base:"to hand in",goal_sent_1:"Ich soll dieses P\xE4ckchen bei Herrn M\xFCller abgeben.",base_sent_1:"I should hand over this package to Mr. M\xFCller.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:8,goal:"abh\xE4ngen, h\xE4ngt ab, hing ab, hat abgehangen",base:"to take down, uncouple, depend upon",goal_sent_1:"Vielleicht bleiben wir ein paar Tage l\xE4nger, das h\xE4ngt vom Wetter ab.",base_sent_1:"Maybe we stay a few days longer, it depends on the weather.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:9,goal:"abh\xE4ngig",base:"dependent on",goal_sent_1:"Gregor ist finanziell von seinen Eltern abh\xE4ngig.",base_sent_1:"Gregor is financially dependent on his parents.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"other"},{id:10,goal:"abheben, hebt ab, hob ab, hat abgehoben",base:"to lift (up)",goal_sent_1:"F\xFCr die Reise habe ich 500 Euro von meinem Konto abgehoben.",base_sent_1:"For the trip, I have lifted 500 \u20AC from my account.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:11,goal:"abholen, holt ab, holte ab, hat abgeholt",base:"to pick up (from a place)",goal_sent_1:"Meine Freundin hat mich vom Bahnhof abgeholt.",base_sent_1:"My girlfriend picked me up from the train station.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:12,goal:"das Abitur (Sg.)",base:"school graduation exam",goal_sent_1:"Meine Tochter hat gerade Abitur gemacht.",base_sent_1:"My daughter just graduated from high school.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"neuter"},{id:13,goal:"ablehnen, lehnt ab, lehnte ab, hat abgelehnt",base:"to refuse",goal_sent_1:"Es tut mir leid, Ihr Antrag ist abgelehnt.",base_sent_1:"I'm sorry, your application is rejected.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:14,goal:"abmachen, macht ab, machte ab, hat abgemacht",base:"to take off, agree",goal_sent_1:"Wir hatten doch abgemacht, dass du die Getr\xE4nke besorgst.",base_sent_1:"We had agreed that you get the drinks.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:15,goal:"abnehmen, nimmt ab, nahm ab, hat abgenommen",base:"to take off, remove, take away, loose weight",goal_sent_1:"Morgen k\xF6nnen wir den Verband abnehmen.",base_sent_1:"Tomorrow we can remove the bandage.",goal_sent_2:"Ich habe zehn Kilo abgenommen.",base_sent_2:"I lost ten pounds.",starred:!1,type:"verb"},{id:16,goal:"abonnieren, abonniert, abonnierte, hat abonniert",base:"to subscribe",goal_sent_1:"Diese Zeitschrift w\xFCrde ich gerne abonnieren.",base_sent_1:"I would like to subscribe to this magazine.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:17,goal:"das Abonnement, -s",base:"subscription",goal_sent_1:"Ich habe das Abonnement gek\xFCndigt.",base_sent_1:"I have canceled the subscription.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"neuter"},{id:18,goal:'der Abschluss, -"sse',base:"school graduation or result",goal_sent_1:"Ein guter Schulabschluss ist sehr wichtig.",base_sent_1:"A good education is very important.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"masculine"},{id:19,goal:"der Absender, -",base:"sender",goal_sent_1:"Schicken Sie das P\xE4ckchen an den Absender zur\xFCck.",base_sent_1:"Send the parcel back to the sender.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"masculine"},{id:20,goal:"die Absicht, -en",base:"intention",goal_sent_1:"Entschuldigen Sie bitte. Meine Tochter hat das nicht mit Absicht gemacht.",base_sent_1:"Excuse me please. My daughter did not do that on purpose.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"feminine"},{id:21,goal:"absolut",base:"absolute",goal_sent_1:"Was Sie da sagen, ist absolut falsch.",base_sent_1:"What you say is absolutely wrong.",goal_sent_2:"Ich habe absolutes Vertrauen zu dir.",base_sent_2:"I have absolute confidence in you.",starred:!1,type:"other"},{id:22,goal:"abstimmen, stimmt ab, stimmte ab, hat abgestimmt",base:"to vote",goal_sent_1:"Lasst uns \xFCber diesen Punkt abstimmen.",base_sent_1:"Let's vote on this point.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:23,goal:"die Abteilung, -en",base:"Department",goal_sent_1:"Meine Freundin arbeitet in der Abteilung von Frau Kaufmann.",base_sent_1:"My girlfriend works in the department of Mrs. Kaufmann.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"feminine"},{id:24,goal:"abwaschen, w\xE4scht ab, wusch ab, hat abgewaschen",base:"wash up",goal_sent_1:"Ich muss noch das Geschirr abwaschen.",base_sent_1:"I still have to wash the dishes.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"other"},{id:25,goal:"ach",base:"Oh",goal_sent_1:"Sie sind krank? Ach, das tut mir aber leid.",base_sent_1:"You are sick? Oh, I'm sorry.",goal_sent_2:"Ach so! Jetzt verstehe ich, was Sie meinen.",base_sent_2:"Oh, right! Now I understand what you mean.",starred:!1,type:"other"},{id:26,goal:"achten auf, achtet, achtete, hat geachtet",base:"to pay attention (to)",goal_sent_1:"Achten Sie bitte darauf, dass abends immer alle Fenster geschlossen sind.",base_sent_1:"Please make sure that all windows are closed in the evening.",goal_sent_2:"Hier m\xFCssen Sie auf die Vorfahrt achten.",base_sent_2:"Here you must pay attention to the right of way.",starred:!1,type:"verb"},{id:27,goal:"die Achtung (Sg.)",base:"Danger, Attention",goal_sent_1:"Achtung, hier endet die Stra\xDFe!",base_sent_1:"Attention, the road ends here!",goal_sent_2:"",base_sent_2:"",starred:!1,type:"feminine"},{id:28,goal:"die Adresse, -n",base:"address",goal_sent_1:"Hast du schon meine neue Adresse?",base_sent_1:"Do you already have my new address?",goal_sent_2:"",base_sent_2:"",starred:!1,type:"feminine"},{id:29,goal:"die Agentur, -en",base:"Agency",goal_sent_1:"Ich habe einen Brief von der Agentur f\xFCr Arbeit bekommen.",base_sent_1:"I got a letter from the employment agency.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"feminine"},{id:30,goal:"\xE4hnlich",base:"similar",goal_sent_1:"Oleg sieht seinem Bruder sehr \xE4hnlich.",base_sent_1:"Oleg looks very much like his brother.",goal_sent_2:"Emilia ist in einer ganz \xE4hnlichen Situation wie ich.",base_sent_2:"Emilia is in a similar situation to me.",starred:!1,type:"other"},{id:31,goal:"aha",base:"Aha",goal_sent_1:"Ich gehe bald in Rente. - Aha, dann haben Sie ja viel Zeit f\xFCr Ihre Hobbys.",base_sent_1:"I'm retiring soon. - Aha, then you have a lot of time for your hobbies.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"other"},{id:32,goal:"die Ahnung, -en",base:"idea, suspicion",goal_sent_1:"Ich hatte keine Ahnung, dass du heute Geburtstag hast.",base_sent_1:"I had no idea that you have a birthday today.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"feminine"},{id:33,goal:"die Aktion, -en",base:"action",goal_sent_1:"Die Regierung plant eine Aktion gegen das Rauchen.",base_sent_1:"The government is planning an action against smoking.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"feminine"},{id:34,goal:"aktiv",base:"active",goal_sent_1:"Ich bin sehr aktiv und mache viel Sport.",base_sent_1:"I am very active and do a lot of sports.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"other"},{id:35,goal:"die Aktivit\xE4t, -en",base:"activity",goal_sent_1:"In den Ferien bietet die Stadt f\xFCr Kinder verschiedene Freizeitaktivit\xE4ten.",base_sent_1:"During the holidays, the city offers various leisure activities for children.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"feminine"},{id:36,goal:"aktuell",base:"current (now)",goal_sent_1:"Umweltschutz ist ein aktuelles Thema.",base_sent_1:"Environmental protection is a current topic.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"other"},{id:37,goal:"akzeptieren, akzeptiert, akzeptierte, hat akzeptiert",base:"to accept",goal_sent_1:"Ich kann diese Bedingungen nicht akzeptieren.",base_sent_1:"I can not accept these conditions.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:38,goal:"der Alarm, -e",base:"alarm",goal_sent_1:"Bei Feueralarm d\xFCrfen Sie die Aufz\xFCge nicht benutzen.",base_sent_1:"In case of fire alarm you are not allowed to use the lifts.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"masculine"},{id:39,goal:"der Alkohol, -e",base:"alcohol",goal_sent_1:"Du musst die Wunde mit Alkohol reinigen.",base_sent_1:"You have to clean the wound with alcohol.",goal_sent_2:"Nein, danke! Ich trinke keinen Alkohol.",base_sent_2:"No thanks! I do not drink alcohol.",starred:!1,type:"masculine"},{id:40,goal:"all-",base:"everything",goal_sent_1:"Alles Gute!",base_sent_1:"All the best!",goal_sent_2:"Sonst noch (et)was? - Nein, danke. Das ist alles.",base_sent_2:"Anything else? - No thanks. That's all.",starred:!1,type:"other"},{id:41,goal:"allein",base:"alone",goal_sent_1:"Ich gehe nicht gern allein spazieren.",base_sent_1:"I do not like to go for a walk alone.",goal_sent_2:"Soll ich Ihnen helfen? - Danke, ich schaffe es schon allein.",base_sent_2:"Can I help you? - Thanks, I can do it alone.",starred:!1,type:"other"},{id:42,goal:"aller",base:"all",goal_sent_1:"Am allerbesten ist es, wenn du dich ins Bett legst und lange schl\xE4fst. Dann wirst du schnell wieder gesund.",base_sent_1:"Best of all, when you go to bed and sleep for a long time. Then you will get well soon.",goal_sent_2:"Das ist das Allersch\xF6nste, was ich je gesehen habe.",base_sent_2:"That's the most beautiful thing I've ever seen.",starred:!1,type:"other"},{id:43,goal:"allerdings",base:"admittedly, certainly",goal_sent_1:"Sie k\xF6nnen sich noch f\xFCr den Kurs anmelden, allerdings nur noch bis morgen.",base_sent_1:"You can still register for the course, but only until tomorrow.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"other"},{id:44,goal:"allgemein",base:"general",goal_sent_1:"Im Allgemeinen bin ich mit meiner Arbeit sehr zufrieden.",base_sent_1:"In general I am very satisfied with my work.",goal_sent_2:"Wir haben nur \xFCber allgemeine Probleme gesprochen.",base_sent_2:"We only talked about general problems.",starred:!1,type:"other"},{id:45,goal:"der Alltag, -e",base:"daily routine",goal_sent_1:"Das ist mein Alltag: putzen, waschen, kochen.",base_sent_1:"This is my everyday life: cleaning, washing, cooking.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"masculine"},{id:46,goal:"das Alphabet, -e",base:"alphabet",goal_sent_1:"Wie viele Buchstaben hat das Alphabet Ihrer Sprache?",base_sent_1:"How many letters does the alphabet have in your language?",goal_sent_2:"",base_sent_2:"",starred:!1,type:"neuter"},{id:47,goal:"als",base:"when, as, than",goal_sent_1:"Als mein Mann kam, war die Party schon zu Ende.",base_sent_1:"When my husband came, the party was over.",goal_sent_2:"Sie k\xF6nnen sich sowohl pers\xF6nlich als auch per Internet anmelden.",base_sent_2:"You can register both in person and via the internet.",starred:!1,type:"other"},{id:48,goal:"als ob",base:"as if",goal_sent_1:"Der Chef tat so, als ob wir nie dar\xFCber gesprochen h\xE4tten.",base_sent_1:"The boss pretended we never talked about it.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"other"},{id:49,goal:"also",base:"so, therefore",goal_sent_1:"Also, die Sache ist so: ...",base_sent_1:"So, the thing is ...",goal_sent_2:"Irina hat Urlaub. Sie kann uns also helfen.",base_sent_2:"Irina is on vacation. So she can help us.",starred:!1,type:"other"},{id:50,goal:"alt",base:"old",goal_sent_1:"Wie alt sind Sie?",base_sent_1:"How old are they?",goal_sent_2:"Maria ist eine alte Freundin von mir.",base_sent_2:"Maria is an old friend of mine.",starred:!1,type:"other"},{id:51,goal:"das Alter, -",base:"age",goal_sent_1:"Wir sind etwa im gleichen Alter.",base_sent_1:"We are about the same age.",goal_sent_2:"Im Alter bekomme ich eine ausreichende Rente.",base_sent_2:"At the age I get a sufficient pension.",starred:!1,type:"neuter"},{id:52,goal:"das Altenheim, -e",base:"old people's home, retirement home",goal_sent_1:"In Deutschland leben viele alte Leute in Altenheimen.",base_sent_1:"In Germany, many old people live in retirement homes.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"neuter"},{id:53,goal:"das Altersheim, -e",base:"old people's home, retirement home",goal_sent_1:"Die Gro\xDFeltern unserer Nachbarn sind im Altersheim.",base_sent_1:"The grandparents of our neighbors are in the retirement home.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"neuter"},{id:54,goal:"an",base:"on",goal_sent_1:"Am Anfang war alles sehr schwierig.",base_sent_1:"In the beginning everything was very difficult.",goal_sent_2:"Dann sehen wir uns also am Dienstag.",base_sent_2:"See you on Tuesday.",starred:!1,type:"other"},{id:55,goal:"die Ampel, -n",base:"traffic light",goal_sent_1:"Dort an der Ampel kannst du \xFCber die Stra\xDFe gehen.",base_sent_1:"There at the traffic light you can cross the street.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"feminine"},{id:56,goal:'das Amt, -"er',base:"office",goal_sent_1:"Die \xC4mter haben heute geschlossen.",base_sent_1:"The offices have closed today.",goal_sent_2:"Wissen Sie, wo das Ordnungsamt ist?",base_sent_2:"Do you know where the public order office is?",starred:!1,type:"neuter"},{id:57,goal:"sich am\xFCsieren, am\xFCsiert sich, am\xFCsierte sich, hat sich am\xFCsiert",base:"to amuse oneself",goal_sent_1:"Bei dem Fest haben wir uns sehr gut am\xFCsiert.",base_sent_1:"We had a good time at the party.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:58,goal:"analysieren, analysiert, analysierte, hat analysiert",base:"to analyse",goal_sent_1:"Die Politiker analysieren die Situation auf dem Arbeitsmarkt.",base_sent_1:"The politicians analyze the situation on the job market.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:59,goal:"anbieten, bietet an, bot an, hat angeboten",base:"to offer",goal_sent_1:"Darf ich Ihnen etwas zu trinken anbieten?",base_sent_1:"May I offer you something to drink?",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:60,goal:"das Angebot, -e",base:"offer",goal_sent_1:"Ich habe ein paar g\xFCnstige Wohnungsangebote bekommen.",base_sent_1:"I got a few cheap housing offers.",goal_sent_2:"Dieser K\xE4se ist heute im Angebot.",base_sent_2:"This cheese is on sale today.",starred:!1,type:"neuter"},{id:61,goal:"ander-",base:"other",goal_sent_1:"Die anderen sind schon nach Hause gegangen.",base_sent_1:"The others have already gone home.",goal_sent_2:"Bitte nicht alle auf einmal! - Einer nach dem anderen.",base_sent_2:"Not all at once! - One after the other.",starred:!1,type:"other"},{id:62,goal:"andererseits",base:"on the other hand",goal_sent_1:"Tarek will zwar studieren. Andererseits m\xF6chte er aber auch gleich Geld verdienen.",base_sent_1:"Tarek wants to study. On the other hand, he also wants to earn money right away.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"other"},{id:63,goal:"\xE4ndern, \xE4ndert, \xE4nderte, hat ge\xE4ndert",base:"to change",goal_sent_1:"Das Wetter hat sich ge\xE4ndert.",base_sent_1:"The weather has changed.",goal_sent_2:"Ich habe meine Meinung inzwischen ge\xE4ndert.",base_sent_2:"I have changed my mind by now.",starred:!1,type:"verb"},{id:64,goal:"die \xC4nderung, -en",base:"modification, change",goal_sent_1:"Es gibt eine Programm\xE4nderung.",base_sent_1:"There is a program change.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"feminine"},{id:65,goal:"anders",base:"different",goal_sent_1:"Anders geht das leider nicht.",base_sent_1:"Unfortunately, that is not possible.",goal_sent_2:"Oliver ist anders als seine Freunde.",base_sent_2:"Oliver is different than his friends.",starred:!1,type:"other"},{id:66,goal:"anerkennen, erkennt an, erkannte an, hat anerkannt",base:"to recognize",goal_sent_1:"Meine Ausbildung wird hier nicht anerkannt.",base_sent_1:"My education is not recognized here.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:67,goal:"anfangen, f\xE4ngt an, fing an, hat angefangen",base:"to begin",goal_sent_1:"Wann f\xE4ngst du mit der Arbeit an?",base_sent_1:"When do you start working?",goal_sent_2:"Wann haben Sie angefangen, Deutsch zu lernen?",base_sent_2:"When did you start learning German?",starred:!1,type:"verb"},{id:68,goal:'der Anfang, -"e',base:"beginning",goal_sent_1:"Wie war der Film? - Ich habe nur den Anfang gesehen.",base_sent_1:"How was the movie? - I saw only the beginning.",goal_sent_2:"Am Anfang habe ich mich hier sehr fremd gef\xFChlt.",base_sent_2:"In the beginning I felt very strange here.",starred:!1,type:"masculine"},{id:69,goal:"anfangs",base:"at/ in the beginning",goal_sent_1:"Anfangs ging alles gut.",base_sent_1:"At first everything went well.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"other"},{id:70,goal:"die Angabe,-n",base:"information, specification",goal_sent_1:"Wir brauchen von Ihnen folgende Angaben: Name, Adresse, Geburtsdatum.",base_sent_1:"We need the following information from you: name, address, date of birth.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"feminine"},{id:71,goal:"angeben, gibt an, gab an, hat angegeben",base:"to boast",goal_sent_1:"Bitte geben Sie Ihre genaue Adresse an.",base_sent_1:"Please enter your exact address.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:72,goal:"der Angeh\xF6rige, -n",base:"relative (cousin, etc)",goal_sent_1:"Wir d\xFCrfen nur Familienangeh\xF6rigen Auskunft geben.",base_sent_1:"We may only provide information to family members.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"masculine"},{id:73,goal:"angenehm",base:"pleasant",goal_sent_1:"Wir w\xFCnschen Ihnen eine angenehme Reise.",base_sent_1:"We wish you a pleasant journey.",goal_sent_2:"Welcher Termin w\xE4re Ihnen angenehm?",base_sent_2:"Which date would you like?",starred:!1,type:"other"},{id:74,goal:'die Angst, -"e',base:"fear",goal_sent_1:"Du brauchst keine Angst zu haben. Der Hund tut dir nichts.",base_sent_1:"You do not have to be scared. The dog does nothing to you.",goal_sent_2:"Ich habe Angst, vielleicht ist etwas passiert.",base_sent_2:"I'm scared, maybe something happened.",starred:!1,type:"feminine"},{id:75,goal:"\xE4ngstlich",base:"nervous, worried, timid",goal_sent_1:"Meine Tochter ist etwas \xE4ngstlich. Sie geht nicht gern allein auf die Stra\xDFe.",base_sent_1:"My daughter is a little scared. She does not like to go alone on the street.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"other"},{id:76,goal:"anhaben, hat an, hatte an, hat angehabt",base:"to have on",goal_sent_1:"Gestern hatte Julia ein rotes Kleid an.",base_sent_1:"Yesterday Julia was wearing a red dress.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:77,goal:"ankommen, kommt an, kam an, ist angekommen",base:"to arrive",goal_sent_1:"Wann kommt der Zug in Hamburg an?",base_sent_1:"When does the train arrive in Hamburg?",goal_sent_2:"Es kommt darauf an, dass Sie alle Fragen im Test beantworten.",base_sent_2:"It is important that you answer all the questions in the test.",starred:!1,type:"verb"},{id:78,goal:'die Ankunft, "-e',base:"arrival",goal_sent_1:"Die Abfahrt ist um 0.55 Uhr, die Ankunft um 8.07 Uhr.",base_sent_1:"The departure is at 0.55 clock, the arrival at 8.07 clock.",goal_sent_2:"Gleich nach der Ankunft habe ich meine Eltern angerufen.",base_sent_2:"Immediately after arrival, I called my parents.",starred:!1,type:"feminine"},{id:79,goal:"die Anlage, -n",base:"music system, attachment, investment",goal_sent_1:"Meine Musikanlage ist kaputt.",base_sent_1:"My music system is broken.",goal_sent_2:"In der Anlage finden Sie meinen Lebenslauf.",base_sent_2:"In the attachment you will find my CV.",starred:!1,type:"feminine"},{id:80,goal:"anmelden, meldet an, meldete an, hat angemeldet, angemeldet sein",base:"to announce, make an appointment",goal_sent_1:"F\xFCr diesen Kurs m\xFCssen Sie sich unbedingt vorher anmelden.",base_sent_1:"You absolutely have to register in advance for this course.",goal_sent_2:"Ich melde meinen Sohn im Kindergarten an.",base_sent_2:"I enroll my son in kindergarten.",starred:!1,type:"verb"},{id:81,goal:"die Anmeldung, -en",base:"appointment, announcement",goal_sent_1:"Wo bekomme ich die Formulare f\xFCr die Anmeldung?",base_sent_1:"Where can I get the registration forms?",goal_sent_2:"Die Anmeldung ist im Erdgeschoss, Zimmer 55.",base_sent_2:"The registration is on the ground floor, room 55.",starred:!1,type:"feminine"},{id:82,goal:"die Anrede, -n",base:"form of address",goal_sent_1:"Du darfst im Brief die Anrede nicht vergessen.",base_sent_1:"You must not forget the salutation in the letter.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"feminine"},{id:83,goal:"anrufen, ruft an, rief an, hat angerufen",base:"to telephone, call, call out",goal_sent_1:"Ich rufe Sie heute Abend an.",base_sent_1:"I'll call you tonight.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:84,goal:"der Anruf, -e",base:"call",goal_sent_1:"Ich warte auf einen Anruf aus Berlin.",base_sent_1:"I'm waiting for a call from Berlin.",goal_sent_2:"Meine Tochter bekommt viele Anrufe auf ihrem Handy.",base_sent_2:"My daughter gets many calls on her mobile.",starred:!1,type:"masculine"},{id:85,goal:"der Anrufbeantworter, -",base:"answering machine",goal_sent_1:"Ich habe dir eine Nachricht auf den Anrufbeantworter gesprochen.",base_sent_1:"I have spoken to you on the answering machine.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"masculine"},{id:86,goal:"die Ansage, -n",base:"announcement",goal_sent_1:"Achten Sie auf die Ansage am Bahnsteig.",base_sent_1:"Pay attention to the announcement on the platform.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"feminine"},{id:87,goal:"anschaffen, schafft an, schaffte an, hat angeschafft",base:"to purchase",goal_sent_1:"Wir haben uns neue M\xF6bel angeschafft.",base_sent_1:"We bought new furniture.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:88,goal:"anschlie\xDFen, schlie\xDFt an, schloss an, hat angeschlossen",base:"to connect",goal_sent_1:"Wo kann ich den Computer anschlie\xDFen?",base_sent_1:"Where can I connect the computer?",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:89,goal:'der Anschluss, -"e',base:"connection (TV, internet)",goal_sent_1:"In Mannheim haben Sie Anschluss nach Saarbr\xFCcken.",base_sent_1:"In Mannheim you have connection to Saarbr\xFCcken.",goal_sent_2:"Ich brauche in meiner Wohnung einen Telefonanschluss.",base_sent_2:"I need a telephone connection in my apartment.",starred:!1,type:"masculine"},{id:90,goal:"anschnallen, schnallt an, schnallte an, hat angeschnallt",base:"to strap in, fasten seat belt",goal_sent_1:"Vergiss nicht, dich anzuschnallen!",base_sent_1:"Do not forget to strap on!",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:91,goal:"ansehen, sieht an, sah an, hat angesehen",base:"to look at",goal_sent_1:"Warum siehst du mich so erschrocken an?",base_sent_1:"Why are you looking at me so startled?",goal_sent_2:"Darf ich eure Urlaubsfotos ansehen?",base_sent_2:"May I take a look at your vacation photos?",starred:!1,type:"verb"},{id:92,goal:"ansprechen, spricht an, sprach an, hat angesprochen",base:"to speak to",goal_sent_1:"Gestern hat mich die neue Mieterin im Treppenhaus angesprochen.",base_sent_1:"Yesterday, the new tenant in the stairwell addressed me.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:93,goal:'der Anspruch, - "e',base:"claim",goal_sent_1:"Sie wohnen im Stadtzentrum. Deshalb haben Sie keinen Anspruch auf Fahrgeld.",base_sent_1:"You live in the city center. Therefore, you are not entitled to fare.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"masculine"},{id:94,goal:"anstellen, stellt an, stellte an, hat angestellt",base:"to turn on, employ",goal_sent_1:"K\xF6nnen Sie bitte die Heizung anstellen?",base_sent_1:"Can you please turn on the heating?",goal_sent_2:"Mein Schwager ist bei einer M\xF6belfirma angestellt.",base_sent_2:"My brother-in-law is employed by a furniture company.",starred:!1,type:"verb"},{id:95,goal:"der Angestellte, -n",base:"employee",goal_sent_1:"Bj\xF6rn ist Angestellter in einem Reiseb\xFCro.",base_sent_1:"Bj\xF6rn is a clerk in a travel agency.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"masculine"},{id:96,goal:"sich anstrengen, strengt sich an, strengte sich an, hat sich angestrengt",base:"to tire oneself out, strain oneself",goal_sent_1:"Diese Arbeit strengt mich sehr an.",base_sent_1:"This work is very stressful for me.",goal_sent_2:"Wenn du die Pr\xFCfung schaffen willst, musst du dich mehr anstrengen.",base_sent_2:"If you want to pass the exam, you have to work harder.",starred:!1,type:"verb"},{id:97,goal:"anstrengend",base:"exhausting",goal_sent_1:"Ich finde diese Arbeit sehr anstrengend.",base_sent_1:"I find this work very exhausting.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"other"},{id:98,goal:'der Antrag, -"e',base:"application, proposal, motion",goal_sent_1:"Haben Sie schon einen Antrag auf Wohngeld gestellt?",base_sent_1:"Have you already applied for housing allowance?",goal_sent_2:"Die Antr\xE4ge bekommen Sie in Zimmer 47.",base_sent_2:"You will receive the applications in room 47.",starred:!1,type:"masculine"},{id:99,goal:"anwenden, wendet an, wandte an, hat angewandt/angewendet",base:"to use, employ, apply",goal_sent_1:"Diese Salbe muss man dreimal am Tag anwenden.",base_sent_1:"This ointment must be used three times a day.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"}];var t0="@firebase/database",n0="1.0.5";var Qm="";function $L(t){Qm=t}var em=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ae(n))}get(e){let n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:fs(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var tm=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return hn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var k0=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){let e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new em(e)}}catch{}return new tm},ci=k0("localStorage"),nm=k0("sessionStorage");var Ms=new rr("@firebase/database"),HL=function(){let t=1;return function(){return t++}}(),O0=function(t){let e=KE(t),n=new Fc;n.update(e);let r=n.digest();return Lc.encodeByteArray(r)},Ea=function(...t){let e="";for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Ea.apply(null,r):typeof r=="object"?e+=Ae(r):e+=r,e+=" "}return e},di=null,r0=!0,zL=function(t,e){_(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Ms.logLevel=ce.VERBOSE,di=Ms.log.bind(Ms),e&&nm.set("logging_enabled",!0)):typeof t=="function"?di=t:(di=null,nm.remove("logging_enabled"))},We=function(...t){if(r0===!0&&(r0=!1,di===null&&nm.get("logging_enabled")===!0&&zL(!0)),di){let e=Ea.apply(null,t);di(e)}},Ca=function(t){return function(...e){We(t,...e)}},rm=function(...t){let e="FIREBASE INTERNAL ERROR: "+Ea(...t);Ms.error(e)},Fn=function(...t){let e=`FIREBASE FATAL ERROR: ${Ea(...t)}`;throw Ms.error(e),new Error(e)},at=function(...t){let e="FIREBASE WARNING: "+Ea(...t);Ms.warn(e)},WL=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&at("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},P0=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},GL=function(t){if(dn()||document.readyState==="complete")t();else{let e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Rs="[MIN_NAME]",hi="[MAX_NAME]",Vs=function(t,e){if(t===e)return 0;if(t===Rs||e===hi)return-1;if(e===Rs||t===hi)return 1;{let n=i0(t),r=i0(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},qL=function(t,e){return t===e?0:t<e?-1:1},oa=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Ae(e))},Zm=function(t){if(typeof t!="object"||t===null)return Ae(t);let e=[];for(let r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Ae(e[r]),n+=":",n+=Zm(t[e[r]]);return n+="}",n},F0=function(t,e){let n=t.length;if(n<=e)return[t];let r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function lt(t,e){for(let n in t)t.hasOwnProperty(n)&&e(n,t[n])}var L0=function(t){_(!P0(t),"Invalid JSON number");let e=11,n=52,r=(1<<e-1)-1,i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));let c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();let u=c.join(""),d="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},KL=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},YL=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function QL(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");let r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}var ZL=new RegExp("^-?(0*)\\d{1,10}$"),JL=-2147483648,XL=2147483647,i0=function(t){if(ZL.test(t)){let e=Number(t);if(e>=JL&&e<=XL)return e}return null},js=function(t){try{t()}catch(e){setTimeout(()=>{let n=e.stack||"";throw at("Exception was thrown by user callback.",n),e},Math.floor(0))}},e2=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},da=function(t,e){let n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var im=class{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){at(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}};var sm=class{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(We("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',at(e)}},ha=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}t.OWNER="owner";return t})(),Su="5",V0="v",j0="s",U0="r",B0="f",$0=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,H0="ls",z0="p",om="ac",W0="websocket",G0="long_polling";var Tu=class{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ci.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ci.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}};function t2(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function q0(t,e,n){_(typeof e=="string","typeof type must == string"),_(typeof n=="object","typeof params must == object");let r;if(e===W0)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===G0)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);t2(t)&&(n.ns=t.namespace);let i=[];return lt(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}var am=class{constructor(){this.counters_={}}incrementCounter(e,n=1){hn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return FE(this.counters_)}};var qg={},Kg={};function Jm(t){let e=t.toString();return qg[e]||(qg[e]=new am),qg[e]}function n2(t,e){let n=t.toString();return Kg[n]||(Kg[n]=e()),Kg[n]}var lm=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&js(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var s0="start",r2="close",i2="pLPCommand",s2="pRTLPCB",K0="id",Y0="pw",Q0="ser",o2="cb",a2="seg",l2="ts",c2="d",u2="dframe",Z0=1870,J0=30,d2=Z0-J0,h2=25e3,f2=3e4,cm=class t{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ca(e),this.stats_=Jm(n),this.urlFn=l=>(this.appCheckToken&&(l[om]=this.appCheckToken),q0(n,G0,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new lm(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(f2)),GL(()=>{if(this.isClosed_)return;this.scriptTagHolder=new um((...s)=>{let[o,a,l,c,u]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===s0)this.id=a,this.password=l;else if(o===r2)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{let[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[s0]="t",r[Q0]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[o2]=this.scriptTagHolder.uniqueCallbackIdentifier),r[V0]=Su,this.transportSessionId&&(r[j0]=this.transportSessionId),this.lastSessionId&&(r[H0]=this.lastSessionId),this.applicationId&&(r[z0]=this.applicationId),this.appCheckToken&&(r[om]=this.appCheckToken),typeof location<"u"&&location.hostname&&$0.test(location.hostname)&&(r[U0]=B0);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){t.forceAllow_=!0}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){return dn()?!1:t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!KL()&&!YL()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let n=Ae(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=Gp(n),i=F0(r,d2);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if(dn())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[u2]="t",r[K0]=e,r[Y0]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let n=Ae(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},um=class t{constructor(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,dn())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=HL(),window[i2+this.uniqueCallbackIdentifier]=e,window[s2+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');let o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){We("frame writing exception"),a.stack&&We(a.stack),We(a)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||We("No IE domain setting required")}catch{let r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[K0]=this.myID,e[Y0]=this.myPW,e[Q0]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+J0+r.length<=Z0;){let o=this.pendingSegs.shift();r=r+"&"+a2+i+"="+o.seg+"&"+l2+i+"="+o.ts+"&"+c2+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(h2)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){dn()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{We("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var p2=16384,g2=45e3,Au=null;typeof MozWebSocket<"u"?Au=MozWebSocket:typeof WebSocket<"u"&&(Au=WebSocket);var aa=(()=>{class t{constructor(n,r,i,s,o,a,l){this.connId=n,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ca(this.connId),this.stats_=Jm(r),this.connURL=t.connectionURL_(r,a,l,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,s,o){let a={};return a[V0]=Su,!dn()&&typeof location<"u"&&location.hostname&&$0.test(location.hostname)&&(a[U0]=B0),r&&(a[j0]=r),i&&(a[H0]=i),s&&(a[om]=s),o&&(a[z0]=o),q0(n,W0,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ci.set("previous_websocket_failure",!0);try{let i;if(dn()){let s=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${Su}/${Qm}/${process.platform}/${s}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let o=process.env,a=this.connURL.indexOf("wss://")===0?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new Au(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&Au!==null&&!t.forceDisallow_}static previouslyFailed(){return ci.isInMemoryStorage||ci.get("previous_websocket_failure")===!0}markConnectionHealthy(){ci.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=fs(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(_(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=Ae(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=F0(r,p2);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(g2))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4;return t})(),m2=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[cm,aa]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){let r=aa&&aa.isAvailable(),i=r&&!aa.previouslyFailed();if(n.webSocketOnly&&(r||at("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[aa];else{let s=this.transports_=[];for(let o of t.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}t.globalTransportInitialized_=!1;return t})(),y2=6e4,_2=5e3,v2=10*1024,w2=100*1024,Yg="t",o0="d",b2="s",a0="r",E2="e",l0="o",c0="a",u0="n",d0="p",C2="h",dm=class{constructor(e,n,r,i,s,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ca("c:"+this.id+":"),this.transportManager_=new m2(n),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=da(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>w2?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>v2?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){let n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Yg in e){let n=e[Yg];n===c0?this.upgradeIfSecondaryHealthy_():n===a0?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===l0&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let n=oa("t",e),r=oa("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:d0,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:c0,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:u0,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let n=oa("t",e),r=oa("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let n=oa(Yg,e);if(o0 in e){let r=e[o0];if(n===C2){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===u0){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===b2?this.onConnectionShutdown_(r):n===a0?this.onReset_(r):n===E2?rm("Server Error: "+r):n===l0?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):rm("Unknown control packet command: "+n)}}onHandshake_(e){let n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Su!==r&&at("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),da(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(y2))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):da(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(_2))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:d0,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ci.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var Mu=class{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}};var Nu=class{constructor(e){this.allowedEvents_=e,this.listeners_={},_(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){let r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});let i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);let i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){_(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};var Ru=class t extends Nu{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Lo()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new t}getInitialEvent(e){return _(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var h0=32,f0=768,ue=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function se(){return new ue("")}function J(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function _r(t){return t.pieces_.length-t.pieceNum_}function ge(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new ue(t.pieces_,e)}function X0(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function I2(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function eD(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function tD(t){if(t.pieceNum_>=t.pieces_.length)return null;let e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ue(e,0)}function Ne(t,e){let n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof ue)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{let r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new ue(n,0)}function Y(t){return t.pieceNum_>=t.pieces_.length}function Xe(t,e){let n=J(t),r=J(e);if(n===null)return e;if(n===r)return Xe(ge(t),ge(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function nD(t,e){if(_r(t)!==_r(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Wt(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(_r(t)>_r(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var hm=class{constructor(e,n){this.errorPrefix_=n,this.parts_=eD(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Uo(this.parts_[r]);rD(this)}};function D2(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Uo(e),rD(t)}function S2(t){let e=t.parts_.pop();t.byteLength_-=Uo(e),t.parts_.length>0&&(t.byteLength_-=1)}function rD(t){if(t.byteLength_>f0)throw new Error(t.errorPrefix_+"has a key path longer than "+f0+" bytes ("+t.byteLength_+").");if(t.parts_.length>h0)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+h0+") or object contains a cycle "+li(t))}function li(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}var fm=class t extends Nu{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new t}getInitialEvent(e){return _(e==="visible","Unknown event type: "+e),[this.visible_]}};var la=1e3,T2=60*5*1e3,p0=30*1e3,A2=1.3,M2=3e4,N2="server_kill",g0=3,Xm=(()=>{class t extends Mu{constructor(n,r,i,s,o,a,l,c){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=t.nextPersistentConnectionId_++,this.log_=Ca("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=la,this.maxReconnectDelay_=T2,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!dn())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");fm.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&Ru.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let s=++this.requestNumber_,o={r:s,a:n,b:r};this.log_(Ae(o)),_(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(n){this.initConnection_();let r=new nr,s={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let l=a.d;a.s==="ok"?r.resolve(l):r.reject(l)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;let o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),r.promise}listen(n,r,i,s){this.initConnection_();let o=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),_(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),_(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");let l={onComplete:s,hashFn:r,query:n,tag:i};this.listens.get(a).set(o,l),this.connected_&&this.sendListen_(l)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);let o={p:i},a="q";n.tag&&(o.q=r._queryObject,o.t=n.tag),o.h=n.hashFn(),this.sendRequest(a,o,l=>{let c=l.d,u=l.s;t.warnOnListenWarnings_(c,r),(this.listens.get(i)&&this.listens.get(i).get(s))===n&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(i,s),n.onComplete&&n.onComplete(u,c))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&hn(n,"w")){let i=Zr(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();at(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||GE(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=p0)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=WE(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{let o=s.s,a=s.d||"error";this.authToken_===n&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),s=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),_(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,n._queryObject,r)}sendUnlisten_(n,r,i,s){this.log_("Unlisten on "+n+" for "+r);let o={p:n},a="n";s&&(o.q=i,o.t=s),this.sendRequest(a,o)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,s){let o={p:r,d:i};this.log_("onDisconnect "+n,o),this.sendRequest(n,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(n,r,i,s){this.putInternal("p",n,r,i,s)}merge(n,r,i,s){this.putInternal("m",n,r,i,s)}putInternal(n,r,i,s,o){this.initConnection_();let a={p:r,d:i};o!==void 0&&(a.h=o),this.outstandingPuts_.push({action:n,request:a,onComplete:s}),this.outstandingPutCount_++;let l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,s=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let o=i.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+Ae(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):rm("Unrecognized action received from server: "+Ae(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){_(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=la,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=la,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>M2&&(this.reconnectDelay_=la),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=new Date().getTime()-this.lastConnectionAttemptTime_,r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*A2)}this.onConnectStatus_(!1)}establishConnection_(){return g(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+t.nextConnectionId_++,o=this.lastSessionId,a=!1,l=null,c=function(){l?l.close():(a=!0,i())},u=function(h){_(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(h)};this.realtime_={close:c,sendRequest:u};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[h,f]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?We("getToken() completed but was canceled"):(We("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=f&&f.token,l=new dm(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,p=>{at(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(N2)},o))}catch(h){this.log_("Failed to get token: "+h),a||(this.repoInfo_.nodeAdmin&&at(h),c())}}})}interrupt(n){We("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){We("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Vo(this.interruptReasons_)&&(this.reconnectDelay_=la,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(o=>Zm(o)).join("$"):i="default";let s=this.removeListen_(n,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(n,r){let i=new ue(n).toString(),s;if(this.listens.has(i)){let o=this.listens.get(i);s=o.get(r),o.delete(r),o.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(n,r){We("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=g0&&(this.reconnectDelay_=p0,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){We("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=g0&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";dn()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+Qm.replace(/\./g,"-")]=1,Lo()?n["framework.cordova"]=1:Vc()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=Ru.getInstance().currentlyOnline();return Vo(this.interruptReasons_)&&n}}t.nextPersistentConnectionId_=0,t.nextConnectionId_=0;return t})(),K=class t{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new t(e,n)}};var xs=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){let r=new K(Rs,e),i=new K(Rs,n);return this.compare(r,i)!==0}minPost(){return K.MIN}};var Du,xu=class extends xs{static get __EMPTY_NODE(){return Du}static set __EMPTY_NODE(e){Du=e}compare(e,n){return Vs(e.name,n.name)}isDefinedOn(e){throw Qr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return K.MIN}maxPost(){return new K(hi,Du)}makePost(e,n){return _(typeof e=="string","KeyIndex indexValue must always be a string."),new K(e,Du)}toString(){return".key"}},Ns=new xu;var As=class{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},zt=(()=>{class t{constructor(n,r,i,s,o){this.key=n,this.value=r,this.color=i??t.RED,this.left=s??Nt.EMPTY_NODE,this.right=o??Nt.EMPTY_NODE}copy(n,r,i,s,o){return new t(n??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let s=this,o=i(n,s.key);return o<0?s=s.copy(null,null,null,s.left.insert(n,r,i),null):o===0?s=s.copy(null,r,null,null,null):s=s.copy(null,null,null,null,s.right.insert(n,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Nt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,s;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return Nt.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})(),pm=class{copy(e,n,r,i,s){return this}insert(e,n,r){return new zt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},Nt=class t{constructor(e,n=t.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,zt.BLACK,null,null))}remove(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,zt.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new As(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new As(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new As(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new As(this.root_,null,this.comparator_,!0,e)}};Nt.EMPTY_NODE=new pm;function R2(t,e){return Vs(t.name,e.name)}function ey(t,e){return Vs(t,e)}var gm;function x2(t){gm=t}var iD=function(t){return typeof t=="number"?"number:"+L0(t):"string:"+t},sD=function(t){if(t.isLeafNode()){let e=t.val();_(typeof e=="string"||typeof e=="number"||typeof e=="object"&&hn(e,".sv"),"Priority must be a string or number.")}else _(t===gm||t.isEmpty(),"priority of unexpected type.");_(t===gm||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var m0,ks=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,_(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),sD(this.priorityNode_)}static set __childrenNodeConstructor(n){m0=n}static get __childrenNodeConstructor(){return m0}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return Y(n)?this:J(n)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=J(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(_(i!==".priority"||_r(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(ge(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+iD(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=L0(this.value_):n+=this.value_,this.lazyHash_=O0(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(_(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,s=t.VALUE_TYPE_ORDER.indexOf(r),o=t.VALUE_TYPE_ORDER.indexOf(i);return _(s>=0,"Unknown leaf type: "+r),_(o>=0,"Unknown leaf type: "+i),s===o?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}t.VALUE_TYPE_ORDER=["object","boolean","number","string"];return t})(),oD,aD;function k2(t){oD=t}function O2(t){aD=t}var mm=class extends xs{compare(e,n){let r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Vs(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return K.MIN}maxPost(){return new K(hi,new ks("[PRIORITY-POST]",aD))}makePost(e,n){let r=oD(e);return new K(n,new ks("[PRIORITY-POST]",r))}toString(){return".priority"}},Ee=new mm;var P2=Math.log(2),ym=class{constructor(e){let n=s=>parseInt(Math.log(s)/P2,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;let i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},ku=function(t,e,n,r){t.sort(e);let i=function(l,c){let u=c-l,d,h;if(u===0)return null;if(u===1)return d=t[l],h=n?n(d):d,new zt(h,d.node,zt.BLACK,null,null);{let f=parseInt(u/2,10)+l,p=i(l,f),m=i(f+1,c);return d=t[f],h=n?n(d):d,new zt(h,d.node,zt.BLACK,p,m)}},s=function(l){let c=null,u=null,d=t.length,h=function(p,m){let w=d-p,D=d;d-=p;let G=i(w+1,D),F=t[w],ie=n?n(F):F;f(new zt(ie,F.node,m,null,G))},f=function(p){c?(c.left=p,c=p):(u=p,c=p)};for(let p=0;p<l.count;++p){let m=l.nextBitIsOne(),w=Math.pow(2,l.count-(p+1));m?h(w,zt.BLACK):(h(w,zt.BLACK),h(w,zt.RED))}return u},o=new ym(t.length),a=s(o);return new Nt(r||e,a)};var Qg,Ts={},Os=class t{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return _(Ts&&Ee,"ChildrenNode.ts has not been loaded"),Qg=Qg||new t({".priority":Ts},{".priority":Ee}),Qg}get(e){let n=Zr(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Nt?n:null}hasIndex(e){return hn(this.indexSet_,e.toString())}addIndex(e,n){_(e!==Ns,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,s=n.getIterator(K.Wrap),o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=ku(r,e.getCompare()):a=Ts;let l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;let u=Object.assign({},this.indexes_);return u[l]=a,new t(u,c)}addToIndexes(e,n){let r=jo(this.indexes_,(i,s)=>{let o=Zr(this.indexSet_,s);if(_(o,"Missing index implementation for "+s),i===Ts)if(o.isDefinedOn(e.node)){let a=[],l=n.getIterator(K.Wrap),c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),ku(a,o.getCompare())}else return Ts;else{let a=n.get(e.name),l=i;return a&&(l=l.remove(new K(e.name,a))),l.insert(e,e.node)}});return new t(r,this.indexSet_)}removeFromIndexes(e,n){let r=jo(this.indexes_,i=>{if(i===Ts)return i;{let s=n.get(e.name);return s?i.remove(new K(e.name,s)):i}});return new t(r,this.indexSet_)}};var ca,j=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&sD(this.priorityNode_),this.children_.isEmpty()&&_(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ca||(ca=new t(new Nt(ey),null,Os.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ca}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?ca:r}}getChild(n){let r=J(n);return r===null?this:this.getImmediateChild(r).getChild(ge(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(_(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new K(n,r),s,o;r.isEmpty()?(s=this.children_.remove(n),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(n,r),o=this.indexMap_.addToIndexes(i,this.children_));let a=s.isEmpty()?ca:this.priorityNode_;return new t(s,a,o)}}updateChild(n,r){let i=J(n);if(i===null)return r;{_(J(n)!==".priority"||_r(n)===1,".priority must be the last token in a path");let s=this.getImmediateChild(i).updateChild(ge(n),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,s=0,o=!0;if(this.forEachChild(Ee,(a,l)=>{r[a]=l.val(n),i++,o&&t.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!n&&o&&s<2*i){let a=[];for(let l in r)a[l]=r[l];return a}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+iD(this.getPriority().val())+":"),this.forEachChild(Ee,(r,i)=>{let s=i.hash();s!==""&&(n+=":"+r+":"+s)}),this.lazyHash_=n===""?"":O0(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let s=this.resolveIndex_(i);if(s){let o=s.getPredecessorKey(new K(n,r));return o?o.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new K(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new K(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,s=>s);{let s=this.children_.getIteratorFrom(n.name,K.Wrap),o=s.peek();for(;o!=null&&r.compare(o,n)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,s=>s);{let s=this.children_.getReverseIteratorFrom(n.name,K.Wrap),o=s.peek();for(;o!=null&&r.compare(o,n)>0;)s.getNext(),o=s.peek();return s}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===Ia?-1:0}withIndex(n){if(n===Ns||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===Ns||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(Ee),s=r.getIterator(Ee),o=i.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=i.getNext(),a=s.getNext()}return o===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===Ns?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})(),_m=class extends j{constructor(){super(new Nt(ey),j.EMPTY_NODE,Os.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return j.EMPTY_NODE}isEmpty(){return!1}},Ia=new _m;Object.defineProperties(K,{MIN:{value:new K(Rs,j.EMPTY_NODE)},MAX:{value:new K(hi,Ia)}});xu.__EMPTY_NODE=j.EMPTY_NODE;ks.__childrenNodeConstructor=j;x2(Ia);O2(Ia);var F2=!0;function Pe(t,e=null){if(t===null)return j.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),_(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){let n=t;return new ks(n,Pe(e))}if(!(t instanceof Array)&&F2){let n=[],r=!1;if(lt(t,(o,a)=>{if(o.substring(0,1)!=="."){let l=Pe(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new K(o,l)))}}),n.length===0)return j.EMPTY_NODE;let s=ku(n,R2,o=>o.name,ey);if(r){let o=ku(n,Ee.getCompare());return new j(s,Pe(e),new Os({".priority":o},{".priority":Ee}))}else return new j(s,Pe(e),Os.Default)}else{let n=j.EMPTY_NODE;return lt(t,(r,i)=>{if(hn(t,r)&&r.substring(0,1)!=="."){let s=Pe(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Pe(e))}}k2(Pe);var vm=class extends xs{constructor(e){super(),this.indexPath_=e,_(!Y(e)&&J(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){let r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Vs(e.name,n.name):s}makePost(e,n){let r=Pe(e),i=j.EMPTY_NODE.updateChild(this.indexPath_,r);return new K(n,i)}maxPost(){let e=j.EMPTY_NODE.updateChild(this.indexPath_,Ia);return new K(hi,e)}toString(){return eD(this.indexPath_,0).join("/")}};var wm=class extends xs{compare(e,n){let r=e.node.compareTo(n.node);return r===0?Vs(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return K.MIN}maxPost(){return K.MAX}makePost(e,n){let r=Pe(e);return new K(n,r)}toString(){return".value"}},L2=new wm;function lD(t){return{type:"value",snapshotNode:t}}function Ps(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function ma(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function ya(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function V2(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}var _a=class{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){_(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(ma(n,a)):_(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Ps(n,r)):o.trackChildChange(ya(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Ee,(i,s)=>{n.hasChild(i)||r.trackChildChange(ma(i,s))}),n.isLeafNode()||n.forEachChild(Ee,(i,s)=>{if(e.hasChild(i)){let o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(ya(i,s,o))}else r.trackChildChange(Ps(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?j.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var Ou=class t{constructor(e){this.indexedFilter_=new _a(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){let n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new K(n,r))||(r=j.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=j.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(j.EMPTY_NODE);let s=this;return n.forEachChild(Ee,(o,a)=>{s.matches(new K(o,a))||(i=i.updateImmediateChild(o,j.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){let n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){let n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}};var bm=class{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{let r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{let r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Ou(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new K(n,r))||(r=j.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=j.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=j.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){let a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(j.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){let a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,j.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){let d=this.index_.getCompare();o=(h,f)=>d(f,h)}else o=this.index_.getCompare();let a=e;_(a.numChildren()===this.limit_,"");let l=new K(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){let d=a.getImmediateChild(n),h=i.getChildAfterChild(this.index_,c,this.reverse_);for(;h!=null&&(h.name===n||a.hasChild(h.name));)h=i.getChildAfterChild(this.index_,h,this.reverse_);let f=h==null?1:o(h,l);if(u&&!r.isEmpty()&&f>=0)return s?.trackChildChange(ya(n,r,d)),a.updateImmediateChild(n,r);{s?.trackChildChange(ma(n,d));let m=a.updateImmediateChild(n,j.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(s?.trackChildChange(Ps(h.name,h.node)),m.updateImmediateChild(h.name,h.node)):m}}else return r.isEmpty()?e:u&&o(c,l)>=0?(s!=null&&(s.trackChildChange(ma(c.name,c.node)),s.trackChildChange(Ps(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,j.EMPTY_NODE)):e}};var Em=class t{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ee}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return _(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return _(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Rs}hasEnd(){return this.endSet_}getIndexEndValue(){return _(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return _(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:hi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return _(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ee}copy(){let e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function j2(t){return t.loadsAllData()?new _a(t.getIndex()):t.hasLimit()?new bm(t):new Ou(t)}function y0(t){let e={};if(t.isDefault())return e;let n;if(t.index_===Ee?n="$priority":t.index_===L2?n="$value":t.index_===Ns?n="$key":(_(t.index_ instanceof vm,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Ae(n),t.startSet_){let r=t.startAfterSet_?"startAfter":"startAt";e[r]=Ae(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Ae(t.indexStartName_))}if(t.endSet_){let r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Ae(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Ae(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function _0(t){let e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Ee&&(e.i=t.index_.toString()),e}var Cm=class t extends Mu{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Ca("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(_(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){let s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);let o=t.getListenId_(e,r),a={};this.listens_[o]=a;let l=y0(e._queryParams);this.restRequest_(s+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(s,d,!1,r),Zr(this.listens_,o)===a){let h;c?c===401?h="permission_denied":h="rest_error:"+c:h="ok",i(h,null)}})}unlisten(e,n){let r=t.getListenId_(e,n);delete this.listens_[r]}get(e){let n=y0(e._queryParams),r=e._path.toString(),i=new nr;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);let o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Jr(n);this.log_("Sending REST request for "+o);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=fs(a.responseText)}catch{at("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&at("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}};var Im=class{constructor(){this.rootNode_=j.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}};function Pu(){return{value:null,children:new Map}}function cD(t,e,n){if(Y(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{let r=J(e);t.children.has(r)||t.children.set(r,Pu());let i=t.children.get(r);e=ge(e),cD(i,e,n)}}function Dm(t,e,n){t.value!==null?n(e,t.value):U2(t,(r,i)=>{let s=new ue(e.toString()+"/"+r);Dm(i,s,n)})}function U2(t,e){t.children.forEach((n,r)=>{e(r,n)})}var Sm=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),n=Object.assign({},e);return this.last_&&lt(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}};var v0=10*1e3,B2=30*1e3,$2=5*60*1e3,Tm=class{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Sm(e);let r=v0+(B2-v0)*Math.random();da(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let e=this.statsListener_.get(),n={},r=!1;lt(e,(i,s)=>{s>0&&hn(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),da(this.reportStats_.bind(this),Math.floor(Math.random()*2*$2))}};var _n=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(_n||{});function uD(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function ty(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function ny(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var Am=class t{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=_n.ACK_USER_WRITE,this.source=uD()}operationForChild(e){if(Y(this.path)){if(this.affectedTree.value!=null)return _(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new ue(e));return new t(se(),n,this.revert)}}else return _(J(this.path)===e,"operationForChild called for unrelated child."),new t(ge(this.path),this.affectedTree,this.revert)}};var Fu=class t{constructor(e,n){this.source=e,this.path=n,this.type=_n.LISTEN_COMPLETE}operationForChild(e){return Y(this.path)?new t(this.source,se()):new t(this.source,ge(this.path))}};var Fs=class t{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=_n.OVERWRITE}operationForChild(e){return Y(this.path)?new t(this.source,se(),this.snap.getImmediateChild(e)):new t(this.source,ge(this.path),this.snap)}};var Lu=class t{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=_n.MERGE}operationForChild(e){if(Y(this.path)){let n=this.children.subtree(new ue(e));return n.isEmpty()?null:n.value?new Fs(this.source,se(),n.value):new t(this.source,se(),n)}else return _(J(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,ge(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var vn=class{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Y(e))return this.isFullyInitialized()&&!this.filtered_;let n=J(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};var Mm=class{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}};function H2(t,e,n,r){let i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(V2(o.childName,o.snapshotNode))}),ua(t,i,"child_removed",e,r,n),ua(t,i,"child_added",e,r,n),ua(t,i,"child_moved",s,r,n),ua(t,i,"child_changed",e,r,n),ua(t,i,"value",e,r,n),i}function ua(t,e,n,r,i,s){let o=r.filter(a=>a.type===n);o.sort((a,l)=>W2(t,a,l)),o.forEach(a=>{let l=z2(t,a,s);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function z2(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function W2(t,e,n){if(e.childName==null||n.childName==null)throw Qr("Should only compare child_ events.");let r=new K(e.childName,e.snapshotNode),i=new K(n.childName,n.snapshotNode);return t.index_.compare(r,i)}function qu(t,e){return{eventCache:t,serverCache:e}}function fa(t,e,n,r){return qu(new vn(e,n,r),t.serverCache)}function dD(t,e,n,r){return qu(t.eventCache,new vn(e,n,r))}function Vu(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function fi(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var Zg,G2=()=>(Zg||(Zg=new Nt(qL)),Zg),ct=class t{constructor(e,n=G2()){this.value=e,this.children=n}static fromObject(e){let n=new t(null);return lt(e,(r,i)=>{n=n.set(new ue(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:se(),value:this.value};if(Y(e))return null;{let r=J(e),i=this.children.get(r);if(i!==null){let s=i.findRootMostMatchingPathAndValue(ge(e),n);return s!=null?{path:Ne(new ue(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Y(e))return this;{let n=J(e),r=this.children.get(n);return r!==null?r.subtree(ge(e)):new t(null)}}set(e,n){if(Y(e))return new t(n,this.children);{let r=J(e),s=(this.children.get(r)||new t(null)).set(ge(e),n),o=this.children.insert(r,s);return new t(this.value,o)}}remove(e){if(Y(e))return this.children.isEmpty()?new t(null):new t(null,this.children);{let n=J(e),r=this.children.get(n);if(r){let i=r.remove(ge(e)),s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new t(null):new t(this.value,s)}else return this}}get(e){if(Y(e))return this.value;{let n=J(e),r=this.children.get(n);return r?r.get(ge(e)):null}}setTree(e,n){if(Y(e))return n;{let r=J(e),s=(this.children.get(r)||new t(null)).setTree(ge(e),n),o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new t(this.value,o)}}fold(e){return this.fold_(se(),e)}fold_(e,n){let r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Ne(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,se(),n)}findOnPath_(e,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if(Y(e))return null;{let s=J(e),o=this.children.get(s);return o?o.findOnPath_(ge(e),Ne(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,se(),n)}foreachOnPath_(e,n,r){if(Y(e))return this;{this.value&&r(n,this.value);let i=J(e),s=this.children.get(i);return s?s.foreachOnPath_(ge(e),Ne(n,i),r):new t(null)}}foreach(e){this.foreach_(se(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Ne(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}};var Gt=class t{constructor(e){this.writeTree_=e}static empty(){return new t(new ct(null))}};function pa(t,e,n){if(Y(e))return new Gt(new ct(n));{let r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){let i=r.path,s=r.value,o=Xe(i,e);return s=s.updateChild(o,n),new Gt(t.writeTree_.set(i,s))}else{let i=new ct(n),s=t.writeTree_.setTree(e,i);return new Gt(s)}}}function w0(t,e,n){let r=t;return lt(n,(i,s)=>{r=pa(r,Ne(e,i),s)}),r}function b0(t,e){if(Y(e))return Gt.empty();{let n=t.writeTree_.setTree(e,new ct(null));return new Gt(n)}}function Nm(t,e){return pi(t,e)!=null}function pi(t,e){let n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Xe(n.path,e)):null}function E0(t){let e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ee,(r,i)=>{e.push(new K(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new K(r,i.value))}),e}function mr(t,e){if(Y(e))return t;{let n=pi(t,e);return n!=null?new Gt(new ct(n)):new Gt(t.writeTree_.subtree(e))}}function Rm(t){return t.writeTree_.isEmpty()}function Ls(t,e){return hD(se(),t.writeTree_,e)}function hD(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(_(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=hD(Ne(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Ne(t,".priority"),r)),n}}function Ku(t,e){return mD(e,t)}function q2(t,e,n,r,i){_(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=pa(t.visibleWrites,e,n)),t.lastWriteId=r}function K2(t,e){for(let n=0;n<t.allWrites.length;n++){let r=t.allWrites[n];if(r.writeId===e)return r}return null}function Y2(t,e){let n=t.allWrites.findIndex(a=>a.writeId===e);_(n>=0,"removeWrite called with nonexistent writeId.");let r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){let a=t.allWrites[o];a.visible&&(o>=n&&Q2(a,r.path)?i=!1:Wt(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return Z2(t),!0;if(r.snap)t.visibleWrites=b0(t.visibleWrites,r.path);else{let a=r.children;lt(a,l=>{t.visibleWrites=b0(t.visibleWrites,Ne(r.path,l))})}return!0}else return!1}function Q2(t,e){if(t.snap)return Wt(t.path,e);for(let n in t.children)if(t.children.hasOwnProperty(n)&&Wt(Ne(t.path,n),e))return!0;return!1}function Z2(t){t.visibleWrites=fD(t.allWrites,J2,se()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function J2(t){return t.visible}function fD(t,e,n){let r=Gt.empty();for(let i=0;i<t.length;++i){let s=t[i];if(e(s)){let o=s.path,a;if(s.snap)Wt(n,o)?(a=Xe(n,o),r=pa(r,a,s.snap)):Wt(o,n)&&(a=Xe(o,n),r=pa(r,se(),s.snap.getChild(a)));else if(s.children){if(Wt(n,o))a=Xe(n,o),r=w0(r,a,s.children);else if(Wt(o,n))if(a=Xe(o,n),Y(a))r=w0(r,se(),s.children);else{let l=Zr(s.children,J(a));if(l){let c=l.getChild(ge(a));r=pa(r,se(),c)}}}else throw Qr("WriteRecord should have .snap or .children")}}return r}function pD(t,e,n,r,i){if(!r&&!i){let s=pi(t.visibleWrites,e);if(s!=null)return s;{let o=mr(t.visibleWrites,e);if(Rm(o))return n;if(n==null&&!Nm(o,se()))return null;{let a=n||j.EMPTY_NODE;return Ls(o,a)}}}else{let s=mr(t.visibleWrites,e);if(!i&&Rm(s))return n;if(!i&&n==null&&!Nm(s,se()))return null;{let o=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(Wt(c.path,e)||Wt(e,c.path))},a=fD(t.allWrites,o,e),l=n||j.EMPTY_NODE;return Ls(a,l)}}}function X2(t,e,n){let r=j.EMPTY_NODE,i=pi(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Ee,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){let s=mr(t.visibleWrites,e);return n.forEachChild(Ee,(o,a)=>{let l=Ls(mr(s,new ue(o)),a);r=r.updateImmediateChild(o,l)}),E0(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{let s=mr(t.visibleWrites,e);return E0(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function eV(t,e,n,r,i){_(r||i,"Either existingEventSnap or existingServerSnap must exist");let s=Ne(e,n);if(Nm(t.visibleWrites,s))return null;{let o=mr(t.visibleWrites,s);return Rm(o)?i.getChild(n):Ls(o,i.getChild(n))}}function tV(t,e,n,r){let i=Ne(e,n),s=pi(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){let o=mr(t.visibleWrites,i);return Ls(o,r.getNode().getImmediateChild(n))}else return null}function nV(t,e){return pi(t.visibleWrites,e)}function rV(t,e,n,r,i,s,o){let a,l=mr(t.visibleWrites,e),c=pi(l,se());if(c!=null)a=c;else if(n!=null)a=Ls(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){let u=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o),f=h.getNext();for(;f&&u.length<i;)d(f,r)!==0&&u.push(f),f=h.getNext();return u}else return[]}function iV(){return{visibleWrites:Gt.empty(),allWrites:[],lastWriteId:-1}}function ju(t,e,n,r){return pD(t.writeTree,t.treePath,e,n,r)}function ry(t,e){return X2(t.writeTree,t.treePath,e)}function C0(t,e,n,r){return eV(t.writeTree,t.treePath,e,n,r)}function Uu(t,e){return nV(t.writeTree,Ne(t.treePath,e))}function sV(t,e,n,r,i,s){return rV(t.writeTree,t.treePath,e,n,r,i,s)}function iy(t,e,n){return tV(t.writeTree,t.treePath,e,n)}function gD(t,e){return mD(Ne(t.treePath,e),t.writeTree)}function mD(t,e){return{treePath:t,writeTree:e}}var xm=class{constructor(){this.changeMap=new Map}trackChildChange(e){let n=e.type,r=e.childName;_(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),_(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,ya(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,ma(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,Ps(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,ya(r,e.snapshotNode,i.oldSnap));else throw Qr("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}};var km=class{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}},yD=new km,va=class{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{let r=this.optCompleteServerCache_!=null?new vn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return iy(this.writes_,e,r)}}getChildAfterChild(e,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:fi(this.viewCache_),s=sV(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}};function oV(t){return{filter:t}}function aV(t,e){_(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),_(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function lV(t,e,n,r,i){let s=new xm,o,a;if(n.type===_n.OVERWRITE){let c=n;c.source.fromUser?o=Om(t,e,c.path,c.snap,r,i,s):(_(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!Y(c.path),o=Bu(t,e,c.path,c.snap,r,i,a,s))}else if(n.type===_n.MERGE){let c=n;c.source.fromUser?o=uV(t,e,c.path,c.children,r,i,s):(_(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=Pm(t,e,c.path,c.children,r,i,a,s))}else if(n.type===_n.ACK_USER_WRITE){let c=n;c.revert?o=fV(t,e,c.path,r,i,s):o=dV(t,e,c.path,c.affectedTree,r,i,s)}else if(n.type===_n.LISTEN_COMPLETE)o=hV(t,e,n.path,r,s);else throw Qr("Unknown operation type: "+n.type);let l=s.getChanges();return cV(e,o,l),{viewCache:o,changes:l}}function cV(t,e,n){let r=e.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Vu(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(lD(Vu(e)))}}function _D(t,e,n,r,i,s){let o=e.eventCache;if(Uu(r,n)!=null)return e;{let a,l;if(Y(n))if(_(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let c=fi(e),u=c instanceof j?c:j.EMPTY_NODE,d=ry(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{let c=ju(r,fi(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{let c=J(n);if(c===".priority"){_(_r(n)===1,"Can't have a priority with additional path components");let u=o.getNode();l=e.serverCache.getNode();let d=C0(r,n,u,l);d!=null?a=t.filter.updatePriority(u,d):a=o.getNode()}else{let u=ge(n),d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();let h=C0(r,n,o.getNode(),l);h!=null?d=o.getNode().getImmediateChild(c).updateChild(u,h):d=o.getNode().getImmediateChild(c)}else d=iy(r,c,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),c,d,u,i,s):a=o.getNode()}}return fa(e,a,o.isFullyInitialized()||Y(n),t.filter.filtersNodes())}}function Bu(t,e,n,r,i,s,o,a){let l=e.serverCache,c,u=o?t.filter:t.filter.getIndexedFilter();if(Y(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){let f=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),f,null)}else{let f=J(n);if(!l.isCompleteForPath(n)&&_r(n)>1)return e;let p=ge(n),w=l.getNode().getImmediateChild(f).updateChild(p,r);f===".priority"?c=u.updatePriority(l.getNode(),w):c=u.updateChild(l.getNode(),f,w,p,yD,null)}let d=dD(e,c,l.isFullyInitialized()||Y(n),u.filtersNodes()),h=new va(i,d,s);return _D(t,d,n,i,h,a)}function Om(t,e,n,r,i,s,o){let a=e.eventCache,l,c,u=new va(i,e,s);if(Y(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=fa(e,c,!0,t.filter.filtersNodes());else{let d=J(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=fa(e,c,a.isFullyInitialized(),a.isFiltered());else{let h=ge(n),f=a.getNode().getImmediateChild(d),p;if(Y(h))p=r;else{let m=u.getCompleteChild(d);m!=null?X0(h)===".priority"&&m.getChild(tD(h)).isEmpty()?p=m:p=m.updateChild(h,r):p=j.EMPTY_NODE}if(f.equals(p))l=e;else{let m=t.filter.updateChild(a.getNode(),d,p,h,u,o);l=fa(e,m,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function I0(t,e){return t.eventCache.isCompleteForChild(e)}function uV(t,e,n,r,i,s,o){let a=e;return r.foreach((l,c)=>{let u=Ne(n,l);I0(e,J(u))&&(a=Om(t,a,u,c,i,s,o))}),r.foreach((l,c)=>{let u=Ne(n,l);I0(e,J(u))||(a=Om(t,a,u,c,i,s,o))}),a}function D0(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Pm(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;Y(n)?c=r:c=new ct(null).setTree(n,r);let u=e.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){let f=e.serverCache.getNode().getImmediateChild(d),p=D0(t,f,h);l=Bu(t,l,new ue(d),p,i,s,o,a)}}),c.children.inorderTraversal((d,h)=>{let f=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!u.hasChild(d)&&!f){let p=e.serverCache.getNode().getImmediateChild(d),m=D0(t,p,h);l=Bu(t,l,new ue(d),m,i,s,o,a)}}),l}function dV(t,e,n,r,i,s,o){if(Uu(i,n)!=null)return e;let a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(Y(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Bu(t,e,n,l.getNode().getChild(n),i,s,a,o);if(Y(n)){let c=new ct(null);return l.getNode().forEachChild(Ns,(u,d)=>{c=c.set(new ue(u),d)}),Pm(t,e,n,c,i,s,a,o)}else return e}else{let c=new ct(null);return r.foreach((u,d)=>{let h=Ne(n,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),Pm(t,e,n,c,i,s,a,o)}}function hV(t,e,n,r,i){let s=e.serverCache,o=dD(e,s.getNode(),s.isFullyInitialized()||Y(n),s.isFiltered());return _D(t,o,n,r,yD,i)}function fV(t,e,n,r,i,s){let o;if(Uu(r,n)!=null)return e;{let a=new va(r,e,i),l=e.eventCache.getNode(),c;if(Y(n)||J(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=ju(r,fi(e));else{let d=e.serverCache.getNode();_(d instanceof j,"serverChildren would be complete if leaf node"),u=ry(r,d)}u=u,c=t.filter.updateFullNode(l,u,s)}else{let u=J(n),d=iy(r,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=t.filter.updateChild(l,u,d,ge(n),a,s):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,j.EMPTY_NODE,ge(n),a,s):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=ju(r,fi(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||Uu(r,se())!=null,fa(e,c,o,t.filter.filtersNodes())}}var Fm=class{constructor(e,n){this.query_=e,this.eventRegistrations_=[];let r=this.query_._queryParams,i=new _a(r.getIndex()),s=j2(r);this.processor_=oV(s);let o=n.serverCache,a=n.eventCache,l=i.updateFullNode(j.EMPTY_NODE,o.getNode(),null),c=s.updateFullNode(j.EMPTY_NODE,a.getNode(),null),u=new vn(l,o.isFullyInitialized(),i.filtersNodes()),d=new vn(c,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=qu(d,u),this.eventGenerator_=new Mm(this.query_)}get query(){return this.query_}};function pV(t){return t.viewCache_.serverCache.getNode()}function gV(t){return Vu(t.viewCache_)}function mV(t,e){let n=fi(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Y(e)&&!n.getImmediateChild(J(e)).isEmpty())?n.getChild(e):null}function S0(t){return t.eventRegistrations_.length===0}function yV(t,e){t.eventRegistrations_.push(e)}function T0(t,e,n){let r=[];if(n){_(e==null,"A cancel should cancel all event registrations.");let i=t.query._path;t.eventRegistrations_.forEach(s=>{let o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){let o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function A0(t,e,n,r){e.type===_n.MERGE&&e.source.queryId!==null&&(_(fi(t.viewCache_),"We should always have a full cache before handling merges"),_(Vu(t.viewCache_),"Missing event cache, even though we have a server cache"));let i=t.viewCache_,s=lV(t.processor_,i,e,n,r);return aV(t.processor_,s.viewCache),_(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,vD(t,s.changes,s.viewCache.eventCache.getNode(),null)}function _V(t,e){let n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ee,(s,o)=>{r.push(Ps(s,o))}),n.isFullyInitialized()&&r.push(lD(n.getNode())),vD(t,r,n.getNode(),e)}function vD(t,e,n,r){let i=r?[r]:t.eventRegistrations_;return H2(t.eventGenerator_,e,n,i)}var $u,Hu=class{constructor(){this.views=new Map}};function vV(t){_(!$u,"__referenceConstructor has already been defined"),$u=t}function wV(){return _($u,"Reference.ts has not been loaded"),$u}function bV(t){return t.views.size===0}function sy(t,e,n,r){let i=e.source.queryId;if(i!==null){let s=t.views.get(i);return _(s!=null,"SyncTree gave us an op for an invalid query."),A0(s,e,n,r)}else{let s=[];for(let o of t.views.values())s=s.concat(A0(o,e,n,r));return s}}function wD(t,e,n,r,i){let s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=ju(n,i?r:null),l=!1;a?l=!0:r instanceof j?(a=ry(n,r),l=!1):(a=j.EMPTY_NODE,l=!1);let c=qu(new vn(a,l,!1),new vn(r,i,!1));return new Fm(e,c)}return o}function EV(t,e,n,r,i,s){let o=wD(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),yV(o,n),_V(o,n)}function CV(t,e,n,r){let i=e._queryIdentifier,s=[],o=[],a=vr(t);if(i==="default")for(let[l,c]of t.views.entries())o=o.concat(T0(c,n,r)),S0(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{let l=t.views.get(i);l&&(o=o.concat(T0(l,n,r)),S0(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!vr(t)&&s.push(new(wV())(e._repo,e._path)),{removed:s,events:o}}function bD(t){let e=[];for(let n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function yr(t,e){let n=null;for(let r of t.views.values())n=n||mV(r,e);return n}function ED(t,e){if(e._queryParams.loadsAllData())return Yu(t);{let r=e._queryIdentifier;return t.views.get(r)}}function CD(t,e){return ED(t,e)!=null}function vr(t){return Yu(t)!=null}function Yu(t){for(let e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}var zu;function IV(t){_(!zu,"__referenceConstructor has already been defined"),zu=t}function DV(){return _(zu,"Reference.ts has not been loaded"),zu}var SV=1,Wu=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ct(null),this.pendingWriteTree_=iV(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function ID(t,e,n,r,i){return q2(t.pendingWriteTree_,e,n,r,i),i?Sa(t,new Fs(uD(),e,n)):[]}function ui(t,e,n=!1){let r=K2(t.pendingWriteTree_,e);if(Y2(t.pendingWriteTree_,e)){let s=new ct(null);return r.snap!=null?s=s.set(se(),!0):lt(r.children,o=>{s=s.set(new ue(o),!0)}),Sa(t,new Am(r.path,s,n))}else return[]}function Da(t,e,n){return Sa(t,new Fs(ty(),e,n))}function TV(t,e,n){let r=ct.fromObject(n);return Sa(t,new Lu(ty(),e,r))}function AV(t,e){return Sa(t,new Fu(ty(),e))}function MV(t,e,n){let r=ay(t,n);if(r){let i=ly(r),s=i.path,o=i.queryId,a=Xe(s,e),l=new Fu(ny(o),a);return cy(t,s,l)}else return[]}function DD(t,e,n,r,i=!1){let s=e._path,o=t.syncPointTree_.get(s),a=[];if(o&&(e._queryIdentifier==="default"||CD(o,e))){let l=CV(o,e,n,r);bV(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));let c=l.removed;if(a=l.events,!i){let u=c.findIndex(h=>h._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(s,(h,f)=>vr(f));if(u&&!d){let h=t.syncPointTree_.subtree(s);if(!h.isEmpty()){let f=kV(h);for(let p=0;p<f.length;++p){let m=f[p],w=m.query,D=MD(t,m);t.listenProvider_.startListening(ga(w),wa(t,w),D.hashFn,D.onComplete)}}}!d&&c.length>0&&!r&&(u?t.listenProvider_.stopListening(ga(e),null):c.forEach(h=>{let f=t.queryToTagMap.get(Qu(h));t.listenProvider_.stopListening(ga(h),f)}))}OV(t,c)}return a}function SD(t,e,n,r){let i=ay(t,r);if(i!=null){let s=ly(i),o=s.path,a=s.queryId,l=Xe(o,e),c=new Fs(ny(a),l,n);return cy(t,o,c)}else return[]}function NV(t,e,n,r){let i=ay(t,r);if(i){let s=ly(i),o=s.path,a=s.queryId,l=Xe(o,e),c=ct.fromObject(n),u=new Lu(ny(a),l,c);return cy(t,o,u)}else return[]}function RV(t,e,n,r=!1){let i=e._path,s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(h,f)=>{let p=Xe(h,i);s=s||yr(f,p),o=o||vr(f)});let a=t.syncPointTree_.get(i);a?(o=o||vr(a),s=s||yr(a,se())):(a=new Hu,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;s!=null?l=!0:(l=!1,s=j.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((f,p)=>{let m=yr(p,se());m&&(s=s.updateImmediateChild(f,m))}));let c=CD(a,e);if(!c&&!e._queryParams.loadsAllData()){let h=Qu(e);_(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");let f=PV();t.queryToTagMap.set(h,f),t.tagToQueryMap.set(f,h)}let u=Ku(t.pendingWriteTree_,i),d=EV(a,e,n,u,s,l);if(!c&&!o&&!r){let h=ED(a,e);d=d.concat(FV(t,e,h))}return d}function oy(t,e,n){let i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{let l=Xe(o,e),c=yr(a,l);if(c)return c});return pD(i,e,s,n,!0)}function xV(t,e){let n=e._path,r=null;t.syncPointTree_.foreachOnPath(n,(c,u)=>{let d=Xe(c,n);r=r||yr(u,d)});let i=t.syncPointTree_.get(n);i?r=r||yr(i,se()):(i=new Hu,t.syncPointTree_=t.syncPointTree_.set(n,i));let s=r!=null,o=s?new vn(r,!0,!1):null,a=Ku(t.pendingWriteTree_,e._path),l=wD(i,e,a,s?o.getNode():j.EMPTY_NODE,s);return gV(l)}function Sa(t,e){return TD(e,t.syncPointTree_,null,Ku(t.pendingWriteTree_,se()))}function TD(t,e,n,r){if(Y(t.path))return AD(t,e,n,r);{let i=e.get(se());n==null&&i!=null&&(n=yr(i,se()));let s=[],o=J(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){let c=n?n.getImmediateChild(o):null,u=gD(r,o);s=s.concat(TD(a,l,c,u))}return i&&(s=s.concat(sy(i,t,r,n))),s}}function AD(t,e,n,r){let i=e.get(se());n==null&&i!=null&&(n=yr(i,se()));let s=[];return e.children.inorderTraversal((o,a)=>{let l=n?n.getImmediateChild(o):null,c=gD(r,o),u=t.operationForChild(o);u&&(s=s.concat(AD(u,a,l,c)))}),i&&(s=s.concat(sy(i,t,r,n))),s}function MD(t,e){let n=e.query,r=wa(t,n);return{hashFn:()=>(pV(e)||j.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?MV(t,n._path,r):AV(t,n._path);{let s=QL(i,n);return DD(t,n,null,s)}}}}function wa(t,e){let n=Qu(e);return t.queryToTagMap.get(n)}function Qu(t){return t._path.toString()+"$"+t._queryIdentifier}function ay(t,e){return t.tagToQueryMap.get(e)}function ly(t){let e=t.indexOf("$");return _(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ue(t.substr(0,e))}}function cy(t,e,n){let r=t.syncPointTree_.get(e);_(r,"Missing sync point for query tag that we're tracking");let i=Ku(t.pendingWriteTree_,e);return sy(r,n,i,null)}function kV(t){return t.fold((e,n,r)=>{if(n&&vr(n))return[Yu(n)];{let i=[];return n&&(i=bD(n)),lt(r,(s,o)=>{i=i.concat(o)}),i}})}function ga(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(DV())(t._repo,t._path):t}function OV(t,e){for(let n=0;n<e.length;++n){let r=e[n];if(!r._queryParams.loadsAllData()){let i=Qu(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function PV(){return SV++}function FV(t,e,n){let r=e._path,i=wa(t,e),s=MD(t,n),o=t.listenProvider_.startListening(ga(e),i,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(r);if(i)_(!vr(a.value),"If we're adding a query, it shouldn't be shadowed");else{let l=a.fold((c,u,d)=>{if(!Y(c)&&u&&vr(u))return[Yu(u).query];{let h=[];return u&&(h=h.concat(bD(u).map(f=>f.query))),lt(d,(f,p)=>{h=h.concat(p)}),h}});for(let c=0;c<l.length;++c){let u=l[c];t.listenProvider_.stopListening(ga(u),wa(t,u))}}return o}var Lm=class t{constructor(e){this.node_=e}getImmediateChild(e){let n=this.node_.getImmediateChild(e);return new t(n)}node(){return this.node_}},Vm=class t{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){let n=Ne(this.path_,e);return new t(this.syncTree_,n)}node(){return oy(this.syncTree_,this.path_)}},LV=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},M0=function(t,e,n){if(!t||typeof t!="object")return t;if(_(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return VV(t[".sv"],e,n);if(typeof t[".sv"]=="object")return jV(t[".sv"],e);_(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},VV=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:_(!1,"Unexpected server value: "+t)}},jV=function(t,e,n){t.hasOwnProperty("increment")||_(!1,"Unexpected server value: "+JSON.stringify(t,null,2));let r=t.increment;typeof r!="number"&&_(!1,"Unexpected increment value: "+r);let i=e.node();if(_(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let o=i.getValue();return typeof o!="number"?r:o+r},UV=function(t,e,n,r){return uy(e,new Vm(n,t),r)},ND=function(t,e,n){return uy(t,new Lm(e),n)};function uy(t,e,n){let r=t.getPriority().val(),i=M0(r,e.getImmediateChild(".priority"),n),s;if(t.isLeafNode()){let o=t,a=M0(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new ks(a,Pe(i)):t}else{let o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new ks(i))),o.forEachChild(Ee,(a,l)=>{let c=uy(l,e.getImmediateChild(a),n);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}var ba=class{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}};function dy(t,e){let n=e instanceof ue?e:new ue(e),r=t,i=J(n);for(;i!==null;){let s=Zr(r.node.children,i)||{children:{},childCount:0};r=new ba(i,r,s),n=ge(n),i=J(n)}return r}function Us(t){return t.node.value}function RD(t,e){t.node.value=e,jm(t)}function xD(t){return t.node.childCount>0}function BV(t){return Us(t)===void 0&&!xD(t)}function Zu(t,e){lt(t.node.children,(n,r)=>{e(new ba(n,t,r))})}function kD(t,e,n,r){n&&!r&&e(t),Zu(t,i=>{kD(i,e,!0,r)}),n&&r&&e(t)}function $V(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Ta(t){return new ue(t.parent===null?t.name:Ta(t.parent)+"/"+t.name)}function jm(t){t.parent!==null&&HV(t.parent,t.name,t)}function HV(t,e,n){let r=BV(n),i=hn(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,jm(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,jm(t))}var zV=/[\[\].#$\/\u0000-\u001F\u007F]/,WV=/[\[\].#$\u0000-\u001F\u007F]/,Jg=10*1024*1024,OD=function(t){return typeof t=="string"&&t.length!==0&&!zV.test(t)},PD=function(t){return typeof t=="string"&&t.length!==0&&!WV.test(t)},GV=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),PD(t)};var qV=function(t,e,n,r){r&&e===void 0||hy(jc(t,"value"),e,n)},hy=function(t,e,n){let r=n instanceof ue?new hm(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+li(r));if(typeof e=="function")throw new Error(t+"contains a function "+li(r)+" with contents = "+e.toString());if(P0(e))throw new Error(t+"contains "+e.toString()+" "+li(r));if(typeof e=="string"&&e.length>Jg/3&&Uo(e)>Jg)throw new Error(t+"contains a string greater than "+Jg+" utf8 bytes "+li(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(lt(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!OD(o)))throw new Error(t+" contains an invalid key ("+o+") "+li(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);D2(r,o),hy(t,a,r),S2(r)}),i&&s)throw new Error(t+' contains ".value" child '+li(r)+" in addition to actual children.")}};var FD=function(t,e,n,r){if(!(r&&n===void 0)&&!PD(n))throw new Error(jc(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},KV=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),FD(t,e,n,r)},YV=function(t,e){if(J(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},QV=function(t,e){let n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!OD(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!GV(n))throw new Error(jc(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var Um=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function LD(t,e){let n=null;for(let r=0;r<e.length;r++){let i=e[r],s=i.getPath();n!==null&&!nD(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function wn(t,e,n){LD(t,n),ZV(t,r=>Wt(r,e)||Wt(e,r))}function ZV(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){let i=t.eventLists_[r];if(i){let s=i.path;e(s)?(JV(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function JV(t){for(let e=0;e<t.events.length;e++){let n=t.events[e];if(n!==null){t.events[e]=null;let r=n.getEventRunner();di&&We("event: "+n.toString()),js(r)}}}var XV="repo_interrupt",ej=25,Bm=class{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Um,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Pu(),this.transactionQueueTree_=new ba,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function tj(t,e,n){if(t.stats_=Jm(t.repoInfo_),t.forceRestClient_||e2())t.server_=new Cm(t.repoInfo_,(r,i,s,o)=>{N0(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>R0(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ae(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Xm(t.repoInfo_,e,(r,i,s,o)=>{N0(t,r,i,s,o)},r=>{R0(t,r)},r=>{rj(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=n2(t.repoInfo_,()=>new Tm(t.stats_,t.server_)),t.infoData_=new Im,t.infoSyncTree_=new Wu({startListening:(r,i,s,o)=>{let a=[],l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=Da(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),py(t,"connected",!1),t.serverSyncTree_=new Wu({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{let c=o(a,l);wn(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function nj(t){let n=t.infoData_.getNode(new ue(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function fy(t){return LV({timestamp:nj(t)})}function N0(t,e,n,r,i){t.dataUpdateCount++;let s=new ue(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){let l=jo(n,c=>Pe(c));o=NV(t.serverSyncTree_,s,l,i)}else{let l=Pe(n);o=SD(t.serverSyncTree_,s,l,i)}else if(r){let l=jo(n,c=>Pe(c));o=TV(t.serverSyncTree_,s,l)}else{let l=Pe(n);o=Da(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=Xu(t,s)),wn(t.eventQueue_,a,o)}function R0(t,e){py(t,"connected",e),e===!1&&oj(t)}function rj(t,e){lt(e,(n,r)=>{py(t,n,r)})}function py(t,e,n){let r=new ue("/.info/"+e),i=Pe(n);t.infoData_.updateSnapshot(r,i);let s=Da(t.infoSyncTree_,r,i);wn(t.eventQueue_,r,s)}function VD(t){return t.nextWriteId_++}function ij(t,e,n){let r=xV(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{let s=Pe(i).withIndex(e._queryParams.getIndex());RV(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=Da(t.serverSyncTree_,e._path,s);else{let a=wa(t.serverSyncTree_,e);o=SD(t.serverSyncTree_,e._path,s,a)}return wn(t.eventQueue_,e._path,o),DD(t.serverSyncTree_,e,n,null,!0),s},i=>(Ju(t,"get for query "+Ae(e)+" failed: "+i),Promise.reject(new Error(i))))}function sj(t,e,n,r,i){Ju(t,"set",{path:e.toString(),value:n,priority:r});let s=fy(t),o=Pe(n,r),a=oy(t.serverSyncTree_,e),l=ND(o,a,s),c=VD(t),u=ID(t.serverSyncTree_,e,l,c,!0);LD(t.eventQueue_,u),t.server_.put(e.toString(),o.val(!0),(h,f)=>{let p=h==="ok";p||at("set at "+e+" failed: "+h);let m=ui(t.serverSyncTree_,c,!p);wn(t.eventQueue_,e,m),lj(t,i,h,f)});let d=HD(t,e);Xu(t,d),wn(t.eventQueue_,d,[])}function oj(t){Ju(t,"onDisconnectEvents");let e=fy(t),n=Pu();Dm(t.onDisconnect_,se(),(i,s)=>{let o=UV(i,s,t.serverSyncTree_,e);cD(n,i,o)});let r=[];Dm(n,se(),(i,s)=>{r=r.concat(Da(t.serverSyncTree_,i,s));let o=HD(t,i);Xu(t,o)}),t.onDisconnect_=Pu(),wn(t.eventQueue_,se(),r)}function aj(t){t.persistentConnection_&&t.persistentConnection_.interrupt(XV)}function Ju(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),We(n,...e)}function lj(t,e,n,r){e&&js(()=>{if(n==="ok")e(null);else{let i=(n||"error").toUpperCase(),s=i;r&&(s+=": "+r);let o=new Error(s);o.code=i,e(o)}})}function jD(t,e,n){return oy(t.serverSyncTree_,e,n)||j.EMPTY_NODE}function gy(t,e=t.transactionQueueTree_){if(e||ed(t,e),Us(e)){let n=BD(t,e);_(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&cj(t,Ta(e),n)}else xD(e)&&Zu(e,n=>{gy(t,n)})}function cj(t,e,n){let r=n.map(c=>c.currentWriteId),i=jD(t,e,r),s=i,o=i.hash();for(let c=0;c<n.length;c++){let u=n[c];_(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let d=Xe(e,u.path);s=s.updateChild(d,u.currentOutputSnapshotRaw)}let a=s.val(!0),l=e;t.server_.put(l.toString(),a,c=>{Ju(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){let d=[];for(let h=0;h<n.length;h++)n[h].status=2,u=u.concat(ui(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();ed(t,dy(t.transactionQueueTree_,e)),gy(t,t.transactionQueueTree_),wn(t.eventQueue_,e,u);for(let h=0;h<d.length;h++)js(d[h])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{at("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}Xu(t,e)}},o)}function Xu(t,e){let n=UD(t,e),r=Ta(n),i=BD(t,n);return uj(t,i,r),r}function uj(t,e,n){if(e.length===0)return;let r=[],i=[],o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){let l=e[a],c=Xe(n,l.path),u=!1,d;if(_(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,i=i.concat(ui(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=ej)u=!0,d="maxretry",i=i.concat(ui(t.serverSyncTree_,l.currentWriteId,!0));else{let h=jD(t,l.path,o);l.currentInputSnapshot=h;let f=e[a].update(h.val());if(f!==void 0){hy("transaction failed: Data returned ",f,l.path);let p=Pe(f);typeof f=="object"&&f!=null&&hn(f,".priority")||(p=p.updatePriority(h.getPriority()));let w=l.currentWriteId,D=fy(t),G=ND(p,h,D);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=G,l.currentWriteId=VD(t),o.splice(o.indexOf(w),1),i=i.concat(ID(t.serverSyncTree_,l.path,G,l.currentWriteId,l.applyLocally)),i=i.concat(ui(t.serverSyncTree_,w,!0))}else u=!0,d="nodata",i=i.concat(ui(t.serverSyncTree_,l.currentWriteId,!0))}wn(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}ed(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)js(r[a]);gy(t,t.transactionQueueTree_)}function UD(t,e){let n,r=t.transactionQueueTree_;for(n=J(e);n!==null&&Us(r)===void 0;)r=dy(r,n),e=ge(e),n=J(e);return r}function BD(t,e){let n=[];return $D(t,e,n),n.sort((r,i)=>r.order-i.order),n}function $D(t,e,n){let r=Us(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Zu(e,i=>{$D(t,i,n)})}function ed(t,e){let n=Us(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,RD(e,n.length>0?n:void 0)}Zu(e,r=>{ed(t,r)})}function HD(t,e){let n=Ta(UD(t,e)),r=dy(t.transactionQueueTree_,e);return $V(r,i=>{Xg(t,i)}),Xg(t,r),kD(r,i=>{Xg(t,i)}),n}function Xg(t,e){let n=Us(e);if(n){let r=[],i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(_(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(_(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(ui(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?RD(e,void 0):n.length=s+1,wn(t.eventQueue_,Ta(e),i);for(let o=0;o<r.length;o++)js(r[o])}}function dj(t){let e="",n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function hj(t){let e={};t.charAt(0)==="?"&&(t=t.substring(1));for(let n of t.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):at(`Invalid query segment '${n}' in query '${t}'`)}return e}var x0=function(t,e){let n=fj(t),r=n.namespace;n.domain==="firebase.com"&&Fn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Fn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||WL();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Tu(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new ue(n.pathString)}},fj=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(i=dj(t.substring(u,d)));let h=hj(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;let f=e.slice(0,c);if(f.toLowerCase()==="localhost")n="localhost";else if(f.split(".").length<=2)n=f;else{let p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),n=e.substring(p+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};var $m=class{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){let e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ae(this.snapshot.exportVal())}},Hm=class{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var zm=class{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return _(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}};var Wm=class t{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Y(this._path)?null:X0(this._path)}get ref(){return new Ln(this._repo,this._path)}get _queryIdentifier(){let e=_0(this._queryParams),n=Zm(e);return n==="{}"?"default":n}get _queryObject(){return _0(this._queryParams)}isEqual(e){if(e=ze(e),!(e instanceof t))return!1;let n=this._repo===e._repo,r=nD(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+I2(this._path)}};var Ln=class t extends Wm{constructor(e,n){super(e,n,new Em,!1)}get parent(){let e=tD(this._path);return e===null?null:new t(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}},Gu=class t{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){let n=new ue(e),r=Gm(this.ref,e);return new t(this._node.getChild(n),r,Ee)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new t(i,Gm(this.ref,r),Ee)))}hasChild(e){let n=new ue(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function my(t,e){return t=ze(t),t._checkNotDeleted("ref"),e!==void 0?Gm(t._root,e):t._root}function Gm(t,e){return t=ze(t),J(t._path)===null?KV("child","path",e,!1):FD("child","path",e,!1),new Ln(t._repo,Ne(t._path,e))}function zD(t,e){t=ze(t),YV("set",t._path),qV("set",e,t._path,!1);let n=new nr;return sj(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function WD(t){t=ze(t);let e=new zm(()=>{}),n=new qm(e);return ij(t._repo,t,n).then(r=>new Gu(r,new Ln(t._repo,t._path),t._queryParams.getIndex()))}var qm=class t{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){let r=n._queryParams.getIndex();return new $m("value",this,new Gu(e.snapshotNode,new Ln(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Hm(this,e,n):null}matches(e){return e instanceof t?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}};vV(Ln);IV(Ln);var pj="FIREBASE_DATABASE_EMULATOR_HOST",Km={},gj=!1;function mj(t,e,n,r){t.repoInfo_=new Tu(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function yj(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Fn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),We("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=x0(s,i),a=o.repoInfo,l,c;typeof process<"u"&&process.env&&(c=process.env[pj]),c?(l=!0,s=`http://${c}?ns=${a.namespace}`,o=x0(s,i),a=o.repoInfo):l=!o.repoInfo.secure;let u=i&&l?new ha(ha.OWNER):new sm(t.name,t.options,e);QV("Invalid Firebase Database URL",o),Y(o.path)||Fn("Database URL must point to the root of a Firebase Database (not including a child path).");let d=vj(a,t,u,new im(t.name,n));return new Ym(d,t)}function _j(t,e){let n=Km[e];(!n||n[t.key]!==t)&&Fn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),aj(t),delete n[t.key]}function vj(t,e,n,r){let i=Km[e.name];i||(i={},Km[e.name]=i);let s=i[t.toURLString()];return s&&Fn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Bm(t,gj,n,r),i[t.toURLString()]=s,s}var Ym=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(tj(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ln(this._repo,se())),this._rootInternal}_delete(){return this._rootInternal!==null&&(_j(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Fn("Cannot call "+e+" on a deleted database.")}};function yy(t=Hc(),e){let n=Ho(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){let r=VE("database");r&&wj(n,...r)}return n}function wj(t,e,n,r={}){t=ze(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Fn("Cannot call useEmulator() after instance has already been initialized.");let i=t._repoInternal,s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Fn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new ha(ha.OWNER);else if(r.mockUserToken){let o=typeof r.mockUserToken=="string"?r.mockUserToken:jE(r.mockUserToken,t.app.options.projectId);s=new ha(o)}mj(i,e,n,s)}function bj(t){$L(or),sr(new St("database",(e,{instanceIdentifier:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return yj(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Ht(t0,n0,t),Ht(t0,n0,"esm2017")}Xm.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Xm.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};bj();var GD=(()=>{let e=class e{constructor(r){this.authService=r}getCardsLocation(){return this.authService.user+"/cards"}getCards(){return g(this,null,function*(){let r=yy(this.authService.firebaseApp),i=my(r,this.getCardsLocation());return yield WD(i).then(s=>s.exists()?s.toJSON():null)})}updateCard(r){return g(this,null,function*(){let i=yy(this.authService.firebaseApp);return zD(my(i,this.getCardsLocation()+"/"+r.id),r)})}};e.\u0275fac=function(i){return new(i||e)(S(vs))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var qD=(()=>{let e=class e{constructor(){}isLocal(){return location.hostname==="localhost"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var KD=(()=>{let e=class e{constructor(r,i){this.dbService=r,this.envService=i,this.locals=null}get(){return g(this,null,function*(){return this.locals&&this.locals.length>0?this.locals:this.envService.isLocal()?(this.locals=e0,this.locals?this.locals:[]):this.dbService.getCards().then(r=>Object.values(r))})}update(r){return g(this,null,function*(){if(this.envService.isLocal()){this.locals=yield this.get(),this.locals[r.id]=r;return}return this.dbService.updateCard(r)})}};e.\u0275fac=function(i){return new(i||e)(S(GD),S(qD))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var td=(()=>{let e=class e{constructor(){this.dealStarred=!1,this.baseFront=!0,this.deckSize=10,this.dealStarredChanged=new ve}getDealStarred(){return this.dealStarred}setDealStarred(r){this.dealStarred=r,this.dealStarredChanged.next()}getBaseFront(){return this.baseFront}setBaseFront(r){this.baseFront=r}getDeckSize(){return this.deckSize}setDeckSize(r){this.deckSize=r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Dj=t=>({width:t});function Sj(t,e){t&1&&(v(0,"p"),ye(1,"loading..."),T())}function Tj(t,e){if(t&1){let n=Ut();v(0,"app-card",6),ac(1,"typeColor"),B("onSwiped",function(i){Ye(n);let s=re(4);return Qe(s.handleSwiped(i))})("onUpdated",function(i){Ye(n);let s=re(4);return Qe(s.handleCardUpdated(i))}),T()}if(t&2){let n=re().$implicit,r=re(3);Z("card",n)("color",lc(1,3,n.type))("baseFirst",r.getBaseFirst())}}function Aj(t,e){if(t&1&&(Of(0),Ze(1,Tj,2,5,"app-card",5),Pf()),t&2){let n=e.index,r=re(3);W(),Z("ngIf",n===r.deck.length-1)}}function Mj(t,e){if(t&1&&(v(0,"div",0),Ze(1,Aj,2,1,"ng-container",2),v(2,"div",3),x(3,"div",4),T()()),t&2){let n=re(2);W(),Z("ngForOf",n.deck),W(2),oc(Xi(3,Dj,n.getDeckProgress()))}}function Nj(t,e){if(t&1){let n=Ut();v(0,"div",9)(1,"p"),ye(2,"You're out of cards!"),T(),v(3,"button",10),B("click",function(){Ye(n);let i=re(3);return Qe(i.initAndDeal())}),ye(4,"Reset card pile?"),T()()}}function Rj(t,e){if(t&1){let n=Ut();v(0,"button",10),B("click",function(){Ye(n);let i=re(3);return Qe(i.dealMissed())}),ye(1),T()}if(t&2){let n=re(3);W(),$r("Deal ",n.missed.length," missed cards?")}}function xj(t,e){if(t&1){let n=Ut();v(0,"button",10),B("click",function(){Ye(n);let i=re(3);return Qe(i.dealSameDeck())}),ye(1,"Deal same deck?"),T()}}function kj(t,e){if(t&1){let n=Ut();v(0,"button",10),B("click",function(){Ye(n);let i=re(3);return Qe(i.dealNewDeck())}),ye(1),T()}if(t&2){let n=re(3);W(),$r("Deal another ",n.getDeckSize(),"?")}}function Oj(t,e){if(t&1&&(v(0,"div",1),Ze(1,Nj,5,0,"div",7)(2,Rj,2,1,"button",8)(3,xj,2,0,"button",8)(4,kj,2,1,"button",8),T()),t&2){let n=re(2);W(),Z("ngIf",n.pile.length===0),W(),Z("ngIf",n.missed.length>0),W(),Z("ngIf",n.currentDeck.length>0),W(),Z("ngIf",n.pile.length>0)}}function Pj(t,e){if(t&1&&Ze(0,Mj,4,5,"div",0)(1,Oj,5,4,"div",1),t&2){let n=re();co(n.deck.length>0?0:1)}}var QD=(()=>{let e=class e{constructor(r,i,s){this.actionsService=r,this.cardService=i,this.settingsService=s,this.loading=!1,this.cards=[],this.pile=[],this.deck=[],this.currentDeck=[],this.missed=[]}ngOnInit(){this.loading=!0,this.actionsService.activeUndo.subscribe(r=>this.applyUndo(r)),this.actionsService.activeRedo.subscribe(r=>this.applyRedo(r)),this.settingsService.dealStarredChanged.subscribe(()=>this.initAndDeal()),this.cardService.get().then(r=>{this.cards=r,this.initAndDeal(),this.loading=!1}).catch(r=>alert("Failed to get cards from database! "+r))}initPile(){this.settingsService.getDealStarred()?this.pile=structuredClone(this.getStarred()):this.pile=structuredClone(this.cards)}initAndDeal(){this.initPile(),this.dealNewDeck()}getStarred(){return this.cards.filter(r=>r.starred)}applyUndo(r){r.direction||this.missed.splice(this.missed.findIndex(i=>i.id===r.card.id),1),this.deck.push(r.card)}applyRedo(r){this.handleSwiped(r.direction)}refreshWorkingCards(){for(let r of[this.currentDeck,this.deck,this.missed])for(let i=0;i<r.length;i++)r[i]=this.cards[r[i].id]}updateCard(r){this.cardService.update(r).then(()=>{this.cards[r.id]=r,this.refreshWorkingCards()}).catch(i=>alert("Card update failed! "+i))}getBaseFirst(){return this.settingsService.getBaseFront()}getDeckSize(){return this.settingsService.getDeckSize()}shuffle(r){for(let i=r.length-1;i>0;i--){let s=Math.floor(Math.random()*(i+1));[r[i],r[s]]=[r[s],r[i]]}}deal(r){let i=[];for(let s=0;s<this.getDeckSize();s++){if(r.length===0)return i;let o=Math.floor(Math.random()*r.length);i.push(r[o]),r.splice(o,1)}return i}initDeck(){this.missed=[],this.actionsService.reset()}dealMissed(){this.deck=this.missed,this.shuffle(this.deck),this.initDeck()}dealSameDeck(){this.deck=structuredClone(this.currentDeck),this.shuffle(this.deck),this.initDeck()}dealNewDeck(){this.deck=this.deal(this.pile),this.currentDeck=structuredClone(this.deck),this.initDeck()}handleSwiped(r){let i=this.deck.pop();i&&(this.actionsService.pushUndo({direction:r,card:i}),this.actionsService.resetRedos(),r||this.missed.push(i))}getDeckProgress(){return(1+Math.abs(this.deck.length-this.getDeckSize()))*10+"%"}handleCardUpdated(r){this.updateCard(r)}};e.\u0275fac=function(i){return new(i||e)(R(Iu),R(KD),R(td))},e.\u0275cmp=ke({type:e,selectors:[["app-deck"]],standalone:!0,features:[Oe],decls:2,vars:1,consts:[[1,"deck"],[1,"options"],[4,"ngFor","ngForOf"],[1,"progress"],[1,"progress-inner"],[3,"card","color","baseFirst","onSwiped","onUpdated",4,"ngIf"],[3,"onSwiped","onUpdated","card","color","baseFirst"],["style","text-align: center;",4,"ngIf"],["class","btn",3,"click",4,"ngIf"],[2,"text-align","center"],[1,"btn",3,"click"]],template:function(i,s){i&1&&Ze(0,Sj,2,0,"p")(1,Pj,2,1),i&2&&co(s.loading?0:1)},dependencies:[cn,mc,ts,JI,Cu],styles:["body[_ngcontent-%COMP%]{margin:0;background:#dedede;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{height:2.5rem;margin:0 .5rem;padding:.25rem;border:none;outline:none;border-radius:5px;background-color:#f0f8ff;font-size:large;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}textarea[_ngcontent-%COMP%]{height:3.5rem}button[_ngcontent-%COMP%]{font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}.label[_ngcontent-%COMP%]{font-size:20px}.btn[_ngcontent-%COMP%]{width:fit-content;margin:auto;padding:.5rem 1rem;border:none;outline:none;height:3rem;border-radius:5px;font-size:20px;box-shadow:0 1px 2px #d3d3d3}.icon-btn[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;outline:none;border:none;background:none;width:4rem;height:4rem;padding:0 .5rem}.icon-btn[_ngcontent-%COMP%]:hover{cursor:pointer;outline:solid 1px black}.navbar[_ngcontent-%COMP%]{height:4rem;width:100%;display:flex;flex-direction:row;justify-content:space-between}[_nghost-%COMP%]{display:flex;flex-direction:column;margin:auto;width:100%;height:100%}.deck[_ngcontent-%COMP%]{height:100%;padding:1rem}.progress[_ngcontent-%COMP%]{width:100%;height:.25rem;background:#789;margin-top:.25rem;border-radius:2px}.progress-inner[_ngcontent-%COMP%]{height:100%;border-radius:2px;background:#0ff}.options[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:auto;gap:2rem}"]});let t=e;return t})();var ZD=ai("drop",[At("active",Je({top:"0"})),At("inactive",Je({top:"-100%"})),Mt("active => inactive",Tt("200ms ease-out")),Mt("inactive => active",Tt("200ms ease-in"))]);var Fj=t=>({background:t}),JD=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ke({type:e,selectors:[["app-action-slider"]],inputs:{active:"active"},standalone:!0,features:[Oe],decls:2,vars:5,consts:[[1,"track",3,"ngStyle"]],template:function(i,s){i&1&&(v(0,"div",0),x(1,"div"),T()),i&2&&(Z("ngStyle",Xi(3,Fj,s.active?"lightgreen":"gray")),W(),Br(s.active?"slider right":"slider left"))},dependencies:[jb],styles:["body[_ngcontent-%COMP%]{margin:0;background:#dedede;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{height:2.5rem;margin:0 .5rem;padding:.25rem;border:none;outline:none;border-radius:5px;background-color:#f0f8ff;font-size:large;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}textarea[_ngcontent-%COMP%]{height:3.5rem}button[_ngcontent-%COMP%]{font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}.label[_ngcontent-%COMP%]{font-size:20px}.btn[_ngcontent-%COMP%]{width:fit-content;margin:auto;padding:.5rem 1rem;border:none;outline:none;height:3rem;border-radius:5px;font-size:20px;box-shadow:0 1px 2px #d3d3d3}.icon-btn[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;outline:none;border:none;background:none;width:4rem;height:4rem;padding:0 .5rem}.icon-btn[_ngcontent-%COMP%]:hover{cursor:pointer;outline:solid 1px black}.navbar[_ngcontent-%COMP%]{height:4rem;width:100%;display:flex;flex-direction:row;justify-content:space-between}[_nghost-%COMP%]{display:flex;flex-direction:column;justify-content:center;padding:4px;margin-right:4px}.track[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;border-radius:2rem;width:42px;height:24px;box-shadow:0 1px 1px gray}.slider[_ngcontent-%COMP%]{border-radius:2rem;width:18px;height:18px;background:#dedede;box-shadow:1px 1px 2px #00000070}.left[_ngcontent-%COMP%]{transition:all .3s ease;margin-left:4px}.right[_ngcontent-%COMP%]{transition:all .3s ease;margin-left:20px}"]});let t=e;return t})();var XD=(()=>{let e=class e{constructor(r){this.settingsService=r,this.dropState="inactive",this.menuForm=new fr({deckSize:new ot(this.settingsService.getDeckSize(),[st.min(1),st.required])}),this.open=!1,this.closePressed=new le}getDropState(){return this.open?"active":"inactive"}getDealFromStarred(){return this.settingsService.getDealStarred()}toggleDealFromStarred(){this.settingsService.setDealStarred(!this.settingsService.getDealStarred())}getBaseFront(){return this.settingsService.getBaseFront()}toggleBaseFront(){this.settingsService.setBaseFront(!this.settingsService.getBaseFront())}setDeckSize(){let r=this.menuForm.controls.deckSize.value;r&&this.settingsService.setDeckSize(r)}};e.\u0275fac=function(i){return new(i||e)(R(td))},e.\u0275cmp=ke({type:e,selectors:[["app-menu"]],inputs:{open:"open"},outputs:{closePressed:"closePressed"},standalone:!0,features:[Oe],decls:28,vars:4,consts:[[1,"menu-container",3,"formGroup"],[1,"row"],[1,"label",2,"margin-right","1rem"],[3,"click","active"],["type","number","placeholder","deck size","formControlName","deckSize",2,"margin","0"],[1,"btn",2,"margin","0",3,"click"],[1,"navbar"],[1,"icon-btn",3,"click"],["viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["id","SVGRepo_bgCarrier","stroke-width","0"],["id","SVGRepo_tracerCarrier","stroke-linecap","round","stroke-linejoin","round"],["id","SVGRepo_iconCarrier"],["id","Menu / Close_LG"],["id","Vector","d","M21 21L12 12M12 12L3 3M12 12L21.0001 3M12 12L3 21.0001","stroke","#000000","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"]],template:function(i,s){i&1&&(v(0,"form",0)(1,"div",1)(2,"p",2),ye(3,"Deal from starred cards only?"),T(),v(4,"app-action-slider",3),B("click",function(){return s.toggleDealFromStarred()}),T()(),v(5,"div",1)(6,"p",2),ye(7,"Base on front?"),T(),v(8,"app-action-slider",3),B("click",function(){return s.toggleBaseFront()}),T()(),v(9,"div",1),x(10,"input",4),v(11,"button",5),B("click",function(){return s.setDeckSize()}),ye(12,"Set deck size"),T()(),v(13,"div",6)(14,"button",7),B("click",function(){return s.closePressed.emit()}),$e(),v(15,"svg",8),x(16,"g",9)(17,"g",10),v(18,"g",11)(19,"g",12),x(20,"path",13),T()()()(),Mn(),v(21,"button",7),B("click",function(){return s.closePressed.emit()}),$e(),v(22,"svg",8),x(23,"g",9)(24,"g",10),v(25,"g",11)(26,"g",12),x(27,"path",13),T()()()()()()),i&2&&(Z("formGroup",s.menuForm)("@drop",s.getDropState()),W(4),Z("active",s.getDealFromStarred()),W(4),Z("active",s.getBaseFront()))},dependencies:[Ss,Ds,pr,Wg,Cs,Is,si,oi,JD],styles:["body[_ngcontent-%COMP%]{margin:0;background:#dedede;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{height:2.5rem;margin:0 .5rem;padding:.25rem;border:none;outline:none;border-radius:5px;background-color:#f0f8ff;font-size:large;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}textarea[_ngcontent-%COMP%]{height:3.5rem}button[_ngcontent-%COMP%]{font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}.label[_ngcontent-%COMP%]{font-size:20px}.btn[_ngcontent-%COMP%]{width:fit-content;margin:auto;padding:.5rem 1rem;border:none;outline:none;height:3rem;border-radius:5px;font-size:20px;box-shadow:0 1px 2px #d3d3d3}.icon-btn[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;outline:none;border:none;background:none;width:4rem;height:4rem;padding:0 .5rem}.icon-btn[_ngcontent-%COMP%]:hover{cursor:pointer;outline:solid 1px black}.navbar[_ngcontent-%COMP%]{height:4rem;width:100%;display:flex;flex-direction:row;justify-content:space-between}.menu-container[_ngcontent-%COMP%]{position:absolute;left:0;display:flex;flex-direction:column;justify-content:flex-end;width:100%;height:100%;background:#dedede;z-index:1;gap:.5rem}.row[_ngcontent-%COMP%]{margin:0 1rem;display:flex;flex-direction:row;justify-content:space-between}"],data:{animation:[ZD]}});let t=e;return t})();var eS=(()=>{let e=class e{constructor(r){this.actionsService=r,this.menuOpen=!1}handleUndo(){this.actionsService.applyUndo()}handleRedo(){this.actionsService.applyRedo()}};e.\u0275fac=function(i){return new(i||e)(R(Iu))},e.\u0275cmp=ke({type:e,selectors:[["app-layout"]],standalone:!0,features:[Oe],decls:4,vars:1,consts:[[1,"content"],[3,"closePressed","open"],[3,"menuPressed","undoPressed","redoPressed"]],template:function(i,s){i&1&&(v(0,"div",0)(1,"app-menu",1),B("closePressed",function(){return s.menuOpen=!1}),T(),x(2,"app-deck"),v(3,"app-navbar",2),B("menuPressed",function(){return s.menuOpen=!0})("undoPressed",function(){return s.handleUndo()})("redoPressed",function(){return s.handleRedo()}),T()()),i&2&&(W(),Z("open",s.menuOpen))},dependencies:[XD,fI,QD],styles:["body[_ngcontent-%COMP%]{margin:0;background:#dedede;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{height:2.5rem;margin:0 .5rem;padding:.25rem;border:none;outline:none;border-radius:5px;background-color:#f0f8ff;font-size:large;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}textarea[_ngcontent-%COMP%]{height:3.5rem}button[_ngcontent-%COMP%]{font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}.label[_ngcontent-%COMP%]{font-size:20px}.btn[_ngcontent-%COMP%]{width:fit-content;margin:auto;padding:.5rem 1rem;border:none;outline:none;height:3rem;border-radius:5px;font-size:20px;box-shadow:0 1px 2px #d3d3d3}.icon-btn[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;outline:none;border:none;background:none;width:4rem;height:4rem;padding:0 .5rem}.icon-btn[_ngcontent-%COMP%]:hover{cursor:pointer;outline:solid 1px black}.navbar[_ngcontent-%COMP%]{height:4rem;width:100%;display:flex;flex-direction:row;justify-content:space-between}.content[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;overflow:hidden;display:flex;flex-direction:column;justify-content:space-between}"]});let t=e;return t})();function Lj(t,e){if(t&1&&(v(0,"button",4),ye(1,"Sign In"),T()),t&2){let n=re();Z("disabled",n.signInForm.invalid)}}var tS=(()=>{let e=class e{constructor(r,i){this.authService=r,this.router=i,this.loading=!1,this.signInForm=new fr({email:new ot(null,st.required),password:new ot(null,st.required)})}ngOnInit(){}onSubmit(){let r={email:this.signInForm.controls.email.value,password:this.signInForm.controls.password.value};!r.email||!r.password||(this.loading=!0,this.authService.signIn(r.email,r.password).then(i=>{i?this.router.navigate([""]):this.loading=!1}))}};e.\u0275fac=function(i){return new(i||e)(R(vs),R(hs))},e.\u0275cmp=ke({type:e,selectors:[["app-auth"]],standalone:!0,features:[Oe],decls:6,vars:3,consts:[[1,"signin",3,"submit","formGroup"],["type","text","placeholder","email","formControlName","email"],["type","password","placeholder","password","formControlName","password"],["class","btn submit","type","submit","style","margin: auto;",3,"disabled",4,"ngIf"],["type","submit",1,"btn","submit",2,"margin","auto",3,"disabled"]],template:function(i,s){i&1&&(v(0,"h1"),ye(1),T(),v(2,"form",0),B("submit",function(){return s.onSubmit()}),x(3,"input",1)(4,"input",2),Ze(5,Lj,2,1,"button",3),T()),i&2&&(W(),Rn(s.loading?"Loading...":"Sign In"),W(),Z("formGroup",s.signInForm),W(3),Z("ngIf",!s.loading))},dependencies:[cn,ts,Ss,Ds,pr,Cs,Is,si,oi],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;justify-content:center;text-align:center}.signin[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.submit[_ngcontent-%COMP%]{background-color:#90ee90}"]});let t=e;return t})();var nS=[{path:"",component:eS,canActivate:[vs]},{path:"auth",component:tS}];function rS(t){return new y(3e3,!1)}function Vj(){return new y(3100,!1)}function jj(){return new y(3101,!1)}function Uj(t){return new y(3001,!1)}function Bj(t){return new y(3003,!1)}function $j(t){return new y(3004,!1)}function Hj(t,e){return new y(3005,!1)}function zj(){return new y(3006,!1)}function Wj(){return new y(3007,!1)}function Gj(t,e){return new y(3008,!1)}function qj(t){return new y(3002,!1)}function Kj(t,e,n,r,i){return new y(3010,!1)}function Yj(){return new y(3011,!1)}function Qj(){return new y(3012,!1)}function Zj(){return new y(3200,!1)}function Jj(){return new y(3202,!1)}function Xj(){return new y(3013,!1)}function eU(t){return new y(3014,!1)}function tU(t){return new y(3015,!1)}function nU(t){return new y(3016,!1)}function rU(t,e){return new y(3404,!1)}function iU(t){return new y(3502,!1)}function sU(t){return new y(3503,!1)}function oU(){return new y(3300,!1)}function aU(t){return new y(3504,!1)}function lU(t){return new y(3301,!1)}function cU(t,e){return new y(3302,!1)}function uU(t){return new y(3303,!1)}function dU(t,e){return new y(3400,!1)}function hU(t){return new y(3401,!1)}function fU(t){return new y(3402,!1)}function pU(t,e){return new y(3505,!1)}function wr(t){switch(t.length){case 0:return new gr;case 1:return t[0];default:return new sa(t)}}function yS(t,e,n=new Map,r=new Map){let i=[],s=[],o=-1,a=null;if(e.forEach(l=>{let c=l.get("offset"),u=c==o,d=u&&a||new Map;l.forEach((h,f)=>{let p=f,m=h;if(f!=="offset")switch(p=t.normalizePropertyName(p,i),m){case Eu:m=n.get(f);break;case yn:m=r.get(f);break;default:m=t.normalizeStyleValue(f,p,m,i);break}d.set(p,m)}),u||s.push(d),a=d,o=c}),i.length)throw iU(i);return s}function Uy(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&_y(n,"start",t)));break;case"done":t.onDone(()=>r(n&&_y(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&_y(n,"destroy",t)));break}}function _y(t,e,n){let r=n.totalTime,i=!!n.disabled,s=By(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,r??t.totalTime,i),o=t._data;return o!=null&&(s._data=o),s}function By(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function bt(t,e,n){let r=t.get(e);return r||t.set(e,r=n),r}function iS(t){let e=t.indexOf(":"),n=t.substring(1,e),r=t.slice(e+1);return[n,r]}var gU=typeof document>"u"?null:document.documentElement;function $y(t){let e=t.parentNode||t.host||null;return e===gU?null:e}function mU(t){return t.substring(1,6)=="ebkit"}var gi=null,sS=!1;function yU(t){gi||(gi=_U()||{},sS=gi.style?"WebkitAppearance"in gi.style:!1);let e=!0;return gi.style&&!mU(t)&&(e=t in gi.style,!e&&sS&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in gi.style)),e}function _U(){return typeof document<"u"?document.body:null}function _S(t,e){for(;e;){if(e===t)return!0;e=$y(e)}return!1}function vS(t,e,n){if(n)return Array.from(t.querySelectorAll(e));let r=t.querySelector(e);return r?[r]:[]}var Hy=(()=>{let e=class e{validateStyleProperty(r){return yU(r)}containsElement(r,i){return _S(r,i)}getParentElement(r){return $y(r)}query(r,i,s){return vS(r,i,s)}computeStyle(r,i,s){return s||""}animate(r,i,s,o,a,l=[],c){return new gr(s,o)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac});let t=e;return t})(),qy=class qy{};qy.NOOP=new Hy;var _i=qy,vi=class{};var vU=1e3,wS="{{",wU="}}",bS="ng-enter",Iy="ng-leave",nd="ng-trigger",ad=".ng-trigger",oS="ng-animating",Dy=".ng-animating";function Vn(t){if(typeof t=="number")return t;let e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Sy(parseFloat(e[1]),e[2])}function Sy(t,e){switch(e){case"s":return t*vU;default:return t}}function ld(t,e,n){return t.hasOwnProperty("duration")?t:bU(t,e,n)}function bU(t,e,n){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,s=0,o="";if(typeof t=="string"){let a=t.match(r);if(a===null)return e.push(rS(t)),{duration:0,delay:0,easing:""};i=Sy(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(s=Sy(parseFloat(l),a[4]));let c=a[5];c&&(o=c)}else i=t;if(!n){let a=!1,l=e.length;i<0&&(e.push(Vj()),a=!0),s<0&&(e.push(jj()),a=!0),a&&e.splice(l,0,rS(t))}return{duration:i,delay:s,easing:o}}function EU(t){return t.length?t[0]instanceof Map?t:t.map(e=>new Map(Object.entries(e))):[]}function bn(t,e,n){e.forEach((r,i)=>{let s=zy(i);n&&!n.has(i)&&n.set(i,t.style[s]),t.style[s]=r})}function yi(t,e){e.forEach((n,r)=>{let i=zy(r);t.style[i]=""})}function Aa(t){return Array.isArray(t)?t.length==1?t[0]:qI(t):t}function CU(t,e,n){let r=e.params||{},i=ES(t);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||n.push(Uj(s))})}var Ty=new RegExp(`${wS}\\s*(.+?)\\s*${wU}`,"g");function ES(t){let e=[];if(typeof t=="string"){let n;for(;n=Ty.exec(t);)e.push(n[1]);Ty.lastIndex=0}return e}function Na(t,e,n){let r=`${t}`,i=r.replace(Ty,(s,o)=>{let a=e[o];return a==null&&(n.push(Bj(o)),a=""),a.toString()});return i==r?t:i}var IU=/-+([a-z0-9])/g;function zy(t){return t.replace(IU,(...e)=>e[1].toUpperCase())}function DU(t,e){return t===0||e===0}function SU(t,e,n){if(n.size&&e.length){let r=e[0],i=[];if(n.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,Wy(t,a)))}}return e}function wt(t,e,n){switch(e.type){case V.Trigger:return t.visitTrigger(e,n);case V.State:return t.visitState(e,n);case V.Transition:return t.visitTransition(e,n);case V.Sequence:return t.visitSequence(e,n);case V.Group:return t.visitGroup(e,n);case V.Animate:return t.visitAnimate(e,n);case V.Keyframes:return t.visitKeyframes(e,n);case V.Style:return t.visitStyle(e,n);case V.Reference:return t.visitReference(e,n);case V.AnimateChild:return t.visitAnimateChild(e,n);case V.AnimateRef:return t.visitAnimateRef(e,n);case V.Query:return t.visitQuery(e,n);case V.Stagger:return t.visitStagger(e,n);default:throw $j(e.type)}}function Wy(t,e){return window.getComputedStyle(t)[e]}var TU=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),cd=class extends vi{normalizePropertyName(e,n){return zy(e)}normalizeStyleValue(e,n,r,i){let s="",o=r.toString().trim();if(TU.has(n)&&r!==0&&r!=="0")if(typeof r=="number")s="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(Hj(e,r))}return o+s}};var ud="*";function AU(t,e){let n=[];return typeof t=="string"?t.split(/\s*,\s*/).forEach(r=>MU(r,n,e)):n.push(t),n}function MU(t,e,n){if(t[0]==":"){let l=NU(t,n);if(typeof l=="function"){e.push(l);return}t=l}let r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return n.push(tU(t)),e;let i=r[1],s=r[2],o=r[3];e.push(aS(i,o));let a=i==ud&&o==ud;s[0]=="<"&&!a&&e.push(aS(o,i))}function NU(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,r)=>parseFloat(r)>parseFloat(n);case":decrement":return(n,r)=>parseFloat(r)<parseFloat(n);default:return e.push(nU(t)),"* => *"}}var rd=new Set(["true","1"]),id=new Set(["false","0"]);function aS(t,e){let n=rd.has(t)||id.has(t),r=rd.has(e)||id.has(e);return(i,s)=>{let o=t==ud||t==i,a=e==ud||e==s;return!o&&n&&typeof i=="boolean"&&(o=i?rd.has(t):id.has(t)),!a&&r&&typeof s=="boolean"&&(a=s?rd.has(e):id.has(e)),o&&a}}var CS=":self",RU=new RegExp(`s*${CS}s*,?`,"g");function IS(t,e,n,r){return new Ay(t).build(e,n,r)}var lS="",Ay=class{constructor(e){this._driver=e}build(e,n,r){let i=new My(n);return this._resetContextStyleTimingState(i),wt(this,Aa(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=lS,e.collectedStyles=new Map,e.collectedStyles.set(lS,new Map),e.currentTime=0}visitTrigger(e,n){let r=n.queryCount=0,i=n.depCount=0,s=[],o=[];return e.name.charAt(0)=="@"&&n.errors.push(zj()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),a.type==V.State){let l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,n))}),l.name=c}else if(a.type==V.Transition){let l=this.visitTransition(a,n);r+=l.queryCount,i+=l.depCount,o.push(l)}else n.errors.push(Wj())}),{type:V.Trigger,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,n){let r=this.visitStyle(e.styles,n),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){let s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{ES(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&n.errors.push(Gj(e.name,[...s.values()]))}return{type:V.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;let r=wt(this,Aa(e.animation),n),i=AU(e.expr,n.errors);return{type:V.Transition,matchers:i,animation:r,queryCount:n.queryCount,depCount:n.depCount,options:mi(e.options)}}visitSequence(e,n){return{type:V.Sequence,steps:e.steps.map(r=>wt(this,r,n)),options:mi(e.options)}}visitGroup(e,n){let r=n.currentTime,i=0,s=e.steps.map(o=>{n.currentTime=r;let a=wt(this,o,n);return i=Math.max(i,n.currentTime),a});return n.currentTime=i,{type:V.Group,steps:s,options:mi(e.options)}}visitAnimate(e,n){let r=PU(e.timings,n.errors);n.currentAnimateTimings=r;let i,s=e.styles?e.styles:Je({});if(s.type==V.Keyframes)i=this.visitKeyframes(s,n);else{let o=e.styles,a=!1;if(!o){a=!0;let c={};r.easing&&(c.easing=r.easing),o=Je(c)}n.currentTime+=r.duration+r.delay;let l=this.visitStyle(o,n);l.isEmptyStep=a,i=l}return n.currentAnimateTimings=null,{type:V.Animate,timings:r,style:i,options:null}}visitStyle(e,n){let r=this._makeStyleAst(e,n);return this._validateStyleAst(r,n),r}_makeStyleAst(e,n){let r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===yn?r.push(a):n.errors.push(qj(a)):r.push(new Map(Object.entries(a)));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s)){for(let l of a.values())if(l.toString().indexOf(wS)>=0){s=!0;break}}}),{type:V.Style,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,n){let r=n.currentAnimateTimings,i=n.currentTime,s=n.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,l)=>{let c=n.collectedStyles.get(n.currentQuerySelector),u=c.get(l),d=!0;u&&(s!=i&&s>=u.startTime&&i<=u.endTime&&(n.errors.push(Kj(l,u.startTime,u.endTime,s,i)),d=!1),s=u.startTime),d&&c.set(l,{startTime:s,endTime:i}),n.options&&CU(a,n.options,n.errors)})})}visitKeyframes(e,n){let r={type:V.Keyframes,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(Yj()),r;let i=1,s=0,o=[],a=!1,l=!1,c=0,u=e.steps.map(D=>{let G=this._makeStyleAst(D,n),F=G.offset!=null?G.offset:OU(G.styles),ie=0;return F!=null&&(s++,ie=G.offset=F),l=l||ie<0||ie>1,a=a||ie<c,c=ie,o.push(ie),G});l&&n.errors.push(Qj()),a&&n.errors.push(Zj());let d=e.steps.length,h=0;s>0&&s<d?n.errors.push(Jj()):s==0&&(h=i/(d-1));let f=d-1,p=n.currentTime,m=n.currentAnimateTimings,w=m.duration;return u.forEach((D,G)=>{let F=h>0?G==f?1:h*G:o[G],ie=F*w;n.currentTime=p+m.delay+ie,m.duration=ie,this._validateStyleAst(D,n),D.offset=F,r.styles.push(D)}),r}visitReference(e,n){return{type:V.Reference,animation:wt(this,Aa(e.animation),n),options:mi(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:V.AnimateChild,options:mi(e.options)}}visitAnimateRef(e,n){return{type:V.AnimateRef,animation:this.visitReference(e.animation,n),options:mi(e.options)}}visitQuery(e,n){let r=n.currentQuerySelector,i=e.options||{};n.queryCount++,n.currentQuery=e;let[s,o]=xU(e.selector);n.currentQuerySelector=r.length?r+" "+s:s,bt(n.collectedStyles,n.currentQuerySelector,new Map);let a=wt(this,Aa(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=r,{type:V.Query,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:mi(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(Xj());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:ld(e.timings,n.errors,!0);return{type:V.Stagger,animation:wt(this,Aa(e.animation),n),timings:r,options:null}}};function xU(t){let e=!!t.split(/\s*,\s*/).find(n=>n==CS);return e&&(t=t.replace(RU,"")),t=t.replace(/@\*/g,ad).replace(/@\w+/g,n=>ad+"-"+n.slice(1)).replace(/:animating/g,Dy),[t,e]}function kU(t){return t?b({},t):null}var My=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function OU(t){if(typeof t=="string")return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){let r=n;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(t instanceof Map&&t.has("offset")){let n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}function PU(t,e){if(t.hasOwnProperty("duration"))return t;if(typeof t=="number"){let s=ld(t,e).duration;return vy(s,0,"")}let n=t;if(n.split(/\s+/).some(s=>s.charAt(0)=="{"&&s.charAt(1)=="{")){let s=vy(0,0,"");return s.dynamic=!0,s.strValue=n,s}let i=ld(n,e);return vy(i.duration,i.delay,i.easing)}function mi(t){return t?(t=b({},t),t.params&&(t.params=kU(t.params))):t={},t}function vy(t,e,n){return{duration:t,delay:e,easing:n}}function Gy(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}var Ra=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,n){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}},FU=1,LU=":enter",VU=new RegExp(LU,"g"),jU=":leave",UU=new RegExp(jU,"g");function DS(t,e,n,r,i,s=new Map,o=new Map,a,l,c=[]){return new Ny().buildKeyframes(t,e,n,r,i,s,o,a,l,c)}var Ny=class{buildKeyframes(e,n,r,i,s,o,a,l,c,u=[]){c=c||new Ra;let d=new Ry(e,n,c,i,s,u,[]);d.options=l;let h=l.delay?Vn(l.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([o],null,d.errors,l),wt(this,r,d);let f=d.timelines.filter(p=>p.containsAnimation());if(f.length&&a.size){let p;for(let m=f.length-1;m>=0;m--){let w=f[m];if(w.element===n){p=w;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,l)}return f.length?f.map(p=>p.buildKeyframes()):[Gy(n,[],[],[],0,h,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){let r=n.subInstructions.get(n.element);if(r){let i=n.createSubContext(e.options),s=n.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&n.transformIntoNewTimeline(o)}n.previousNode=e}visitAnimateRef(e,n){let r=n.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,r),this.visitReference(e.animation,r),n.transformIntoNewTimeline(r.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,r){for(let i of e){let s=i?.delay;if(s){let o=typeof s=="number"?s:Vn(Na(s,i?.params??{},n.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,n,r){let s=n.currentTimeline.currentTime,o=r.duration!=null?Vn(r.duration):null,a=r.delay!=null?Vn(r.delay):null;return o!==0&&e.forEach(l=>{let c=n.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,n){n.updateOptions(e.options,!0),wt(this,e.animation,n),n.previousNode=e}visitSequence(e,n){let r=n.subContextCount,i=n,s=e.options;if(s&&(s.params||s.delay)&&(i=n.createSubContext(s),i.transformIntoNewTimeline(),s.delay!=null)){i.previousNode.type==V.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=dd);let o=Vn(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>wt(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){let r=[],i=n.currentTimeline.currentTime,s=e.options&&e.options.delay?Vn(e.options.delay):0;e.steps.forEach(o=>{let a=n.createSubContext(e.options);s&&a.delayNextStep(s),wt(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>n.currentTimeline.mergeTimelineCollectedStyles(o)),n.transformIntoNewTimeline(i),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){let r=e.strValue,i=n.params?Na(r,n.params,n.errors):r;return ld(i,n.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){let r=n.currentAnimateTimings=this._visitTiming(e.timings,n),i=n.currentTimeline;r.delay&&(n.incrementTime(r.delay),i.snapshotCurrentStyles());let s=e.style;s.type==V.Keyframes?this.visitKeyframes(s,n):(n.incrementTime(r.duration),this.visitStyle(s,n),i.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){let r=n.currentTimeline,i=n.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){let r=n.currentAnimateTimings,i=n.currentTimeline.duration,s=r.duration,a=n.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(l=>{let c=l.offset||0;a.forwardTime(c*s),a.setStyles(l.styles,l.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(i+s),n.previousNode=e}visitQuery(e,n){let r=n.currentTimeline.currentTime,i=e.options||{},s=i.delay?Vn(i.delay):0;s&&(n.previousNode.type===V.Style||r==0&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=dd);let o=r,a=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,n.errors);n.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{n.currentQueryIndex=u;let d=n.createSubContext(e.options,c);s&&d.delayNextStep(s),c===n.element&&(l=d.currentTimeline),wt(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe();let h=d.currentTimeline.currentTime;o=Math.max(o,h)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(o),l&&(n.currentTimeline.mergeTimelineCollectedStyles(l),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){let r=n.parentContext,i=n.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(n.currentQueryTotal-1),l=o*n.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime;break}let u=n.currentTimeline;l&&u.delayNextStep(l);let d=u.currentTime;wt(this,e.animation,n),n.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}},dd={},Ry=class t{constructor(e,n,r,i,s,o,a,l){this._driver=e,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=dd,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new hd(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;let r=e,i=this.options;r.duration!=null&&(i.duration=Vn(r.duration)),r.delay!=null&&(i.delay=Vn(r.delay));let s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!n||!o.hasOwnProperty(a))&&(o[a]=Na(s[a],o,this.errors))})}}_copyOptions(){let e={};if(this.options){let n=this.options.params;if(n){let r=e.params={};Object.keys(n).forEach(i=>{r[i]=n[i]})}}return e}createSubContext(e=null,n,r){let i=n||this.element,s=new t(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=dd,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,r){let i={duration:n??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new xy(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace(VU,"."+this._enterClassName),e=e.replace(UU,"."+this._leaveClassName);let l=r!=1,c=this._driver.query(this.element,e,l);r!==0&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),a.push(...c)}return!s&&a.length==0&&o.push(eU(n)),a}},hd=class t{constructor(e,n,r,i){this._driver=e,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let n=this._keyframes.size===1&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=FU,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,r]of this._globalTimelineStyles)this._backFill.set(n,r||yn),this._currentKeyframe.set(n,yn);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,r,i){n&&this._previousKeyframe.set("easing",n);let s=i&&i.params||{},o=BU(e,this._globalTimelineStyles);for(let[a,l]of o){let c=Na(l,s,r);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??yn),this._updateStyle(a,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,r)=>{let i=this._styleSummary.get(r);(!i||n.time>i.time)&&this._updateStyle(r,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,n=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,l)=>{let c=new Map([...this._backFill,...a]);c.forEach((u,d)=>{u===Eu?e.add(d):u===yn&&n.add(d)}),r||c.set("offset",l/this.duration),i.push(c)});let s=[...e.values()],o=[...n.values()];if(r){let a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return Gy(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}},xy=class extends hd{constructor(e,n,r,i,s,o,a=!1){super(e,n,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&n){let s=[],o=r+n,a=n/o,l=new Map(e[0]);l.set("offset",0),s.push(l);let c=new Map(e[0]);c.set("offset",cS(a)),s.push(c);let u=e.length-1;for(let d=1;d<=u;d++){let h=new Map(e[d]),f=h.get("offset"),p=n+f*r;h.set("offset",cS(p/o)),s.push(h)}r=o,n=0,i="",e=s}return Gy(this.element,e,this.preStyleProps,this.postStyleProps,r,n,i,!0)}};function cS(t,e=3){let n=Math.pow(10,e-1);return Math.round(t*n)/n}function BU(t,e){let n=new Map,r;return t.forEach(i=>{if(i==="*"){r??=e.keys();for(let s of r)n.set(s,yn)}else for(let[s,o]of i)n.set(s,o)}),n}function uS(t,e,n,r,i,s,o,a,l,c,u,d,h){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}var wy={},fd=class{constructor(e,n,r){this._triggerName=e,this.ast=n,this._stateStyles=r}match(e,n,r,i){return $U(this.ast.matchers,e,n,r,i)}buildStyles(e,n,r){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(n,r):new Map}build(e,n,r,i,s,o,a,l,c,u){let d=[],h=this.ast.options&&this.ast.options.params||wy,f=a&&a.params||wy,p=this.buildStyles(r,f,d),m=l&&l.params||wy,w=this.buildStyles(i,m,d),D=new Set,G=new Map,F=new Map,ie=i==="void",Ue={params:SS(m,h),delay:this.ast.options?.delay},fe=u?[]:DS(e,n,this.ast.animation,s,o,p,w,Ue,c,d),me=0;return fe.forEach(Ie=>{me=Math.max(Ie.duration+Ie.delay,me)}),d.length?uS(n,this._triggerName,r,i,ie,p,w,[],[],G,F,me,d):(fe.forEach(Ie=>{let ut=Ie.element,Kt=bt(G,ut,new Set);Ie.preStyleProps.forEach(br=>Kt.add(br));let Ky=bt(F,ut,new Set);Ie.postStyleProps.forEach(br=>Ky.add(br)),ut!==n&&D.add(ut)}),uS(n,this._triggerName,r,i,ie,p,w,fe,[...D.values()],G,F,me))}};function $U(t,e,n,r,i){return t.some(s=>s(e,n,r,i))}function SS(t,e){let n=b({},e);return Object.entries(t).forEach(([r,i])=>{i!=null&&(n[r]=i)}),n}var ky=class{constructor(e,n,r){this.styles=e,this.defaultParams=n,this.normalizer=r}buildStyles(e,n){let r=new Map,i=SS(e,this.defaultParams);return this.styles.styles.forEach(s=>{typeof s!="string"&&s.forEach((o,a)=>{o&&(o=Na(o,i,n));let l=this.normalizer.normalizePropertyName(a,n);o=this.normalizer.normalizeStyleValue(a,l,o,n),r.set(a,o)})}),r}};function HU(t,e,n){return new Oy(t,e,n)}var Oy=class{constructor(e,n,r){this.name=e,this.ast=n,this._normalizer=r,this.transitionFactories=[],this.states=new Map,n.states.forEach(i=>{let s=i.options&&i.options.params||{};this.states.set(i.name,new ky(i.style,s,r))}),dS(this.states,"true","1"),dS(this.states,"false","0"),n.transitions.forEach(i=>{this.transitionFactories.push(new fd(e,i,this.states))}),this.fallbackTransition=zU(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,r,i){return this.transitionFactories.find(o=>o.match(e,n,r,i))||null}matchStyles(e,n,r){return this.fallbackTransition.buildStyles(e,n,r)}};function zU(t,e,n){let r=[(o,a)=>!0],i={type:V.Sequence,steps:[],options:null},s={type:V.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new fd(t,s,e)}function dS(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}var WU=new Ra,Py=class{constructor(e,n,r){this.bodyNode=e,this._driver=n,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,n){let r=[],i=[],s=IS(this._driver,n,r,i);if(r.length)throw sU(r);i.length&&void 0,this._animations.set(e,s)}_buildPlayer(e,n,r){let i=e.element,s=yS(this._normalizer,e.keyframes,n,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,n,r={}){let i=[],s=this._animations.get(e),o,a=new Map;if(s?(o=DS(this._driver,n,s,bS,Iy,new Map,new Map,r,WU,i),o.forEach(u=>{let d=bt(a,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(i.push(oU()),o=[]),i.length)throw aU(i);a.forEach((u,d)=>{u.forEach((h,f)=>{u.set(f,this._driver.computeStyle(d,f,yn))})});let l=o.map(u=>{let d=a.get(u.element);return this._buildPlayer(u,new Map,d)}),c=wr(l);return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){let n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);let r=this.players.indexOf(n);r>=0&&this.players.splice(r,1)}_getPlayer(e){let n=this._playersById.get(e);if(!n)throw lU(e);return n}listen(e,n,r,i){let s=By(n,"","","");return Uy(this._getPlayer(e),r,s,i),()=>{}}command(e,n,r,i){if(r=="register"){this.register(e,i[0]);return}if(r=="create"){let o=i[0]||{};this.create(e,n,o);return}let s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},hS="ng-animate-queued",GU=".ng-animate-queued",by="ng-animate-disabled",qU=".ng-animate-disabled",KU="ng-star-inserted",YU=".ng-star-inserted",QU=[],TS={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ZU={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},qt="__ng_removed",xa=class{get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;let r=e&&e.hasOwnProperty("value"),i=r?e.value:e;if(this.value=XU(i),r){let s=e,{value:o}=s,a=wd(s,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let n=e.params;if(n){let r=this.options.params;Object.keys(n).forEach(i=>{r[i]==null&&(r[i]=n[i])})}}},Ma="void",Ey=new xa(Ma),Fy=class{constructor(e,n,r){this.id=e,this.hostElement=n,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Rt(n,this._hostClassName)}listen(e,n,r,i){if(!this._triggers.has(n))throw cU(r,n);if(r==null||r.length==0)throw uU(n);if(!eB(r))throw dU(r,n);let s=bt(this._elementListeners,e,[]),o={name:n,phase:r,callback:i};s.push(o);let a=bt(this._engine.statesByElement,e,new Map);return a.has(n)||(Rt(e,nd),Rt(e,nd+"-"+n),a.set(n,Ey)),()=>{this._engine.afterFlush(()=>{let l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(n)||a.delete(n)})}}register(e,n){return this._triggers.has(e)?!1:(this._triggers.set(e,n),!0)}_getTrigger(e){let n=this._triggers.get(e);if(!n)throw hU(e);return n}trigger(e,n,r,i=!0){let s=this._getTrigger(n),o=new ka(this.id,n,e),a=this._engine.statesByElement.get(e);a||(Rt(e,nd),Rt(e,nd+"-"+n),this._engine.statesByElement.set(e,a=new Map));let l=a.get(n),c=new xa(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(n,c),l||(l=Ey),!(c.value===Ma)&&l.value===c.value){if(!rB(l.params,c.params)){let m=[],w=s.matchStyles(l.value,l.params,m),D=s.matchStyles(c.value,c.params,m);m.length?this._engine.reportError(m):this._engine.afterFlush(()=>{yi(e,w),bn(e,D)})}return}let h=bt(this._engine.playersByElement,e,[]);h.forEach(m=>{m.namespaceId==this.id&&m.triggerName==n&&m.queued&&m.destroy()});let f=s.matchTransition(l.value,c.value,e,c.params),p=!1;if(!f){if(!i)return;f=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:f,fromState:l,toState:c,player:o,isFallbackTransition:p}),p||(Rt(e,hS),o.onStart(()=>{Bs(e,hS)})),o.onDone(()=>{let m=this.players.indexOf(o);m>=0&&this.players.splice(m,1);let w=this._engine.playersByElement.get(e);if(w){let D=w.indexOf(o);D>=0&&w.splice(D,1)}}),this.players.push(o),h.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,r)=>{this._elementListeners.set(r,n.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let n=this._engine.playersByElement.get(e);n&&(n.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){let r=this._engine.driver.query(e,ad,!0);r.forEach(i=>{if(i[qt])return;let s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,n,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,n,r,i){let s=this._engine.statesByElement.get(e),o=new Map;if(s){let a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){let u=this.trigger(e,c,Ma,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,o),r&&wr(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let n=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(n&&r){let i=new Set;n.forEach(s=>{let o=s.name;if(i.has(o))return;i.add(o);let l=this._triggers.get(o).fallbackTransition,c=r.get(o)||Ey,u=new xa(Ma),d=new ka(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,n){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let i=!1;if(r.totalAnimations){let s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,n);else{let s=e[qt];(!s||s===TS)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,n))}}insertNode(e,n){Rt(e,this._hostClassName)}drainQueuedTransitions(e){let n=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){let l=By(s,r.triggerName,r.fromState.value,r.toState.value);l._data=e,Uy(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):n.push(r)}),this._queue=[],n.sort((r,i)=>{let s=r.transition.ast.depCount,o=i.transition.ast.depCount;return s==0||o==0?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},Ly=class{_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,r){this.bodyNode=e,this.driver=n,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(n=>{n.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,n){let r=new Fy(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(r,n):(this.newHostElements.set(n,r),this.collectEnterElement(n)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,n){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(n);for(;a;){let l=i.get(a);if(l){let c=r.indexOf(l);r.splice(c+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(n,e),e}register(e,n){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,n)),r}registerTrigger(e,n,r){let i=this._namespaceLookup[e];i&&i.register(n,r)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let n=new Set,r=this.statesByElement.get(e);if(r){for(let i of r.values())if(i.namespaceId){let s=this._fetchNamespace(i.namespaceId);s&&n.add(s)}}return n}trigger(e,n,r,i){if(sd(n)){let s=this._fetchNamespace(e);if(s)return s.trigger(n,r,i),!0}return!1}insertNode(e,n,r,i){if(!sd(n))return;let s=n[qt];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;let o=this.collectedLeaveElements.indexOf(n);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){let o=this._fetchNamespace(e);o&&o.insertNode(n,r)}i&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Rt(e,by)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Bs(e,by))}removeNode(e,n,r){if(sd(n)){let i=e?this._fetchNamespace(e):null;i?i.removeNode(n,r):this.markElementAsRemoved(e,n,!1,r);let s=this.namespacesByHostElement.get(n);s&&s.id!==e&&s.removeNode(n,r)}else this._onRemovalComplete(n,r)}markElementAsRemoved(e,n,r,i,s){this.collectedLeaveElements.push(n),n[qt]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,n,r,i,s){return sd(n)?this._fetchNamespace(e).listen(n,r,i,s):()=>{}}_buildInstruction(e,n,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,n,s)}destroyInnerAnimations(e){let n=this.driver.query(e,ad,!0);n.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(n=this.driver.query(e,Dy,!0),n.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let n=this.playersByElement.get(e);n&&n.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let n=this.playersByQueriedElement.get(e);n&&n.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return wr(this.players).onDone(()=>e());e()})}processLeaveNode(e){let n=e[qt];if(n&&n.setForRemoval){if(e[qt]=TS,n.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}e.classList?.contains(by)&&this.markElementAsDisabled(e,!1),this.driver.query(e,qU,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];Rt(i,KU)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{n=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],n.length?wr(n).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw fU(e)}_flushAnimations(e,n){let r=new Ra,i=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(I=>{u.add(I);let A=this.driver.query(I,GU,!0);for(let N=0;N<A.length;N++)u.add(A[N])});let d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=gS(h,this.collectedEnterElements),p=new Map,m=0;f.forEach((I,A)=>{let N=bS+m++;p.set(A,N),I.forEach(te=>Rt(te,N))});let w=[],D=new Set,G=new Set;for(let I=0;I<this.collectedLeaveElements.length;I++){let A=this.collectedLeaveElements[I],N=A[qt];N&&N.setForRemoval&&(w.push(A),D.add(A),N.hasAnimation?this.driver.query(A,YU,!0).forEach(te=>D.add(te)):G.add(A))}let F=new Map,ie=gS(h,Array.from(D));ie.forEach((I,A)=>{let N=Iy+m++;F.set(A,N),I.forEach(te=>Rt(te,N))}),e.push(()=>{f.forEach((I,A)=>{let N=p.get(A);I.forEach(te=>Bs(te,N))}),ie.forEach((I,A)=>{let N=F.get(A);I.forEach(te=>Bs(te,N))}),w.forEach(I=>{this.processLeaveNode(I)})});let Ue=[],fe=[];for(let I=this._namespaceList.length-1;I>=0;I--)this._namespaceList[I].drainQueuedTransitions(n).forEach(N=>{let te=N.player,Re=N.element;if(Ue.push(te),this.collectedEnterElements.length){let Be=Re[qt];if(Be&&Be.setForMove){if(Be.previousTriggersValues&&Be.previousTriggersValues.has(N.triggerName)){let Er=Be.previousTriggersValues.get(N.triggerName),Et=this.statesByElement.get(N.element);if(Et&&Et.has(N.triggerName)){let Oa=Et.get(N.triggerName);Oa.value=Er,Et.set(N.triggerName,Oa)}}te.destroy();return}}let Yt=!d||!this.driver.containsElement(d,Re),dt=F.get(Re),jn=p.get(Re),_e=this._buildInstruction(N,r,jn,dt,Yt);if(_e.errors&&_e.errors.length){fe.push(_e);return}if(Yt){te.onStart(()=>yi(Re,_e.fromStyles)),te.onDestroy(()=>bn(Re,_e.toStyles)),i.push(te);return}if(N.isFallbackTransition){te.onStart(()=>yi(Re,_e.fromStyles)),te.onDestroy(()=>bn(Re,_e.toStyles)),i.push(te);return}let Zy=[];_e.timelines.forEach(Be=>{Be.stretchStartingKeyframe=!0,this.disabledNodes.has(Be.element)||Zy.push(Be)}),_e.timelines=Zy,r.append(Re,_e.timelines);let PS={instruction:_e,player:te,element:Re};o.push(PS),_e.queriedElements.forEach(Be=>bt(a,Be,[]).push(te)),_e.preStyleProps.forEach((Be,Er)=>{if(Be.size){let Et=l.get(Er);Et||l.set(Er,Et=new Set),Be.forEach((Oa,vd)=>Et.add(vd))}}),_e.postStyleProps.forEach((Be,Er)=>{let Et=c.get(Er);Et||c.set(Er,Et=new Set),Be.forEach((Oa,vd)=>Et.add(vd))})});if(fe.length){let I=[];fe.forEach(A=>{I.push(pU(A.triggerName,A.errors))}),Ue.forEach(A=>A.destroy()),this.reportError(I)}let me=new Map,Ie=new Map;o.forEach(I=>{let A=I.element;r.has(A)&&(Ie.set(A,A),this._beforeAnimationBuild(I.player.namespaceId,I.instruction,me))}),i.forEach(I=>{let A=I.element;this._getPreviousPlayers(A,!1,I.namespaceId,I.triggerName,null).forEach(te=>{bt(me,A,[]).push(te),te.destroy()})});let ut=w.filter(I=>mS(I,l,c)),Kt=new Map;pS(Kt,this.driver,G,c,yn).forEach(I=>{mS(I,l,c)&&ut.push(I)});let br=new Map;f.forEach((I,A)=>{pS(br,this.driver,new Set(I),l,Eu)}),ut.forEach(I=>{let A=Kt.get(I),N=br.get(I);Kt.set(I,new Map([...A?.entries()??[],...N?.entries()??[]]))});let _d=[],Yy=[],Qy={};o.forEach(I=>{let{element:A,player:N,instruction:te}=I;if(r.has(A)){if(u.has(A)){N.onDestroy(()=>bn(A,te.toStyles)),N.disabled=!0,N.overrideTotalTime(te.totalTime),i.push(N);return}let Re=Qy;if(Ie.size>1){let dt=A,jn=[];for(;dt=dt.parentNode;){let _e=Ie.get(dt);if(_e){Re=_e;break}jn.push(dt)}jn.forEach(_e=>Ie.set(_e,Re))}let Yt=this._buildAnimation(N.namespaceId,te,me,s,br,Kt);if(N.setRealPlayer(Yt),Re===Qy)_d.push(N);else{let dt=this.playersByElement.get(Re);dt&&dt.length&&(N.parentPlayer=wr(dt)),i.push(N)}}else yi(A,te.fromStyles),N.onDestroy(()=>bn(A,te.toStyles)),Yy.push(N),u.has(A)&&i.push(N)}),Yy.forEach(I=>{let A=s.get(I.element);if(A&&A.length){let N=wr(A);I.setRealPlayer(N)}}),i.forEach(I=>{I.parentPlayer?I.syncPlayerEvents(I.parentPlayer):I.destroy()});for(let I=0;I<w.length;I++){let A=w[I],N=A[qt];if(Bs(A,Iy),N&&N.hasAnimation)continue;let te=[];if(a.size){let Yt=a.get(A);Yt&&Yt.length&&te.push(...Yt);let dt=this.driver.query(A,Dy,!0);for(let jn=0;jn<dt.length;jn++){let _e=a.get(dt[jn]);_e&&_e.length&&te.push(..._e)}}let Re=te.filter(Yt=>!Yt.destroyed);Re.length?tB(this,A,Re):this.processLeaveNode(A)}return w.length=0,_d.forEach(I=>{this.players.push(I),I.onDone(()=>{I.destroy();let A=this.players.indexOf(I);this.players.splice(A,1)}),I.play()}),_d}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,r,i,s){let o=[];if(n){let a=this.playersByQueriedElement.get(e);a&&(o=a)}else{let a=this.playersByElement.get(e);if(a){let l=!s||s==Ma;a.forEach(c=>{c.queued||!l&&c.triggerName!=i||o.push(c)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,n,r){let i=n.triggerName,s=n.element,o=n.isRemovalTransition?void 0:e,a=n.isRemovalTransition?void 0:i;for(let l of n.timelines){let c=l.element,u=c!==s,d=bt(r,c,[]);this._getPreviousPlayers(c,u,o,a,n.toState).forEach(f=>{let p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}yi(s,n.fromStyles)}_buildAnimation(e,n,r,i,s,o){let a=n.triggerName,l=n.element,c=[],u=new Set,d=new Set,h=n.timelines.map(p=>{let m=p.element;u.add(m);let w=m[qt];if(w&&w.removedBeforeQueried)return new gr(p.duration,p.delay);let D=m!==l,G=nB((r.get(m)||QU).map(me=>me.getRealPlayer())).filter(me=>{let Ie=me;return Ie.element?Ie.element===m:!1}),F=s.get(m),ie=o.get(m),Ue=yS(this._normalizer,p.keyframes,F,ie),fe=this._buildPlayer(p,Ue,G);if(p.subTimeline&&i&&d.add(m),D){let me=new ka(e,a,m);me.setRealPlayer(fe),c.push(me)}return fe});c.forEach(p=>{bt(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>JU(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>Rt(p,oS));let f=wr(h);return f.onDestroy(()=>{u.forEach(p=>Bs(p,oS)),bn(l,n.toStyles)}),d.forEach(p=>{bt(i,p,[]).push(f)}),f}_buildPlayer(e,n,r){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,r):new gr(e.duration,e.delay)}},ka=class{constructor(e,n,r){this.namespaceId=e,this.triggerName=n,this.element=r,this._player=new gr,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,r)=>{n.forEach(i=>Uy(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){bt(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let n=this._player;n.triggerCallback&&n.triggerCallback(e)}};function JU(t,e,n){let r=t.get(e);if(r){if(r.length){let i=r.indexOf(n);r.splice(i,1)}r.length==0&&t.delete(e)}return r}function XU(t){return t??null}function sd(t){return t&&t.nodeType===1}function eB(t){return t=="start"||t=="done"}function fS(t,e){let n=t.style.display;return t.style.display=e??"none",n}function pS(t,e,n,r,i){let s=[];n.forEach(l=>s.push(fS(l)));let o=[];r.forEach((l,c)=>{let u=new Map;l.forEach(d=>{let h=e.computeStyle(c,d,i);u.set(d,h),(!h||h.length==0)&&(c[qt]=ZU,o.push(c))}),t.set(c,u)});let a=0;return n.forEach(l=>fS(l,s[a++])),o}function gS(t,e){let n=new Map;if(t.forEach(a=>n.set(a,[])),e.length==0)return n;let r=1,i=new Set(e),s=new Map;function o(a){if(!a)return r;let l=s.get(a);if(l)return l;let c=a.parentNode;return n.has(c)?l=c:i.has(c)?l=r:l=o(c),s.set(a,l),l}return e.forEach(a=>{let l=o(a);l!==r&&n.get(l).push(a)}),n}function Rt(t,e){t.classList?.add(e)}function Bs(t,e){t.classList?.remove(e)}function tB(t,e,n){wr(n).onDone(()=>t.processLeaveNode(e))}function nB(t){let e=[];return AS(t,e),e}function AS(t,e){for(let n=0;n<t.length;n++){let r=t[n];r instanceof sa?AS(r.players,e):e.push(r)}}function rB(t,e){let n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){let s=n[i];if(!e.hasOwnProperty(s)||t[s]!==e[s])return!1}return!0}function mS(t,e,n){let r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(s=>i.add(s)):e.set(t,r),n.delete(t),!0}var Hs=class{constructor(e,n,r){this._driver=n,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new Ly(e.body,n,r),this._timelineEngine=new Py(e.body,n,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,n,r,i,s){let o=e+"-"+i,a=this._triggerCache[o];if(!a){let l=[],c=[],u=IS(this._driver,s,l,c);if(l.length)throw rU(i,l);c.length&&void 0,a=HU(i,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(n,i,a)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,r,i){this._transitionEngine.insertNode(e,n,r,i)}onRemove(e,n,r){this._transitionEngine.removeNode(e,n,r)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,r,i){if(r.charAt(0)=="@"){let[s,o]=iS(r),a=i;this._timelineEngine.command(s,n,o,a)}else this._transitionEngine.trigger(e,n,r,i)}listen(e,n,r,i,s){if(r.charAt(0)=="@"){let[o,a]=iS(r);return this._timelineEngine.listen(o,n,a,s)}return this._transitionEngine.listen(e,n,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function iB(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=Cy(e[0]),e.length>1&&(r=Cy(e[e.length-1]))):e instanceof Map&&(n=Cy(e)),n||r?new Vy(t,n,r):null}var $s=class $s{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=$s.initialStylesByElement.get(e);i||$s.initialStylesByElement.set(e,i=new Map),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&bn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(bn(this._element,this._initialStyles),this._endStyles&&(bn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&($s.initialStylesByElement.delete(this._element),this._startStyles&&(yi(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(yi(this._element,this._endStyles),this._endStyles=null),bn(this._element,this._initialStyles),this._state=3)}};$s.initialStylesByElement=new WeakMap;var Vy=$s;function Cy(t){let e=null;return t.forEach((n,r)=>{sB(r)&&(e=e||new Map,e.set(r,n))}),e}function sB(t){return t==="display"||t==="position"}var pd=class{constructor(e,n,r,i){this.element=e,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let n=()=>this._onFinish();this.domPlayer.addEventListener("finish",n),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let n=[];return e.forEach(r=>{n.push(Object.fromEntries(r))}),n}_triggerWebAnimation(e,n,r){return e.animate(this._convertKeyframesToObject(n),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&e.set(i,this._finished?r:Wy(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let n=e==="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},gd=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,n){return _S(e,n)}getParentElement(e){return $y(e)}query(e,n,r){return vS(e,n,r)}computeStyle(e,n,r){return Wy(e,n)}animate(e,n,r,i,s,o=[]){let a=i==0?"both":"forwards",l={duration:r,delay:i,fill:a};s&&(l.easing=s);let c=new Map,u=o.filter(f=>f instanceof pd);DU(r,i)&&u.forEach(f=>{f.currentSnapshot.forEach((p,m)=>c.set(m,p))});let d=EU(n).map(f=>new Map(f));d=SU(e,d,c);let h=iB(e,d);return new pd(e,d,l,h)}};var od="@",MS="@.disabled",md=class{constructor(e,n,r,i){this.namespaceId=e,this.delegate=n,this.engine=r,this._onDestroy=i,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,r,i=!0){this.delegate.insertBefore(e,n,r),this.engine.onInsert(this.namespaceId,n,e,i)}removeChild(e,n,r){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,r,i){this.delegate.setAttribute(e,n,r,i)}removeAttribute(e,n,r){this.delegate.removeAttribute(e,n,r)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,r,i){this.delegate.setStyle(e,n,r,i)}removeStyle(e,n,r){this.delegate.removeStyle(e,n,r)}setProperty(e,n,r){n.charAt(0)==od&&n==MS?this.disableAnimations(e,!!r):this.delegate.setProperty(e,n,r)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,r){return this.delegate.listen(e,n,r)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}},jy=class extends md{constructor(e,n,r,i,s){super(n,r,i,s),this.factory=e,this.namespaceId=n}setProperty(e,n,r){n.charAt(0)==od?n.charAt(1)=="."&&n==MS?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,n.slice(1),r):this.delegate.setProperty(e,n,r)}listen(e,n,r){if(n.charAt(0)==od){let i=oB(e),s=n.slice(1),o="";return s.charAt(0)!=od&&([s,o]=aB(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{let l=a._data||-1;this.factory.scheduleListenerCallback(l,r,a)})}return this.delegate.listen(e,n,r)}};function oB(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}function aB(t){let e=t.indexOf("."),n=t.substring(0,e),r=t.slice(e+1);return[n,r]}var yd=class{constructor(e,n,r){this.delegate=e,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,n.onRemovalComplete=(i,s)=>{let o=s?.parentNode(i);o&&s.removeChild(o,i)}}createRenderer(e,n){let r="",i=this.delegate.createRenderer(e,n);if(!e||!n?.data?.animation){let c=this._rendererCache,u=c.get(i);if(!u){let d=()=>c.delete(i);u=new md(r,i,this.engine,d),c.set(i,u)}return u}let s=n.id,o=n.id+"-"+this._currentId;this._currentId++,this.engine.register(o,e);let a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(s,o,e,c.name,c)};return n.data.animation.forEach(a),new jy(this,o,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,n,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>n(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(s=>{let[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),i.push([n,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var cB=(()=>{let e=class e extends Hs{constructor(r,i,s){super(r,i,s)}ngOnDestroy(){this.flush()}};e.\u0275fac=function(i){return new(i||e)(S(He),S(_i),S(vi))},e.\u0275prov=C({token:e,factory:e.\u0275fac});let t=e;return t})();function uB(){return new cd}function dB(t,e,n){return new yd(t,e,n)}var RS=[{provide:vi,useFactory:uB},{provide:Hs,useClass:cB},{provide:Yn,useFactory:dB,deps:[_c,Hs,pe]}],NS=[{provide:_i,useFactory:()=>new gd},{provide:gf,useValue:"BrowserAnimations"},...RS],hB=[{provide:_i,useClass:Hy},{provide:gf,useValue:"NoopAnimations"},...RS],xS=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:r.disableAnimations?hB:NS}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=yt({type:e}),e.\u0275inj=mt({providers:NS,imports:[Qb]});let t=e;return t})();var kS={providers:[xE(nS),nf([xS,dI.forRoot({config:{tokenGetter:()=>localStorage.getItem("jwt"),allowedDomains:[],disallowedRoutes:[]}})])]};var OS=(()=>{let e=class e{constructor(){this.title="cardo"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ke({type:e,selectors:[["app-root"]],standalone:!0,features:[Oe],decls:1,vars:0,template:function(i,s){i&1&&x(0,"router-outlet")},dependencies:[cn,Pp]});let t=e;return t})();Kb(OS,kS).catch(t=>console.error(t));

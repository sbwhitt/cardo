var QS=Object.defineProperty,ZS=Object.defineProperties;var JS=Object.getOwnPropertyDescriptors;var La=Object.getOwnPropertySymbols,XS=Object.getPrototypeOf,c_=Object.prototype.hasOwnProperty,u_=Object.prototype.propertyIsEnumerable,eT=Reflect.get;var l_=(t,e,n)=>e in t?QS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,b=(t,e)=>{for(var n in e||={})c_.call(e,n)&&l_(t,n,e[n]);if(La)for(var n of La(e))u_.call(e,n)&&l_(t,n,e[n]);return t},X=(t,e)=>ZS(t,JS(e));var Ad=(t,e)=>{var n={};for(var r in t)c_.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&La)for(var r of La(t))e.indexOf(r)<0&&u_.call(t,r)&&(n[r]=t[r]);return n};var Sr=(t,e,n)=>eT(XS(t),n,e);var g=(t,e,n)=>new Promise((r,i)=>{var s=l=>{try{a(n.next(l))}catch(c){i(c)}},o=l=>{try{a(n.throw(l))}catch(c){i(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(s,o);a((n=n.apply(t,e)).next())});var d_=null;var Md=1,h_=Symbol("SIGNAL");function ne(t){let e=d_;return d_=t,e}var f_={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function tT(t){if(!(xd(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Md)){if(!t.producerMustRecompute(t)&&!Nd(t)){t.dirty=!1,t.lastCleanEpoch=Md;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Md}}function p_(t){return t&&(t.nextProducerIndex=0),ne(t)}function g_(t,e){if(ne(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(xd(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Rd(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Nd(t){kd(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(tT(n),r!==n.version))return!0}return!1}function m_(t){if(kd(t),xd(t))for(let e=0;e<t.producerNode.length;e++)Rd(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Rd(t,e){if(nT(t),t.liveConsumerNode.length===1&&rT(t))for(let r=0;r<t.producerNode.length;r++)Rd(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];kd(i),i.producerIndexOfThis[r]=e}}function xd(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function kd(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function nT(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function rT(t){return t.producerNode!==void 0}function iT(){throw new Error}var sT=iT;function y_(t){sT=t}function L(t){return typeof t=="function"}function Ii(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Va=Ii(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function qs(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Se=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(L(r))try{r()}catch(s){e=s instanceof Va?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{__(s)}catch(o){e=e??[],o instanceof Va?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Va(e)}}add(e){var n;if(e&&e!==this)if(this.closed)__(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&qs(n,e)}remove(e){let{_finalizers:n}=this;n&&qs(n,e),e instanceof t&&e._removeParent(this)}};Se.EMPTY=(()=>{let t=new Se;return t.closed=!0,t})();var Od=Se.EMPTY;function ja(t){return t instanceof Se||t&&"closed"in t&&L(t.remove)&&L(t.add)&&L(t.unsubscribe)}function __(t){L(t)?t():t.unsubscribe()}var Ot={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Di={setTimeout(t,e,...n){let{delegate:r}=Di;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Di;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Ua(t){Di.setTimeout(()=>{let{onUnhandledError:e}=Ot;if(e)e(t);else throw t})}function Ks(){}var v_=Pd("C",void 0,void 0);function w_(t){return Pd("E",void 0,t)}function b_(t){return Pd("N",t,void 0)}function Pd(t,e,n){return{kind:t,value:e,error:n}}var Tr=null;function Si(t){if(Ot.useDeprecatedSynchronousErrorHandling){let e=!Tr;if(e&&(Tr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Tr;if(Tr=null,n)throw r}}else t()}function E_(t){Ot.useDeprecatedSynchronousErrorHandling&&Tr&&(Tr.errorThrown=!0,Tr.error=t)}var Ar=class extends Se{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,ja(e)&&e.add(this)):this.destination=lT}static create(e,n,r){return new Ti(e,n,r)}next(e){this.isStopped?Ld(b_(e),this):this._next(e)}error(e){this.isStopped?Ld(w_(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Ld(v_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},oT=Function.prototype.bind;function Fd(t,e){return oT.call(t,e)}var Vd=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Ba(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Ba(r)}else Ba(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Ba(n)}}},Ti=class extends Ar{constructor(e,n,r){super();let i;if(L(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Ot.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Fd(e.next,s),error:e.error&&Fd(e.error,s),complete:e.complete&&Fd(e.complete,s)}):i=e}this.destination=new Vd(i)}};function Ba(t){Ot.useDeprecatedSynchronousErrorHandling?E_(t):Ua(t)}function aT(t){throw t}function Ld(t,e){let{onStoppedNotification:n}=Ot;n&&Di.setTimeout(()=>n(t,e))}var lT={closed:!0,next:Ks,error:aT,complete:Ks};var Ai=typeof Symbol=="function"&&Symbol.observable||"@@observable";function dt(t){return t}function jd(...t){return Ud(t)}function Ud(t){return t.length===0?dt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var oe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=uT(n)?n:new Ti(n,r,i);return Si(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=C_(r),new r((i,s)=>{let o=new Ti({next:a=>{try{n(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Ai](){return this}pipe(...n){return Ud(n)(this)}toPromise(n){return n=C_(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function C_(t){var e;return(e=t??Ot.Promise)!==null&&e!==void 0?e:Promise}function cT(t){return t&&L(t.next)&&L(t.error)&&L(t.complete)}function uT(t){return t&&t instanceof Ar||cT(t)&&ja(t)}function Bd(t){return L(t?.lift)}function ee(t){return e=>{if(Bd(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Z(t,e,n,r,i){return new $d(t,e,n,r,i)}var $d=class extends Ar{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Mi(){return ee((t,e)=>{let n=null;t._refCount++;let r=Z(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Ni=class extends oe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Bd(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Se;let n=this.getSubject();e.add(this.source.subscribe(Z(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Se.EMPTY)}return e}refCount(){return Mi()(this)}};var I_=Ii(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ve=(()=>{class t extends oe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new $a(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new I_}next(n){Si(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Si(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Si(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?Od:(this.currentObservers=null,s.push(n),new Se(()=>{this.currentObservers=null,qs(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new oe;return n.source=this,n}}return t.create=(e,n)=>new $a(e,n),t})(),$a=class extends ve{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Od}};var Fe=class extends ve{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var ht=new oe(t=>t.complete());function D_(t){return t&&L(t.schedule)}function S_(t){return t[t.length-1]}function Ha(t){return L(S_(t))?t.pop():void 0}function Bn(t){return D_(S_(t))?t.pop():void 0}function Hd(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function A_(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}function T_(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Mr(t){return this instanceof Mr?(this.v=t,this):new Mr(t)}function M_(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(f){return function(p){return Promise.resolve(p).then(f,d)}}function a(f,p){r[f]&&(i[f]=function(m){return new Promise(function(w,D){s.push([f,m,w,D])>1||l(f,m)})},p&&(i[f]=p(i[f])))}function l(f,p){try{c(r[f](p))}catch(m){h(s[0][3],m)}}function c(f){f.value instanceof Mr?Promise.resolve(f.value.v).then(u,d):h(s[0][2],f)}function u(f){l("next",f)}function d(f){l("throw",f)}function h(f,p){f(p),s.shift(),s.length&&l(s[0][0],s[0][1])}}function N_(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof T_=="function"?T_(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,l){o=t[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}}var za=t=>t&&typeof t.length=="number"&&typeof t!="function";function Wa(t){return L(t?.then)}function Ga(t){return L(t[Ai])}function qa(t){return Symbol.asyncIterator&&L(t?.[Symbol.asyncIterator])}function Ka(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function dT(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ya=dT();function Qa(t){return L(t?.[Ya])}function Za(t){return M_(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Mr(n.read());if(i)return yield Mr(void 0);yield yield Mr(r)}}finally{n.releaseLock()}})}function Ja(t){return L(t?.getReader)}function Te(t){if(t instanceof oe)return t;if(t!=null){if(Ga(t))return hT(t);if(za(t))return fT(t);if(Wa(t))return pT(t);if(qa(t))return R_(t);if(Qa(t))return gT(t);if(Ja(t))return mT(t)}throw Ka(t)}function hT(t){return new oe(e=>{let n=t[Ai]();if(L(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function fT(t){return new oe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function pT(t){return new oe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Ua)})}function gT(t){return new oe(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function R_(t){return new oe(e=>{yT(t,e).catch(n=>e.error(n))})}function mT(t){return R_(Za(t))}function yT(t,e){var n,r,i,s;return A_(this,void 0,void 0,function*(){try{for(n=N_(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function nt(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Xa(t,e=0){return ee((n,r)=>{n.subscribe(Z(r,i=>nt(r,t,()=>r.next(i),e),()=>nt(r,t,()=>r.complete(),e),i=>nt(r,t,()=>r.error(i),e)))})}function el(t,e=0){return ee((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function x_(t,e){return Te(t).pipe(el(e),Xa(e))}function k_(t,e){return Te(t).pipe(el(e),Xa(e))}function O_(t,e){return new oe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function P_(t,e){return new oe(n=>{let r;return nt(n,e,()=>{r=t[Ya](),nt(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>L(r?.return)&&r.return()})}function tl(t,e){if(!t)throw new Error("Iterable cannot be null");return new oe(n=>{nt(n,e,()=>{let r=t[Symbol.asyncIterator]();nt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function F_(t,e){return tl(Za(t),e)}function L_(t,e){if(t!=null){if(Ga(t))return x_(t,e);if(za(t))return O_(t,e);if(Wa(t))return k_(t,e);if(qa(t))return tl(t,e);if(Qa(t))return P_(t,e);if(Ja(t))return F_(t,e)}throw Ka(t)}function Ce(t,e){return e?L_(t,e):Te(t)}function O(...t){let e=Bn(t);return Ce(t,e)}function Ri(t,e){let n=L(t)?t:()=>t,r=i=>i.error(n());return new oe(e?i=>e.schedule(r,0,i):r)}function zd(t){return!!t&&(t instanceof oe||L(t.lift)&&L(t.subscribe))}var In=Ii(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function $(t,e){return ee((n,r)=>{let i=0;n.subscribe(Z(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:_T}=Array;function vT(t,e){return _T(e)?t(...e):t(e)}function nl(t){return $(e=>vT(t,e))}var{isArray:wT}=Array,{getPrototypeOf:bT,prototype:ET,keys:CT}=Object;function rl(t){if(t.length===1){let e=t[0];if(wT(e))return{args:e,keys:null};if(IT(e)){let n=CT(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function IT(t){return t&&typeof t=="object"&&bT(t)===ET}function il(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function sl(...t){let e=Bn(t),n=Ha(t),{args:r,keys:i}=rl(t);if(r.length===0)return Ce([],e);let s=new oe(DT(r,e,i?o=>il(i,o):dt));return n?s.pipe(nl(n)):s}function DT(t,e,n=dt){return r=>{V_(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let l=0;l<i;l++)V_(e,()=>{let c=Ce(t[l],e),u=!1;c.subscribe(Z(r,d=>{s[l]=d,u||(u=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function V_(t,e,n){t?nt(n,t,e):e()}function j_(t,e,n,r,i,s,o,a){let l=[],c=0,u=0,d=!1,h=()=>{d&&!l.length&&!c&&e.complete()},f=m=>c<r?p(m):l.push(m),p=m=>{s&&e.next(m),c++;let w=!1;Te(n(m,u++)).subscribe(Z(e,D=>{i?.(D),s?f(D):e.next(D)},()=>{w=!0},void 0,()=>{if(w)try{for(c--;l.length&&c<r;){let D=l.shift();o?nt(e,o,()=>p(D)):p(D)}h()}catch(D){e.error(D)}}))};return t.subscribe(Z(e,f,()=>{d=!0,h()})),()=>{a?.()}}function we(t,e,n=1/0){return L(e)?we((r,i)=>$((s,o)=>e(r,s,i,o))(Te(t(r,i))),n):(typeof e=="number"&&(n=e),ee((r,i)=>j_(r,i,t,n)))}function Wd(t=1/0){return we(dt,t)}function U_(){return Wd(1)}function xi(...t){return U_()(Ce(t,Bn(t)))}function ki(t){return new oe(e=>{Te(t()).subscribe(e)})}function Gd(...t){let e=Ha(t),{args:n,keys:r}=rl(t),i=new oe(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),l=o,c=o;for(let u=0;u<o;u++){let d=!1;Te(n[u]).subscribe(Z(s,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||s.next(r?il(r,a):a),s.complete())}))}});return e?i.pipe(nl(e)):i}function Pt(t,e){return ee((n,r)=>{let i=0;n.subscribe(Z(r,s=>t.call(e,s,i++)&&r.next(s)))})}function $n(t){return ee((e,n)=>{let r=null,i=!1,s;r=e.subscribe(Z(n,void 0,void 0,o=>{s=Te(t(o,$n(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function B_(t,e,n,r,i){return(s,o)=>{let a=n,l=e,c=0;s.subscribe(Z(o,u=>{let d=c++;l=a?t(l,u,d):(a=!0,u),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}function Oi(t,e){return L(e)?we(t,e,1):we(t,1)}function Hn(t){return ee((e,n)=>{let r=!1;e.subscribe(Z(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Dn(t){return t<=0?()=>ht:ee((e,n)=>{let r=0;e.subscribe(Z(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function qd(t){return $(()=>t)}function ol(t=ST){return ee((e,n)=>{let r=!1;e.subscribe(Z(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function ST(){return new In}function Ys(t){return ee((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Jt(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Pt((i,s)=>t(i,s,r)):dt,Dn(1),n?Hn(e):ol(()=>new In))}function Pi(t){return t<=0?()=>ht:ee((e,n)=>{let r=[];e.subscribe(Z(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Kd(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Pt((i,s)=>t(i,s,r)):dt,Pi(1),n?Hn(e):ol(()=>new In))}function Yd(t,e){return ee(B_(t,e,arguments.length>=2,!0))}function Qd(...t){let e=Bn(t);return ee((n,r)=>{(e?xi(t,n,e):xi(t,n)).subscribe(r)})}function Ft(t,e){return ee((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(Z(r,l=>{i?.unsubscribe();let c=0,u=s++;Te(t(l,u)).subscribe(i=Z(r,d=>r.next(e?e(l,d,u,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Zd(t){return ee((e,n)=>{Te(t).subscribe(Z(n,()=>n.complete(),Ks)),!n.closed&&e.subscribe(n)})}function Le(t,e,n){let r=L(t)||e||n?{next:t,error:e,complete:n}:t;return r?ee((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(Z(s,l=>{var c;(c=r.next)===null||c===void 0||c.call(r,l),s.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),s.complete()},l=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,l),s.error(l)},()=>{var l,c;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):dt}var Tv="https://g.co/ng/security#xss",y=class extends Error{constructor(e,n){super(Ul(e,n)),this.code=e}};function Ul(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function ao(t){return{toString:t}.toString()}var al="__parameters__";function TT(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function Av(t,e,n){return ao(()=>{let r=TT(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(l,c,u){let d=l.hasOwnProperty(al)?l[al]:Object.defineProperty(l,al,{value:[]})[al];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Et=globalThis;function he(t){for(let e in t)if(t[e]===he)return e;throw Error("Could not find renamed property on target object.")}function AT(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function qe(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(qe).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function fh(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var MT=he({__forward_ref__:he});function Tn(t){return t.__forward_ref__=Tn,t.toString=function(){return qe(this())},t}function Ge(t){return Mv(t)?t():t}function Mv(t){return typeof t=="function"&&t.hasOwnProperty(MT)&&t.__forward_ref__===Tn}function C(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function gt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Bl(t){return $_(t,Rv)||$_(t,xv)}function Nv(t){return Bl(t)!==null}function $_(t,e){return t.hasOwnProperty(e)?t[e]:null}function NT(t){let e=t&&(t[Rv]||t[xv]);return e||null}function H_(t){return t&&(t.hasOwnProperty(z_)||t.hasOwnProperty(RT))?t[z_]:null}var Rv=he({\u0275prov:he}),z_=he({\u0275inj:he}),xv=he({ngInjectableDef:he}),RT=he({ngInjectorDef:he}),N=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=C({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function kv(t){return t&&!!t.\u0275providers}var xT=he({\u0275cmp:he}),kT=he({\u0275dir:he}),OT=he({\u0275pipe:he}),PT=he({\u0275mod:he}),ml=he({\u0275fac:he}),Qs=he({__NG_ELEMENT_ID__:he}),W_=he({__NG_ENV_ID__:he});function $l(t){return typeof t=="string"?t:t==null?"":String(t)}function FT(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():$l(t)}function LT(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new y(-200,t)}function sf(t,e){throw new y(-201,!1)}var H=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(H||{}),ph;function Ov(){return ph}function rt(t){let e=ph;return ph=t,e}function Pv(t,e,n){let r=Bl(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&H.Optional)return null;if(e!==void 0)return e;sf(t,"Injector")}var VT={},Zs=VT,gh="__NG_DI_FLAG__",yl="ngTempTokenPath",jT="ngTokenPath",UT=/\n/gm,BT="\u0275",G_="__source",ji;function $T(){return ji}function zn(t){let e=ji;return ji=t,e}function HT(t,e=H.Default){if(ji===void 0)throw new y(-203,!1);return ji===null?Pv(t,void 0,e):ji.get(t,e&H.Optional?null:void 0,e)}function T(t,e=H.Default){return(Ov()||HT)(Ge(t),e)}function E(t,e=H.Default){return T(t,Hl(e))}function Hl(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function mh(t){let e=[];for(let n=0;n<t.length;n++){let r=Ge(t[n]);if(Array.isArray(r)){if(r.length===0)throw new y(900,!1);let i,s=H.Default;for(let o=0;o<r.length;o++){let a=r[o],l=zT(a);typeof l=="number"?l===-1?i=a.token:s|=l:i=a}e.push(T(i,s))}else e.push(T(r))}return e}function Fv(t,e){return t[gh]=e,t.prototype[gh]=e,t}function zT(t){return t[gh]}function WT(t,e,n,r){let i=t[yl];throw e[G_]&&i.unshift(e[G_]),t.message=GT(`
`+t.message,i,n,r),t[jT]=i,t[yl]=null,t}function GT(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==BT?t.slice(2):t;let i=qe(e);if(Array.isArray(e))i=e.map(qe).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):qe(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(UT,`
  `)}`}var zl=Fv(Av("Optional"),8);var of=Fv(Av("SkipSelf"),4);function xr(t,e){let n=t.hasOwnProperty(ml);return n?t[ml]:null}function af(t,e){t.forEach(n=>Array.isArray(n)?af(n,e):e(n))}function Lv(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function _l(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function qT(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function Wl(t,e,n){let r=lo(t,e);return r>=0?t[r|1]=n:(r=~r,qT(t,r,e,n)),r}function Jd(t,e){let n=lo(t,e);if(n>=0)return t[n|1]}function lo(t,e){return KT(t,e,1)}function KT(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var Bi={},it=[],$i=new N(""),Vv=new N("",-1),jv=new N(""),vl=class{get(e,n=Zs){if(n===Zs){let r=new Error(`NullInjectorError: No provider for ${qe(e)}!`);throw r.name="NullInjectorError",r}return n}},Uv=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Uv||{}),tn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(tn||{}),Hi=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Hi||{});function YT(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function yh(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];QT(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function Bv(t){return t===3||t===4||t===6}function QT(t){return t.charCodeAt(0)===64}function Js(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?q_(t,n,i,null,e[++r]):q_(t,n,i,null,null))}}return t}function q_(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var $v="ng-template";function ZT(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&YT(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(lf(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function lf(t){return t.type===4&&t.value!==$v}function JT(t,e,n){let r=t.type===4&&!n?$v:t.value;return e===r}function XT(t,e,n){let r=4,i=t.attrs,s=i!==null?nA(i):0,o=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!o&&!Lt(r)&&!Lt(l))return!1;if(o&&Lt(l))continue;o=!1,r=l|r&1;continue}if(!o)if(r&4){if(r=2|r&1,l!==""&&!JT(t,l,n)||l===""&&e.length===1){if(Lt(r))return!1;o=!0}}else if(r&8){if(i===null||!ZT(t,i,l,n)){if(Lt(r))return!1;o=!0}}else{let c=e[++a],u=eA(l,i,lf(t),n);if(u===-1){if(Lt(r))return!1;o=!0;continue}if(c!==""){let d;if(u>s?d="":d=i[u+1].toLowerCase(),r&2&&c!==d){if(Lt(r))return!1;o=!0}}}}return Lt(r)||o}function Lt(t){return(t&1)===0}function eA(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return rA(e,t)}function tA(t,e,n=!1){for(let r=0;r<e.length;r++)if(XT(t,e[r],n))return!0;return!1}function nA(t){for(let e=0;e<t.length;e++){let n=t[e];if(Bv(n))return e}return t.length}function rA(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function K_(t,e){return t?":not("+e.trim()+")":e}function iA(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Lt(o)&&(e+=K_(s,i),i=""),r=o,s=s||!Lt(r);n++}return i!==""&&(e+=K_(s,i)),e}function sA(t){return t.map(iA).join(",")}function oA(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!Lt(i))break;i=s}r++}return{attrs:e,classes:n}}function ke(t){return ao(()=>{let e=qv(t),n=X(b({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Uv.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||tn.Emulated,styles:t.styles||it,_:null,schemas:t.schemas||null,tView:null,id:""});Kv(n);let r=t.dependencies;return n.directiveDefs=Q_(r,!1),n.pipeDefs=Q_(r,!0),n.id=cA(n),n})}function aA(t){return kr(t)||Hv(t)}function lA(t){return t!==null}function mt(t){return ao(()=>({type:t.type,bootstrap:t.bootstrap||it,declarations:t.declarations||it,imports:t.imports||it,exports:t.exports||it,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Y_(t,e){if(t==null)return Bi;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=Hi.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==Hi.None?[r,a]:r,e[s]=o):n[s]=r}return n}function Ie(t){return ao(()=>{let e=qv(t);return Kv(e),e})}function cf(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function kr(t){return t[xT]||null}function Hv(t){return t[kT]||null}function zv(t){return t[OT]||null}function Wv(t){let e=kr(t)||Hv(t)||zv(t);return e!==null?e.standalone:!1}function Gv(t,e){let n=t[PT]||null;if(!n&&e===!0)throw new Error(`Type ${qe(t)} does not have '\u0275mod' property.`);return n}function qv(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Bi,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||it,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Y_(t.inputs,e),outputs:Y_(t.outputs),debugInfo:null}}function Kv(t){t.features?.forEach(e=>e(t))}function Q_(t,e){if(!t)return null;let n=e?zv:aA;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(lA)}function cA(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Gl(t){return{\u0275providers:t}}function uf(...t){return{\u0275providers:Yv(!0,t),\u0275fromNgModule:!0}}function Yv(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return af(e,o=>{let a=o;_h(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Qv(i,s),n}function Qv(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];df(i,s=>{e(s,r)})}}function _h(t,e,n,r){if(t=Ge(t),!t)return!1;let i=null,s=H_(t),o=!s&&kr(t);if(!s&&!o){let l=t.ngModule;if(s=H_(l),s)i=l;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let l=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let c of l)_h(c,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let c;try{af(s.imports,u=>{_h(u,e,n,r)&&(c||=[],c.push(u))})}finally{}c!==void 0&&Qv(c,e)}if(!a){let c=xr(i)||(()=>new i);e({provide:i,useFactory:c,deps:it},i),e({provide:jv,useValue:i,multi:!0},i),e({provide:$i,useValue:()=>T(i),multi:!0},i)}let l=s.providers;if(l!=null&&!a){let c=t;df(l,u=>{e(u,c)})}}else return!1;return i!==t&&t.providers!==void 0}function df(t,e){for(let n of t)kv(n)&&(n=n.\u0275providers),Array.isArray(n)?df(n,e):e(n)}var uA=he({provide:String,useValue:he});function Zv(t){return t!==null&&typeof t=="object"&&uA in t}function dA(t){return!!(t&&t.useExisting)}function hA(t){return!!(t&&t.useFactory)}function zi(t){return typeof t=="function"}function fA(t){return!!t.useClass}var ql=new N(""),dl={},pA={},Xd;function hf(){return Xd===void 0&&(Xd=new vl),Xd}var Ct=class{},Xs=class extends Ct{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,wh(e,o=>this.processProvider(o)),this.records.set(Vv,Fi(void 0,this)),i.has("environment")&&this.records.set(Ct,Fi(void 0,this));let s=this.records.get(ql);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(jv,it,H.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=ne(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ne(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=zn(this),r=rt(void 0),i;try{return e()}finally{zn(n),rt(r)}}get(e,n=Zs,r=H.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(W_))return e[W_](this);r=Hl(r);let i,s=zn(this),o=rt(void 0);try{if(!(r&H.SkipSelf)){let l=this.records.get(e);if(l===void 0){let c=vA(e)&&Bl(e);c&&this.injectableDefInScope(c)?l=Fi(vh(e),dl):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let a=r&H.Self?hf():this.parent;return n=r&H.Optional&&n===Zs?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[yl]=a[yl]||[]).unshift(qe(e)),s)throw a;return WT(a,e,"R3InjectorError",this.source)}else throw a}finally{rt(o),zn(s)}}resolveInjectorInitializers(){let e=ne(null),n=zn(this),r=rt(void 0),i;try{let s=this.get($i,it,H.Self);for(let o of s)o()}finally{zn(n),rt(r),ne(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(qe(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new y(205,!1)}processProvider(e){e=Ge(e);let n=zi(e)?e:Ge(e&&e.provide),r=mA(e);if(!zi(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Fi(void 0,dl,!0),i.factory=()=>mh(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=ne(null);try{return n.value===dl&&(n.value=pA,n.value=n.factory()),typeof n.value=="object"&&n.value&&_A(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ne(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Ge(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function vh(t){let e=Bl(t),n=e!==null?e.factory:xr(t);if(n!==null)return n;if(t instanceof N)throw new y(204,!1);if(t instanceof Function)return gA(t);throw new y(204,!1)}function gA(t){if(t.length>0)throw new y(204,!1);let n=NT(t);return n!==null?()=>n.factory(t):()=>new t}function mA(t){if(Zv(t))return Fi(void 0,t.useValue);{let e=Jv(t);return Fi(e,dl)}}function Jv(t,e,n){let r;if(zi(t)){let i=Ge(t);return xr(i)||vh(i)}else if(Zv(t))r=()=>Ge(t.useValue);else if(hA(t))r=()=>t.useFactory(...mh(t.deps||[]));else if(dA(t))r=()=>T(Ge(t.useExisting));else{let i=Ge(t&&(t.useClass||t.provide));if(yA(t))r=()=>new i(...mh(t.deps));else return xr(i)||vh(i)}return r}function Fi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function yA(t){return!!t.deps}function _A(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function vA(t){return typeof t=="function"||typeof t=="object"&&t instanceof N}function wh(t,e){for(let n of t)Array.isArray(n)?wh(n,e):n&&kv(n)?wh(n.\u0275providers,e):e(n)}function an(t,e){t instanceof Xs&&t.assertNotDestroyed();let n,r=zn(t),i=rt(void 0);try{return e()}finally{zn(r),rt(i)}}function wA(){return Ov()!==void 0||$T()!=null}function bA(t){return typeof t=="function"}var An=0,q=1,P=2,Ke=3,Vt=4,jt=5,wl=6,bl=7,It=8,Wi=9,nn=10,Ne=11,eo=12,Z_=13,Xi=14,rn=15,Gi=16,Li=17,qi=18,Kl=19,Xv=20,Wn=21,eh=22,Or=23,pt=25,ew=1;var Pr=7,El=8,Cl=9,ft=10,Il=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Il||{});function Gn(t){return Array.isArray(t)&&typeof t[ew]=="object"}function Mn(t){return Array.isArray(t)&&t[ew]===!0}function ff(t){return(t.flags&4)!==0}function Yl(t){return t.componentOffset>-1}function Ql(t){return(t.flags&1)===1}function qn(t){return!!t.template}function bh(t){return(t[P]&512)!==0}var Eh=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function tw(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Jn(){return nw}function nw(t){return t.type.prototype.ngOnChanges&&(t.setInput=CA),EA}Jn.ngInherit=!0;function EA(){let t=iw(this),e=t?.current;if(e){let n=t.previous;if(n===Bi)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function CA(t,e,n,r,i){let s=this.declaredInputs[r],o=iw(t)||IA(t,{previous:Bi,current:null}),a=o.current||(o.current={}),l=o.previous,c=l[s];a[s]=new Eh(c&&c.currentValue,n,l===Bi),tw(t,e,i,n)}var rw="__ngSimpleChanges__";function iw(t){return t[rw]||null}function IA(t,e){return t[rw]=e}var J_=null;var Xt=function(t,e,n){J_?.(t,e,n)},sw="svg",DA="math";function sn(t){for(;Array.isArray(t);)t=t[An];return t}function ow(t,e){return sn(e[t])}function Dt(t,e){return sn(e[t.index])}function pf(t,e){return t.data[e]}function SA(t,e){return t[e]}function Xn(t,e){let n=e[t];return Gn(n)?n:n[An]}function gf(t){return(t[P]&128)===128}function TA(t){return Mn(t[Ke])}function Ki(t,e){return e==null?null:t[e]}function aw(t){t[Li]=0}function AA(t){t[P]&1024||(t[P]|=1024,gf(t)&&Zl(t))}function MA(t,e){for(;t>0;)e=e[Xi],t--;return e}function to(t){return!!(t[P]&9216||t[Or]?.dirty)}function Ch(t){t[nn].changeDetectionScheduler?.notify(7),t[P]&64&&(t[P]|=1024),to(t)&&Zl(t)}function Zl(t){t[nn].changeDetectionScheduler?.notify(0);let e=no(t);for(;e!==null&&!(e[P]&8192||(e[P]|=8192,!gf(e)));)e=no(e)}function lw(t,e){if((t[P]&256)===256)throw new y(911,!1);t[Wn]===null&&(t[Wn]=[]),t[Wn].push(e)}function NA(t,e){if(t[Wn]===null)return;let n=t[Wn].indexOf(e);n!==-1&&t[Wn].splice(n,1)}function no(t){let e=t[Ke];return Mn(e)?e[Ke]:e}var z={lFrame:vw(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var cw=!1;function RA(){return z.lFrame.elementDepthCount}function xA(){z.lFrame.elementDepthCount++}function kA(){z.lFrame.elementDepthCount--}function uw(){return z.bindingsEnabled}function OA(){return z.skipHydrationRootTNode!==null}function PA(t){return z.skipHydrationRootTNode===t}function FA(){z.skipHydrationRootTNode=null}function ce(){return z.lFrame.lView}function Ye(){return z.lFrame.tView}function Qe(t){return z.lFrame.contextLView=t,t[It]}function Ze(t){return z.lFrame.contextLView=null,t}function Je(){let t=dw();for(;t!==null&&t.type===64;)t=t.parent;return t}function dw(){return z.lFrame.currentTNode}function LA(){let t=z.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Ur(t,e){let n=z.lFrame;n.currentTNode=t,n.isParent=e}function mf(){return z.lFrame.isParent}function hw(){z.lFrame.isParent=!1}function fw(){return cw}function X_(t){cw=t}function pw(){let t=z.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function VA(t){return z.lFrame.bindingIndex=t}function Jl(){return z.lFrame.bindingIndex++}function gw(t){let e=z.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function jA(){return z.lFrame.inI18n}function UA(t,e){let n=z.lFrame;n.bindingIndex=n.bindingRootIndex=t,Ih(e)}function BA(){return z.lFrame.currentDirectiveIndex}function Ih(t){z.lFrame.currentDirectiveIndex=t}function $A(t){let e=z.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function mw(t){z.lFrame.currentQueryIndex=t}function HA(t){let e=t[q];return e.type===2?e.declTNode:e.type===1?t[jt]:null}function yw(t,e,n){if(n&H.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&H.Host);)if(i=HA(s),i===null||(s=s[Xi],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=z.lFrame=_w();return r.currentTNode=e,r.lView=t,!0}function yf(t){let e=_w(),n=t[q];z.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function _w(){let t=z.lFrame,e=t===null?null:t.child;return e===null?vw(t):e}function vw(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function ww(){let t=z.lFrame;return z.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var bw=ww;function _f(){let t=ww();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function zA(t){return(z.lFrame.contextLView=MA(t,z.lFrame.contextLView))[It]}function Br(){return z.lFrame.selectedIndex}function Fr(t){z.lFrame.selectedIndex=t}function Ew(){let t=z.lFrame;return pf(t.tView,t.selectedIndex)}function $e(){z.lFrame.currentNamespace=sw}function Nn(){WA()}function WA(){z.lFrame.currentNamespace=null}function GA(){return z.lFrame.currentNamespace}var Cw=!0;function Xl(){return Cw}function ec(t){Cw=t}function qA(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=nw(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function tc(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),l&&(t.viewHooks??=[]).push(-n,l),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function hl(t,e,n){Iw(t,e,3,n)}function fl(t,e,n,r){(t[P]&3)===n&&Iw(t,e,n,r)}function th(t,e){let n=t[P];(n&3)===e&&(n&=16383,n+=1,t[P]=n)}function Iw(t,e,n,r){let i=r!==void 0?t[Li]&65535:0,s=r??-1,o=e.length-1,a=0;for(let l=i;l<o;l++)if(typeof e[l+1]=="number"){if(a=e[l],r!=null&&a>=r)break}else e[l]<0&&(t[Li]+=65536),(a<s||s==-1)&&(KA(t,n,e,l),t[Li]=(t[Li]&4294901760)+l+2),l++}function ev(t,e){Xt(4,t,e);let n=ne(null);try{e.call(t)}finally{ne(n),Xt(5,t,e)}}function KA(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[P]>>14<t[Li]>>16&&(t[P]&3)===e&&(t[P]+=16384,ev(a,s)):ev(a,s)}var Ui=-1,Lr=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function YA(t){return t instanceof Lr}function QA(t){return(t.flags&8)!==0}function ZA(t){return(t.flags&16)!==0}function Dw(t){return t!==Ui}function Dl(t){return t&32767}function JA(t){return t>>16}function Sl(t,e){let n=JA(t),r=e;for(;n>0;)r=r[Xi],n--;return r}var Dh=!0;function Tl(t){let e=Dh;return Dh=t,e}var XA=256,Sw=XA-1,Tw=5,eM=0,en={};function tM(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Qs)&&(r=n[Qs]),r==null&&(r=n[Qs]=eM++);let i=r&Sw,s=1<<i;e.data[t+(i>>Tw)]|=s}function Al(t,e){let n=Aw(t,e);if(n!==-1)return n;let r=e[q];r.firstCreatePass&&(t.injectorIndex=e.length,nh(r.data,t),nh(e,null),nh(r.blueprint,null));let i=vf(t,e),s=t.injectorIndex;if(Dw(i)){let o=Dl(i),a=Sl(i,e),l=a[q].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=i,s}function nh(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Aw(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function vf(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=kw(i),r===null)return Ui;if(n++,i=i[Xi],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Ui}function Sh(t,e,n){tM(t,e,n)}function nM(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(Bv(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function Mw(t,e,n){if(n&H.Optional||t!==void 0)return t;sf(e,"NodeInjector")}function Nw(t,e,n,r){if(n&H.Optional&&r===void 0&&(r=null),!(n&(H.Self|H.Host))){let i=t[Wi],s=rt(void 0);try{return i?i.get(e,r,n&H.Optional):Pv(e,r,n&H.Optional)}finally{rt(s)}}return Mw(r,e,n)}function Rw(t,e,n,r=H.Default,i){if(t!==null){if(e[P]&2048&&!(r&H.Self)){let o=aM(t,e,n,r,en);if(o!==en)return o}let s=xw(t,e,n,r,en);if(s!==en)return s}return Nw(e,n,r,i)}function xw(t,e,n,r,i){let s=sM(n);if(typeof s=="function"){if(!yw(e,t,r))return r&H.Host?Mw(i,n,r):Nw(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&H.Optional))sf(n);else return o}finally{bw()}}else if(typeof s=="number"){let o=null,a=Aw(t,e),l=Ui,c=r&H.Host?e[rn][jt]:null;for((a===-1||r&H.SkipSelf)&&(l=a===-1?vf(t,e):e[a+8],l===Ui||!nv(r,!1)?a=-1:(o=e[q],a=Dl(l),e=Sl(l,e)));a!==-1;){let u=e[q];if(tv(s,a,u.data)){let d=rM(a,e,n,o,r,c);if(d!==en)return d}l=e[a+8],l!==Ui&&nv(r,e[q].data[a+8]===c)&&tv(s,a,e)?(o=u,a=Dl(l),e=Sl(l,e)):a=-1}}return i}function rM(t,e,n,r,i,s){let o=e[q],a=o.data[t+8],l=r==null?Yl(a)&&Dh:r!=o&&(a.type&3)!==0,c=i&H.Host&&s===a,u=iM(a,o,n,l,c);return u!==null?Yi(e,o,u,a):en}function iM(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,l=t.directiveStart,c=t.directiveEnd,u=s>>20,d=r?a:a+u,h=i?a+u:c;for(let f=d;f<h;f++){let p=o[f];if(f<l&&n===p||f>=l&&p.type===n)return f}if(i){let f=o[l];if(f&&qn(f)&&f.type===n)return l}return null}function Yi(t,e,n,r){let i=t[n],s=e.data;if(YA(i)){let o=i;o.resolving&&LT(FT(s[n]));let a=Tl(o.canSeeViewProviders);o.resolving=!0;let l,c=o.injectImpl?rt(o.injectImpl):null,u=yw(t,r,H.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&qA(n,s[n],e)}finally{c!==null&&rt(c),Tl(a),o.resolving=!1,bw()}}return i}function sM(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Qs)?t[Qs]:void 0;return typeof e=="number"?e>=0?e&Sw:oM:e}function tv(t,e,n){let r=1<<t;return!!(n[e+(t>>Tw)]&r)}function nv(t,e){return!(t&H.Self)&&!(t&H.Host&&e)}var Rr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Rw(this._tNode,this._lView,e,Hl(r),n)}};function oM(){return new Rr(Je(),ce())}function er(t){return ao(()=>{let e=t.prototype.constructor,n=e[ml]||Th(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[ml]||Th(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Th(t){return Mv(t)?()=>{let e=Th(Ge(t));return e&&e()}:xr(t)}function aM(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[P]&2048&&!(o[P]&512);){let a=xw(s,o,n,r|H.Self,en);if(a!==en)return a;let l=s.parent;if(!l){let c=o[Xv];if(c){let u=c.get(n,en,r);if(u!==en)return u}l=kw(o),o=o[Xi]}s=l}return i}function kw(t){let e=t[q],n=e.type;return n===2?e.declTNode:n===1?t[jt]:null}function wf(t){return nM(Je(),t)}function rv(t,e=null,n=null,r){let i=Ow(t,e,n,r);return i.resolveInjectorInitializers(),i}function Ow(t,e=null,n=null,r,i=new Set){let s=[n||it,uf(t)];return r=r||(typeof t=="object"?void 0:qe(t)),new Xs(s,e||hf(),r||null,i)}var Nr=class Nr{static create(e,n){if(Array.isArray(e))return rv({name:""},n,e,"");{let r=e.name??"";return rv({name:r},e.parent,e.providers,r)}}};Nr.THROW_IF_NOT_FOUND=Zs,Nr.NULL=new vl,Nr.\u0275prov=C({token:Nr,providedIn:"any",factory:()=>T(Vv)}),Nr.__NG_ELEMENT_ID__=-1;var Kn=Nr;var lM=new N("");lM.__NG_ELEMENT_ID__=t=>{let e=Je();if(e===null)throw new y(204,!1);if(e.type&2)return e.value;if(t&H.Optional)return null;throw new y(204,!1)};var cM="ngOriginalError";function rh(t){return t[cM]}var Sn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&rh(e);for(;n&&rh(n);)n=rh(n);return n||null}},Pw=new N("",{providedIn:"root",factory:()=>E(Sn).handleError.bind(void 0)}),Fw=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=uM,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Ah=class extends Fw{constructor(e){super(),this._lView=e}onDestroy(e){return lw(this._lView,e),()=>NA(this._lView,e)}};function uM(){return new Ah(ce())}function dM(){return nc(Je(),ce())}function nc(t,e){return new Ut(Dt(t,e))}var Ut=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=dM;let t=e;return t})();var Mh=class extends ve{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,wA()&&(this.destroyRef=E(Fw,{optional:!0})??void 0)}emit(e){let n=ne(null);try{super.next(e)}finally{ne(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=ih(s),i&&(i=ih(i)),o&&(o=ih(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof Se&&e.add(a),a}};function ih(t){return e=>{setTimeout(t,void 0,e)}}var le=Mh;function Lw(t){return(t.flags&128)===128}var Vw=new Map,hM=0;function fM(){return hM++}function pM(t){Vw.set(t[Kl],t)}function gM(t){Vw.delete(t[Kl])}var iv="__ngContext__";function Yn(t,e){Gn(e)?(t[iv]=e[Kl],pM(e)):t[iv]=e}function jw(t){return Bw(t[eo])}function Uw(t){return Bw(t[Vt])}function Bw(t){for(;t!==null&&!Mn(t);)t=t[Vt];return t}var Nh;function $w(t){Nh=t}function mM(){if(Nh!==void 0)return Nh;if(typeof document<"u")return document;throw new y(210,!1)}var rc=new N("",{providedIn:"root",factory:()=>yM}),yM="ng",bf=new N(""),$r=new N("",{providedIn:"platform",factory:()=>"unknown"});var Ef=new N(""),Cf=new N("",{providedIn:"root",factory:()=>mM().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var _M="h",vM="b";var wM=()=>null;function If(t,e,n=!1){return wM(t,e,n)}var Hw=!1,bM=new N("",{providedIn:"root",factory:()=>Hw});var ll;function EM(){if(ll===void 0&&(ll=null,Et.trustedTypes))try{ll=Et.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return ll}function sv(t){return EM()?.createScriptURL(t)||t}var Ml=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Tv})`}};function Hr(t){return t instanceof Ml?t.changingThisBreaksApplicationSecurity:t}function Df(t,e){let n=CM(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Tv})`)}return n===e}function CM(t){return t instanceof Ml&&t.getTypeName()||null}var IM=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function zw(t){return t=String(t),t.match(IM)?t:"unsafe:"+t}var ic=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(ic||{});function DM(t){let e=Gw();return e?e.sanitize(ic.URL,t)||"":Df(t,"URL")?Hr(t):zw($l(t))}function SM(t){let e=Gw();if(e)return sv(e.sanitize(ic.RESOURCE_URL,t)||"");if(Df(t,"ResourceURL"))return sv(Hr(t));throw new y(904,!1)}function TM(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?SM:DM}function Ww(t,e,n){return TM(e,n)(t)}function Gw(){let t=ce();return t&&t[nn].sanitizer}var AM=/^>|^->|<!--|-->|--!>|<!-$/g,MM=/(<|>)/g,NM="\u200B$1\u200B";function RM(t){return t.replace(AM,e=>e.replace(MM,NM))}function sc(t){return t.ownerDocument.defaultView}function qw(t){return t instanceof Function?t():t}var on=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(on||{}),xM;function Sf(t,e){return xM(t,e)}function Vi(t,e,n,r,i){if(r!=null){let s,o=!1;Mn(r)?s=r:Gn(r)&&(o=!0,r=r[An]);let a=sn(r);t===0&&n!==null?i==null?Zw(e,n,a):Rl(e,n,a,i||null,!0):t===1&&n!==null?Rl(e,n,a,i||null,!0):t===2?YM(e,a,o):t===3&&e.destroyNode(a),s!=null&&ZM(e,t,s,n,i)}}function kM(t,e){return t.createText(e)}function OM(t,e,n){t.setValue(e,n)}function PM(t,e){return t.createComment(RM(e))}function Kw(t,e,n){return t.createElement(e,n)}function FM(t,e){Yw(t,e),e[An]=null,e[jt]=null}function LM(t,e,n,r,i,s){r[An]=i,r[jt]=e,ac(t,r,n,1,i,s)}function Yw(t,e){e[nn].changeDetectionScheduler?.notify(8),ac(t,e,e[Ne],2,null,null)}function VM(t){let e=t[eo];if(!e)return sh(t[q],t);for(;e;){let n=null;if(Gn(e))n=e[eo];else{let r=e[ft];r&&(n=r)}if(!n){for(;e&&!e[Vt]&&e!==t;)Gn(e)&&sh(e[q],e),e=e[Ke];e===null&&(e=t),Gn(e)&&sh(e[q],e),n=e&&e[Vt]}e=n}}function jM(t,e,n,r){let i=ft+r,s=n.length;r>0&&(n[i-1][Vt]=e),r<s-ft?(e[Vt]=n[i],Lv(n,ft+r,e)):(n.push(e),e[Vt]=null),e[Ke]=n;let o=e[Gi];o!==null&&n!==o&&Qw(o,e);let a=e[qi];a!==null&&a.insertView(t),Ch(e),e[P]|=128}function Qw(t,e){let n=t[Cl],r=e[Ke];if(Gn(r))t[P]|=Il.HasTransplantedViews;else{let i=r[Ke][rn];e[rn]!==i&&(t[P]|=Il.HasTransplantedViews)}n===null?t[Cl]=[e]:n.push(e)}function Tf(t,e){let n=t[Cl],r=n.indexOf(e);n.splice(r,1)}function Nl(t,e){if(t.length<=ft)return;let n=ft+e,r=t[n];if(r){let i=r[Gi];i!==null&&i!==t&&Tf(i,r),e>0&&(t[n-1][Vt]=r[Vt]);let s=_l(t,ft+e);FM(r[q],r);let o=s[qi];o!==null&&o.detachView(s[q]),r[Ke]=null,r[Vt]=null,r[P]&=-129}return r}function Af(t,e){if(!(e[P]&256)){let n=e[Ne];n.destroyNode&&ac(t,e,n,3,null,null),VM(e)}}function sh(t,e){if(e[P]&256)return;let n=ne(null);try{e[P]&=-129,e[P]|=256,e[Or]&&m_(e[Or]),BM(t,e),UM(t,e),e[q].type===1&&e[Ne].destroy();let r=e[Gi];if(r!==null&&Mn(e[Ke])){r!==e[Ke]&&Tf(r,e);let i=e[qi];i!==null&&i.detachView(t)}gM(e)}finally{ne(n)}}function UM(t,e){let n=t.cleanup,r=e[bl];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[bl]=null);let i=e[Wn];if(i!==null){e[Wn]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function BM(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Lr)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],l=s[o+1];Xt(4,a,l);try{l.call(a)}finally{Xt(5,a,l)}}else{Xt(4,i,s);try{s.call(i)}finally{Xt(5,i,s)}}}}}function $M(t,e,n){return HM(t,e.parent,n)}function HM(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[An];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===tn.None||s===tn.Emulated)return null}return Dt(r,n)}}function Rl(t,e,n,r,i){t.insertBefore(e,n,r,i)}function Zw(t,e,n){t.appendChild(e,n)}function ov(t,e,n,r,i){r!==null?Rl(t,e,n,r,i):Zw(t,e,n)}function zM(t,e,n,r){t.removeChild(e,n,r)}function Mf(t,e){return t.parentNode(e)}function WM(t,e){return t.nextSibling(e)}function GM(t,e,n){return KM(t,e,n)}function qM(t,e,n){return t.type&40?Dt(t,n):null}var KM=qM,av;function oc(t,e,n,r){let i=$M(t,r,e),s=e[Ne],o=r.parent||e[jt],a=GM(o,r,e);if(i!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)ov(s,i,n[l],a,!1);else ov(s,i,n,a,!1);av!==void 0&&av(s,r,e,n,i)}function pl(t,e){if(e!==null){let n=e.type;if(n&3)return Dt(e,t);if(n&4)return Rh(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return pl(t,r);{let i=t[e.index];return Mn(i)?Rh(-1,i):sn(i)}}else{if(n&32)return Sf(e,t)()||sn(t[e.index]);{let r=Jw(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=no(t[rn]);return pl(i,r)}else return pl(t,e.next)}}}return null}function Jw(t,e){if(e!==null){let r=t[rn][jt],i=e.projection;return r.projection[i]}return null}function Rh(t,e){let n=ft+t+1;if(n<e.length){let r=e[n],i=r[q].firstChild;if(i!==null)return pl(r,i)}return e[Pr]}function YM(t,e,n){let r=Mf(t,e);r&&zM(t,r,e,n)}function Nf(t,e,n,r,i,s,o){for(;n!=null;){let a=r[n.index],l=n.type;if(o&&e===0&&(a&&Yn(sn(a),r),n.flags|=2),(n.flags&32)!==32)if(l&8)Nf(t,e,n.child,r,i,s,!1),Vi(e,t,i,a,s);else if(l&32){let c=Sf(n,r),u;for(;u=c();)Vi(e,t,i,u,s);Vi(e,t,i,a,s)}else l&16?QM(t,e,r,n,i,s):Vi(e,t,i,a,s);n=o?n.projectionNext:n.next}}function ac(t,e,n,r,i,s){Nf(n,r,t.firstChild,e,i,s,!1)}function QM(t,e,n,r,i,s){let o=n[rn],l=o[jt].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];Vi(e,t,i,u,s)}else{let c=l,u=o[Ke];Lw(r)&&(c.flags|=128),Nf(t,e,c,u,i,s,!0)}}function ZM(t,e,n,r,i){let s=n[Pr],o=sn(n);s!==o&&Vi(e,t,r,s,i);for(let a=ft;a<n.length;a++){let l=n[a];ac(l[q],l,t,e,r,s)}}function JM(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:on.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=on.Important),t.setStyle(n,r,i,s))}}function XM(t,e,n){t.setAttribute(e,"style",n)}function Xw(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function eb(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&yh(t,e,r),i!==null&&Xw(t,e,i),s!==null&&XM(t,e,s)}var ln={};function W(t=1){tb(Ye(),ce(),Br()+t,!1)}function tb(t,e,n,r){if(!r)if((e[P]&3)===3){let s=t.preOrderCheckHooks;s!==null&&hl(e,s,n)}else{let s=t.preOrderHooks;s!==null&&fl(e,s,0,n)}Fr(n)}function M(t,e=H.Default){let n=ce();if(n===null)return T(t,e);let r=Je();return Rw(r,n,Ge(t),e)}function nb(t,e,n,r,i,s){let o=ne(null);try{let a=null;i&Hi.SignalBased&&(a=e[r][h_]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&Hi.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):tw(e,a,r,s)}finally{ne(o)}}function eN(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Fr(~i);else{let s=i,o=n[++r],a=n[++r];UA(o,s);let l=e[s];a(2,l)}}}finally{Fr(-1)}}function lc(t,e,n,r,i,s,o,a,l,c,u){let d=e.blueprint.slice();return d[An]=i,d[P]=r|4|128|8|64,(c!==null||t&&t[P]&2048)&&(d[P]|=2048),aw(d),d[Ke]=d[Xi]=t,d[It]=n,d[nn]=o||t&&t[nn],d[Ne]=a||t&&t[Ne],d[Wi]=l||t&&t[Wi]||null,d[jt]=s,d[Kl]=fM(),d[wl]=u,d[Xv]=c,d[rn]=e.type==2?t[rn]:d,d}function co(t,e,n,r,i){let s=t.data[e];if(s===null)s=tN(t,e,n,r,i),jA()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=LA();s.injectorIndex=o===null?-1:o.injectorIndex}return Ur(s,!0),s}function tN(t,e,n,r,i){let s=dw(),o=mf(),a=o?s:s&&s.parent,l=t.data[e]=oN(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=l),s!==null&&(o?s.child==null&&l.parent!==null&&(s.child=l):s.next===null&&(s.next=l,l.prev=s)),l}function rb(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function ib(t,e,n,r,i){let s=Br(),o=r&2;try{Fr(-1),o&&e.length>pt&&tb(t,e,pt,!1),Xt(o?2:0,i),n(r,i)}finally{Fr(s),Xt(o?3:1,i)}}function Rf(t,e,n){if(ff(e)){let r=ne(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let l=n[o];a.contentQueries(1,l,o)}}}finally{ne(r)}}}function xf(t,e,n){uw()&&(fN(t,e,n,Dt(n,e)),(n.flags&64)===64&&ab(t,e,n))}function kf(t,e,n=Dt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function sb(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Of(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Of(t,e,n,r,i,s,o,a,l,c,u){let d=pt+r,h=d+i,f=nN(d,h),p=typeof c=="function"?c():c;return f[q]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:u}}function nN(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:ln);return n}function rN(t,e,n,r){let s=r.get(bM,Hw)||n===tn.ShadowDom,o=t.selectRootElement(e,s);return iN(o),o}function iN(t){sN(t)}var sN=()=>null;function oN(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return OA()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function lv(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,l=Hi.None;Array.isArray(o)?(a=o[0],l=o[1]):a=o;let c=s;if(i!==null){if(!i.hasOwnProperty(s))continue;c=i[s]}t===0?cv(r,n,c,a,l):cv(r,n,c,a)}return r}function cv(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function aN(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],l=null,c=null;for(let u=r;u<i;u++){let d=s[u],h=n?n.get(d):null,f=h?h.inputs:null,p=h?h.outputs:null;l=lv(0,d.inputs,u,l,f),c=lv(1,d.outputs,u,c,p);let m=l!==null&&o!==null&&!lf(e)?IN(l,u,o):null;a.push(m)}l!==null&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}function lN(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function cN(t,e,n,r,i,s,o,a){let l=Dt(e,n),c=e.inputs,u;!a&&c!=null&&(u=c[r])?(Ff(t,n,u,r,i),Yl(e)&&uN(n,e.index)):e.type&3?(r=lN(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(l,r,i)):e.type&12}function uN(t,e){let n=Xn(e,t);n[P]&16||(n[P]|=64)}function Pf(t,e,n,r){if(uw()){let i=r===null?null:{"":-1},s=gN(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&ob(t,e,n,o,i,a),i&&mN(n,r,i)}n.mergedAttrs=Js(n.mergedAttrs,n.attrs)}function ob(t,e,n,r,i,s){for(let c=0;c<r.length;c++)Sh(Al(n,e),t,r[c].type);_N(n,t.data.length,r.length);for(let c=0;c<r.length;c++){let u=r[c];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,l=rb(t,e,r.length,null);for(let c=0;c<r.length;c++){let u=r[c];n.mergedAttrs=Js(n.mergedAttrs,u.hostAttrs),vN(t,n,e,l,u),yN(l,u,i),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),l++}aN(t,n,s)}function dN(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;hN(o)!=a&&o.push(a),o.push(n,r,s)}}function hN(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function fN(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;Yl(n)&&wN(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Al(n,e),Yn(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let l=t.data[a],c=Yi(e,t,a,n);if(Yn(c,e),o!==null&&CN(e,a-i,c,l,n,o),qn(l)){let u=Xn(n.index,e);u[It]=Yi(e,t,a,n)}}}function ab(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=BA();try{Fr(s);for(let a=r;a<i;a++){let l=t.data[a],c=e[a];Ih(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&pN(l,c)}}finally{Fr(-1),Ih(o)}}function pN(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function gN(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(tA(e,o.selectors,!1))if(r||(r=[]),qn(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let l=a.length;xh(t,e,l)}else r.unshift(o),xh(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function xh(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function mN(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new y(-301,!1);r.push(e[i],s)}}}function yN(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;qn(e)&&(n[""]=t)}}function _N(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function vN(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=xr(i.type,!0)),o=new Lr(s,qn(i),M);t.blueprint[r]=o,n[r]=o,dN(t,e,r,rb(t,n,i.hostVars,ln),i)}function wN(t,e,n){let r=Dt(e,t),i=sb(n),s=t[nn].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=cc(t,lc(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function bN(t,e,n,r,i,s){let o=Dt(t,e);EN(e[Ne],o,s,t.value,n,r,i)}function EN(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?$l(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function CN(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let l=o[a++],c=o[a++],u=o[a++],d=o[a++];nb(r,n,l,c,u,d)}}function IN(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function lb(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function cb(t,e){let n=t.contentQueries;if(n!==null){let r=ne(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];mw(s),a.contentQueries(2,e[o],o)}}}finally{ne(r)}}}function cc(t,e){return t[eo]?t[Z_][Vt]=e:t[eo]=e,t[Z_]=e,e}function kh(t,e,n){mw(0);let r=ne(null);try{e(t,n)}finally{ne(r)}}function DN(t){return t[bl]??=[]}function SN(t){return t.cleanup??=[]}function ub(t,e){let n=t[Wi],r=n?n.get(Sn,null):null;r&&r.handleError(e)}function Ff(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],l=n[s++],c=e[o],u=t.data[o];nb(u,c,r,a,l,i)}}function TN(t,e,n){let r=ow(e,t);OM(t[Ne],r,n)}function AN(t,e){let n=Xn(e,t),r=n[q];MN(r,n);let i=n[An];i!==null&&n[wl]===null&&(n[wl]=If(i,n[Wi])),Lf(r,n,n[It])}function MN(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Lf(t,e,n){yf(e);try{let r=t.viewQuery;r!==null&&kh(1,r,n);let i=t.template;i!==null&&ib(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[qi]?.finishViewCreation(t),t.staticContentQueries&&cb(t,e),t.staticViewQueries&&kh(2,t.viewQuery,n);let s=t.components;s!==null&&NN(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[P]&=-5,_f()}}function NN(t,e){for(let n=0;n<e.length;n++)AN(t,e[n])}function db(t,e,n,r){let i=ne(null);try{let s=e.tView,a=t[P]&4096?4096:16,l=lc(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=t[e.index];l[Gi]=c;let u=t[qi];return u!==null&&(l[qi]=u.createEmbeddedView(s)),Lf(s,l,n),l}finally{ne(i)}}function RN(t,e){let n=ft+e;if(n<t.length)return t[n]}function Oh(t,e){return!e||e.firstChild===null||Lw(t)}function hb(t,e,n,r=!0){let i=e[q];if(jM(i,e,t,n),r){let o=Rh(n,t),a=e[Ne],l=Mf(a,t[Pr]);l!==null&&LM(i,t[jt],a,e,l,o)}let s=e[wl];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function xN(t,e){let n=Nl(t,e);return n!==void 0&&Af(n[q],n),n}function xl(t,e,n,r,i=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(sn(s)),Mn(s)&&kN(s,r);let o=n.type;if(o&8)xl(t,e,n.child,r);else if(o&32){let a=Sf(n,e),l;for(;l=a();)r.push(l)}else if(o&16){let a=Jw(e,n);if(Array.isArray(a))r.push(...a);else{let l=no(e[rn]);xl(l[q],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function kN(t,e){for(let n=ft;n<t.length;n++){let r=t[n],i=r[q].firstChild;i!==null&&xl(r[q],r,i,e)}t[Pr]!==t[An]&&e.push(t[Pr])}var fb=[];function ON(t){return t[Or]??PN(t)}function PN(t){let e=fb.pop()??Object.create(LN);return e.lView=t,e}function FN(t){t.lView[Or]!==t&&(t.lView=null,fb.push(t))}var LN=X(b({},f_),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Zl(t.lView)},consumerOnSignalRead(){this.lView[Or]=this}}),VN=100;function pb(t,e=!0,n=0){let r=t[nn],i=r.rendererFactory,s=!1;s||i.begin?.();try{jN(t,n)}catch(o){throw e&&ub(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function jN(t,e){let n=fw();try{X_(!0),Ph(t,e);let r=0;for(;to(t);){if(r===VN)throw new y(103,!1);r++,Ph(t,1)}}finally{X_(n)}}function UN(t,e,n,r){let i=e[P];if((i&256)===256)return;let s=!1,o=!1;!s&&e[nn].inlineEffectRunner?.flush(),yf(e);let a=null,l=null;!s&&BN(t)&&(l=ON(e),a=p_(l));try{aw(e),VA(t.bindingStartIndex),n!==null&&ib(t,e,n,2,r);let c=(i&3)===3;if(!s)if(c){let h=t.preOrderCheckHooks;h!==null&&hl(e,h,null)}else{let h=t.preOrderHooks;h!==null&&fl(e,h,0,null),th(e,0)}if(o||$N(e),gb(e,0),t.contentQueries!==null&&cb(t,e),!s)if(c){let h=t.contentCheckHooks;h!==null&&hl(e,h)}else{let h=t.contentHooks;h!==null&&fl(e,h,1),th(e,1)}eN(t,e);let u=t.components;u!==null&&yb(e,u,0);let d=t.viewQuery;if(d!==null&&kh(2,d,r),!s)if(c){let h=t.viewCheckHooks;h!==null&&hl(e,h)}else{let h=t.viewHooks;h!==null&&fl(e,h,2),th(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[eh]){for(let h of e[eh])h();e[eh]=null}s||(e[P]&=-73)}catch(c){throw s||Zl(e),c}finally{l!==null&&(g_(l,a),FN(l)),_f()}}function BN(t){return t.type!==2}function gb(t,e){for(let n=jw(t);n!==null;n=Uw(n))for(let r=ft;r<n.length;r++){let i=n[r];mb(i,e)}}function $N(t){for(let e=jw(t);e!==null;e=Uw(e)){if(!(e[P]&Il.HasTransplantedViews))continue;let n=e[Cl];for(let r=0;r<n.length;r++){let i=n[r];AA(i)}}}function HN(t,e,n){let r=Xn(e,t);mb(r,n)}function mb(t,e){gf(t)&&Ph(t,e)}function Ph(t,e){let r=t[q],i=t[P],s=t[Or],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&Nd(s)),o||=!1,s&&(s.dirty=!1),t[P]&=-9217,o)UN(r,t,r.template,t[It]);else if(i&8192){gb(t,1);let a=r.components;a!==null&&yb(t,a,1)}}function yb(t,e,n){for(let r=0;r<e.length;r++)HN(t,e[r],n)}function Vf(t,e){let n=fw()?64:1088;for(t[nn].changeDetectionScheduler?.notify(e);t;){t[P]|=n;let r=no(t);if(bh(t)&&!r)return t;t=r}return null}var Vr=class{get rootNodes(){let e=this._lView,n=e[q];return xl(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[It]}set context(e){this._lView[It]=e}get destroyed(){return(this._lView[P]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ke];if(Mn(e)){let n=e[El],r=n?n.indexOf(this):-1;r>-1&&(Nl(e,r),_l(n,r))}this._attachedToViewContainer=!1}Af(this._lView[q],this._lView)}onDestroy(e){lw(this._lView,e)}markForCheck(){Vf(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[P]&=-129}reattach(){Ch(this._lView),this._lView[P]|=128}detectChanges(){this._lView[P]|=1024,pb(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new y(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=bh(this._lView),n=this._lView[Gi];n!==null&&!e&&Tf(n,this._lView),Yw(this._lView[q],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new y(902,!1);this._appRef=e;let n=bh(this._lView),r=this._lView[Gi];r!==null&&!n&&Qw(r,this._lView),Ch(this._lView)}},uc=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=GN;let t=e;return t})(),zN=uc,WN=class extends zN{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=db(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Vr(i)}};function GN(){return qN(Je(),ce())}function qN(t,e){return t.type&4?new WN(e,t,nc(t,e)):null}var DW=new RegExp(`^(\\d+)*(${vM}|${_M})*(.*)`);var KN=()=>null;function Fh(t,e){return KN(t,e)}var ro=class{},_b=new N("",{providedIn:"root",factory:()=>!1});var vb=new N(""),Lh=class{},kl=class{};function YN(t){let e=Error(`No component factory found for ${qe(t)}.`);return e[QN]=t,e}var QN="ngComponent";var Vh=class{resolveComponentFactory(e){throw YN(e)}},Zf=class Zf{};Zf.NULL=new Vh;var Qi=Zf,Qn=class{},cn=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>ZN();let t=e;return t})();function ZN(){let t=ce(),e=Je(),n=Xn(e.index,t);return(Gn(n)?n:t)[Ne]}var JN=(()=>{let e=class e{};e.\u0275prov=C({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),oh={};var uv=new Set;function uo(t){uv.has(t)||(uv.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function wb(t){let e=!0;return setTimeout(()=>{e&&(e=!1,t())}),typeof Et.requestAnimationFrame=="function"&&Et.requestAnimationFrame(()=>{e&&(e=!1,t())}),()=>{e=!1}}function dv(t){let e=!0;return queueMicrotask(()=>{e&&t()}),()=>{e=!1}}function hv(...t){}var ge=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new le(!1),this.onMicrotaskEmpty=new le(!1),this.onStable=new le(!1),this.onError=new le(!1),typeof Zone>"u")throw new y(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.callbackScheduled=!1,tR(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new y(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new y(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,XN,hv,hv);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},XN={};function jf(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function eR(t){t.isCheckStableRunning||t.callbackScheduled||(t.callbackScheduled=!0,Zone.root.run(()=>{wb(()=>{t.callbackScheduled=!1,jh(t),t.isCheckStableRunning=!0,jf(t),t.isCheckStableRunning=!1})}),jh(t))}function tR(t){let e=()=>{eR(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(nR(a))return n.invokeTask(i,s,o,a);try{return fv(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),pv(t)}},onInvoke:(n,r,i,s,o,a,l)=>{try{return fv(t),n.invoke(i,s,o,a,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!rR(a)&&e(),pv(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,jh(t),jf(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function jh(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function fv(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function pv(t){t._nesting--,jf(t)}var Uh=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new le,this.onMicrotaskEmpty=new le,this.onStable=new le,this.onError=new le}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function nR(t){return bb(t,"__ignore_ng_zone__")}function rR(t){return bb(t,"__scheduler_tick__")}function bb(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Eb=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=C({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function Ol(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=fh(i,a);else if(s==2){let l=a,c=e[++o];r=fh(r,l+": "+c+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Pl=class extends Qi{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=kr(e);return new io(n,this.ngModule)}};function gv(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function iR(t){let e=t.toLowerCase();return e==="svg"?sw:e==="math"?DA:null}var Bh=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Hl(r);let i=this.injector.get(e,oh,r);return i!==oh||n===oh?i:this.parentInjector.get(e,n,r)}},io=class extends kl{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=gv(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return gv(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=sA(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=ne(null);try{i=i||this.ngModule;let o=i instanceof Ct?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new Bh(e,o):e,l=a.get(Qn,null);if(l===null)throw new y(407,!1);let c=a.get(JN,null),u=a.get(Eb,null),d=a.get(ro,null),h={rendererFactory:l,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:d},f=l.createRenderer(null,this.componentDef),p=this.componentDef.selectors[0][0]||"div",m=r?rN(f,r,this.componentDef.encapsulation,a):Kw(f,p,iR(p)),w=512;this.componentDef.signals?w|=4096:this.componentDef.onPush||(w|=16);let D=null;m!==null&&(D=If(m,a,!0));let G=Of(0,null,null,1,0,null,null,null,null,null,null),F=lc(null,G,null,w,null,null,h,f,a,null,D);yf(F);let ie,Ue;try{let pe=this.componentDef,ye,De=null;pe.findHostDirectiveDefs?(ye=[],De=new Map,pe.findHostDirectiveDefs(pe,ye,De),ye.push(pe)):ye=[pe];let ct=sR(F,m),Qt=oR(ct,m,pe,ye,F,h,f);Ue=pf(G,pt),m&&cR(f,pe,m,r),n!==void 0&&uR(Ue,this.ngContentSelectors,n),ie=lR(Qt,pe,ye,De,F,[dR]),Lf(G,F,null)}finally{_f()}return new $h(this.componentType,ie,nc(Ue,F),F,Ue)}finally{ne(s)}}},$h=class extends Lh{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Vr(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;Ff(s[q],s,i,e,n),this.previousInputValues.set(e,n);let o=Xn(this._tNode.index,s);Vf(o,1)}}get injector(){return new Rr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function sR(t,e){let n=t[q],r=pt;return t[r]=e,co(n,r,2,"#host",null)}function oR(t,e,n,r,i,s,o){let a=i[q];aR(r,t,e,o);let l=null;e!==null&&(l=If(e,i[Wi]));let c=s.rendererFactory.createRenderer(e,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let d=lc(i,sb(n),null,u,i[t.index],t,s,c,null,null,l);return a.firstCreatePass&&xh(a,t,r.length-1),cc(i,d),i[t.index]=d}function aR(t,e,n,r){for(let i of t)e.mergedAttrs=Js(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Ol(e,e.mergedAttrs,!0),n!==null&&eb(r,n,e))}function lR(t,e,n,r,i,s){let o=Je(),a=i[q],l=Dt(o,i);ob(a,i,o,n,null,r);for(let u=0;u<n.length;u++){let d=o.directiveStart+u,h=Yi(i,a,d,o);Yn(h,i)}ab(a,i,o),l&&Yn(l,i);let c=Yi(i,a,o.directiveStart+o.componentOffset,o);if(t[It]=i[It]=c,s!==null)for(let u of s)u(c,e);return Rf(a,o,i),c}function cR(t,e,n,r){if(r)yh(t,n,["ng-version","18.0.2"]);else{let{attrs:i,classes:s}=oA(e.selectors[0]);i&&yh(t,n,i),s&&s.length>0&&Xw(t,n,s.join(" "))}}function uR(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function dR(){let t=Je();tc(ce()[q],t)}var es=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=hR;let t=e;return t})();function hR(){let t=Je();return pR(t,ce())}var fR=es,Cb=class extends fR{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return nc(this._hostTNode,this._hostLView)}get injector(){return new Rr(this._hostTNode,this._hostLView)}get parentInjector(){let e=vf(this._hostTNode,this._hostLView);if(Dw(e)){let n=Sl(e,this._hostLView),r=Dl(e),i=n[q].data[r+8];return new Rr(i,n)}else return new Rr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=mv(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-ft}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=Fh(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,Oh(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!bA(e),a;if(o)a=n;else{let p=n||{};a=p.index,r=p.injector,i=p.projectableNodes,s=p.environmentInjector||p.ngModuleRef}let l=o?e:new io(kr(e)),c=r||this.parentInjector;if(!s&&l.ngModule==null){let m=(o?c:this.parentInjector).get(Ct,null);m&&(s=m)}let u=kr(l.componentType??{}),d=Fh(this._lContainer,u?.id??null),h=d?.firstChild??null,f=l.create(c,i,h,s);return this.insertImpl(f.hostView,a,Oh(this._hostTNode,d)),f}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(TA(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=i[Ke],c=new Cb(l,l[jt],l[Ke]);c.detach(c.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return hb(o,i,s,r),e.attachToViewContainerRef(),Lv(ah(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=mv(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Nl(this._lContainer,n);r&&(_l(ah(this._lContainer),n),Af(r[q],r))}detach(e){let n=this._adjustIndex(e,-1),r=Nl(this._lContainer,n);return r&&_l(ah(this._lContainer),n)!=null?new Vr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function mv(t){return t[El]}function ah(t){return t[El]||(t[El]=[])}function pR(t,e){let n,r=e[t.index];return Mn(r)?n=r:(n=lb(r,e,null,t),e[t.index]=n,cc(e,n)),mR(n,e,t,r),new Cb(n,t,e)}function gR(t,e){let n=t[Ne],r=n.createComment(""),i=Dt(e,t),s=Mf(n,i);return Rl(n,s,r,WM(n,i),!1),r}var mR=vR,yR=()=>!1;function _R(t,e,n){return yR(t,e,n)}function vR(t,e,n,r){if(t[Pr])return;let i;n.type&8?i=sn(r):i=gR(e,n),t[Pr]=i}function wR(t){return Object.getPrototypeOf(t.prototype).constructor}function Bt(t){let e=wR(t.type),n=!0,r=[t];for(;e;){let i;if(qn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new y(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=cl(t.inputs),o.inputTransforms=cl(t.inputTransforms),o.declaredInputs=cl(t.declaredInputs),o.outputs=cl(t.outputs);let a=i.hostBindings;a&&DR(t,a);let l=i.viewQuery,c=i.contentQueries;if(l&&CR(t,l),c&&IR(t,c),bR(t,i),AT(t.outputs,i.outputs),qn(i)&&i.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===Bt&&(n=!1)}}e=Object.getPrototypeOf(e)}ER(r)}function bR(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function ER(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Js(i.hostAttrs,n=Js(n,i.hostAttrs))}}function cl(t){return t===Bi?{}:t===it?[]:t}function CR(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function IR(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function DR(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Uf(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Zn=class{},so=class{};var Hh=class extends Zn{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Pl(this);let i=Gv(e);this._bootstrapComponents=qw(i.bootstrap),this._r3Injector=Ow(e,n,[{provide:Zn,useValue:this},{provide:Qi,useValue:this.componentFactoryResolver},...r],qe(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},zh=class extends so{constructor(e){super(),this.moduleType=e}create(e){return new Hh(this.moduleType,e,[])}};var Fl=class extends Zn{constructor(e){super(),this.componentFactoryResolver=new Pl(this),this.instance=null;let n=new Xs([...e.providers,{provide:Zn,useValue:this},{provide:Qi,useValue:this.componentFactoryResolver}],e.parent||hf(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Bf(t,e,n=null){return new Fl({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var ts=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Fe(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Ib(t){return $f(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function SR(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function $f(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function TR(t,e,n){return t[e]=n}function zr(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function AR(t){return(t.flags&32)===32}function MR(t,e,n,r,i,s,o,a,l){let c=e.consts,u=co(e,t,4,o||null,a||null);Pf(e,n,u,Ki(c,l)),tc(e,u);let d=u.tView=Of(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function NR(t,e,n,r,i,s,o,a,l,c){let u=n+pt,d=e.firstCreatePass?MR(u,e,t,r,i,s,o,a,l):e.data[u];Ur(d,!1);let h=RR(e,t,d,n);Xl()&&oc(e,t,h,d),Yn(h,t);let f=lb(h,t,h,d);return t[u]=f,cc(t,f),_R(f,d,t),Ql(d)&&xf(e,t,d),l!=null&&kf(t,d,c),d}function Xe(t,e,n,r,i,s,o,a){let l=ce(),c=Ye(),u=Ki(c.consts,s);return NR(l,c,t,e,n,r,i,u,o,a),Xe}var RR=xR;function xR(t,e,n,r){return ec(!0),e[Ne].createComment("")}function dc(t,e,n,r){let i=ce(),s=Jl();if(zr(i,s,e)){let o=Ye(),a=Ew();bN(a,i,t,e,n,r)}return dc}function kR(t,e,n,r){return zr(t,Jl(),n)?e+$l(n)+r:ln}function ul(t,e){return t<<17|e<<2}function jr(t){return t>>17&32767}function OR(t){return(t&2)==2}function PR(t,e){return t&131071|e<<17}function Wh(t){return t|2}function Zi(t){return(t&131068)>>2}function lh(t,e){return t&-131069|e<<2}function FR(t){return(t&1)===1}function Gh(t){return t|1}function LR(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=jr(o),l=Zi(o);t[r]=n;let c=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||lo(d,u)>0)&&(c=!0)}else u=n;if(i)if(l!==0){let h=jr(t[a+1]);t[r+1]=ul(h,a),h!==0&&(t[h+1]=lh(t[h+1],r)),t[a+1]=PR(t[a+1],r)}else t[r+1]=ul(a,0),a!==0&&(t[a+1]=lh(t[a+1],r)),a=r;else t[r+1]=ul(l,0),a===0?a=r:t[l+1]=lh(t[l+1],r),l=r;c&&(t[r+1]=Wh(t[r+1])),yv(t,u,r,!0),yv(t,u,r,!1),VR(e,u,t,r,s),o=ul(a,l),s?e.classBindings=o:e.styleBindings=o}function VR(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&lo(s,e)>=0&&(n[r+1]=Gh(n[r+1]))}function yv(t,e,n,r){let i=t[n+1],s=e===null,o=r?jr(i):Zi(i),a=!1;for(;o!==0&&(a===!1||s);){let l=t[o],c=t[o+1];jR(l,e)&&(a=!0,t[o+1]=r?Gh(c):Wh(c)),o=r?jr(c):Zi(c)}a&&(t[n+1]=r?Wh(i):Gh(i))}function jR(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?lo(t,e)>=0:!1}var Me={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Db(t){return t.substring(Me.key,Me.keyEnd)}function UR(t){return t.substring(Me.value,Me.valueEnd)}function BR(t){return Ab(t),Sb(t,Ji(t,0,Me.textEnd))}function Sb(t,e){let n=Me.textEnd;return n===e?-1:(e=Me.keyEnd=HR(t,Me.key=e,n),Ji(t,e,n))}function $R(t){return Ab(t),Tb(t,Ji(t,0,Me.textEnd))}function Tb(t,e){let n=Me.textEnd,r=Me.key=Ji(t,e,n);return n===r?-1:(r=Me.keyEnd=zR(t,r,n),r=_v(t,r,n,58),r=Me.value=Ji(t,r,n),r=Me.valueEnd=WR(t,r,n),_v(t,r,n,59))}function Ab(t){Me.key=0,Me.keyEnd=0,Me.value=0,Me.valueEnd=0,Me.textEnd=t.length}function Ji(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function HR(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function zR(t,e,n){let r;for(;e<n&&((r=t.charCodeAt(e))===45||r===95||(r&-33)>=65&&(r&-33)<=90||r>=48&&r<=57);)e++;return e}function _v(t,e,n,r){return e=Ji(t,e,n),e<n&&e++,e}function WR(t,e,n){let r=-1,i=-1,s=-1,o=e,a=o;for(;o<n;){let l=t.charCodeAt(o++);if(l===59)return a;l===34||l===39?a=o=vv(t,l,o,n):e===o-4&&s===85&&i===82&&r===76&&l===40?a=o=vv(t,41,o,n):l>32&&(a=o),s=i,i=r,r=l&-33}return a}function vv(t,e,n,r){let i=-1,s=n;for(;s<r;){let o=t.charCodeAt(s++);if(o==e&&i!==92)return s;o==92&&i===92?i=0:i=o}throw new Error}function Y(t,e,n){let r=ce(),i=Jl();if(zr(r,i,e)){let s=Ye(),o=Ew();cN(s,o,r,t,e,r[Ne],n,!1)}return Y}function qh(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";Ff(t,n,s[o],o,r)}function hc(t,e,n){return Mb(t,e,n,!1),hc}function fc(t,e){return Mb(t,e,null,!0),fc}function pc(t){Nb(kb,GR,t,!1)}function GR(t,e){for(let n=$R(e);n>=0;n=Tb(e,n))kb(t,Db(e),UR(e))}function Wr(t){Nb(XR,qR,t,!0)}function qR(t,e){for(let n=BR(e);n>=0;n=Sb(e,n))Wl(t,Db(e),!0)}function Mb(t,e,n,r){let i=ce(),s=Ye(),o=gw(2);if(s.firstUpdatePass&&xb(s,t,o,r),e!==ln&&zr(i,o,e)){let a=s.data[Br()];Ob(s,a,i,i[Ne],t,i[o+1]=tx(e,n),r,o)}}function Nb(t,e,n,r){let i=Ye(),s=gw(2);i.firstUpdatePass&&xb(i,null,s,r);let o=ce();if(n!==ln&&zr(o,s,n)){let a=i.data[Br()];if(Pb(a,r)&&!Rb(i,s)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(n=fh(l,n||"")),qh(i,a,o,n,r)}else ex(i,a,o,o[Ne],o[s+1],o[s+1]=JR(t,e,n),r,s)}}function Rb(t,e){return e>=t.expandoStartIndex}function xb(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[Br()],o=Rb(t,n);Pb(s,r)&&e===null&&!o&&(e=!1),e=KR(i,s,e,r),LR(i,s,e,n,o,r)}}function KR(t,e,n,r){let i=$A(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=ch(null,t,e,n,r),n=oo(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=ch(i,t,e,n,r),s===null){let l=YR(t,e,r);l!==void 0&&Array.isArray(l)&&(l=ch(null,t,e,l[1],r),l=oo(l,e.attrs,r),QR(t,e,r,l))}else s=ZR(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function YR(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Zi(r)!==0)return t[jr(r)]}function QR(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[jr(i)]=r}function ZR(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=oo(r,o,n)}return oo(r,e.attrs,n)}function ch(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=oo(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function oo(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Wl(t,o,n?!0:e[++s]))}return t===void 0?null:t}function JR(t,e,n){if(n==null||n==="")return it;let r=[],i=Hr(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if(typeof i=="object")for(let s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else typeof i=="string"&&e(r,i);return r}function kb(t,e,n){Wl(t,e,Hr(n))}function XR(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&Wl(t,r,n)}function ex(t,e,n,r,i,s,o,a){i===ln&&(i=it);let l=0,c=0,u=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;u!==null||d!==null;){let h=l<i.length?i[l+1]:void 0,f=c<s.length?s[c+1]:void 0,p=null,m;u===d?(l+=2,c+=2,h!==f&&(p=d,m=f)):d===null||u!==null&&u<d?(l+=2,p=u):(c+=2,p=d,m=f),p!==null&&Ob(t,e,n,r,p,m,o,a),u=l<i.length?i[l]:null,d=c<s.length?s[c]:null}}function Ob(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let l=t.data,c=l[a+1],u=FR(c)?wv(l,e,n,i,Zi(c),o):void 0;if(!Ll(u)){Ll(s)||OR(c)&&(s=wv(l,null,n,i,a,o));let d=ow(Br(),n);JM(r,o,d,i,s)}}function wv(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let l=t[i],c=Array.isArray(l),u=c?l[1]:l,d=u===null,h=n[i+1];h===ln&&(h=d?it:void 0);let f=d?Jd(h,r):u===r?h:void 0;if(c&&!Ll(f)&&(f=Jd(l,r)),Ll(f)&&(a=f,o))return a;let p=t[i+1];i=o?jr(p):Zi(p)}if(e!==null){let l=s?e.residualClasses:e.residualStyles;l!=null&&(a=Jd(l,r))}return a}function Ll(t){return t!==void 0}function tx(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=qe(Hr(t)))),t}function Pb(t,e){return(t.flags&(e?8:16))!==0}function ho(t,e){uo("NgControlFlow");let n=ce(),r=Jl(),i=n[r]!==ln?n[r]:-1,s=i!==-1?bv(n,pt+i):void 0,o=0;if(zr(n,r,t)){let a=ne(null);try{if(s!==void 0&&xN(s,o),t!==-1){let l=pt+t,c=bv(n,l),u=nx(n[q],l),d=Fh(c,u.tView.ssrId),h=db(n,u,e,{dehydratedView:d});hb(c,h,o,Oh(u,d))}}finally{ne(a)}}else if(s!==void 0){let a=RN(s,o);a!==void 0&&(a[It]=e)}}function bv(t,e){return t[e]}function nx(t,e){return pf(t,e)}function rx(t,e,n,r,i,s){let o=e.consts,a=Ki(o,i),l=co(e,t,2,r,a);return Pf(e,n,l,Ki(o,s)),l.attrs!==null&&Ol(l,l.attrs,!1),l.mergedAttrs!==null&&Ol(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function _(t,e,n,r){let i=ce(),s=Ye(),o=pt+t,a=i[Ne],l=s.firstCreatePass?rx(o,s,i,e,n,r):s.data[o],c=ix(s,i,l,a,e,t);i[o]=c;let u=Ql(l);return Ur(l,!0),eb(a,c,l),!AR(l)&&Xl()&&oc(s,i,c,l),RA()===0&&Yn(c,i),xA(),u&&(xf(s,i,l),Rf(s,l,i)),r!==null&&kf(i,l),_}function S(){let t=Je();mf()?hw():(t=t.parent,Ur(t,!1));let e=t;PA(e)&&FA(),kA();let n=Ye();return n.firstCreatePass&&(tc(n,t),ff(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&QA(e)&&qh(n,e,ce(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&ZA(e)&&qh(n,e,ce(),e.stylesWithoutHost,!1),S}function x(t,e,n,r){return _(t,e,n,r),S(),x}var ix=(t,e,n,r,i,s)=>(ec(!0),Kw(r,i,GA()));function sx(t,e,n,r,i){let s=e.consts,o=Ki(s,r),a=co(e,t,8,"ng-container",o);o!==null&&Ol(a,o,!0);let l=Ki(s,i);return Pf(e,n,a,l),e.queries!==null&&e.queries.elementStart(e,a),a}function Hf(t,e,n){let r=ce(),i=Ye(),s=t+pt,o=i.firstCreatePass?sx(s,i,r,e,n):i.data[s];Ur(o,!0);let a=ox(i,r,o,t);return r[s]=a,Xl()&&oc(i,r,a,o),Yn(a,r),Ql(o)&&(xf(i,r,o),Rf(i,o,r)),n!=null&&kf(r,o),Hf}function zf(){let t=Je(),e=Ye();return mf()?hw():(t=t.parent,Ur(t,!1)),e.firstCreatePass&&(tc(e,t),ff(t)&&e.queries.elementEnd(t)),zf}var ox=(t,e,n,r)=>(ec(!0),PM(e[Ne],""));function $t(){return ce()}var Vl="en-US";var ax=Vl;function lx(t){typeof t=="string"&&(ax=t.toLowerCase().replace(/_/g,"-"))}var cx=(t,e,n)=>{};function U(t,e,n,r){let i=ce(),s=Ye(),o=Je();return dx(s,i,i[Ne],o,t,e,r),U}function ux(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[bl],l=i[s+2];return a.length>l?a[l]:null}typeof o=="string"&&(s+=2)}return null}function dx(t,e,n,r,i,s,o){let a=Ql(r),c=t.firstCreatePass&&SN(t),u=e[It],d=DN(e),h=!0;if(r.type&3||o){let m=Dt(r,e),w=o?o(m):m,D=d.length,G=o?ie=>o(sn(ie[r.index])):r.index,F=null;if(!o&&a&&(F=ux(t,e,i,r.index)),F!==null){let ie=F.__ngLastListenerFn__||F;ie.__ngNextListenerFn__=s,F.__ngLastListenerFn__=s,h=!1}else{s=Cv(r,e,u,s),cx(m,i,s);let ie=n.listen(w,i,s);d.push(s,ie),c&&c.push(i,G,D,D+1)}}else s=Cv(r,e,u,s);let f=r.outputs,p;if(h&&f!==null&&(p=f[i])){let m=p.length;if(m)for(let w=0;w<m;w+=2){let D=p[w],G=p[w+1],Ue=e[D][G].subscribe(s),pe=d.length;d.push(s,Ue),c&&c.push(i,r.index,pe,-(pe+1))}}}function Ev(t,e,n,r){let i=ne(null);try{return Xt(6,e,n),n(r)!==!1}catch(s){return ub(t,s),!1}finally{Xt(7,e,n),ne(i)}}function Cv(t,e,n,r){return function i(s){if(s===Function)return r;let o=t.componentOffset>-1?Xn(t.index,e):e;Vf(o,5);let a=Ev(e,n,r,s),l=i.__ngNextListenerFn__;for(;l;)a=Ev(e,n,l,s)&&a,l=l.__ngNextListenerFn__;return a}}function re(t=1){return zA(t)}function hx(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function fe(t,e=""){let n=ce(),r=Ye(),i=t+pt,s=r.firstCreatePass?co(r,i,1,e,null):r.data[i],o=fx(r,n,s,e,t);n[i]=o,Xl()&&oc(r,n,o,s),Ur(s,!1)}var fx=(t,e,n,r,i)=>(ec(!0),kM(e[Ne],r));function Rn(t){return Gr("",t,""),Rn}function Gr(t,e,n){let r=ce(),i=kR(r,t,e,n);return i!==ln&&TN(r,Br(),i),Gr}function px(t,e,n){let r=Ye();if(r.firstCreatePass){let i=qn(t);Kh(n,r.data,r.blueprint,i,!0),Kh(e,r.data,r.blueprint,i,!1)}}function Kh(t,e,n,r,i){if(t=Ge(t),Array.isArray(t))for(let s=0;s<t.length;s++)Kh(t[s],e,n,r,i);else{let s=Ye(),o=ce(),a=Je(),l=zi(t)?t:Ge(t.provide),c=Jv(t),u=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(zi(t)||!t.multi){let f=new Lr(c,i,M),p=dh(l,e,i?u:u+h,d);p===-1?(Sh(Al(a,o),s,l),uh(s,t,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{let f=dh(l,e,u+h,d),p=dh(l,e,u,u+h),m=f>=0&&n[f],w=p>=0&&n[p];if(i&&!w||!i&&!m){Sh(Al(a,o),s,l);let D=yx(i?mx:gx,n.length,i,r,c);!i&&w&&(n[p].providerFactory=D),uh(s,t,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(D),o.push(D)}else{let D=Fb(n[i?p:f],c,!i&&r);uh(s,t,f>-1?f:p,D)}!i&&r&&w&&n[p].componentProviders++}}}function uh(t,e,n,r){let i=zi(e),s=fA(e);if(i||s){let l=(s?Ge(e.useClass):e).prototype.ngOnDestroy;if(l){let c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let u=c.indexOf(n);u===-1?c.push(n,[r,l]):c[u+1].push(r,l)}else c.push(n,l)}}}function Fb(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function dh(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function gx(t,e,n,r){return Yh(this.multi,[])}function mx(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=Yi(n,n[q],this.providerFactory.index,r);s=a.slice(0,o),Yh(i,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],Yh(i,s);return s}function Yh(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function yx(t,e,n,r,i){let s=new Lr(t,n,M);return s.multi=[],s.index=e,s.componentProviders=0,Fb(s,i,r&&!n),s}function qr(t,e=[]){return n=>{n.providersResolver=(r,i)=>px(r,i?i(t):t,e)}}var _x=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=Yv(!1,r.type),s=i.length>0?Bf([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=C({token:e,providedIn:"environment",factory:()=>new e(T(Ct))});let t=e;return t})();function Oe(t){uo("NgStandalone"),t.getStandaloneInjector=e=>e.get(_x).getOrCreateStandaloneInjector(t)}function ns(t,e,n,r){return Lb(ce(),pw(),t,e,n,r)}function vx(t,e){let n=t[e];return n===ln?void 0:n}function Lb(t,e,n,r,i,s){let o=e+n;return zr(t,o,i)?TR(t,o+1,s?r.call(s,i):r(i)):vx(t,o+1)}function gc(t,e){let n=Ye(),r,i=t+pt;n.firstCreatePass?(r=wx(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let s=r.factory||(r.factory=xr(r.type,!0)),o,a=rt(M);try{let l=Tl(!1),c=s();return Tl(l),hx(n,ce(),i,c),c}finally{rt(a)}}function wx(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function mc(t,e,n){let r=t+pt,i=ce(),s=SA(i,r);return bx(i,r)?Lb(i,pw(),e,s.transform,n,s):s.transform(n)}function bx(t,e){return t[q].data[e].pure}var yc=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var Wf=new N(""),fo=new N(""),_c=(()=>{let e=class e{constructor(r,i,s){this._ngZone=r,this.registry=i,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Gf||(Ex(s),s.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ge.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(r)?(clearTimeout(i.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,s){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),r()},i)),this._callbacks.push({doneCb:r,timeoutId:o,updateCb:s})}whenStable(r,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,s),this._runCallbacksIfReady()}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,s){return[]}};e.\u0275fac=function(i){return new(i||e)(T(ge),T(vc),T(fo))},e.\u0275prov=C({token:e,factory:e.\u0275fac});let t=e;return t})(),vc=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return Gf?.findTestabilityInTree(this,r,i)??null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function Ex(t){Gf=t}var Gf;function Kr(t){return!!t&&typeof t.then=="function"}function Vb(t){return!!t&&typeof t.subscribe=="function"}var jb=new N(""),Ub=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=E(jb,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(Kr(o))r.push(o);else if(Vb(o)){let a=new Promise((l,c)=>{o.subscribe({complete:l,error:c})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),wc=new N("");function Cx(){y_(()=>{throw new y(600,!1)})}function Ix(t){return t.isBoundToModule}var Dx=10;function Sx(t,e,n){try{let r=n();return Kr(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var tr=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=E(Pw),this.afterRenderEffectManager=E(Eb),this.zonelessEnabled=E(_b),this.externalTestViews=new Set,this.beforeRender=new ve,this.afterTick=new ve,this.componentTypes=[],this.components=[],this.isStable=E(ts).hasPendingTasks.pipe($(r=>!r)),this._injector=E(Ct)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof kl;if(!this._injector.get(Ub).done){let f=!s&&Wv(r),p=!1;throw new y(405,p)}let a;s?a=r:a=this._injector.get(Qi).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let l=Ix(a)?void 0:this._injector.get(Zn),c=i||a.selector,u=a.create(Kn.NULL,[],c,l),d=u.location.nativeElement,h=u.injector.get(Wf,null);return h?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),hh(this.components,u),h?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new y(101,!1);let i=ne(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1,ne(i),this.afterTick.next()}}detectChangesInAttachedViews(r){let i=null;this._injector.destroyed||(i=this._injector.get(Qn,null,{optional:!0}));let s=0,o=this.afterRenderEffectManager;for(;s<Dx;){let a=s===0;if(r||!a){this.beforeRender.next(a);for(let{_lView:l,notifyErrorHandler:c}of this._views)Tx(l,c,a,this.zonelessEnabled)}else i?.begin?.(),i?.end?.();if(s++,o.executeInternalCallbacks(),!this.allViews.some(({_lView:l})=>to(l))&&(o.execute(),!this.allViews.some(({_lView:l})=>to(l))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;hh(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(wc,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>hh(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new y(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function hh(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Tx(t,e,n,r){if(!n&&!to(t))return;pb(t,e,n&&!r?0:1)}var Qh=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},qf=(()=>{let e=class e{compileModuleSync(r){return new zh(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=Gv(r),o=qw(s.declarations).reduce((a,l)=>{let c=kr(l);return c&&a.push(new io(c)),a},[]);return new Qh(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ax=(()=>{let e=class e{constructor(){this.zone=E(ge),this.changeDetectionScheduler=E(ro),this.applicationRef=E(tr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Mx({ngZoneFactory:t,ignoreChangesOutsideZone:e}){return t??=()=>new ge(Rx()),[{provide:ge,useFactory:t},{provide:$i,multi:!0,useFactory:()=>{let n=E(Ax,{optional:!0});return()=>n.initialize()}},{provide:$i,multi:!0,useFactory:()=>{let n=E(xx);return()=>{n.initialize()}}},{provide:Pw,useFactory:Nx},e===!0?{provide:vb,useValue:!0}:[]]}function Nx(){let t=E(ge),e=E(Sn);return n=>t.runOutsideAngular(()=>e.handleError(n))}function Rx(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var xx=(()=>{let e=class e{constructor(){this.subscription=new Se,this.initialized=!1,this.zone=E(ge),this.pendingTasks=E(ts)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ge.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ge.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var kx=(()=>{let e=class e{constructor(){this.appRef=E(tr),this.taskService=E(ts),this.ngZone=E(ge),this.zonelessEnabled=E(_b),this.disableScheduling=E(vb,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Se,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Uh||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&r===5)return;switch(r){case 3:case 2:case 0:case 4:case 5:case 1:{this.shouldRefreshViews=!0;break}case 8:case 7:case 6:case 9:default:}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?dv:wb;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&ge.isInAngularZone())}tick(r){if(this.runningTick||this.appRef.destroyed)return;let i=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(r)},void 0,this.schedulerTickApplyArgs)}catch(s){throw this.taskService.remove(i),s}finally{this.cleanup()}this.useMicrotaskScheduler=!0,dv(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(i)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Ox(){return typeof $localize<"u"&&$localize.locale||Vl}var Kf=new N("",{providedIn:"root",factory:()=>E(Kf,H.Optional|H.SkipSelf)||Ox()});var Bb=new N("");var gl=null;function Px(t=[],e){return Kn.create({name:e,providers:[{provide:ql,useValue:"platform"},{provide:Bb,useValue:new Set([()=>gl=null])},...t]})}function Fx(t=[]){if(gl)return gl;let e=Px(t);return gl=e,Cx(),Lx(e),e}function Lx(t){t.get(bf,null)?.forEach(n=>n())}var rs=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Vx;let t=e;return t})();function Vx(t){return jx(Je(),ce(),(t&16)===16)}function jx(t,e,n){if(Yl(t)&&!n){let r=Xn(t.index,e);return new Vr(r,r)}else if(t.type&47){let r=e[rn];return new Vr(r,e)}return null}var Zh=class{constructor(){}supports(e){return Ib(e)}create(e){return new Jh(e)}},Ux=(t,e)=>e,Jh=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Ux}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<Iv(r,i,s)?n:r,a=Iv(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let c=a-i,u=l-i;if(c!=u){for(let h=0;h<c;h++){let f=h<s.length?s[h]:s[h]=0,p=f+h;u<=p&&p<c&&(s[h]=f+1)}let d=o.previousIndex;s[d]=u-c}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!Ib(e))throw new y(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,SR(e,a=>{o=this._trackByFn(i,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new Xh(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new jl),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new jl),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Xh=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},ef=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},jl=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new ef,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Iv(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var tf=class{constructor(){}supports(e){return e instanceof Map||$f(e)}create(){return new nf}},nf=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let n;for(n=this._mapHead;n!==null;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||$f(e)))throw new y(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{let s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){let r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,n);let s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}let r=new rf(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}},rf=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function Dv(){return new Yf([new Zh])}var Yf=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||Dv()),deps:[[e,new of,new zl]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i!=null)return i;throw new y(901,!1)}};e.\u0275prov=C({token:e,providedIn:"root",factory:Dv});let t=e;return t})();function Sv(){return new Qf([new tf])}var Qf=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||Sv()),deps:[[e,new of,new zl]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i)return i;throw new y(901,!1)}};e.\u0275prov=C({token:e,providedIn:"root",factory:Sv});let t=e;return t})();var $b=(()=>{let e=class e{constructor(r){}};e.\u0275fac=function(i){return new(i||e)(T(tr))},e.\u0275mod=mt({type:e}),e.\u0275inj=gt({});let t=e;return t})();function Hb(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=Fx(r),s=[Mx({}),{provide:ro,useExisting:kx},...n||[]],a=new Fl({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,l=a.get(ge);return l.run(()=>{a.resolveInjectorInitializers();let c=a.get(Sn,null),u;l.runOutsideAngular(()=>{u=l.onError.subscribe({next:f=>{c.handleError(f)}})});let d=()=>a.destroy(),h=i.get(Bb);return h.add(d),a.onDestroy(()=>{u.unsubscribe(),h.delete(d)}),Sx(c,l,()=>{let f=a.get(Ub);return f.runInitializers(),f.donePromise.then(()=>{let p=a.get(Kf,Vl);lx(p||Vl);let m=a.get(tr);return e!==void 0&&m.bootstrap(e),m})})})}catch(e){return Promise.reject(e)}}function is(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var Kb=null;function un(){return Kb}function Yb(t){Kb??=t}var bc=class{};var He=new N(""),Qb=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:()=>E(Bx),providedIn:"platform"});let t=e;return t})();var Bx=(()=>{let e=class e extends Qb{constructor(){super(),this._doc=E(He),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return un().getBaseHref(this._doc)}onPopState(r){let i=un().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=un().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function Zb(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function zb(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Yr(t){return t&&t[0]!=="?"?"?"+t:t}var ss=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:()=>E(Jb),providedIn:"root"});let t=e;return t})(),$x=new N(""),Jb=(()=>{let e=class e extends ss{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??E(He).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return Zb(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Yr(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Yr(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Yr(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(T(Qb),T($x,8))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var po=(()=>{let e=class e{constructor(r){this._subject=new le,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=Wx(zb(Wb(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Yr(i))}normalize(r){return e.stripTrailingSlash(zx(this._basePath,Wb(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Yr(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Yr(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=Yr,e.joinWithSlash=Zb,e.stripTrailingSlash=zb,e.\u0275fac=function(i){return new(i||e)(T(ss))},e.\u0275prov=C({token:e,factory:()=>Hx(),providedIn:"root"});let t=e;return t})();function Hx(){return new po(T(ss))}function zx(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Wb(t){return t.replace(/\/index.html$/,"")}function Wx(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function Xb(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var Jf=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Cc=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((s,o,a)=>{if(s.previousIndex==null)i.createEmbeddedView(this._template,new Jf(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(o===null?void 0:o);else if(o!==null){let l=i.get(o);i.move(l,a),Gb(l,s)}});for(let s=0,o=i.length;s<o;s++){let l=i.get(s).context;l.index=s,l.count=o,l.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{let o=i.get(s.currentIndex);Gb(o,s)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(M(es),M(uc),M(Yf))},e.\u0275dir=Ie({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function Gb(t,e){t.context.$implicit=e.item}var os=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new Xf,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){qb("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){qb("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(M(es),M(uc))},e.\u0275dir=Ie({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),Xf=class{constructor(){this.$implicit=null,this.ngIf=null}};function qb(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${qe(e)}'.`)}var eE=(()=>{let e=class e{constructor(r,i,s){this._ngEl=r,this._differs=i,this._renderer=s,this._ngStyle=null,this._differ=null}set ngStyle(r){this._ngStyle=r,!this._differ&&r&&(this._differ=this._differs.find(r).create())}ngDoCheck(){if(this._differ){let r=this._differ.diff(this._ngStyle);r&&this._applyChanges(r)}}_setStyle(r,i){let[s,o]=r.split("."),a=s.indexOf("-")===-1?void 0:on.DashCase;i!=null?this._renderer.setStyle(this._ngEl.nativeElement,s,o?`${i}${o}`:i,a):this._renderer.removeStyle(this._ngEl.nativeElement,s,a)}_applyChanges(r){r.forEachRemovedItem(i=>this._setStyle(i.key,null)),r.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),r.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}};e.\u0275fac=function(i){return new(i||e)(M(Ut),M(Qf),M(cn))},e.\u0275dir=Ie({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0});let t=e;return t})();var dn=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=mt({type:e}),e.\u0275inj=gt({});let t=e;return t})(),tE="browser",Gx="server";function tp(t){return t===Gx}var Ec=class{};var nE=new N("");var ip=class extends bc{constructor(){super(...arguments),this.supportsDOMEvents=!0}},sp=class t extends ip{static makeCurrent(){Yb(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=qx();return n==null?null:Kx(n)}resetBaseElement(){go=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Xb(document.cookie,e)}},go=null;function qx(){return go=go||document.querySelector("base"),go?go.getAttribute("href"):null}function Kx(t){return new URL(t,document.baseURI).pathname}var op=class{addToWindow(e){Et.getAngularTestability=(r,i=!0)=>{let s=e.findTestabilityInTree(r,i);if(s==null)throw new y(5103,!1);return s},Et.getAllAngularTestabilities=()=>e.getAllTestabilities(),Et.getAllAngularRootElements=()=>e.getAllRootElements();let n=r=>{let i=Et.getAllAngularTestabilities(),s=i.length,o=function(){s--,s==0&&r()};i.forEach(a=>{a.whenStable(o)})};Et.frameworkStabilizers||(Et.frameworkStabilizers=[]),Et.frameworkStabilizers.push(n)}findTestabilityInTree(e,n,r){if(n==null)return null;let i=e.getTestability(n);return i??(r?un().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},Yx=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac});let t=e;return t})(),ap=new N(""),sE=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new y(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(T(ap),T(ge))},e.\u0275prov=C({token:e,factory:e.\u0275fac});let t=e;return t})(),Dc=class{constructor(e){this._doc=e}},np="ng-app-id",oE=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=tp(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${np}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(np),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(np,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(T(He),T(rc),T(Cf,8),T($r))},e.\u0275prov=C({token:e,factory:e.\u0275fac});let t=e;return t})(),rp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},cp=/%COMP%/g,aE="%COMP%",Qx=`_nghost-${aE}`,Zx=`_ngcontent-${aE}`,Jx=!0,Xx=new N("",{providedIn:"root",factory:()=>Jx});function ek(t){return Zx.replace(cp,t)}function tk(t){return Qx.replace(cp,t)}function lE(t,e){return e.map(n=>n.replace(cp,t))}var Sc=(()=>{let e=class e{constructor(r,i,s,o,a,l,c,u=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=l,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=tp(l),this.defaultRenderer=new mo(r,a,c,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===tn.ShadowDom&&(i=X(b({},i),{encapsulation:tn.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof Tc?s.applyToHost(r):s instanceof yo&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,l=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case tn.Emulated:o=new Tc(c,u,i,this.appId,d,a,l,h);break;case tn.ShadowDom:return new lp(c,u,r,i,a,l,this.nonce,h);default:o=new yo(c,u,i,d,a,l,h);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(T(sE),T(oE),T(rc),T(Xx),T(He),T($r),T(ge),T(Cf))},e.\u0275prov=C({token:e,factory:e.\u0275fac});let t=e;return t})(),mo=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(rp[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(rE(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(rE(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new y(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=rp[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=rp[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(on.DashCase|on.Important)?e.style.setProperty(n,r,i&on.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&on.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=un().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function rE(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var lp=class extends mo{constructor(e,n,r,i,s,o,a,l){super(e,s,o,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=lE(i.id,i.styles);for(let u of c){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},yo=class extends mo{constructor(e,n,r,i,s,o,a,l){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=l?lE(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Tc=class extends yo{constructor(e,n,r,i,s,o,a,l){let c=i+"-"+r.id;super(e,n,r,s,o,a,l,c),this.contentAttr=ek(c),this.hostAttr=tk(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},nk=(()=>{let e=class e extends Dc{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(T(He))},e.\u0275prov=C({token:e,factory:e.\u0275fac});let t=e;return t})(),iE=["alt","control","meta","shift"],rk={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ik={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},sk=(()=>{let e=class e extends Dc{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>un().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",l=i.indexOf("code");if(l>-1&&(i.splice(l,1),a="code."),iE.forEach(u=>{let d=i.indexOf(u);d>-1&&(i.splice(d,1),a+=u+".")}),a+=o,i.length!=0||o.length===0)return null;let c={};return c.domEventName=s,c.fullKey=a,c}static matchEventFullKeyCode(r,i){let s=rk[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),iE.forEach(a=>{if(a!==s){let l=ik[a];l(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(T(He))},e.\u0275prov=C({token:e,factory:e.\u0275fac});let t=e;return t})();function cE(t,e){return Hb(b({rootComponent:t},ok(e)))}function ok(t){return{appProviders:[...uE,...t?.providers??[]],platformProviders:uk}}function ak(){sp.makeCurrent()}function lk(){return new Sn}function ck(){return $w(document),document}var uk=[{provide:$r,useValue:tE},{provide:bf,useValue:ak,multi:!0},{provide:He,useFactory:ck,deps:[]}];var dk=new N(""),hk=[{provide:fo,useClass:op,deps:[]},{provide:Wf,useClass:_c,deps:[ge,vc,fo]},{provide:_c,useClass:_c,deps:[ge,vc,fo]}],uE=[{provide:ql,useValue:"root"},{provide:Sn,useFactory:lk,deps:[]},{provide:ap,useClass:nk,multi:!0,deps:[He,ge,$r]},{provide:ap,useClass:sk,multi:!0,deps:[He]},Sc,oE,sE,{provide:Qn,useExisting:Sc},{provide:Ec,useClass:Yx,deps:[]},[]],dE=(()=>{let e=class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:rc,useValue:r.appId}]}}};e.\u0275fac=function(i){return new(i||e)(T(dk,12))},e.\u0275mod=mt({type:e}),e.\u0275inj=gt({providers:[...uE,...hk],imports:[dn,$b]});let t=e;return t})();var hE=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(T(He))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var B="primary",Oo=Symbol("RouteTitle"),pp=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function hs(t){return new pp(t)}function pk(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function gk(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!hn(t[n],e[n]))return!1;return!0}function hn(t,e){let n=t?gp(t):void 0,r=e?gp(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!wE(t[i],e[i]))return!1;return!0}function gp(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function wE(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function bE(t){return t.length>0?t[t.length-1]:null}function ir(t){return zd(t)?t:Kr(t)?Ce(Promise.resolve(t)):O(t)}var mk={exact:CE,subset:IE},EE={exact:yk,subset:_k,ignored:()=>!0};function fE(t,e,n){return mk[n.paths](t.root,e.root,n.matrixParams)&&EE[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function yk(t,e){return hn(t,e)}function CE(t,e,n){if(!Zr(t.segments,e.segments)||!Nc(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!CE(t.children[r],e.children[r],n))return!1;return!0}function _k(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>wE(t[n],e[n]))}function IE(t,e,n){return DE(t,e,e.segments,n)}function DE(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Zr(i,n)||e.hasChildren()||!Nc(i,n,r))}else if(t.segments.length===n.length){if(!Zr(t.segments,n)||!Nc(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!IE(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!Zr(t.segments,i)||!Nc(t.segments,i,r)||!t.children[B]?!1:DE(t.children[B],e,s,r)}}function Nc(t,e,n){return e.every((r,i)=>EE[n](t[i].parameters,r.parameters))}var nr=class{constructor(e=new ae([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=hs(this.queryParams),this._queryParamMap}toString(){return bk.serialize(this)}},ae=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Rc(this)}},Qr=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=hs(this.parameters),this._parameterMap}toString(){return TE(this)}};function vk(t,e){return Zr(t,e)&&t.every((n,r)=>hn(n.parameters,e[r].parameters))}function Zr(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function wk(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===B&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==B&&(n=n.concat(e(i,r)))}),n}var Bp=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:()=>new Io,providedIn:"root"});let t=e;return t})(),Io=class{parse(e){let n=new yp(e);return new nr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${_o(e.root,!0)}`,r=Ik(e.queryParams),i=typeof e.fragment=="string"?`#${Ek(e.fragment)}`:"";return`${n}${r}${i}`}},bk=new Io;function Rc(t){return t.segments.map(e=>TE(e)).join("/")}function _o(t,e){if(!t.hasChildren())return Rc(t);if(e){let n=t.children[B]?_o(t.children[B],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==B&&r.push(`${i}:${_o(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=wk(t,(r,i)=>i===B?[_o(t.children[B],!1)]:[`${i}:${_o(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[B]!=null?`${Rc(t)}/${n[0]}`:`${Rc(t)}/(${n.join("//")})`}}function SE(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ac(t){return SE(t).replace(/%3B/gi,";")}function Ek(t){return encodeURI(t)}function mp(t){return SE(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function xc(t){return decodeURIComponent(t)}function pE(t){return xc(t.replace(/\+/g,"%20"))}function TE(t){return`${mp(t.path)}${Ck(t.parameters)}`}function Ck(t){return Object.entries(t).map(([e,n])=>`;${mp(e)}=${mp(n)}`).join("")}function Ik(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Ac(n)}=${Ac(i)}`).join("&"):`${Ac(n)}=${Ac(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var Dk=/^[^\/()?;#]+/;function up(t){let e=t.match(Dk);return e?e[0]:""}var Sk=/^[^\/()?;=#]+/;function Tk(t){let e=t.match(Sk);return e?e[0]:""}var Ak=/^[^=?&#]+/;function Mk(t){let e=t.match(Ak);return e?e[0]:""}var Nk=/^[^&#]+/;function Rk(t){let e=t.match(Nk);return e?e[0]:""}var yp=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ae([],{}):new ae([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[B]=new ae(e,n)),r}parseSegment(){let e=up(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new y(4009,!1);return this.capture(e),new Qr(xc(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=Tk(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=up(this.remaining);i&&(r=i,this.capture(r))}e[xc(n)]=xc(r)}parseQueryParam(e){let n=Mk(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=Rk(this.remaining);o&&(r=o,this.capture(r))}let i=pE(n),s=pE(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=up(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new y(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=B);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[B]:new ae([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new y(4011,!1)}};function AE(t){return t.segments.length>0?new ae([],{[B]:t}):t}function ME(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=ME(i);if(r===B&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new ae(t.segments,e);return xk(n)}function xk(t){if(t.numberOfChildren===1&&t.children[B]){let e=t.children[B];return new ae(t.segments.concat(e.segments),e.children)}return t}function Do(t){return t instanceof nr}function kk(t,e,n=null,r=null){let i=NE(t);return RE(i,e,n,r)}function NE(t){let e;function n(s){let o={};for(let l of s.children){let c=n(l);o[l.outlet]=c}let a=new ae(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=AE(r);return e??i}function RE(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return dp(i,i,i,n,r);let s=Ok(e);if(s.toRoot())return dp(i,i,new ae([],{}),n,r);let o=Pk(s,i,t),a=o.processChildren?bo(o.segmentGroup,o.index,s.commands):kE(o.segmentGroup,o.index,s.commands);return dp(i,o.segmentGroup,a,n,r)}function kc(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function So(t){return typeof t=="object"&&t!=null&&t.outlets}function dp(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let o;t===e?o=n:o=xE(t,e,n);let a=AE(ME(o));return new nr(a,s,i)}function xE(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=xE(s,e,n)}),new ae(t.segments,r)}var Oc=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&kc(r[0]))throw new y(4003,!1);let i=r.find(So);if(i&&i!==bE(r))throw new y(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Ok(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Oc(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new Oc(n,e,r)}var cs=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function Pk(t,e,n){if(t.isAbsolute)return new cs(e,!0,0);if(!n)return new cs(e,!1,NaN);if(n.parent===null)return new cs(n,!0,0);let r=kc(t.commands[0])?0:1,i=n.segments.length-1+r;return Fk(n,i,t.numberOfDoubleDots)}function Fk(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new y(4005,!1);i=r.segments.length}return new cs(r,!1,i-s)}function Lk(t){return So(t[0])?t[0].outlets:{[B]:t}}function kE(t,e,n){if(t??=new ae([],{}),t.segments.length===0&&t.hasChildren())return bo(t,e,n);let r=Vk(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new ae(t.segments.slice(0,r.pathIndex),{});return s.children[B]=new ae(t.segments.slice(r.pathIndex),t.children),bo(s,0,i)}else return r.match&&i.length===0?new ae(t.segments,{}):r.match&&!t.hasChildren()?_p(t,e,n):r.match?bo(t,0,i):_p(t,e,n)}function bo(t,e,n){if(n.length===0)return new ae(t.segments,{});{let r=Lk(n),i={};if(Object.keys(r).some(s=>s!==B)&&t.children[B]&&t.numberOfChildren===1&&t.children[B].segments.length===0){let s=bo(t.children[B],e,n);return new ae(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=kE(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new ae(t.segments,i)}}function Vk(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(So(a))break;let l=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!mE(l,c,o))return s;r+=2}else{if(!mE(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function _p(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(So(s)){let l=jk(s.outlets);return new ae(r,l)}if(i===0&&kc(n[0])){let l=t.segments[e];r.push(new Qr(l.path,gE(n[0]))),i++;continue}let o=So(s)?s.outlets[B]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&kc(a)?(r.push(new Qr(o,gE(a))),i+=2):(r.push(new Qr(o,{})),i++)}return new ae(r,{})}function jk(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=_p(new ae([],{}),0,r))}),e}function gE(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function mE(t,e,n){return t==n.path&&hn(e,n.parameters)}var Eo="imperative",Ve=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Ve||{}),St=class{constructor(e,n){this.id=e,this.url=n}},To=class extends St{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Ve.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},rr=class extends St{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Ve.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},_t=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(_t||{}),vp=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(vp||{}),xn=class extends St{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ve.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Jr=class extends St{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ve.NavigationSkipped}},Ao=class extends St{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Ve.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Pc=class extends St{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ve.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},wp=class extends St{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ve.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},bp=class extends St{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=Ve.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Ep=class extends St{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ve.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Cp=class extends St{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ve.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ip=class{constructor(e){this.route=e,this.type=Ve.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Dp=class{constructor(e){this.route=e,this.type=Ve.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Sp=class{constructor(e){this.snapshot=e,this.type=Ve.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Tp=class{constructor(e){this.snapshot=e,this.type=Ve.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ap=class{constructor(e){this.snapshot=e,this.type=Ve.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Mp=class{constructor(e){this.snapshot=e,this.type=Ve.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Mo=class{},fs=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};var Np=class{constructor(e){this.injector=e,this.outlet=null,this.route=null,this.children=new $c(this.injector),this.attachRef=null}},$c=(()=>{let e=class e{constructor(r){this.parentInjector=r,this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Np(this.parentInjector),this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)(T(Ct))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Fc=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Rp(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Rp(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=xp(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return xp(e,this._root).map(n=>n.value)}};function Rp(t,e){if(t===e.value)return e;for(let n of e.children){let r=Rp(t,n);if(r)return r}return null}function xp(t,e){if(t===e.value)return[e];for(let n of e.children){let r=xp(t,n);if(r.length)return r.unshift(e),r}return[]}var yt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function ls(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Lc=class extends Fc{constructor(e,n){super(e),this.snapshot=n,$p(this,e)}toString(){return this.snapshot.toString()}};function OE(t){let e=Uk(t),n=new Fe([new Qr("",{})]),r=new Fe({}),i=new Fe({}),s=new Fe({}),o=new Fe(""),a=new Xr(n,r,s,o,i,B,t,e.root);return a.snapshot=e.root,new Lc(new yt(a,[]),e)}function Uk(t){let e={},n={},r={},i="",s=new us([],e,r,i,n,B,t,null,{});return new jc("",new yt(s,[]))}var Xr=class{constructor(e,n,r,i,s,o,a,l){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe($(c=>c[Oo]))??O(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe($(e=>hs(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe($(e=>hs(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Vc(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:b(b({},e.params),t.params),data:b(b({},e.data),t.data),resolve:b(b(b(b({},t.data),e.data),i?.data),t._resolvedData)}:r={params:b({},t.params),data:b({},t.data),resolve:b(b({},t.data),t._resolvedData??{})},i&&FE(i)&&(r.resolve[Oo]=i.title),r}var us=class{get title(){return this.data?.[Oo]}constructor(e,n,r,i,s,o,a,l,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=hs(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=hs(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},jc=class extends Fc{constructor(e,n){super(n),this.url=e,$p(this,n)}toString(){return PE(this._root)}};function $p(t,e){e.value._routerState=t,e.children.forEach(n=>$p(t,n))}function PE(t){let e=t.children.length>0?` { ${t.children.map(PE).join(", ")} } `:"";return`${t.value}${e}`}function hp(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,hn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),hn(e.params,n.params)||t.paramsSubject.next(n.params),gk(e.url,n.url)||t.urlSubject.next(n.url),hn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function kp(t,e){let n=hn(t.params,e.params)&&vk(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||kp(t.parent,e.parent))}function FE(t){return typeof t.title=="string"||t.title===null}var Hp=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=B,this.activateEvents=new le,this.deactivateEvents=new le,this.attachEvents=new le,this.detachEvents=new le,this.parentContexts=E($c),this.location=E(es),this.changeDetector=E(rs),this.inputBinder=E(zp,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new y(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new y(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new y(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new y(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new Op(r,l,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:c,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ie({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Jn]});let t=e;return t})(),Op=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Xr?this.route:e===$c?this.childContexts:this.parent.get(e,n)}},zp=new N("");function Bk(t,e,n){let r=No(t,e._root,n?n._root:void 0);return new Lc(r,e)}function No(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=$k(t,e,n);return new yt(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>No(t,a)),o}}let r=Hk(e.value),i=e.children.map(s=>No(t,s));return new yt(r,i)}}function $k(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return No(t,r,i);return No(t,r)})}function Hk(t){return new Xr(new Fe(t.url),new Fe(t.params),new Fe(t.queryParams),new Fe(t.fragment),new Fe(t.data),t.outlet,t.component,t)}var Ro=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},LE="ngNavigationCancelingError";function Uc(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Do(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=VE(!1,_t.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function VE(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[LE]=!0,n.cancellationCode=e,n}function zk(t){return jE(t)&&Do(t.url)}function jE(t){return!!t&&t[LE]}var Wk=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ke({type:e,selectors:[["ng-component"]],standalone:!0,features:[Oe],decls:1,vars:0,template:function(i,s){i&1&&x(0,"router-outlet")},dependencies:[Hp],encapsulation:2});let t=e;return t})();function Gk(t,e){return t.providers&&!t._injector&&(t._injector=Bf(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Wp(t){let e=t.children&&t.children.map(Wp),n=e?X(b({},t),{children:e}):b({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==B&&(n.component=Wk),n}function Ht(t){return t.outlet||B}function qk(t,e){let n=t.filter(r=>Ht(r)===e);return n.push(...t.filter(r=>Ht(r)!==e)),n}function Po(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Kk=(t,e,n,r)=>$(i=>(new Pp(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Pp=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),hp(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=ls(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=ls(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=ls(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=ls(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Mp(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Tp(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(hp(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),hp(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=Po(i.snapshot);o.attachRef=null,o.route=i,o.injector=a??o.injector,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},Bc=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ds=class{constructor(e,n){this.component=e,this.route=n}};function Yk(t,e,n){let r=t._root,i=e?e._root:null;return vo(r,i,n,[r.value])}function Qk(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function gs(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!Nv(t)?t:e.get(t):r}function vo(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=ls(e);return t.children.forEach(o=>{Zk(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Co(a,n.getContext(o),i)),i}function Zk(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let l=Jk(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Bc(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?vo(t,e,a?a.children:null,r,i):vo(t,e,n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ds(a.outlet.component,o))}else o&&Co(e,a,i),i.canActivateChecks.push(new Bc(r)),s.component?vo(t,null,a?a.children:null,r,i):vo(t,null,n,r,i);return i}function Jk(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Zr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Zr(t.url,e.url)||!hn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!kp(t,e)||!hn(t.queryParams,e.queryParams);case"paramsChange":default:return!kp(t,e)}}function Co(t,e,n){let r=ls(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Co(o,e.children.getContext(s),n):Co(o,null,n):Co(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new ds(e.outlet.component,i)):n.canDeactivateChecks.push(new ds(null,i)):n.canDeactivateChecks.push(new ds(null,i))}function Fo(t){return typeof t=="function"}function Xk(t){return typeof t=="boolean"}function eO(t){return t&&Fo(t.canLoad)}function tO(t){return t&&Fo(t.canActivate)}function nO(t){return t&&Fo(t.canActivateChild)}function rO(t){return t&&Fo(t.canDeactivate)}function iO(t){return t&&Fo(t.canMatch)}function UE(t){return t instanceof In||t?.name==="EmptyError"}var Mc=Symbol("INITIAL_VALUE");function ps(){return Ft(t=>sl(t.map(e=>e.pipe(Dn(1),Qd(Mc)))).pipe($(e=>{for(let n of e)if(n!==!0){if(n===Mc)return Mc;if(n===!1||sO(n))return n}return!0}),Pt(e=>e!==Mc),Dn(1)))}function sO(t){return Do(t)||t instanceof Ro}function oO(t,e){return we(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?O(X(b({},n),{guardsResult:!0})):aO(o,r,i,t).pipe(we(a=>a&&Xk(a)?lO(r,s,t,e):O(a)),$(a=>X(b({},n),{guardsResult:a})))})}function aO(t,e,n,r){return Ce(t).pipe(we(i=>fO(i.component,i.route,n,e,r)),Jt(i=>i!==!0,!0))}function lO(t,e,n,r){return Ce(e).pipe(Oi(i=>xi(uO(i.route.parent,r),cO(i.route,r),hO(t,i.path,n),dO(t,i.route,n))),Jt(i=>i!==!0,!0))}function cO(t,e){return t!==null&&e&&e(new Ap(t)),O(!0)}function uO(t,e){return t!==null&&e&&e(new Sp(t)),O(!0)}function dO(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return O(!0);let i=r.map(s=>ki(()=>{let o=Po(e)??n,a=gs(s,o),l=tO(a)?a.canActivate(e,t):an(o,()=>a(e,t));return ir(l).pipe(Jt())}));return O(i).pipe(ps())}function hO(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>Qk(o)).filter(o=>o!==null).map(o=>ki(()=>{let a=o.guards.map(l=>{let c=Po(o.node)??n,u=gs(l,c),d=nO(u)?u.canActivateChild(r,t):an(c,()=>u(r,t));return ir(d).pipe(Jt())});return O(a).pipe(ps())}));return O(s).pipe(ps())}function fO(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return O(!0);let o=s.map(a=>{let l=Po(e)??i,c=gs(a,l),u=rO(c)?c.canDeactivate(t,e,n,r):an(l,()=>c(t,e,n,r));return ir(u).pipe(Jt())});return O(o).pipe(ps())}function pO(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return O(!0);let s=i.map(o=>{let a=gs(o,t),l=eO(a)?a.canLoad(e,n):an(t,()=>a(e,n));return ir(l)});return O(s).pipe(ps(),BE(r))}function BE(t){return jd(Le(e=>{if(typeof e!="boolean")throw Uc(t,e)}),$(e=>e===!0))}function gO(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return O(!0);let s=i.map(o=>{let a=gs(o,t),l=iO(a)?a.canMatch(e,n):an(t,()=>a(e,n));return ir(l)});return O(s).pipe(ps(),BE(r))}var xo=class{constructor(e){this.segmentGroup=e||null}},ko=class extends Error{constructor(e){super(),this.urlTree=e}};function as(t){return Ri(new xo(t))}function mO(t){return Ri(new y(4e3,!1))}function yO(t){return Ri(VE(!1,_t.GuardRejected))}var Fp=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return O(r);if(i.numberOfChildren>1||!i.children[B])return mO(`${e.redirectTo}`);i=i.children[B]}}applyRedirectCommands(e,n,r,i,s){if(typeof n!="string"){let a=n,{queryParams:l,fragment:c,routeConfig:u,url:d,outlet:h,params:f,data:p,title:m}=i,w=an(s,()=>a({params:f,data:p,queryParams:l,fragment:c,routeConfig:u,url:d,outlet:h,title:m}));if(w instanceof nr)throw new ko(w);n=w}let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new ko(o);return o}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new nr(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(e,l,r,i)}),new ae(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new y(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Lp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function _O(t,e,n,r,i){let s=Gp(t,e,n);return s.matched?(r=Gk(e,r),gO(r,e,n,i).pipe($(o=>o===!0?s:b({},Lp)))):O(s)}function Gp(t,e,n){if(e.path==="**")return vO(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?b({},Lp):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||pk)(n,t,e);if(!i)return b({},Lp);let s={};Object.entries(i.posParams??{}).forEach(([a,l])=>{s[a]=l.path});let o=i.consumed.length>0?b(b({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function vO(t){return{matched:!0,parameters:t.length>0?bE(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function yE(t,e,n,r){return n.length>0&&EO(t,n,r)?{segmentGroup:new ae(e,bO(r,new ae(n,t.children))),slicedSegments:[]}:n.length===0&&CO(t,n,r)?{segmentGroup:new ae(t.segments,wO(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ae(t.segments,t.children),slicedSegments:n}}function wO(t,e,n,r){let i={};for(let s of n)if(Hc(t,e,s)&&!r[Ht(s)]){let o=new ae([],{});i[Ht(s)]=o}return b(b({},r),i)}function bO(t,e){let n={};n[B]=e;for(let r of t)if(r.path===""&&Ht(r)!==B){let i=new ae([],{});n[Ht(r)]=i}return n}function EO(t,e,n){return n.some(r=>Hc(t,e,r)&&Ht(r)!==B)}function CO(t,e,n){return n.some(r=>Hc(t,e,r))}function Hc(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function IO(t,e,n,r){return Ht(t)!==r&&(r===B||!Hc(e,n,t))?!1:Gp(e,t,n).matched}function DO(t,e,n){return e.length===0&&!t.children[n]}var Vp=class{};function SO(t,e,n,r,i,s,o="emptyOnly"){return new jp(t,e,n,r,i,o,s).recognize()}var TO=31,jp=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Fp(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new y(4002,`'${e.segmentGroup}'`)}recognize(){let e=yE(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe($(({children:n,rootSnapshot:r})=>{let i=new yt(r,n),s=new jc("",i),o=kk(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let n=new us([],Object.freeze({}),Object.freeze(b({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),B,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,B,n).pipe($(r=>({children:r,rootSnapshot:n})),$n(r=>{if(r instanceof ko)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof xo?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,s):this.processSegment(e,n,r,r.segments,i,!0,s).pipe($(o=>o instanceof yt?[o]:[]))}processChildren(e,n,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return Ce(s).pipe(Oi(o=>{let a=r.children[o],l=qk(n,o);return this.processSegmentGroup(e,l,a,o,i)}),Yd((o,a)=>(o.push(...a),o)),Hn(null),Kd(),we(o=>{if(o===null)return as(r);let a=$E(o);return AO(a),O(a)}))}processSegment(e,n,r,i,s,o,a){return Ce(n).pipe(Oi(l=>this.processSegmentAgainstRoute(l._injector??e,n,l,r,i,s,o,a).pipe($n(c=>{if(c instanceof xo)return O(null);throw c}))),Jt(l=>!!l),$n(l=>{if(UE(l))return DO(r,i,s)?O(new Vp):as(r);throw l}))}processSegmentAgainstRoute(e,n,r,i,s,o,a,l){return IO(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o,l):as(i):as(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o,a){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:d,remainingSegments:h}=Gp(n,i,s);if(!l)return as(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>TO&&(this.allowRedirects=!1));let f=new us(s,c,Object.freeze(b({},this.urlTree.queryParams)),this.urlTree.fragment,_E(i),Ht(i),i.component??i._loadedComponent??null,i,vE(i)),p=Vc(f,a,this.paramsInheritanceStrategy);f.params=Object.freeze(p.params),f.data=Object.freeze(p.data);let m=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,f,e);return this.applyRedirects.lineralizeSegments(i,m).pipe(we(w=>this.processSegment(e,r,n,w.concat(h),o,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a=_O(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Ft(l=>l.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Ft(({routes:c})=>{let u=r._loadedInjector??e,{parameters:d,consumedSegments:h,remainingSegments:f}=l,p=new us(h,d,Object.freeze(b({},this.urlTree.queryParams)),this.urlTree.fragment,_E(r),Ht(r),r.component??r._loadedComponent??null,r,vE(r)),m=Vc(p,o,this.paramsInheritanceStrategy);p.params=Object.freeze(m.params),p.data=Object.freeze(m.data);let{segmentGroup:w,slicedSegments:D}=yE(n,h,f,c);if(D.length===0&&w.hasChildren())return this.processChildren(u,c,w,p).pipe($(F=>new yt(p,F)));if(c.length===0&&D.length===0)return O(new yt(p,[]));let G=Ht(r)===s;return this.processSegment(u,c,w,D,G?B:s,!0,p).pipe($(F=>new yt(p,F instanceof yt?[F]:[])))}))):as(n)))}getChildConfig(e,n,r){return n.children?O({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?O({routes:n._loadedRoutes,injector:n._loadedInjector}):pO(e,n,r,this.urlSerializer).pipe(we(i=>i?this.configLoader.loadChildren(e,n).pipe(Le(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):yO(n))):O({routes:[],injector:e})}};function AO(t){t.sort((e,n)=>e.value.outlet===B?-1:n.value.outlet===B?1:e.value.outlet.localeCompare(n.value.outlet))}function MO(t){let e=t.value.routeConfig;return e&&e.path===""}function $E(t){let e=[],n=new Set;for(let r of t){if(!MO(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=$E(r.children);e.push(new yt(r.value,i))}return e.filter(r=>!n.has(r))}function _E(t){return t.data||{}}function vE(t){return t.resolve||{}}function NO(t,e,n,r,i,s){return we(o=>SO(t,e,n,r,o.extractedUrl,i,s).pipe($(({state:a,tree:l})=>X(b({},o),{targetSnapshot:a,urlAfterRedirects:l}))))}function RO(t,e){return we(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return O(n);let s=new Set(i.map(l=>l.route)),o=new Set;for(let l of s)if(!o.has(l))for(let c of HE(l))o.add(c);let a=0;return Ce(o).pipe(Oi(l=>s.has(l)?xO(l,r,t,e):(l.data=Vc(l,l.parent,t).resolve,O(void 0))),Le(()=>a++),Pi(1),we(l=>a===o.size?O(n):ht))})}function HE(t){let e=t.children.map(n=>HE(n)).flat();return[t,...e]}function xO(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!FE(i)&&(s[Oo]=i.title),kO(s,t,e,r).pipe($(o=>(t._resolvedData=o,t.data=Vc(t,t.parent,n).resolve,null)))}function kO(t,e,n,r){let i=gp(t);if(i.length===0)return O({});let s={};return Ce(i).pipe(we(o=>OO(t[o],e,n,r).pipe(Jt(),Le(a=>{if(a instanceof Ro)throw Uc(new Io,a);s[o]=a}))),Pi(1),qd(s),$n(o=>UE(o)?ht:Ri(o)))}function OO(t,e,n,r){let i=Po(e)??r,s=gs(t,i),o=s.resolve?s.resolve(e,n):an(i,()=>s(e,n));return ir(o)}function fp(t){return Ft(e=>{let n=t(e);return n?Ce(n).pipe($(()=>e)):O(e)})}var zE=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===B);return i}getResolvedTitleForRoute(r){return r.data[Oo]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:()=>E(PO),providedIn:"root"});let t=e;return t})(),PO=(()=>{let e=class e extends zE{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(T(hE))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),qp=new N("",{providedIn:"root",factory:()=>({})}),Kp=new N(""),FO=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=E(qf)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return O(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=ir(r.loadComponent()).pipe($(WE),Le(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),Ys(()=>{this.componentLoaders.delete(r)})),s=new Ni(i,()=>new ve).pipe(Mi());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return O({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=LO(i,this.compiler,r,this.onLoadEndListener).pipe(Ys(()=>{this.childrenLoaders.delete(i)})),a=new Ni(o,()=>new ve).pipe(Mi());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function LO(t,e,n,r){return ir(t.loadChildren()).pipe($(WE),we(i=>i instanceof so||Array.isArray(i)?O(i):Ce(e.compileModuleAsync(i))),$(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(Kp,[],{optional:!0,self:!0}).flat()),{routes:o.map(Wp),injector:s}}))}function VO(t){return t&&typeof t=="object"&&"default"in t}function WE(t){return VO(t)?t.default:t}var Yp=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:()=>E(jO),providedIn:"root"});let t=e;return t})(),jO=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),UO=new N("");var BO=new N(""),$O=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ve,this.transitionAbortSubject=new ve,this.configLoader=E(FO),this.environmentInjector=E(Ct),this.urlSerializer=E(Bp),this.rootContexts=E($c),this.location=E(po),this.inputBindingEnabled=E(zp,{optional:!0})!==null,this.titleStrategy=E(zE),this.options=E(qp,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=E(Yp),this.createViewTransition=E(UO,{optional:!0}),this.navigationErrorHandler=E(BO,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>O(void 0),this.rootComponentType=null;let r=s=>this.events.next(new Ip(s)),i=s=>this.events.next(new Dp(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(X(b(b({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new Fe({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Eo,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Pt(o=>o.id!==0),$(o=>X(b({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Ft(o=>{let a=!1,l=!1;return O(o).pipe(Ft(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",_t.SupersededByNewNavigation),ht;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?X(b({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=c.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!u&&d!=="reload"){let h="";return this.events.next(new Jr(c.id,this.urlSerializer.serialize(c.rawUrl),h,vp.IgnoredSameUrlNavigation)),c.resolve(!1),ht}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return O(c).pipe(Ft(h=>{let f=this.transitions?.getValue();return this.events.next(new To(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?ht:Promise.resolve(h)}),NO(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Le(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=X(b({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let f=new Pc(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:h,extractedUrl:f,source:p,restoredState:m,extras:w}=c,D=new To(h,this.urlSerializer.serialize(f),p,m);this.events.next(D);let G=OE(this.rootComponentType).snapshot;return this.currentTransition=o=X(b({},c),{targetSnapshot:G,urlAfterRedirects:f,extras:X(b({},w),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,O(o)}else{let h="";return this.events.next(new Jr(c.id,this.urlSerializer.serialize(c.extractedUrl),h,vp.IgnoredByUrlHandlingStrategy)),c.resolve(!1),ht}}),Le(c=>{let u=new wp(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),$(c=>(this.currentTransition=o=X(b({},c),{guards:Yk(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),oO(this.environmentInjector,c=>this.events.next(c)),Le(c=>{if(o.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw Uc(this.urlSerializer,c.guardsResult);let u=new bp(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),Pt(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",_t.GuardRejected),!1)),fp(c=>{if(c.guards.canActivateChecks.length)return O(c).pipe(Le(u=>{let d=new Ep(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),Ft(u=>{let d=!1;return O(u).pipe(RO(this.paramsInheritanceStrategy,this.environmentInjector),Le({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",_t.NoDataFromResolver)}}))}),Le(u=>{let d=new Cp(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),fp(c=>{let u=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(Le(f=>{d.component=f}),$(()=>{})));for(let f of d.children)h.push(...u(f));return h};return sl(u(c.targetSnapshot.root)).pipe(Hn(null),Dn(1))}),fp(()=>this.afterPreactivation()),Ft(()=>{let{currentSnapshot:c,targetSnapshot:u}=o,d=this.createViewTransition?.(this.environmentInjector,c.root,u.root);return d?Ce(d).pipe($(()=>o)):O(o)}),$(c=>{let u=Bk(r.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=X(b({},c),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,o}),Le(()=>{this.events.next(new Mo)}),Kk(this.rootContexts,r.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Dn(1),Le({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new rr(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),Zd(this.transitionAbortSubject.pipe(Le(c=>{throw c}))),Ys(()=>{!a&&!l&&this.cancelNavigationTransition(o,"",_t.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),$n(c=>{if(l=!0,jE(c))this.events.next(new xn(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),zk(c)?this.events.next(new fs(c.url,c.navigationBehaviorOptions)):o.resolve(!1);else{let u=new Ao(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0);try{let d=an(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(d instanceof Ro){let{message:h,cancellationCode:f}=Uc(this.urlSerializer,d);this.events.next(new xn(o.id,this.urlSerializer.serialize(o.extractedUrl),h,f)),this.events.next(new fs(d.redirectTo,d.navigationBehaviorOptions))}else{this.events.next(u);let h=r.errorHandler(c);o.resolve(!!h)}}catch(d){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(d)}}return ht}))}))}cancelNavigationTransition(r,i,s){let o=new xn(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function HO(t){return t!==Eo}var zO=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:()=>E(WO),providedIn:"root"});let t=e;return t})(),Up=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},WO=(()=>{let e=class e extends Up{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=er(e)))(s||e)}})(),e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),GE=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:()=>E(GO),providedIn:"root"});let t=e;return t})(),GO=(()=>{let e=class e extends GE{constructor(){super(...arguments),this.location=E(po),this.urlSerializer=E(Bp),this.options=E(qp,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=E(Yp),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new nr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=OE(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof To)this.stateMemento=this.createStateMemento();else if(r instanceof Jr)this.rawUrlTree=i.initialUrl;else if(r instanceof Pc){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof Mo?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof xn&&(r.code===_t.GuardRejected||r.code===_t.NoDataFromResolver)?this.restoreHistory(i):r instanceof Ao?this.restoreHistory(i,!0):r instanceof rr&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=b(b({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=b(b({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=er(e)))(s||e)}})(),e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),wo=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(wo||{});function qO(t,e){t.events.pipe(Pt(n=>n instanceof rr||n instanceof xn||n instanceof Ao||n instanceof Jr),$(n=>n instanceof rr||n instanceof Jr?wo.COMPLETE:(n instanceof xn?n.code===_t.Redirect||n.code===_t.SupersededByNewNavigation:!1)?wo.REDIRECTING:wo.FAILED),Pt(n=>n!==wo.REDIRECTING),Dn(1)).subscribe(()=>{e()})}function KO(t){throw t}var YO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},QO={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},kn=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=E(yc),this.stateManager=E(GE),this.options=E(qp,{optional:!0})||{},this.pendingTasks=E(ts),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=E($O),this.urlSerializer=E(Bp),this.location=E(po),this.urlHandlingStrategy=E(Yp),this._events=new ve,this.errorHandler=this.options.errorHandler||KO,this.navigated=!1,this.routeReuseStrategy=E(zO),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=E(Kp,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!E(zp,{optional:!0}),this.eventsSubscription=new Se,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof xn&&i.code!==_t.Redirect&&i.code!==_t.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof rr)this.navigated=!0;else if(i instanceof fs){let a=i.navigationBehaviorOptions,l=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),c=b({info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||this.urlUpdateStrategy==="eager"||HO(s.source)},a);this.scheduleNavigation(l,Eo,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}JO(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Eo,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let c=b({},s);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let l=this.parseUrl(r);this.scheduleNavigation(l,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Wp),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:l,preserveFragment:c}=i,u=c?this.currentUrlTree.fragment:a,d=null;switch(l){case"merge":d=b(b({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let f=s?s.snapshot:this.routerState.snapshot.root;h=NE(f)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),h=this.currentUrlTree.root}return RE(h,r,d,u??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=Do(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Eo,null,i)}navigate(r,i={skipLocationChange:!1}){return ZO(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=b({},YO):i===!1?s=b({},QO):s=i,Do(r))return fE(this.currentUrlTree,r,s);let o=this.parseUrl(r);return fE(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let l,c,u;a?(l=a.resolve,c=a.reject,u=a.promise):u=new Promise((h,f)=>{l=h,c=f});let d=this.pendingTasks.add();return qO(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:l,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(h=>Promise.reject(h))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ZO(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new y(4008,!1)}function JO(t){return!(t instanceof Mo)&&!(t instanceof fs)}var qE=(()=>{let e=class e{constructor(r,i,s,o,a,l){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=l,this.href=null,this.commands=null,this.onChanges=new ve,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let c=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=r.events.subscribe(u=>{u instanceof rr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,s,o,a){let l=this.urlTree;if(l===null||this.isAnchorElement&&(r!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(l,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:Ww(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(M(kn),M(Xr),wf("tabindex"),M(cn),M(Ut),M(ss))},e.\u0275dir=Ie({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&U("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&dc("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",is],skipLocationChange:[2,"skipLocationChange","skipLocationChange",is],replaceUrl:[2,"replaceUrl","replaceUrl",is],routerLink:"routerLink"},standalone:!0,features:[Uf,Jn]});let t=e;return t})();var XO=new N("");function KE(t,...e){return Gl([{provide:Kp,multi:!0,useValue:t},[],{provide:Xr,useFactory:eP,deps:[kn]},{provide:wc,multi:!0,useFactory:tP},e.map(n=>n.\u0275providers)])}function eP(t){return t.routerState.root}function tP(){let t=E(Kn);return e=>{let n=t.get(tr);if(e!==n.components[0])return;let r=t.get(kn),i=t.get(nP);t.get(rP)===1&&r.initialNavigation(),t.get(iP,null,H.Optional)?.setUpPreloading(),t.get(XO,null,H.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var nP=new N("",{factory:()=>new ve}),rP=new N("",{providedIn:"root",factory:()=>1});var iP=new N("");var Jp={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var v=function(t,e){if(!t)throw ei(e)},ei=function(t){return new Error("Firebase Database ("+Jp.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};var QE=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},sP=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Wc={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=s>>2,d=(s&3)<<4|a>>4,h=(a&15)<<2|c>>6,f=c&63;l||(f=64,o||(h=64)),r.push(n[u],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(QE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):sP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let c=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||d==null)throw new Xp;let h=s<<2|a>>4;if(r.push(h),c!==64){let f=a<<4&240|c>>2;if(r.push(f),d!==64){let p=c<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Xp=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},tg=function(t){let e=QE(t);return Wc.encodeByteArray(e,!0)},Lo=function(t){return tg(t).replace(/\./g,"")},Vo=function(t){try{return Wc.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function ZE(t){return JE(void 0,t)}function JE(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(let n in e)!e.hasOwnProperty(n)||!oP(n)||(t[n]=JE(t[n],e[n]));return t}function oP(t){return t!=="__proto__"}function aP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var lP=()=>aP().__FIREBASE_DEFAULTS__,cP=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},uP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Vo(t[1]);return e&&JSON.parse(e)},ng=()=>{try{return lP()||cP()||uP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},rg=t=>{var e,n;return(n=(e=ng())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},XE=t=>{let e=rg(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ig=()=>{var t;return(t=ng())===null||t===void 0?void 0:t.config},sg=t=>{var e;return(e=ng())===null||e===void 0?void 0:e[`_${t}`]};var sr=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function eC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Lo(JSON.stringify(n)),Lo(JSON.stringify(o)),""].join(".")}function je(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jo(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(je())}function tC(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Gc(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nC(){let t=je();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function fn(){return Jp.NODE_CLIENT===!0||Jp.NODE_ADMIN===!0}function rC(){try{return typeof indexedDB=="object"}catch{return!1}}function iC(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var dP="FirebaseError",zt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=dP,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,On.prototype.create)}},On=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?hP(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new zt(i,a,r)}};function hP(t,e){return t.replace(fP,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var fP=/\{\$([^}]+)}/g;function ms(t){return JSON.parse(t)}function Ae(t){return JSON.stringify(t)}var sC=function(t){let e={},n={},r={},i="";try{let s=t.split(".");e=ms(Vo(s[0])||""),n=ms(Vo(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}};var oC=function(t){let e=sC(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},aC=function(t){let e=sC(t).claims;return typeof e=="object"&&e.admin===!0};function pn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ti(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Uo(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Bo(t,e,n){let r={};for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function ys(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(YE(s)&&YE(o)){if(!ys(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function YE(t){return t!==null&&typeof t=="object"}function ni(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function _s(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function vs(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}var zc=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);let r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){let h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let d=0;d<80;d++){d<40?d<20?(c=a^s&(o^a),u=1518500249):(c=s^o^a,u=1859775393):d<60?(c=s&o|a&(s|o),u=2400959708):(c=s^o^a,u=3395469782);let h=(i<<5|i>>>27)+c+l+u+r[d]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);let r=n-this.blockSize,i=0,s=this.buf_,o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){let e=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}};function lC(t,e){let n=new eg(t,e);return n.subscribe.bind(n)}var eg=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");pP(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Zp),i.error===void 0&&(i.error=Zp),i.complete===void 0&&(i.complete=Zp);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function pP(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Zp(){}function qc(t,e){return`${t} failed: ${e} argument `}var cC=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){let s=i-55296;r++,v(r<t.length,"Surrogate pair missing trail surrogate.");let o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},$o=function(t){let e=0;for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};var XG=4*60*60*1e3;function ze(t){return t&&t._delegate?t._delegate:t}var Tt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var ri="[DEFAULT]";var Kc=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new sr;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(mP(e))try{this.getOrInitializeService({instanceIdentifier:ri})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ri){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return g(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=ri){return this.instances.has(e)}getOptions(e=ri){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:gP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ri){return this.component?this.component.multipleInstances?e:ri:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function gP(t){return t===ri?void 0:t}function mP(t){return t.instantiationMode==="EAGER"}var Ho=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Kc(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var yP=[],ue=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ue||{}),_P={debug:ue.DEBUG,verbose:ue.VERBOSE,info:ue.INFO,warn:ue.WARN,error:ue.ERROR,silent:ue.SILENT},vP=ue.INFO,wP={[ue.DEBUG]:"log",[ue.VERBOSE]:"log",[ue.INFO]:"info",[ue.WARN]:"warn",[ue.ERROR]:"error"},bP=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=wP[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},or=class{constructor(e){this.name=e,this._logLevel=vP,this._logHandler=bP,this._userLogHandler=null,yP.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_P[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ue.DEBUG,...e),this._logHandler(this,ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ue.VERBOSE,...e),this._logHandler(this,ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ue.INFO,...e),this._logHandler(this,ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ue.WARN,...e),this._logHandler(this,ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ue.ERROR,...e),this._logHandler(this,ue.ERROR,...e)}};var EP=(t,e)=>e.some(n=>t instanceof n),uC,dC;function CP(){return uC||(uC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function IP(){return dC||(dC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var hC=new WeakMap,ag=new WeakMap,fC=new WeakMap,og=new WeakMap,cg=new WeakMap;function DP(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(gn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&hC.set(n,t)}).catch(()=>{}),cg.set(e,t),e}function SP(t){if(ag.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});ag.set(t,e)}var lg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ag.get(t);if(e==="objectStoreNames")return t.objectStoreNames||fC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return gn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function pC(t){lg=t(lg)}function TP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Yc(this),e,...n);return fC.set(r,e.sort?e.sort():[e]),gn(r)}:IP().includes(t)?function(...e){return t.apply(Yc(this),e),gn(hC.get(this))}:function(...e){return gn(t.apply(Yc(this),e))}}function AP(t){return typeof t=="function"?TP(t):(t instanceof IDBTransaction&&SP(t),EP(t,CP())?new Proxy(t,lg):t)}function gn(t){if(t instanceof IDBRequest)return DP(t);if(og.has(t))return og.get(t);let e=AP(t);return e!==t&&(og.set(t,e),cg.set(e,t)),e}var Yc=t=>cg.get(t);function mC(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=gn(o);return r&&o.addEventListener("upgradeneeded",l=>{r(gn(o.result),l.oldVersion,l.newVersion,gn(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}var MP=["get","getKey","getAll","getAllKeys","count"],NP=["put","add","delete","clear"],ug=new Map;function gC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ug.get(e))return ug.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=NP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||MP.includes(n)))return;let s=function(o,...a){return g(this,null,function*(){let l=this.transaction(o,i?"readwrite":"readonly"),c=l.store;return r&&(c=c.index(a.shift())),(yield Promise.all([c[n](...a),i&&l.done]))[0]})};return ug.set(e,s),s}pC(t=>X(b({},t),{get:(e,n,r)=>gC(e,n)||t.get(e,n,r),has:(e,n)=>!!gC(e,n)||t.has(e,n)}));var hg=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(RP(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function RP(t){let e=t.getComponent();return e?.type==="VERSION"}var fg="@firebase/app",yC="0.10.5";var ii=new or("@firebase/app"),xP="@firebase/app-compat",kP="@firebase/analytics-compat",OP="@firebase/analytics",PP="@firebase/app-check-compat",FP="@firebase/app-check",LP="@firebase/auth",VP="@firebase/auth-compat",jP="@firebase/database",UP="@firebase/database-compat",BP="@firebase/functions",$P="@firebase/functions-compat",HP="@firebase/installations",zP="@firebase/installations-compat",WP="@firebase/messaging",GP="@firebase/messaging-compat",qP="@firebase/performance",KP="@firebase/performance-compat",YP="@firebase/remote-config",QP="@firebase/remote-config-compat",ZP="@firebase/storage",JP="@firebase/storage-compat",XP="@firebase/firestore",e1="@firebase/vertexai-preview",t1="@firebase/firestore-compat",n1="firebase",r1="10.12.2";var pg="[DEFAULT]",i1={[fg]:"fire-core",[xP]:"fire-core-compat",[OP]:"fire-analytics",[kP]:"fire-analytics-compat",[FP]:"fire-app-check",[PP]:"fire-app-check-compat",[LP]:"fire-auth",[VP]:"fire-auth-compat",[jP]:"fire-rtdb",[UP]:"fire-rtdb-compat",[BP]:"fire-fn",[$P]:"fire-fn-compat",[HP]:"fire-iid",[zP]:"fire-iid-compat",[WP]:"fire-fcm",[GP]:"fire-fcm-compat",[qP]:"fire-perf",[KP]:"fire-perf-compat",[YP]:"fire-rc",[QP]:"fire-rc-compat",[ZP]:"fire-gcs",[JP]:"fire-gcs-compat",[XP]:"fire-fst",[t1]:"fire-fst-compat",[e1]:"fire-vertex","fire-js":"fire-js",[n1]:"fire-js-all"};var Qc=new Map,s1=new Map,gg=new Map;function _C(t,e){try{t.container.addComponent(e)}catch(n){ii.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function lr(t){let e=t.name;if(gg.has(e))return ii.debug(`There were multiple attempts to register component ${e}.`),!1;gg.set(e,t);for(let n of Qc.values())_C(n,t);for(let n of s1.values())_C(n,t);return!0}function Wo(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function mn(t){return t.settings!==void 0}var o1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ar=new On("app","Firebase",o1);var mg=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Tt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ar.create("app-deleted",{appName:this._name})}};var cr=r1;function vg(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:pg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ar.create("bad-app-name",{appName:String(i)});if(n||(n=ig()),!n)throw ar.create("no-options");let s=Qc.get(i);if(s){if(ys(n,s.options)&&ys(r,s.config))return s;throw ar.create("duplicate-app",{appName:i})}let o=new Ho(i);for(let l of gg.values())o.addComponent(l);let a=new mg(n,r,o);return Qc.set(i,a),a}function Zc(t=pg){let e=Qc.get(t);if(!e&&t===pg&&ig())return vg();if(!e)throw ar.create("no-app",{appName:t});return e}function Wt(t,e,n){var r;let i=(r=i1[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ii.warn(a.join(" "));return}lr(new Tt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var a1="firebase-heartbeat-database",l1=1,zo="firebase-heartbeat-store",dg=null;function EC(){return dg||(dg=mC(a1,l1,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(zo)}catch(n){console.warn(n)}}}}).catch(t=>{throw ar.create("idb-open",{originalErrorMessage:t.message})})),dg}function c1(t){return g(this,null,function*(){try{let n=(yield EC()).transaction(zo),r=yield n.objectStore(zo).get(CC(t));return yield n.done,r}catch(e){if(e instanceof zt)ii.warn(e.message);else{let n=ar.create("idb-get",{originalErrorMessage:e?.message});ii.warn(n.message)}}})}function vC(t,e){return g(this,null,function*(){try{let r=(yield EC()).transaction(zo,"readwrite");yield r.objectStore(zo).put(e,CC(t)),yield r.done}catch(n){if(n instanceof zt)ii.warn(n.message);else{let r=ar.create("idb-set",{originalErrorMessage:n?.message});ii.warn(r.message)}}})}function CC(t){return`${t.name}!${t.options.appId}`}var u1=1024,d1=30*24*60*60*1e3,yg=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new _g(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return g(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=wC();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=d1}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return g(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=wC(),{heartbeatsToSend:r,unsentEntries:i}=h1(this._heartbeatsCache.heartbeats),s=Lo(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function wC(){return new Date().toISOString().substring(0,10)}function h1(t,e=u1){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),bC(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),bC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var _g=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return g(this,null,function*(){return rC()?iC().then(()=>!0).catch(()=>!1):!1})}read(){return g(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield c1(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return g(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return vC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return g(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return vC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function bC(t){return Lo(JSON.stringify({version:2,heartbeats:t})).length}function f1(t){lr(new Tt("platform-logger",e=>new hg(e),"PRIVATE")),lr(new Tt("heartbeat",e=>new yg(e),"PRIVATE")),Wt(fg,yC,t),Wt(fg,yC,"esm2017"),Wt("fire-js","")}f1("");function BC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var $C=BC,HC=new On("auth","Firebase",BC());var ru=new or("@firebase/auth");function p1(t,...e){ru.logLevel<=ue.WARN&&ru.warn(`Auth (${cr}): ${t}`,...e)}function Xc(t,...e){ru.logLevel<=ue.ERROR&&ru.error(`Auth (${cr}): ${t}`,...e)}function _n(t,...e){throw Bg(t,...e)}function si(t,...e){return Bg(t,...e)}function zC(t,e,n){let r=Object.assign(Object.assign({},$C()),{[e]:n});return new On("auth","Firebase",r).create(e,{appName:t.name})}function dr(t){return zC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Bg(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return HC.create(t,...e)}function k(t,e,...n){if(!t)throw Bg(e,...n)}function Pn(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Xc(e),new Error(e)}function hr(t,e){t||Pn(e)}function Cg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function g1(){return IC()==="http:"||IC()==="https:"}function IC(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function m1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(g1()||tC()||"connection"in navigator)?navigator.onLine:!0}function y1(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var oi=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,hr(n>e,"Short delay should be less than long delay!"),this.isMobile=jo()||Gc()}get(){return m1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function $g(t,e){hr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var iu=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Pn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Pn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Pn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var _1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var v1=new oi(3e4,6e4);function li(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function fr(s,o,a,l){return g(this,arguments,function*(t,e,n,r,i={}){return WC(t,i,()=>g(this,null,function*(){let c={},u={};r&&(e==="GET"?u=r:c={body:JSON.stringify(r)});let d=ni(Object.assign({key:t.config.apiKey},u)).slice(1),h=yield t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),iu.fetch()(GC(t,t.config.apiHost,n,d),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},c))}))})}function WC(t,e,n){return g(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},_1),e);try{let i=new Ig(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Jc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Jc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Jc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Jc(t,"user-disabled",o);let u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw zC(t,u,c);_n(t,u)}}catch(i){if(i instanceof zt)throw i;_n(t,"network-request-failed",{message:String(i)})}})}function pu(s,o,a,l){return g(this,arguments,function*(t,e,n,r,i={}){let c=yield fr(t,e,n,r,i);return"mfaPendingCredential"in c&&_n(t,"multi-factor-auth-required",{_serverResponse:c}),c})}function GC(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?$g(t.config,i):`${t.config.apiScheme}://${i}`}function w1(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Ig=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(si(this.auth,"network-request-failed")),v1.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Jc(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=si(t,e,r);return i.customData._tokenResponse=n,i}function DC(t){return t!==void 0&&t.enterprise!==void 0}var Dg=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return w1(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function b1(t,e){return g(this,null,function*(){return fr(t,"GET","/v2/recaptchaConfig",li(t,e))})}function E1(t,e){return g(this,null,function*(){return fr(t,"POST","/v1/accounts:delete",e)})}function qC(t,e){return g(this,null,function*(){return fr(t,"POST","/v1/accounts:lookup",e)})}function Go(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function KC(t,e=!1){return g(this,null,function*(){let n=ze(t),r=yield n.getIdToken(e),i=Hg(r);k(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Go(wg(i.auth_time)),issuedAtTime:Go(wg(i.iat)),expirationTime:Go(wg(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function wg(t){return Number(t)*1e3}function Hg(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Xc("JWT malformed, contained fewer than 3 sections"),null;try{let i=Vo(n);return i?JSON.parse(i):(Xc("Failed to decode base64 JWT payload"),null)}catch(i){return Xc("Caught error parsing JWT payload as JSON",i?.toString()),null}}function SC(t){let e=Hg(t);return k(e,"internal-error"),k(typeof e.exp<"u","internal-error"),k(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Ko(t,e,n=!1){return g(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof zt&&C1(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function C1({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Sg=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>g(this,null,function*(){yield this.iteration()}),n)}iteration(){return g(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Yo=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Go(this.lastLoginAt),this.creationTime=Go(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function su(t){return g(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Ko(t,qC(n,{idToken:r}));k(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?QC(s.providerUserInfo):[],a=I1(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!a?.length,u=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Yo(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)})}function YC(t){return g(this,null,function*(){let e=ze(t);yield su(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function I1(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function QC(t){return t.map(e=>{var{providerId:n}=e,r=Hd(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function D1(t,e){return g(this,null,function*(){let n=yield WC(t,{},()=>g(this,null,function*(){let r=ni({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=GC(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",iu.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function S1(t,e){return g(this,null,function*(){return fr(t,"POST","/v2/accounts:revokeToken",li(t,e))})}var qo=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){k(e.idToken,"internal-error"),k(typeof e.idToken<"u","internal-error"),k(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):SC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){k(e.length!==0,"internal-error");let n=SC(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return g(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(k(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return g(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield D1(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(k(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(k(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(k(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Pn("not implemented")}};function ur(t,e){k(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var ws=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Hd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Sg(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Yo(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return g(this,null,function*(){let n=yield Ko(this,this.stsTokenManager.getToken(this.auth,e));return k(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return KC(this,e)}reload(){return YC(this)}_assign(e){this!==e&&(k(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){k(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return g(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield su(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return g(this,null,function*(){if(mn(this.auth.app))return Promise.reject(dr(this.auth));let e=yield this.getIdToken();return yield Ko(this,E1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,u;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,D=(c=n.createdAt)!==null&&c!==void 0?c:void 0,G=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:F,emailVerified:ie,isAnonymous:Ue,providerData:pe,stsTokenManager:ye}=n;k(F&&ye,e,"internal-error");let De=qo.fromJSON(this.name,ye);k(typeof F=="string",e,"internal-error"),ur(d,e.name),ur(h,e.name),k(typeof ie=="boolean",e,"internal-error"),k(typeof Ue=="boolean",e,"internal-error"),ur(f,e.name),ur(p,e.name),ur(m,e.name),ur(w,e.name),ur(D,e.name),ur(G,e.name);let ct=new t({uid:F,auth:e,email:h,emailVerified:ie,displayName:d,isAnonymous:Ue,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:De,createdAt:D,lastLoginAt:G});return pe&&Array.isArray(pe)&&(ct.providerData=pe.map(Qt=>Object.assign({},Qt))),w&&(ct._redirectEventId=w),ct}static _fromIdTokenResponse(e,n,r=!1){return g(this,null,function*(){let i=new qo;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield su(s),s})}static _fromGetAccountInfoResponse(e,n,r){return g(this,null,function*(){let i=n.users[0];k(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?QC(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new qo;a.updateFromIdToken(r);let l=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Yo(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(l,c),l})}};var TC=new Map;function Fn(t){hr(t instanceof Function,"Expected a class definition");let e=TC.get(t);return e?(hr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,TC.set(t,e),e)}var T1=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return g(this,null,function*(){return!0})}_set(n,r){return g(this,null,function*(){this.storage[n]=r})}_get(n){return g(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return g(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Tg=T1;function eu(t,e,n){return`firebase:${t}:${e}:${n}`}var ou=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=eu(this.userKey,i.apiKey,s),this.fullPersistenceKey=eu("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return g(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?ws._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return g(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return g(this,null,function*(){if(!n.length)return new t(Fn(Tg),e,r);let i=(yield Promise.all(n.map(c=>g(this,null,function*(){if(yield c._isAvailable())return c})))).filter(c=>c),s=i[0]||Fn(Tg),o=eu(r,e.config.apiKey,e.name),a=null;for(let c of n)try{let u=yield c._get(o);if(u){let d=ws._fromJSON(e,u);c!==s&&(a=d),s=c;break}}catch{}let l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new t(s,e,r):(s=l[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(c=>g(this,null,function*(){if(c!==s)try{yield c._remove(o)}catch{}}))),new t(s,e,r))})}};function AC(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(XC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ZC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(tI(e))return"Blackberry";if(nI(e))return"Webos";if(zg(e))return"Safari";if((e.includes("chrome/")||JC(e))&&!e.includes("edge/"))return"Chrome";if(eI(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function ZC(t=je()){return/firefox\//i.test(t)}function zg(t=je()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function JC(t=je()){return/crios\//i.test(t)}function XC(t=je()){return/iemobile/i.test(t)}function eI(t=je()){return/android/i.test(t)}function tI(t=je()){return/blackberry/i.test(t)}function nI(t=je()){return/webos/i.test(t)}function gu(t=je()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function A1(t=je()){var e;return gu(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function M1(){return nC()&&document.documentMode===10}function rI(t=je()){return gu(t)||eI(t)||nI(t)||tI(t)||/windows phone/i.test(t)||XC(t)}function N1(){try{return!!(window&&window!==window.top)}catch{return!1}}function iI(t,e=[]){let n;switch(t){case"Browser":n=AC(je());break;case"Worker":n=`${AC(je())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${cr}/${r}`}var Ag=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return g(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function R1(n){return g(this,arguments,function*(t,e={}){return fr(t,"GET","/v2/passwordPolicy",li(t,e))})}var x1=6,Mg=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:x1,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Ng=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new au(this),this.idTokenSubscription=new au(this),this.beforeStateQueue=new Ag(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=HC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Fn(n)),this._initializationPromise=this.queue(()=>g(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield ou.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return g(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return g(this,null,function*(){try{let n=yield qC(this,{idToken:e}),r=yield ws._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return g(this,null,function*(){var n;if(mn(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,l=yield this.tryRedirectSignIn(e);(!o||o===a)&&l?.user&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return k(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return g(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return g(this,null,function*(){try{yield su(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=y1()}_delete(){return g(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return g(this,null,function*(){if(mn(this.app))return Promise.reject(dr(this));let n=e?ze(e):null;return n&&k(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return g(this,null,function*(){if(!this._deleted)return e&&k(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>g(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return g(this,null,function*(){return mn(this.app)?Promise.reject(dr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return mn(this.app)?Promise.reject(dr(this)):this.queue(()=>g(this,null,function*(){yield this.assertedPersistence.setPersistence(Fn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return g(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return g(this,null,function*(){let e=yield R1(this),n=new Mg(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new On("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return g(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield S1(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return g(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return g(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Fn(e)||this._popupRedirectResolver;k(n,this,"argument-error"),this.redirectPersistenceManager=yield ou.create(this,[Fn(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return g(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>g(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return g(this,null,function*(){if(e===this.currentUser)return this.queue(()=>g(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(k(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{let l=e.addObserver(n);return()=>{o=!0,l()}}}directlySetCurrentUser(e){return g(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return k(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=iI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return g(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return g(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&p1(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function bs(t){return ze(t)}var au=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=lC(n=>this.observer=n)}get next(){return k(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var mu={loadJS(){return g(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function k1(t){mu=t}function sI(t){return mu.loadJS(t)}function O1(){return mu.recaptchaEnterpriseScript}function P1(){return mu.gapiScript}function oI(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var F1="recaptcha-enterprise",L1="NO_RECAPTCHA",Rg=class{constructor(e){this.type=F1,this.auth=bs(e)}verify(e="verify",n=!1){return g(this,null,function*(){function r(s){return g(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>g(this,null,function*(){b1(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let c=new Dg(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})}))})}function i(s,o,a){let l=window.grecaptcha;DC(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(L1)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&DC(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=O1();l.length!==0&&(l+=a),sI(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})})}};function MC(t,e,n,r=!1){return g(this,null,function*(){let i=new Rg(t),s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function NC(t,e,n,r){return g(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield MC(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(s=>g(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield MC(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)}))})}function aI(t,e){let n=Wo(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(ys(s,e??{}))return i;_n(i,"already-initialized")}return n.initialize({options:e})}function V1(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Fn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function lI(t,e,n){let r=bs(t);k(r._canInitEmulator,r,"emulator-config-failed"),k(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=cI(e),{host:o,port:a}=j1(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||U1()}function cI(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function j1(t){let e=cI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:RC(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:RC(o)}}}function RC(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function U1(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Qo=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Pn("not implemented")}_getIdTokenResponse(e){return Pn("not implemented")}_linkToIdToken(e,n){return Pn("not implemented")}_getReauthenticationResolver(e){return Pn("not implemented")}};function B1(t,e){return g(this,null,function*(){return fr(t,"POST","/v1/accounts:signUp",e)})}function $1(t,e){return g(this,null,function*(){return pu(t,"POST","/v1/accounts:signInWithPassword",li(t,e))})}function H1(t,e){return g(this,null,function*(){return pu(t,"POST","/v1/accounts:signInWithEmailLink",li(t,e))})}function z1(t,e){return g(this,null,function*(){return pu(t,"POST","/v1/accounts:signInWithEmailLink",li(t,e))})}var Zo=class t extends Qo{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return g(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return NC(e,n,"signInWithPassword",$1);case"emailLink":return H1(e,{email:this._email,oobCode:this._password});default:_n(e,"internal-error")}})}_linkToIdToken(e,n){return g(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return NC(e,r,"signUpPassword",B1);case"emailLink":return z1(e,{idToken:n,email:this._email,oobCode:this._password});default:_n(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function bg(t,e){return g(this,null,function*(){return pu(t,"POST","/v1/accounts:signInWithIdp",li(t,e))})}function W1(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function G1(t){let e=_s(vs(t)).link,n=e?_s(vs(e)).deep_link_id:null,r=_s(vs(t)).deep_link_id;return(r?_s(vs(r)).link:null)||r||n||e||t}var lu=class t{constructor(e){var n,r,i,s,o,a;let l=_s(vs(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,d=W1((i=l.mode)!==null&&i!==void 0?i:null);k(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=G1(e);try{return new t(n)}catch{return null}}};var uI=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Zo._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=lu.parseLink(r);return k(i,"argument-error"),Zo._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),cu=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var xg=class extends cu{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Jo=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return g(this,null,function*(){let s=yield ws._fromIdTokenResponse(e,r,i),o=xC(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return g(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=xC(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function xC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var kg=class t extends zt{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function dI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?kg._fromErrorAndOperation(t,s,e,r):s})}function q1(t,e,n=!1){return g(this,null,function*(){let r=yield Ko(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Jo._forOperation(t,"link",r)})}function K1(t,e,n=!1){return g(this,null,function*(){let{auth:r}=t;if(mn(r.app))return Promise.reject(dr(r));let i="reauthenticate";try{let s=yield Ko(t,dI(r,i,e,t),n);k(s.idToken,r,"internal-error");let o=Hg(s.idToken);k(o,r,"internal-error");let{sub:a}=o;return k(t.uid===a,r,"user-mismatch"),Jo._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&_n(r,"user-mismatch"),s}})}function hI(t,e,n=!1){return g(this,null,function*(){if(mn(t.app))return Promise.reject(dr(t));let r="signIn",i=yield dI(t,r,e),s=yield Jo._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function fI(t,e){return g(this,null,function*(){return hI(bs(t),e)})}function Y1(t){return g(this,null,function*(){let e=bs(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Wg(t,e,n){return mn(t.app)?Promise.reject(dr(t)):fI(ze(t),uI.credential(e,n)).catch(r=>g(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&Y1(t),r}))}function pI(t,e,n,r){return ze(t).onIdTokenChanged(e,n,r)}function gI(t,e,n){return ze(t).beforeAuthStateChanged(e,n)}function Gg(t,e,n,r){return ze(t).onAuthStateChanged(e,n,r)}var uu="__sak";var du=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(uu,"1"),this.storage.removeItem(uu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function Q1(){let t=je();return zg(t)||gu(t)}var Z1=1e3,J1=10,X1=(()=>{class t extends du{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Q1()&&N1(),this.fallbackToPolling=rI(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}let i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(i);if(n.newValue!==a)n.newValue!==null?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);M1()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,J1):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},Z1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return g(this,null,function*(){yield Sr(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return g(this,null,function*(){let r=yield Sr(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return g(this,null,function*(){yield Sr(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),mI=X1;var eF=(()=>{class t extends du{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),qg=eF;function tF(t){return Promise.all(t.map(e=>g(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var nF=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return g(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let l=Array.from(a).map(u=>g(this,null,function*(){return u(r.origin,o)})),c=yield tF(l);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:c})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function yI(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Og=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return g(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{let c=yI("",20);i.port1.start();let u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){let h=d;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function yn(){return window}function rF(t){yn().location.href=t}function _I(){return typeof yn().WorkerGlobalScope<"u"&&typeof yn().importScripts=="function"}function iF(){return g(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function sF(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function oF(){return _I()?self:null}var vI="firebaseLocalStorageDb",aF=1,hu="firebaseLocalStorage",wI="fbase_key",ai=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function yu(t,e){return t.transaction([hu],e?"readwrite":"readonly").objectStore(hu)}function lF(){let t=indexedDB.deleteDatabase(vI);return new ai(t).toPromise()}function Pg(){let t=indexedDB.open(vI,aF);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(hu,{keyPath:wI})}catch(i){n(i)}}),t.addEventListener("success",()=>g(this,null,function*(){let r=t.result;r.objectStoreNames.contains(hu)?e(r):(r.close(),yield lF(),e(yield Pg()))}))})}function kC(t,e,n){return g(this,null,function*(){let r=yu(t,!0).put({[wI]:e,value:n});return new ai(r).toPromise()})}function cF(t,e){return g(this,null,function*(){let n=yu(t,!1).get(e),r=yield new ai(n).toPromise();return r===void 0?null:r.value})}function OC(t,e){let n=yu(t,!0).delete(e);return new ai(n).toPromise()}var uF=800,dF=3,hF=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return g(this,null,function*(){return this.db?this.db:(this.db=yield Pg(),this.db)})}_withRetries(n){return g(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>dF)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return g(this,null,function*(){return _I()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return g(this,null,function*(){this.receiver=nF._getInstance(oF()),this.receiver._subscribe("keyChanged",(n,r)=>g(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>g(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return g(this,null,function*(){var n,r;if(this.activeServiceWorker=yield iF(),!this.activeServiceWorker)return;this.sender=new Og(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return g(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||sF()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return g(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Pg();return yield kC(n,uu,"1"),yield OC(n,uu),!0}catch{}return!1})}_withPendingWrite(n){return g(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return g(this,null,function*(){return this._withPendingWrite(()=>g(this,null,function*(){return yield this._withRetries(i=>kC(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return g(this,null,function*(){let r=yield this._withRetries(i=>cF(i,n));return this.localCache[n]=r,r})}_remove(n){return g(this,null,function*(){return this._withPendingWrite(()=>g(this,null,function*(){return yield this._withRetries(r=>OC(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return g(this,null,function*(){let n=yield this._withRetries(s=>{let o=yu(s,!1).getAll();return new ai(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>g(this,null,function*(){return this._poll()}),uF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),bI=hF;var D8=oI("rcb"),S8=new oi(3e4,6e4);function fF(t,e){return e?Fn(e):(k(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Xo=class extends Qo{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return bg(e,this._buildIdpRequest())}_linkToIdToken(e,n){return bg(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return bg(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function pF(t){return hI(t.auth,new Xo(t),t.bypassAuthState)}function gF(t){let{auth:e,user:n}=t;return k(n,e,"internal-error"),K1(n,new Xo(t),t.bypassAuthState)}function mF(t){return g(this,null,function*(){let{auth:e,user:n}=t;return k(n,e,"internal-error"),q1(n,new Xo(t),t.bypassAuthState)})}var Fg=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>g(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return g(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(l))}catch(c){this.reject(c)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return pF;case"linkViaPopup":case"linkViaRedirect":return mF;case"reauthViaPopup":case"reauthViaRedirect":return gF;default:_n(this.auth,"internal-error")}}resolve(e){hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var T8=new oi(2e3,1e4);var yF="pendingRedirect",tu=new Map,Lg=class t extends Fg{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return g(this,null,function*(){let e=tu.get(this.auth._key());if(!e){try{let r=(yield _F(this.resolver,this.auth))?yield Sr(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}tu.set(this.auth._key(),e)}return this.bypassAuthState||tu.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return g(this,null,function*(){if(e.type==="signInViaRedirect")return Sr(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Sr(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return g(this,null,function*(){})}cleanUp(){}};function _F(t,e){return g(this,null,function*(){let n=bF(e),r=wF(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function vF(t,e){tu.set(t._key(),e)}function wF(t){return Fn(t._redirectPersistence)}function bF(t){return eu(yF,t.config.apiKey,t.name)}function EF(t,e,n=!1){return g(this,null,function*(){if(mn(t.app))return Promise.reject(dr(t));let r=bs(t),i=fF(r,e),o=yield new Lg(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var CF=10*60*1e3,Vg=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!IF(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!EI(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(si(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=CF&&this.cachedEventUids.clear(),this.cachedEventUids.has(PC(e))}saveEventToCache(e){this.cachedEventUids.add(PC(e)),this.lastProcessedEventTime=Date.now()}};function PC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function EI({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function IF(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return EI(t);default:return!1}}function DF(n){return g(this,arguments,function*(t,e={}){return fr(t,"GET","/v1/projects",e)})}var SF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,TF=/^https?/;function AF(t){return g(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield DF(t);for(let n of e)try{if(MF(n))return}catch{}_n(t,"unauthorized-domain")})}function MF(t){let e=Cg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!TF.test(n))return!1;if(SF.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var NF=new oi(3e4,6e4);function FC(){let t=yn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function RF(t){return new Promise((e,n)=>{var r,i,s;function o(){FC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{FC(),n(si(t,"network-request-failed"))},timeout:NF.get()})}if(!((i=(r=yn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=yn().gapi)===null||s===void 0)&&s.load)o();else{let a=oI("iframefcb");return yn()[a]=()=>{gapi.load?o():n(si(t,"network-request-failed"))},sI(`${P1()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw nu=null,e})}var nu=null;function xF(t){return nu=nu||RF(t),nu}var kF=new oi(5e3,15e3),OF="__/auth/iframe",PF="emulator/auth/iframe",FF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},LF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function VF(t){let e=t.config;k(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?$g(e,PF):`https://${t.config.authDomain}/${OF}`,r={apiKey:e.apiKey,appName:t.name,v:cr},i=LF.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ni(r).slice(1)}`}function jF(t){return g(this,null,function*(){let e=yield xF(t),n=yn().gapi;return k(n,t,"internal-error"),e.open({where:document.body,url:VF(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:FF,dontclear:!0},r=>new Promise((i,s)=>g(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=si(t,"network-request-failed"),a=yn().setTimeout(()=>{s(o)},kF.get());function l(){yn().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})})))})}var UF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},BF=500,$F=600,HF="_blank",zF="http://localhost",fu=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function WF(t,e,n,r=BF,i=$F){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",l=Object.assign(Object.assign({},UF),{width:r.toString(),height:i.toString(),top:s,left:o}),c=je().toLowerCase();n&&(a=JC(c)?HF:n),ZC(c)&&(e=e||zF,l.scrollbars="yes");let u=Object.entries(l).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(A1(c)&&a!=="_self")return GF(e||"",a),new fu(null);let d=window.open(e||"",a,u);k(d,t,"popup-blocked");try{d.focus()}catch{}return new fu(d)}function GF(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var qF="__/auth/handler",KF="emulator/auth/handler",YF=encodeURIComponent("fac");function LC(t,e,n,r,i,s){return g(this,null,function*(){k(t.config.authDomain,t,"auth-domain-config-required"),k(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:cr,eventId:i};if(e instanceof cu){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Uo(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[u,d]of Object.entries(s||{}))o[u]=d}if(e instanceof xg){let u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let u of Object.keys(a))a[u]===void 0&&delete a[u];let l=yield t._getAppCheckToken(),c=l?`#${YF}=${encodeURIComponent(l)}`:"";return`${QF(t)}?${ni(a).slice(1)}${c}`})}function QF({config:t}){return t.emulator?$g(t,KF):`https://${t.authDomain}/${qF}`}var Eg="webStorageSupport",jg=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qg,this._completeRedirectFn=EF,this._overrideRedirectResult=vF}_openPopup(e,n,r,i){return g(this,null,function*(){var s;hr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield LC(e,n,r,Cg(),i);return WF(e,o,yI())})}_openRedirect(e,n,r,i){return g(this,null,function*(){yield this._originValidation(e);let s=yield LC(e,n,r,Cg(),i);return rF(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(hr(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return g(this,null,function*(){let n=yield jF(e),r=new Vg(e);return n.register("authEvent",i=>(k(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Eg,{type:Eg},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[Eg];o!==void 0&&n(!!o),_n(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=AF(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return rI()||zg()||gu()}},CI=jg;var VC="@firebase/auth",jC="1.7.4";var Ug=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return g(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){k(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function ZF(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function JF(t){lr(new Tt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;k(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:iI(t)},c=new Ng(r,i,s,l);return V1(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),lr(new Tt("auth-internal",e=>{let n=bs(e.getProvider("auth").getImmediate());return(r=>new Ug(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wt(VC,jC,ZF(t)),Wt(VC,jC,"esm2017")}var XF=5*60,eL=sg("authIdTokenMaxAge")||XF,UC=null,tL=t=>e=>g(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>eL)return;let i=n?.token;UC!==i&&(UC=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function ea(t=Zc()){let e=Wo(t,"auth");if(e.isInitialized())return e.getImmediate();let n=aI(t,{popupRedirectResolver:CI,persistence:[bI,mI,qg]}),r=sg("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=tL(s.toString());gI(n,o,()=>o(n.currentUser)),pI(n,a=>o(a))}}let i=rg("auth");return i&&lI(n,`http://${i}`),n}function nL(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}k1({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=si("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",nL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});JF("Browser");var rL="firebase",iL="10.12.2";Wt(rL,iL,"app");var II={apiKey:"AIzaSyBFNn8bOJwSlczp0HZKzrrH4g0iH0PHfd4",authDomain:"cardo-425721.firebaseapp.com",databaseURL:"https://cardo-425721-default-rtdb.firebaseio.com",projectId:"cardo-425721",storageBucket:"cardo-425721.appspot.com",messagingSenderId:"887682909859",appId:"1:887682909859:web:d3bee13fad508780f52116"};var Kg=new N("JWT_OPTIONS"),_u=(()=>{class t{constructor(n=null){this.tokenGetter=n&&n.tokenGetter||function(){}}urlBase64Decode(n){let r=n.replace(/-/g,"+").replace(/_/g,"/");switch(r.length%4){case 0:break;case 2:{r+="==";break}case 3:{r+="=";break}default:throw new Error("Illegal base64url string!")}return this.b64DecodeUnicode(r)}b64decode(n){let r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i="";if(n=String(n).replace(/=+$/,""),n.length%4===1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(let s=0,o,a,l=0;a=n.charAt(l++);~a&&(o=s%4?o*64+a:a,s++%4)?i+=String.fromCharCode(255&o>>(-2*s&6)):0)a=r.indexOf(a);return i}b64DecodeUnicode(n){return decodeURIComponent(Array.prototype.map.call(this.b64decode(n),r=>"%"+("00"+r.charCodeAt(0).toString(16)).slice(-2)).join(""))}decodeToken(n=this.tokenGetter()){return n instanceof Promise?n.then(r=>this._decodeToken(r)):this._decodeToken(n)}_decodeToken(n){if(!n||n==="")return null;let r=n.split(".");if(r.length!==3)throw new Error("The inspected token doesn't appear to be a JWT. Check to make sure it has three parts and see https://jwt.io for more.");let i=this.urlBase64Decode(r[1]);if(!i)throw new Error("Cannot decode the token.");return JSON.parse(i)}getTokenExpirationDate(n=this.tokenGetter()){return n instanceof Promise?n.then(r=>this._getTokenExpirationDate(r)):this._getTokenExpirationDate(n)}_getTokenExpirationDate(n){let r;if(r=this.decodeToken(n),!r||!r.hasOwnProperty("exp"))return null;let i=new Date(0);return i.setUTCSeconds(r.exp),i}isTokenExpired(n=this.tokenGetter(),r){return n instanceof Promise?n.then(i=>this._isTokenExpired(i,r)):this._isTokenExpired(n,r)}_isTokenExpired(n,r){if(!n||n==="")return!0;let i=this.getTokenExpirationDate(n);return r=r||0,i===null?!1:!(i.valueOf()>new Date().valueOf()+r*1e3)}getAuthScheme(n,r){return typeof n=="function"?n(r):n}}return t.\u0275fac=function(n){return new(n||t)(T(Kg))},t.\u0275prov=C({token:t,factory:t.\u0275fac}),t})(),DI=t=>t instanceof Promise?ki(()=>t):O(t),sL=(()=>{class t{constructor(n,r,i){this.jwtHelper=r,this.document=i,this.standardPorts=["80","443"],this.tokenGetter=n.tokenGetter,this.headerName=n.headerName||"Authorization",this.authScheme=n.authScheme||n.authScheme===""?n.authScheme:"Bearer ",this.allowedDomains=n.allowedDomains||[],this.disallowedRoutes=n.disallowedRoutes||[],this.throwNoTokenError=n.throwNoTokenError||!1,this.skipWhenExpired=n.skipWhenExpired}isAllowedDomain(n){let r=new URL(n.url,this.document.location.origin);if(r.host===this.document.location.host)return!0;let i=`${r.hostname}${r.port&&!this.standardPorts.includes(r.port)?":"+r.port:""}`;return this.allowedDomains.findIndex(s=>typeof s=="string"?s===i:s instanceof RegExp?s.test(i):!1)>-1}isDisallowedRoute(n){let r=new URL(n.url,this.document.location.origin);return this.disallowedRoutes.findIndex(i=>{if(typeof i=="string"){let s=new URL(i,this.document.location.origin);return s.hostname===r.hostname&&s.pathname===r.pathname}return i instanceof RegExp?i.test(n.url):!1})>-1}handleInterception(n,r,i){let s=this.jwtHelper.getAuthScheme(this.authScheme,r);if(!n&&this.throwNoTokenError)throw new Error("Could not get token from tokenGetter function.");let o=O(!1);return this.skipWhenExpired&&(o=n?DI(this.jwtHelper.isTokenExpired(n)):O(!0)),n?o.pipe($(a=>a&&this.skipWhenExpired?r.clone():r.clone({setHeaders:{[this.headerName]:`${s}${n}`}})),we(a=>i.handle(a))):i.handle(r)}intercept(n,r){if(!this.isAllowedDomain(n)||this.isDisallowedRoute(n))return r.handle(n);let i=this.tokenGetter(n);return DI(i).pipe(we(s=>this.handleInterception(s,n,r)))}}return t.\u0275fac=function(n){return new(n||t)(T(Kg),T(_u),T(He))},t.\u0275prov=C({token:t,factory:t.\u0275fac}),t})(),SI=(()=>{class t{constructor(n){if(n)throw new Error("JwtModule is already loaded. It should only be imported in your application's main module.")}static forRoot(n){return{ngModule:t,providers:[{provide:nE,useClass:sL,multi:!0},n.jwtOptionsProvider||{provide:Kg,useValue:n.config},_u]}}}return t.\u0275fac=function(n){return new(n||t)(T(t,12))},t.\u0275mod=mt({type:t}),t.\u0275inj=gt({}),t})();var Es=(()=>{let e=class e{constructor(r,i){this.jwtHelper=r,this.router=i,this.firebaseApp=vg(II),Gg(ea(this.firebaseApp),s=>{s||this.signOut()})}parseEmail(r){return r.replaceAll("@","_").replaceAll(".","_")}signIn(r,i){return g(this,null,function*(){let s=ea(this.firebaseApp);return Wg(s,r,i).then(o=>g(this,null,function*(){let a=yield o.user.getIdToken();return localStorage.setItem("jwt",a),this.user=this.parseEmail(r),!0})).catch(()=>!1)})}signOut(){ea(this.firebaseApp).signOut()}isAuthenticated(){let r=localStorage.getItem("jwt");if(!r||this.jwtHelper.isTokenExpired(r))return!1;let i=this.jwtHelper.decodeToken(r);return i.email?(this.user=this.parseEmail(i.email),!0):!1}canActivate(){return this.isAuthenticated()?!0:(this.router.navigate(["auth"]),!1)}};e.\u0275fac=function(i){return new(i||e)(T(_u),T(kn))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var AI=(()=>{let e=class e{constructor(){this.menuPressed=new le,this.undoPressed=new le,this.redoPressed=new le}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ke({type:e,selectors:[["app-navbar"]],outputs:{menuPressed:"menuPressed",undoPressed:"undoPressed",redoPressed:"redoPressed"},standalone:!0,features:[Oe],decls:37,vars:0,consts:[[1,"navbar"],["title","Menu",1,"icon-btn",3,"click"],["viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["id","SVGRepo_bgCarrier","stroke-width","0"],["id","SVGRepo_tracerCarrier","stroke-linecap","round","stroke-linejoin","round"],["id","SVGRepo_iconCarrier"],["d","M4 6H20M4 12H20M4 18H20","stroke","#000000","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["title","Undo",1,"icon-btn",3,"click"],["viewBox","0 0 48 48","xmlns","http://www.w3.org/2000/svg","fill","#000000"],["id","Layer_2","data-name","Layer 2"],["id","invisible_box","data-name","invisible box"],["width","48","height","48","fill","none"],["id","icons_Q2","data-name","icons Q2"],["d","M46,24A22,22,0,0,1,4.3,33.7a2,2,0,0,1,.5-2.6,2,2,0,0,1,3,.7A17.8,17.8,0,0,0,24,42,18,18,0,1,0,10.6,12h5.3A2.1,2.1,0,0,1,18,13.7,2,2,0,0,1,16,16H6a2,2,0,0,1-2-2V4.1A2.1,2.1,0,0,1,5.7,2,2,2,0,0,1,8,4V8.9A22,22,0,0,1,46,24Z"],["title","Redo",1,"icon-btn",2,"transform","rotateY(180deg)",3,"click"]],template:function(i,s){i&1&&(_(0,"div",0)(1,"button",1),U("click",function(){return s.menuPressed.emit()}),$e(),_(2,"svg",2),x(3,"g",3)(4,"g",4),_(5,"g",5),x(6,"path",6),S()()(),Nn(),_(7,"button",7),U("click",function(){return s.undoPressed.emit()}),$e(),_(8,"svg",8),x(9,"g",3)(10,"g",4),_(11,"g",5)(12,"title"),fe(13,"undo"),S(),_(14,"g",9)(15,"g",10),x(16,"rect",11),S(),_(17,"g",12),x(18,"path",13),S()()()()(),Nn(),_(19,"button",14),U("click",function(){return s.redoPressed.emit()}),$e(),_(20,"svg",8),x(21,"g",3)(22,"g",4),_(23,"g",5)(24,"title"),fe(25,"undo"),S(),_(26,"g",9)(27,"g",10),x(28,"rect",11),S(),_(29,"g",12),x(30,"path",13),S()()()()(),Nn(),_(31,"button",1),U("click",function(){return s.menuPressed.emit()}),$e(),_(32,"svg",2),x(33,"g",3)(34,"g",4),_(35,"g",5),x(36,"path",6),S()()()())}});let t=e;return t})();var LI=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(M(cn),M(Ut))},e.\u0275dir=Ie({type:e});let t=e;return t})(),Tu=(()=>{let e=class e extends LI{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=er(e)))(s||e)}})(),e.\u0275dir=Ie({type:e,features:[Bt]});let t=e;return t})(),oa=new N("");var aL={provide:oa,useExisting:Tn(()=>yr),multi:!0};function lL(){let t=un()?un().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var cL=new N(""),yr=(()=>{let e=class e extends LI{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!lL())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(M(cn),M(Ut),M(cL,8))},e.\u0275dir=Ie({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&U("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[qr([aL]),Bt]});let t=e;return t})();function pr(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function VI(t){return t!=null&&typeof t.length=="number"}var jI=new N(""),UI=new N(""),uL=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,At=class{static min(e){return dL(e)}static max(e){return hL(e)}static required(e){return fL(e)}static requiredTrue(e){return pL(e)}static email(e){return gL(e)}static minLength(e){return mL(e)}static maxLength(e){return yL(e)}static pattern(e){return _L(e)}static nullValidator(e){return BI(e)}static compose(e){return qI(e)}static composeAsync(e){return YI(e)}};function dL(t){return e=>{if(pr(e.value)||pr(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function hL(t){return e=>{if(pr(e.value)||pr(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function fL(t){return pr(t.value)?{required:!0}:null}function pL(t){return t.value===!0?null:{required:!0}}function gL(t){return pr(t.value)||uL.test(t.value)?null:{email:!0}}function mL(t){return e=>pr(e.value)||!VI(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function yL(t){return e=>VI(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function _L(t){if(!t)return BI;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(pr(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function BI(t){return null}function $I(t){return t!=null}function HI(t){return Kr(t)?Ce(t):t}function zI(t){let e={};return t.forEach(n=>{e=n!=null?b(b({},e),n):e}),Object.keys(e).length===0?null:e}function WI(t,e){return e.map(n=>n(t))}function vL(t){return!t.validate}function GI(t){return t.map(e=>vL(e)?e:n=>e.validate(n))}function qI(t){if(!t)return null;let e=t.filter($I);return e.length==0?null:function(n){return zI(WI(n,e))}}function KI(t){return t!=null?qI(GI(t)):null}function YI(t){if(!t)return null;let e=t.filter($I);return e.length==0?null:function(n){let r=WI(n,e).map(HI);return Gd(r).pipe($(zI))}}function QI(t){return t!=null?YI(GI(t)):null}function MI(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function ZI(t){return t._rawValidators}function JI(t){return t._rawAsyncValidators}function Yg(t){return t?Array.isArray(t)?t:[t]:[]}function wu(t,e){return Array.isArray(t)?t.includes(e):t===e}function NI(t,e){let n=Yg(e);return Yg(t).forEach(i=>{wu(n,i)||n.push(i)}),n}function RI(t,e){return Yg(e).filter(n=>!wu(t,n))}var bu=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=KI(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=QI(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Ds=class extends bu{get formDirective(){return null}get path(){return null}},sa=class extends bu{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Eu=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},wL={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Rq=X(b({},wL),{"[class.ng-submitted]":"isSubmitted"}),Ss=(()=>{let e=class e extends Eu{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(M(sa,2))},e.\u0275dir=Ie({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&fc("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[Bt]});let t=e;return t})(),Ts=(()=>{let e=class e extends Eu{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(M(Ds,10))},e.\u0275dir=Ie({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,s){i&2&&fc("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[Bt]});let t=e;return t})();var ta="VALID",vu="INVALID",Cs="PENDING",na="DISABLED",gr=class{},Cu=class extends gr{constructor(e,n){super(),this.value=e,this.source=n}},ra=class extends gr{constructor(e,n){super(),this.pristine=e,this.source=n}},ia=class extends gr{constructor(e,n){super(),this.touched=e,this.source=n}},Is=class extends gr{constructor(e,n){super(),this.status=e,this.source=n}},Qg=class extends gr{constructor(e){super(),this.source=e}},Zg=class extends gr{constructor(e){super(),this.source=e}};function XI(t){return(Au(t)?t.validators:t)||null}function bL(t){return Array.isArray(t)?KI(t):t||null}function e0(t,e){return(Au(e)?e.asyncValidators:t)||null}function EL(t){return Array.isArray(t)?QI(t):t||null}function Au(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function CL(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new y(1e3,"");if(!r[n])throw new y(1001,"")}function IL(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new y(1002,"")})}var Iu=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._events=new ve,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===ta}get invalid(){return this.status===vu}get pending(){return this.status==Cs}get disabled(){return this.status===na}get enabled(){return this.status!==na}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(NI(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(NI(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(RI(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(RI(e,this._rawAsyncValidators))}hasValidator(e){return wu(this._rawValidators,e)}hasAsyncValidator(e){return wu(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(X(b({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new ia(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new ia(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(X(b({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new ra(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new ra(!0,r))}markAsPending(e={}){this.status=Cs;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Is(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(X(b({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=na,this.errors=null,this._forEachChild(i=>{i.disable(X(b({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Cu(this.value,r)),this._events.next(new Is(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(X(b({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ta,this._forEachChild(r=>{r.enable(X(b({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(X(b({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ta||this.status===Cs)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Cu(this.value,n)),this._events.next(new Is(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(X(b({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?na:ta}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Cs,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=HI(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Is(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new le,this.statusChanges=new le}_calculateStatus(){return this._allControlsDisabled()?na:this.errors?vu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Cs)?Cs:this._anyControlsHaveStatus(vu)?vu:ta}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new ra(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new ia(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Au(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=bL(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=EL(this._rawAsyncValidators)}},mr=class extends Iu{constructor(e,n,r){super(XI(n),e0(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){IL(this,!0,e),Object.keys(e).forEach(r=>{CL(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var t0=new N("CallSetDisabledState",{providedIn:"root",factory:()=>Jg}),Jg="always";function DL(t,e){return[...e.path,t]}function xI(t,e,n=Jg){Xg(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),TL(t,e),ML(t,e),AL(t,e),SL(t,e)}function kI(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Su(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Du(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function SL(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Xg(t,e){let n=ZI(t);e.validator!==null?t.setValidators(MI(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=JI(t);e.asyncValidator!==null?t.setAsyncValidators(MI(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();Du(e._rawValidators,i),Du(e._rawAsyncValidators,i)}function Su(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=ZI(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(e.asyncValidator!==null){let i=JI(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}let r=()=>{};return Du(e._rawValidators,r),Du(e._rawAsyncValidators,r),n}function TL(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&n0(t,e)})}function AL(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&n0(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function n0(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function ML(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function NL(t,e){t==null,Xg(t,e)}function RL(t,e){return Su(t,e)}function xL(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function kL(t){return Object.getPrototypeOf(t.constructor)===Tu}function OL(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function PL(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===yr?n=s:kL(s)?r=s:i=s}),i||r||n||null}function FL(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function OI(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function PI(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var st=class extends Iu{constructor(e=null,n,r){super(XI(n),e0(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Au(n)&&(n.nonNullable||n.initialValueIsDefault)&&(PI(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){OI(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){OI(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){PI(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var LL=t=>t instanceof st;var As=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ie({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})(),VL={provide:oa,useExisting:Tn(()=>em),multi:!0},em=(()=>{let e=class e extends Tu{writeValue(r){let i=r??"";this.setProperty("value",i)}registerOnChange(r){this.onChange=i=>{r(i==""?null:parseFloat(i))}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=er(e)))(s||e)}})(),e.\u0275dir=Ie({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,s){i&1&&U("input",function(a){return s.onChange(a.target.value)})("blur",function(){return s.onTouched()})},features:[qr([VL]),Bt]});let t=e;return t})();var r0=new N("");var jL={provide:Ds,useExisting:Tn(()=>ci)},ci=(()=>{let e=class e extends Ds{constructor(r,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new le,this._setValidators(r),this._setAsyncValidators(i)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Su(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){let i=this.form.get(r.path);return xI(i,r,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),i}getControl(r){return this.form.get(r.path)}removeControl(r){kI(r.control||null,r,!1),FL(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,i){this.form.get(r.path).setValue(i)}onSubmit(r){return this.submitted=!0,OL(this.form,this.directives),this.ngSubmit.emit(r),this.form._events.next(new Qg(this.control)),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1,this.form._events.next(new Zg(this.form))}_updateDomValue(){this.directives.forEach(r=>{let i=r.control,s=this.form.get(r.path);i!==s&&(kI(i||null,r),LL(s)&&(xI(s,r,this.callSetDisabledState),r.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){let i=this.form.get(r.path);NL(i,r),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){let i=this.form.get(r.path);i&&RL(i,r)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Xg(this.form,this),this._oldForm&&Su(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(i){return new(i||e)(M(jI,10),M(UI,10),M(t0,8))},e.\u0275dir=Ie({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,s){i&1&&U("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[qr([jL]),Bt,Jn]});let t=e;return t})();var UL={provide:sa,useExisting:Tn(()=>ui)},ui=(()=>{let e=class e extends sa{set isDisabled(r){}constructor(r,i,s,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new le,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=PL(this,o)}ngOnChanges(r){this._added||this._setUpControl(),xL(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return DL(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(M(Ds,13),M(jI,10),M(UI,10),M(oa,10),M(r0,8))},e.\u0275dir=Ie({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[qr([UL]),Bt,Jn]});let t=e;return t})(),BL={provide:oa,useExisting:Tn(()=>Mu),multi:!0};function i0(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function $L(t){return t.split(":")[0]}var Mu=(()=>{let e=class e extends Tu{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i=this._getOptionId(r),s=i0(i,r);this.setProperty("value",s)}registerOnChange(r){this.onChange=i=>{this.value=this._getOptionValue(i),r(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),r))return i;return null}_getOptionValue(r){let i=$L(r);return this._optionMap.has(i)?this._optionMap.get(i):r}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=er(e)))(s||e)}})(),e.\u0275dir=Ie({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,s){i&1&&U("change",function(a){return s.onChange(a.target.value)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[qr([BL]),Bt]});let t=e;return t})(),s0=(()=>{let e=class e{constructor(r,i,s){this._element=r,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(r){this._select!=null&&(this._select._optionMap.set(this.id,r),this._setElementValue(i0(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._setElementValue(r),this._select&&this._select.writeValue(this._select.value)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(M(Ut),M(cn),M(Mu,9))},e.\u0275dir=Ie({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})(),HL={provide:oa,useExisting:Tn(()=>o0),multi:!0};function FI(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function zL(t){return t.split(":")[0]}var o0=(()=>{let e=class e extends Tu{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i;if(Array.isArray(r)){let s=r.map(o=>this._getOptionId(o));i=(o,a)=>{o._setSelected(s.indexOf(a.toString())>-1)}}else i=(s,o)=>{s._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(r){this.onChange=i=>{let s=[],o=i.selectedOptions;if(o!==void 0){let a=o;for(let l=0;l<a.length;l++){let c=a[l],u=this._getOptionValue(c.value);s.push(u)}}else{let a=i.options;for(let l=0;l<a.length;l++){let c=a[l];if(c.selected){let u=this._getOptionValue(c.value);s.push(u)}}}this.value=s,r(s)}}_registerOption(r){let i=(this._idCounter++).toString();return this._optionMap.set(i,r),i}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,r))return i;return null}_getOptionValue(r){let i=zL(r);return this._optionMap.has(i)?this._optionMap.get(i)._value:r}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=er(e)))(s||e)}})(),e.\u0275dir=Ie({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,s){i&1&&U("change",function(a){return s.onChange(a.target)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[qr([HL]),Bt]});let t=e;return t})(),a0=(()=>{let e=class e{constructor(r,i,s){this._element=r,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(r){this._select!=null&&(this._value=r,this._setElementValue(FI(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._select?(this._value=r,this._setElementValue(FI(this.id,r)),this._select.writeValue(this._select.value)):this._setElementValue(r)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}_setSelected(r){this._renderer.setProperty(this._element.nativeElement,"selected",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(M(Ut),M(cn),M(o0,9))},e.\u0275dir=Ie({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();var WL=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=mt({type:e}),e.\u0275inj=gt({});let t=e;return t})();var Ms=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:r0,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:t0,useValue:r.callSetDisabledState??Jg}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=mt({type:e}),e.\u0275inj=gt({imports:[WL]});let t=e;return t})();var V=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(V||{}),vn="*";function di(t,e){return{type:V.Trigger,name:t,definitions:e,options:{}}}function Mt(t,e=null){return{type:V.Animate,styles:e,timings:t}}function l0(t,e=null){return{type:V.Sequence,steps:t,options:e}}function et(t){return{type:V.Style,styles:t,offset:null}}function Nt(t,e,n){return{type:V.State,name:t,styles:e,options:n}}function Rt(t,e,n=null){return{type:V.Transition,expr:t,animation:e,options:n}}var _r=class{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},aa=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,r=0,i=0,s=this.players.length;s==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++n==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let n=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,n/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((n,r)=>n===null||r.totalTime>n.totalTime?r:n,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},Nu="!";var c0=di("flip",[Nt("active",et({transform:"rotateY(180deg)"})),Nt("inactive",et({transform:"rotateY(0)"})),Rt("active => inactive",Mt("300ms ease-out")),Rt("inactive => active",Mt("300ms ease-in"))]),u0=di("swipeRight",[Nt("active",et({transform:"rotateZ(90deg)",translate:"150% -100%"})),Nt("inactive",et({transform:"rotateZ(0deg)",translate:"0% 0%"})),Rt("active => inactive",Mt("300ms ease-out")),Rt("inactive => active",Mt("300ms ease-in"))]),d0=di("swipeLeft",[Nt("active",et({transform:"rotateZ(-90deg)",translate:"-150% -100%"})),Nt("inactive",et({transform:"rotateZ(0deg)",translate:"0% 0%"})),Rt("active => inactive",Mt("400ms ease-out")),Rt("inactive => active",Mt("400ms ease-in"))]),h0=di("fadeIn",[Nt("active",et({opacity:"100%"})),Nt("inactive",et({opacity:"0%"})),Rt("active => inactive",Mt("200ms ease-out")),Rt("inactive => active",Mt("200ms ease-in"))]);var Ru=(()=>{let e=class e{transform(r){switch(r){case"masculine":return"lightblue";case"feminine":return"lightpink";case"neuter":return"palegoldenrod";case"verb":return"plum";case"other":return"lightgreen";default:return"gray"}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275pipe=cf({name:"typeColor",type:e,pure:!0,standalone:!0});let t=e;return t})();var GL=t=>({background:t});function qL(t,e){if(t&1&&(_(0,"div"),fe(1),S()),t&2){let n=re();Wr(n.flipped?"card-content":"card-content back"),W(),Gr(" ",n.flipped?n.getFront():n.getBack()," ")}}function KL(t,e){t&1&&($e(),_(0,"svg",10),x(1,"g",4)(2,"g",5),_(3,"g",6),x(4,"path",16),S()())}function YL(t,e){t&1&&($e(),_(0,"svg",11),x(1,"g",4)(2,"g",5),_(3,"g",6),x(4,"path",17),S()())}function QL(t,e){if(t&1){let n=$t();_(0,"div")(1,"button",2),U("click",function(i){Qe(n);let s=re();return Ze(s.editTapped(i))}),$e(),_(2,"svg",3),x(3,"g",4)(4,"g",5),_(5,"g",6),x(6,"path",7)(7,"path",8),S()()(),Nn(),_(8,"button",9),U("click",function(i){Qe(n);let s=re();return Ze(s.starTapped(i))}),Xe(9,KL,5,0,":svg:svg",10)(10,YL,5,0,":svg:svg",11),S(),_(11,"button",2),U("click",function(i){Qe(n);let s=re();return Ze(s.infoTapped(i))}),$e(),_(12,"svg",12),x(13,"g",4)(14,"g",5),_(15,"g",6),x(16,"path",13)(17,"path",14)(18,"path",15),S()()()()}if(t&2){let n=re();Wr(n.flipped?"btn-row":"btn-row back"),W(9),ho(n.card.starred?9:10)}}function ZL(t,e){if(t&1&&(_(0,"option",29),gc(1,"typeColor"),fe(2),S()),t&2){let n=e.$implicit,r=re(3);hc("background",mc(1,4,n)),Y("selected",n===r.card.type),W(2),Rn(n)}}function JL(t,e){if(t&1&&(_(0,"div")(1,"form",20),x(2,"input",21)(3,"input",22),_(4,"select",23),Xe(5,ZL,3,6,"option",24),S(),x(6,"textarea",25)(7,"textarea",26)(8,"textarea",27)(9,"textarea",28),S()()),t&2){let n=re(2);W(),Y("formGroup",n.editForm),W(3),Y("value",n.card.type),W(),Y("ngForOf",n.typeOptions)}}function XL(t,e){if(t&1&&(_(0,"div")(1,"p",30),fe(2),S(),_(3,"p",31),fe(4),S(),_(5,"p",30),fe(6),S(),_(7,"p",31),fe(8),S()()),t&2){let n=re(2);W(2),Rn(n.card.goal_sent_1),W(2),Rn(n.card.base_sent_1),W(2),Rn(n.card.goal_sent_2),W(2),Rn(n.card.base_sent_2)}}function e2(t,e){if(t&1){let n=$t();_(0,"button",36),U("click",function(i){Qe(n);let s=re(3);return Ze(s.saveEdit(i))}),$e(),_(1,"svg",12),x(2,"g",4)(3,"g",5),_(4,"g",6),x(5,"path",37),S()()()}if(t&2){let n=re(3);Y("disabled",n.editForm.invalid)}}function t2(t,e){if(t&1){let n=$t();_(0,"div",32)(1,"button",2),U("click",function(i){Qe(n);let s=re(2);return Ze(s.menuClose(i))}),$e(),_(2,"svg",12),x(3,"g",4)(4,"g",5),_(5,"g",6)(6,"g",33),x(7,"path",34),S()()()(),Xe(8,e2,6,1,"button",35),Nn(),_(9,"button",2),U("click",function(i){Qe(n);let s=re(2);return Ze(s.menuClose(i))}),$e(),_(10,"svg",12),x(11,"g",4)(12,"g",5),_(13,"g",6)(14,"g",33),x(15,"path",34),S()()()()()}if(t&2){let n=re(2);W(8),Y("ngIf",n.showEdit&&n.editForm.valid)}}function n2(t,e){if(t&1){let n=$t();_(0,"span"),U("@fadeIn.done",function(){Qe(n);let i=re();return Ze(i.fadeInState==="inactive"?i.revealCard():null)}),Xe(1,JL,10,3,"div",18)(2,XL,9,4,"div",18)(3,t2,16,1,"div",19),S()}if(t&2){let n=re();Wr(n.flipped?"card-menu":"card-menu back"),Y("@fadeIn",n.fadeInState),W(),Y("ngIf",n.showEdit),W(),Y("ngIf",n.showInfo),W(),Y("ngIf",!n.showCard)}}var f0=(()=>{let e=class e{constructor(){this.onSwiped=new le,this.onUpdated=new le,this.typeOptions=["masculine","feminine","neuter","verb","other"],this.touchStart=null,this.flipState="inactive",this.swipeRightState="inactive",this.swipeLeftState="inactive",this.fadeInState="inactive",this.flipped=!1,this.flipping=!1,this.showEdit=!1,this.showCard=!0,this.showInfo=!1}ngOnInit(){this.editForm=new mr({base:new st(this.card.base,At.required),goal:new st(this.card.goal,At.required),type:new st(this.card.type,At.required),goal_sent_1:new st(this.card.goal_sent_1),base_sent_1:new st(this.card.base_sent_1),goal_sent_2:new st(this.card.goal_sent_2),base_sent_2:new st(this.card.base_sent_2)})}handleTouchStart(r){this.touchStart=r}handleTouchEnd(r){this.touchStart&&(this.showCard&&this.handleSwipe({start:this.touchStart,end:r}),this.touchStart=null)}handleKeyDown(r){this.showCard&&(r.key==="ArrowUp"||r.key==="ArrowDown"?this.tap():r.key==="ArrowRight"?this.swipeRight():r.key==="ArrowLeft"&&this.swipeLeft())}handleTouch(){this.tap()}handleSwipe(r){let i=r.end.changedTouches[0].pageX-r.start.changedTouches[0].pageX;Math.abs(i)>100&&(i>0?this.swipeRight():this.swipeLeft())}getFront(){return this.baseFirst?this.card.base:this.card.goal}getBack(){return this.baseFirst?this.card.goal:this.card.base}tap(){this.showCard&&(this.flipState=this.flipState==="inactive"?"active":"inactive")}menuClose(r){r.stopPropagation(),this.fade()}saveEdit(r){this.onUpdated.emit(b(b({},this.card),this.editForm.value)),this.menuClose(r)}revealCard(){this.showEdit=!1,this.showCard=!0,this.showInfo=!1}editTapped(r){r.stopPropagation(),this.fade(),this.showEdit=!0,this.showCard=!1,this.showInfo=!1}starTapped(r){r.stopPropagation(),this.onUpdated.emit(X(b({},this.card),{starred:!this.card.starred}))}infoTapped(r){r.stopPropagation(),this.fade(),this.showEdit=!1,this.showCard=!1,this.showInfo=!0}swipeRight(){this.swipeRightState=this.swipeRightState==="inactive"?"active":"inactive"}swipeLeft(){this.swipeLeftState=this.swipeLeftState==="inactive"?"active":"inactive"}fade(){this.fadeInState=this.fadeInState==="inactive"?"active":"inactive"}emitSwiped(r){r.fromState==="inactive"&&r.toState==="active"&&(r.triggerName==="swipeRight"?this.onSwiped.emit(!0):this.onSwiped.emit(!1))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ke({type:e,selectors:[["app-card"]],hostBindings:function(i,s){i&1&&U("touchstart",function(a){return s.handleTouchStart(a)},!1,sc)("touchend",function(a){return s.handleTouchEnd(a)},!1,sc)("keydown",function(a){return s.handleKeyDown(a)},!1,sc)},inputs:{card:"card",color:"color",baseFirst:"baseFirst"},outputs:{onSwiped:"onSwiped",onUpdated:"onUpdated"},standalone:!0,features:[Oe],decls:4,vars:12,consts:[["id","container",3,"click"],[3,"class",4,"ngIf"],[1,"icon-btn",3,"click"],["viewBox","0 0 1024 1024","xmlns","http://www.w3.org/2000/svg","fill","#000000"],["id","SVGRepo_bgCarrier","stroke-width","0"],["id","SVGRepo_tracerCarrier","stroke-linecap","round","stroke-linejoin","round"],["id","SVGRepo_iconCarrier"],["fill","#000000","d","M832 512a32 32 0 1 1 64 0v352a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h352a32 32 0 0 1 0 64H192v640h640V512z"],["fill","#000000","d","m469.952 554.24 52.8-7.552L847.104 222.4a32 32 0 1 0-45.248-45.248L477.44 501.44l-7.552 52.8zm422.4-422.4a96 96 0 0 1 0 135.808l-331.84 331.84a32 32 0 0 1-18.112 9.088L436.8 623.68a32 32 0 0 1-36.224-36.224l15.104-105.6a32 32 0 0 1 9.024-18.112l331.904-331.84a96 96 0 0 1 135.744 0z"],[1,"icon-btn","star",3,"click"],["fill","#ffff00","viewBox","0 0 1920 1920","xmlns","http://www.w3.org/2000/svg","stroke","#ffff00"],["fill","#000000","viewBox","0 0 1920 1920","xmlns","http://www.w3.org/2000/svg"],["viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M12 17.75C12.4142 17.75 12.75 17.4142 12.75 17V11C12.75 10.5858 12.4142 10.25 12 10.25C11.5858 10.25 11.25 10.5858 11.25 11V17C11.25 17.4142 11.5858 17.75 12 17.75Z","fill","#000000"],["d","M12 7C12.5523 7 13 7.44772 13 8C13 8.55228 12.5523 9 12 9C11.4477 9 11 8.55228 11 8C11 7.44772 11.4477 7 12 7Z","fill","#000000"],["fill-rule","evenodd","clip-rule","evenodd","d","M1.25 12C1.25 6.06294 6.06294 1.25 12 1.25C17.9371 1.25 22.75 6.06294 22.75 12C22.75 17.9371 17.9371 22.75 12 22.75C6.06294 22.75 1.25 17.9371 1.25 12ZM12 2.75C6.89137 2.75 2.75 6.89137 2.75 12C2.75 17.1086 6.89137 21.25 12 21.25C17.1086 21.25 21.25 17.1086 21.25 12C21.25 6.89137 17.1086 2.75 12 2.75Z","fill","#000000"],["d","M1915.918 737.475c-10.955-33.543-42.014-56.131-77.364-56.131h-612.029l-189.063-582.1v-.112C1026.394 65.588 995.335 43 959.984 43c-35.237 0-66.41 22.588-77.365 56.245L693.443 681.344H81.415c-35.35 0-66.41 22.588-77.365 56.131-10.955 33.544.79 70.137 29.478 91.03l495.247 359.831-189.177 582.212c-10.955 33.657 1.13 70.25 29.817 90.918 14.23 10.278 30.946 15.487 47.66 15.487 16.716 0 33.432-5.21 47.775-15.6l495.134-359.718 495.021 359.718c28.574 20.781 67.087 20.781 95.662.113 28.687-20.668 40.658-57.261 29.703-91.03l-189.176-582.1 495.36-359.83c28.574-20.894 40.433-57.487 29.364-91.03","fill-rule","evenodd"],["d","M1306.181 1110.407c-28.461 20.781-40.32 57.261-29.477 91.03l166.136 511.398-435.05-316.122c-28.686-20.781-67.086-20.781-95.66 0l-435.05 316.122 166.25-511.623c10.842-33.544-1.017-70.024-29.591-90.805L178.577 794.285h537.825c35.351 0 66.523-22.701 77.365-56.245l166.25-511.51 166.136 511.397a81.155 81.155 0 0 0 77.365 56.358h537.939l-435.276 316.122Zm609.77-372.819c-10.956-33.656-42.014-56.244-77.365-56.244h-612.141l-189.064-582.1C1026.426 65.589 995.367 43 960.017 43c-35.351 0-66.523 22.588-77.365 56.245L693.475 681.344H81.335c-35.351 0-66.41 22.588-77.366 56.244-10.842 33.657 1.017 70.137 29.591 90.918l495.247 359.718-189.29 582.211c-10.842 33.657 1.017 70.137 29.704 90.918 14.23 10.39 31.059 15.586 47.661 15.586 16.829 0 33.657-5.195 47.887-15.699l495.248-359.718 495.02 359.718c28.575 20.894 67.088 20.894 95.775.113 28.574-20.781 40.433-57.261 29.59-91.03l-189.289-582.1 495.247-359.717c28.687-20.781 40.546-57.261 29.59-90.918Z","fill-rule","evenodd"],[4,"ngIf"],["class","btn-row",4,"ngIf"],[1,"edit-form",3,"formGroup"],["type","text","formControlName","base","placeholder","base",1,"card-input"],["type","text","formControlName","goal","placeholder","goal",1,"card-input"],["formControlName","type",1,"card-input",3,"value"],[3,"selected","background",4,"ngFor","ngForOf"],["type","text","formControlName","goal_sent_1","placeholder","goal sentence 1",1,"card-input"],["type","text","formControlName","base_sent_1","placeholder","base sentence 1",1,"card-input"],["type","text","formControlName","goal_sent_2","placeholder","goal sentence 2",1,"card-input"],["type","text","formControlName","base_sent_2","placeholder","base sentence 2",1,"card-input"],[3,"selected"],[1,"sent-ger"],[1,"sent-eng"],[1,"btn-row"],["id","Menu / Close_LG"],["id","Vector","d","M21 21L12 12M12 12L3 3M12 12L21.0001 3M12 12L3 21.0001","stroke","#000000","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["class","icon-btn",3,"disabled","click",4,"ngIf"],[1,"icon-btn",3,"click","disabled"],["fill-rule","evenodd","clip-rule","evenodd","d","M18.1716 1C18.702 1 19.2107 1.21071 19.5858 1.58579L22.4142 4.41421C22.7893 4.78929 23 5.29799 23 5.82843V20C23 21.6569 21.6569 23 20 23H4C2.34315 23 1 21.6569 1 20V4C1 2.34315 2.34315 1 4 1H18.1716ZM4 3C3.44772 3 3 3.44772 3 4V20C3 20.5523 3.44772 21 4 21L5 21L5 15C5 13.3431 6.34315 12 8 12L16 12C17.6569 12 19 13.3431 19 15V21H20C20.5523 21 21 20.5523 21 20V6.82843C21 6.29799 20.7893 5.78929 20.4142 5.41421L18.5858 3.58579C18.2107 3.21071 17.702 3 17.1716 3H17V5C17 6.65685 15.6569 8 14 8H10C8.34315 8 7 6.65685 7 5V3H4ZM17 21V15C17 14.4477 16.5523 14 16 14L8 14C7.44772 14 7 14.4477 7 15L7 21L17 21ZM9 3H15V5C15 5.55228 14.5523 6 14 6H10C9.44772 6 9 5.55228 9 5V3Z","fill","#0F0F0F"]],template:function(i,s){i&1&&(_(0,"div",0),U("click",function(){return s.handleTouch()})("@flip.start",function(){return s.flipping=!0})("@flip.done",function(){return s.flipped=!s.flipped,s.flipping=!1})("@swipeRight.done",function(a){return s.emitSwiped(a)})("@swipeLeft.done",function(a){return s.emitSwiped(a)}),Xe(1,qL,2,3,"div",1)(2,QL,19,3,"div",1)(3,n2,4,6,"span",1),S()),i&2&&(pc(ns(10,GL,s.color)),Wr(s.flipped?"card-container":"card-container back"),Y("@flip",s.flipState)("@swipeRight",s.swipeRightState)("@swipeLeft",s.swipeLeftState),W(),Y("ngIf",!s.flipping&&s.showCard),W(),Y("ngIf",!s.flipping&&s.showCard),W(),Y("ngIf",s.showEdit||s.showInfo))},dependencies:[dn,Cc,os,Ms,As,s0,a0,yr,Mu,Ss,Ts,ci,ui,Ru],styles:["body[_ngcontent-%COMP%]{margin:0;background:#dedede;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{height:2.5rem;margin:0 .5rem;padding:.25rem;border:none;outline:none;border-radius:5px;background-color:#f0f8ff;font-size:large;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}textarea[_ngcontent-%COMP%]{height:3.5rem}button[_ngcontent-%COMP%]{font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}.label[_ngcontent-%COMP%]{font-size:20px}.btn[_ngcontent-%COMP%]{width:fit-content;margin:auto;padding:.5rem 1rem;border:none;outline:none;height:3rem;border-radius:5px;font-size:20px;box-shadow:0 1px 2px #d3d3d3}.icon-btn[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;outline:none;border:none;background:none;width:4rem;height:4rem;padding:0 .5rem}.icon-btn[_ngcontent-%COMP%]:hover{cursor:pointer;outline:solid 1px black}.navbar[_ngcontent-%COMP%]{height:4rem;width:100%;display:flex;flex-direction:row;justify-content:space-between}[_nghost-%COMP%]{width:100%}.card-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;text-align:center;height:100%;border-radius:10px;box-shadow:0 1px 2px gray;word-wrap:break-word;overflow-y:scroll}.card-container[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.card-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;height:100%;font-size:32px;padding:1rem}.back[_ngcontent-%COMP%]{transform:rotateY(180deg)}.star[_ngcontent-%COMP%]{width:3.5rem;height:3.5rem}.filled[_ngcontent-%COMP%]{background:#ff0}.btn-row[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:space-between;margin-bottom:.25rem}.card-menu[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:space-between;margin:1rem 1rem 0}.edit-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;gap:.5rem}.card-input[_ngcontent-%COMP%]{background:#ffffff10;border:solid 1px black}.sent-ger[_ngcontent-%COMP%]{font-size:30px;font-weight:400}.sent-eng[_ngcontent-%COMP%]{font-size:24px;font-weight:300}"],data:{animation:[c0,u0,d0,h0]}});let t=e;return t})();var xu=(()=>{let e=class e{constructor(){this.undos=[],this.redos=[],this.activeUndo=new ve,this.activeRedo=new ve}pushUndo(r){this.undos.push(r)}pushRedo(r){this.redos.push(r)}applyUndo(){let r=this.undos.pop();r&&(this.redos.push(r),this.activeUndo.next(r))}applyRedo(){let r=this.redos.pop();r&&(this.undos.push(r),this.activeRedo.next(r))}reset(){this.resetUndos(),this.resetRedos()}resetUndos(){this.undos=[]}resetRedos(){this.redos=[]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var g0=[{id:0,goal:"ab",base:"from, off",goal_sent_1:"Die Fahrt kostet ab Hamburg 200 Euro.",base_sent_1:"The journey costs 200 Euro from Hamburg.",goal_sent_2:"Ab n\xE4chster Woche bleibt unser Gesch\xE4ft samstags geschlossen.",base_sent_2:"From next week, our business will be closed on Saturdays.",starred:!1,type:"other"},{id:1,goal:"abbiegen, biegt ab, bog ab, ist abgebogen",base:"to turn off, bend",goal_sent_1:"An der n\xE4chsten Kreuzung m\xFCssen Sie links abbiegen.",base_sent_1:"At the next junction you have to turn left.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:2,goal:"die Abbildung, -en",base:"Illustration",goal_sent_1:"Hier in der Abbildung sehen Sie, wie man das Ger\xE4t einschaltet.",base_sent_1:"Here you can see how to turn on the device.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"feminine"},{id:3,goal:"aber",base:"but",goal_sent_1:"Heute kann ich nicht, aber morgen ganz bestimmt.",base_sent_1:"I can not today, but certainly tomorrow.",goal_sent_2:"Es lag sehr viel Schnee, aber Enzo ist trotzdem mit dem Motorrad gefahren.",base_sent_2:"There was a lot of snow, but Enzo went by motorbike anyway.",starred:!1,type:"other"},{id:4,goal:'der Abfall, -"e',base:"waste, rubbish, garbage",goal_sent_1:"Werfen Sie den Bioabfall in die gr\xFCne Tonne.",base_sent_1:"Throw the bio-waste into the green bin.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"masculine"},{id:5,goal:"abfahren, f\xE4hrt ab, fuhr ab, ist abgefahren",base:"to depart",goal_sent_1:"Unser Zug ist p\xFCnktlich abgefahren.",base_sent_1:"Our train left on time.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:6,goal:"das Abgas, -e",base:"exhaust, waste gas",goal_sent_1:"Abgase aus Industrie und Haushalten verschmutzen die Luft.",base_sent_1:"Exhaust gases from industry and households pollute the air.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"neuter"},{id:7,goal:"abgeben, gibt ab, gab ab, hat abgegeben",base:"to hand in",goal_sent_1:"Ich soll dieses P\xE4ckchen bei Herrn M\xFCller abgeben.",base_sent_1:"I should hand over this package to Mr. M\xFCller.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:8,goal:"abh\xE4ngen, h\xE4ngt ab, hing ab, hat abgehangen",base:"to take down, uncouple, depend upon",goal_sent_1:"Vielleicht bleiben wir ein paar Tage l\xE4nger, das h\xE4ngt vom Wetter ab.",base_sent_1:"Maybe we stay a few days longer, it depends on the weather.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:9,goal:"abh\xE4ngig",base:"dependent on",goal_sent_1:"Gregor ist finanziell von seinen Eltern abh\xE4ngig.",base_sent_1:"Gregor is financially dependent on his parents.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"other"},{id:10,goal:"abheben, hebt ab, hob ab, hat abgehoben",base:"to lift (up)",goal_sent_1:"F\xFCr die Reise habe ich 500 Euro von meinem Konto abgehoben.",base_sent_1:"For the trip, I have lifted 500 \u20AC from my account.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:11,goal:"abholen, holt ab, holte ab, hat abgeholt",base:"to pick up (from a place)",goal_sent_1:"Meine Freundin hat mich vom Bahnhof abgeholt.",base_sent_1:"My girlfriend picked me up from the train station.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:12,goal:"das Abitur (Sg.)",base:"school graduation exam",goal_sent_1:"Meine Tochter hat gerade Abitur gemacht.",base_sent_1:"My daughter just graduated from high school.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"neuter"},{id:13,goal:"ablehnen, lehnt ab, lehnte ab, hat abgelehnt",base:"to refuse",goal_sent_1:"Es tut mir leid, Ihr Antrag ist abgelehnt.",base_sent_1:"I'm sorry, your application is rejected.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:14,goal:"abmachen, macht ab, machte ab, hat abgemacht",base:"to take off, agree",goal_sent_1:"Wir hatten doch abgemacht, dass du die Getr\xE4nke besorgst.",base_sent_1:"We had agreed that you get the drinks.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:15,goal:"abnehmen, nimmt ab, nahm ab, hat abgenommen",base:"to take off, remove, take away, loose weight",goal_sent_1:"Morgen k\xF6nnen wir den Verband abnehmen.",base_sent_1:"Tomorrow we can remove the bandage.",goal_sent_2:"Ich habe zehn Kilo abgenommen.",base_sent_2:"I lost ten pounds.",starred:!1,type:"verb"},{id:16,goal:"abonnieren, abonniert, abonnierte, hat abonniert",base:"to subscribe",goal_sent_1:"Diese Zeitschrift w\xFCrde ich gerne abonnieren.",base_sent_1:"I would like to subscribe to this magazine.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:17,goal:"das Abonnement, -s",base:"subscription",goal_sent_1:"Ich habe das Abonnement gek\xFCndigt.",base_sent_1:"I have canceled the subscription.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"neuter"},{id:18,goal:'der Abschluss, -"sse',base:"school graduation or result",goal_sent_1:"Ein guter Schulabschluss ist sehr wichtig.",base_sent_1:"A good education is very important.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"masculine"},{id:19,goal:"der Absender, -",base:"sender",goal_sent_1:"Schicken Sie das P\xE4ckchen an den Absender zur\xFCck.",base_sent_1:"Send the parcel back to the sender.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"masculine"},{id:20,goal:"die Absicht, -en",base:"intention",goal_sent_1:"Entschuldigen Sie bitte. Meine Tochter hat das nicht mit Absicht gemacht.",base_sent_1:"Excuse me please. My daughter did not do that on purpose.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"feminine"},{id:21,goal:"absolut",base:"absolute",goal_sent_1:"Was Sie da sagen, ist absolut falsch.",base_sent_1:"What you say is absolutely wrong.",goal_sent_2:"Ich habe absolutes Vertrauen zu dir.",base_sent_2:"I have absolute confidence in you.",starred:!1,type:"other"},{id:22,goal:"abstimmen, stimmt ab, stimmte ab, hat abgestimmt",base:"to vote",goal_sent_1:"Lasst uns \xFCber diesen Punkt abstimmen.",base_sent_1:"Let's vote on this point.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:23,goal:"die Abteilung, -en",base:"Department",goal_sent_1:"Meine Freundin arbeitet in der Abteilung von Frau Kaufmann.",base_sent_1:"My girlfriend works in the department of Mrs. Kaufmann.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"feminine"},{id:24,goal:"abwaschen, w\xE4scht ab, wusch ab, hat abgewaschen",base:"wash up",goal_sent_1:"Ich muss noch das Geschirr abwaschen.",base_sent_1:"I still have to wash the dishes.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"other"},{id:25,goal:"ach",base:"Oh",goal_sent_1:"Sie sind krank? Ach, das tut mir aber leid.",base_sent_1:"You are sick? Oh, I'm sorry.",goal_sent_2:"Ach so! Jetzt verstehe ich, was Sie meinen.",base_sent_2:"Oh, right! Now I understand what you mean.",starred:!1,type:"other"},{id:26,goal:"achten auf, achtet, achtete, hat geachtet",base:"to pay attention (to)",goal_sent_1:"Achten Sie bitte darauf, dass abends immer alle Fenster geschlossen sind.",base_sent_1:"Please make sure that all windows are closed in the evening.",goal_sent_2:"Hier m\xFCssen Sie auf die Vorfahrt achten.",base_sent_2:"Here you must pay attention to the right of way.",starred:!1,type:"verb"},{id:27,goal:"die Achtung (Sg.)",base:"Danger, Attention",goal_sent_1:"Achtung, hier endet die Stra\xDFe!",base_sent_1:"Attention, the road ends here!",goal_sent_2:"",base_sent_2:"",starred:!1,type:"feminine"},{id:28,goal:"die Adresse, -n",base:"address",goal_sent_1:"Hast du schon meine neue Adresse?",base_sent_1:"Do you already have my new address?",goal_sent_2:"",base_sent_2:"",starred:!1,type:"feminine"},{id:29,goal:"die Agentur, -en",base:"Agency",goal_sent_1:"Ich habe einen Brief von der Agentur f\xFCr Arbeit bekommen.",base_sent_1:"I got a letter from the employment agency.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"feminine"},{id:30,goal:"\xE4hnlich",base:"similar",goal_sent_1:"Oleg sieht seinem Bruder sehr \xE4hnlich.",base_sent_1:"Oleg looks very much like his brother.",goal_sent_2:"Emilia ist in einer ganz \xE4hnlichen Situation wie ich.",base_sent_2:"Emilia is in a similar situation to me.",starred:!1,type:"other"},{id:31,goal:"aha",base:"Aha",goal_sent_1:"Ich gehe bald in Rente. - Aha, dann haben Sie ja viel Zeit f\xFCr Ihre Hobbys.",base_sent_1:"I'm retiring soon. - Aha, then you have a lot of time for your hobbies.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"other"},{id:32,goal:"die Ahnung, -en",base:"idea, suspicion",goal_sent_1:"Ich hatte keine Ahnung, dass du heute Geburtstag hast.",base_sent_1:"I had no idea that you have a birthday today.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"feminine"},{id:33,goal:"die Aktion, -en",base:"action",goal_sent_1:"Die Regierung plant eine Aktion gegen das Rauchen.",base_sent_1:"The government is planning an action against smoking.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"feminine"},{id:34,goal:"aktiv",base:"active",goal_sent_1:"Ich bin sehr aktiv und mache viel Sport.",base_sent_1:"I am very active and do a lot of sports.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"other"},{id:35,goal:"die Aktivit\xE4t, -en",base:"activity",goal_sent_1:"In den Ferien bietet die Stadt f\xFCr Kinder verschiedene Freizeitaktivit\xE4ten.",base_sent_1:"During the holidays, the city offers various leisure activities for children.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"feminine"},{id:36,goal:"aktuell",base:"current (now)",goal_sent_1:"Umweltschutz ist ein aktuelles Thema.",base_sent_1:"Environmental protection is a current topic.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"other"},{id:37,goal:"akzeptieren, akzeptiert, akzeptierte, hat akzeptiert",base:"to accept",goal_sent_1:"Ich kann diese Bedingungen nicht akzeptieren.",base_sent_1:"I can not accept these conditions.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:38,goal:"der Alarm, -e",base:"alarm",goal_sent_1:"Bei Feueralarm d\xFCrfen Sie die Aufz\xFCge nicht benutzen.",base_sent_1:"In case of fire alarm you are not allowed to use the lifts.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"masculine"},{id:39,goal:"der Alkohol, -e",base:"alcohol",goal_sent_1:"Du musst die Wunde mit Alkohol reinigen.",base_sent_1:"You have to clean the wound with alcohol.",goal_sent_2:"Nein, danke! Ich trinke keinen Alkohol.",base_sent_2:"No thanks! I do not drink alcohol.",starred:!1,type:"masculine"},{id:40,goal:"all-",base:"everything",goal_sent_1:"Alles Gute!",base_sent_1:"All the best!",goal_sent_2:"Sonst noch (et)was? - Nein, danke. Das ist alles.",base_sent_2:"Anything else? - No thanks. That's all.",starred:!1,type:"other"},{id:41,goal:"allein",base:"alone",goal_sent_1:"Ich gehe nicht gern allein spazieren.",base_sent_1:"I do not like to go for a walk alone.",goal_sent_2:"Soll ich Ihnen helfen? - Danke, ich schaffe es schon allein.",base_sent_2:"Can I help you? - Thanks, I can do it alone.",starred:!1,type:"other"},{id:42,goal:"aller",base:"all",goal_sent_1:"Am allerbesten ist es, wenn du dich ins Bett legst und lange schl\xE4fst. Dann wirst du schnell wieder gesund.",base_sent_1:"Best of all, when you go to bed and sleep for a long time. Then you will get well soon.",goal_sent_2:"Das ist das Allersch\xF6nste, was ich je gesehen habe.",base_sent_2:"That's the most beautiful thing I've ever seen.",starred:!1,type:"other"},{id:43,goal:"allerdings",base:"admittedly, certainly",goal_sent_1:"Sie k\xF6nnen sich noch f\xFCr den Kurs anmelden, allerdings nur noch bis morgen.",base_sent_1:"You can still register for the course, but only until tomorrow.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"other"},{id:44,goal:"allgemein",base:"general",goal_sent_1:"Im Allgemeinen bin ich mit meiner Arbeit sehr zufrieden.",base_sent_1:"In general I am very satisfied with my work.",goal_sent_2:"Wir haben nur \xFCber allgemeine Probleme gesprochen.",base_sent_2:"We only talked about general problems.",starred:!1,type:"other"},{id:45,goal:"der Alltag, -e",base:"daily routine",goal_sent_1:"Das ist mein Alltag: putzen, waschen, kochen.",base_sent_1:"This is my everyday life: cleaning, washing, cooking.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"masculine"},{id:46,goal:"das Alphabet, -e",base:"alphabet",goal_sent_1:"Wie viele Buchstaben hat das Alphabet Ihrer Sprache?",base_sent_1:"How many letters does the alphabet have in your language?",goal_sent_2:"",base_sent_2:"",starred:!1,type:"neuter"},{id:47,goal:"als",base:"when, as, than",goal_sent_1:"Als mein Mann kam, war die Party schon zu Ende.",base_sent_1:"When my husband came, the party was over.",goal_sent_2:"Sie k\xF6nnen sich sowohl pers\xF6nlich als auch per Internet anmelden.",base_sent_2:"You can register both in person and via the internet.",starred:!1,type:"other"},{id:48,goal:"als ob",base:"as if",goal_sent_1:"Der Chef tat so, als ob wir nie dar\xFCber gesprochen h\xE4tten.",base_sent_1:"The boss pretended we never talked about it.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"other"},{id:49,goal:"also",base:"so, therefore",goal_sent_1:"Also, die Sache ist so: ...",base_sent_1:"So, the thing is ...",goal_sent_2:"Irina hat Urlaub. Sie kann uns also helfen.",base_sent_2:"Irina is on vacation. So she can help us.",starred:!1,type:"other"},{id:50,goal:"alt",base:"old",goal_sent_1:"Wie alt sind Sie?",base_sent_1:"How old are they?",goal_sent_2:"Maria ist eine alte Freundin von mir.",base_sent_2:"Maria is an old friend of mine.",starred:!1,type:"other"},{id:51,goal:"das Alter, -",base:"age",goal_sent_1:"Wir sind etwa im gleichen Alter.",base_sent_1:"We are about the same age.",goal_sent_2:"Im Alter bekomme ich eine ausreichende Rente.",base_sent_2:"At the age I get a sufficient pension.",starred:!1,type:"neuter"},{id:52,goal:"das Altenheim, -e",base:"old people's home, retirement home",goal_sent_1:"In Deutschland leben viele alte Leute in Altenheimen.",base_sent_1:"In Germany, many old people live in retirement homes.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"neuter"},{id:53,goal:"das Altersheim, -e",base:"old people's home, retirement home",goal_sent_1:"Die Gro\xDFeltern unserer Nachbarn sind im Altersheim.",base_sent_1:"The grandparents of our neighbors are in the retirement home.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"neuter"},{id:54,goal:"an",base:"on",goal_sent_1:"Am Anfang war alles sehr schwierig.",base_sent_1:"In the beginning everything was very difficult.",goal_sent_2:"Dann sehen wir uns also am Dienstag.",base_sent_2:"See you on Tuesday.",starred:!1,type:"other"},{id:55,goal:"die Ampel, -n",base:"traffic light",goal_sent_1:"Dort an der Ampel kannst du \xFCber die Stra\xDFe gehen.",base_sent_1:"There at the traffic light you can cross the street.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"feminine"},{id:56,goal:'das Amt, -"er',base:"office",goal_sent_1:"Die \xC4mter haben heute geschlossen.",base_sent_1:"The offices have closed today.",goal_sent_2:"Wissen Sie, wo das Ordnungsamt ist?",base_sent_2:"Do you know where the public order office is?",starred:!1,type:"neuter"},{id:57,goal:"sich am\xFCsieren, am\xFCsiert sich, am\xFCsierte sich, hat sich am\xFCsiert",base:"to amuse oneself",goal_sent_1:"Bei dem Fest haben wir uns sehr gut am\xFCsiert.",base_sent_1:"We had a good time at the party.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:58,goal:"analysieren, analysiert, analysierte, hat analysiert",base:"to analyse",goal_sent_1:"Die Politiker analysieren die Situation auf dem Arbeitsmarkt.",base_sent_1:"The politicians analyze the situation on the job market.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:59,goal:"anbieten, bietet an, bot an, hat angeboten",base:"to offer",goal_sent_1:"Darf ich Ihnen etwas zu trinken anbieten?",base_sent_1:"May I offer you something to drink?",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:60,goal:"das Angebot, -e",base:"offer",goal_sent_1:"Ich habe ein paar g\xFCnstige Wohnungsangebote bekommen.",base_sent_1:"I got a few cheap housing offers.",goal_sent_2:"Dieser K\xE4se ist heute im Angebot.",base_sent_2:"This cheese is on sale today.",starred:!1,type:"neuter"},{id:61,goal:"ander-",base:"other",goal_sent_1:"Die anderen sind schon nach Hause gegangen.",base_sent_1:"The others have already gone home.",goal_sent_2:"Bitte nicht alle auf einmal! - Einer nach dem anderen.",base_sent_2:"Not all at once! - One after the other.",starred:!1,type:"other"},{id:62,goal:"andererseits",base:"on the other hand",goal_sent_1:"Tarek will zwar studieren. Andererseits m\xF6chte er aber auch gleich Geld verdienen.",base_sent_1:"Tarek wants to study. On the other hand, he also wants to earn money right away.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"other"},{id:63,goal:"\xE4ndern, \xE4ndert, \xE4nderte, hat ge\xE4ndert",base:"to change",goal_sent_1:"Das Wetter hat sich ge\xE4ndert.",base_sent_1:"The weather has changed.",goal_sent_2:"Ich habe meine Meinung inzwischen ge\xE4ndert.",base_sent_2:"I have changed my mind by now.",starred:!1,type:"verb"},{id:64,goal:"die \xC4nderung, -en",base:"modification, change",goal_sent_1:"Es gibt eine Programm\xE4nderung.",base_sent_1:"There is a program change.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"feminine"},{id:65,goal:"anders",base:"different",goal_sent_1:"Anders geht das leider nicht.",base_sent_1:"Unfortunately, that is not possible.",goal_sent_2:"Oliver ist anders als seine Freunde.",base_sent_2:"Oliver is different than his friends.",starred:!1,type:"other"},{id:66,goal:"anerkennen, erkennt an, erkannte an, hat anerkannt",base:"to recognize",goal_sent_1:"Meine Ausbildung wird hier nicht anerkannt.",base_sent_1:"My education is not recognized here.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:67,goal:"anfangen, f\xE4ngt an, fing an, hat angefangen",base:"to begin",goal_sent_1:"Wann f\xE4ngst du mit der Arbeit an?",base_sent_1:"When do you start working?",goal_sent_2:"Wann haben Sie angefangen, Deutsch zu lernen?",base_sent_2:"When did you start learning German?",starred:!1,type:"verb"},{id:68,goal:'der Anfang, -"e',base:"beginning",goal_sent_1:"Wie war der Film? - Ich habe nur den Anfang gesehen.",base_sent_1:"How was the movie? - I saw only the beginning.",goal_sent_2:"Am Anfang habe ich mich hier sehr fremd gef\xFChlt.",base_sent_2:"In the beginning I felt very strange here.",starred:!1,type:"masculine"},{id:69,goal:"anfangs",base:"at/ in the beginning",goal_sent_1:"Anfangs ging alles gut.",base_sent_1:"At first everything went well.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"other"},{id:70,goal:"die Angabe,-n",base:"information, specification",goal_sent_1:"Wir brauchen von Ihnen folgende Angaben: Name, Adresse, Geburtsdatum.",base_sent_1:"We need the following information from you: name, address, date of birth.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"feminine"},{id:71,goal:"angeben, gibt an, gab an, hat angegeben",base:"to boast",goal_sent_1:"Bitte geben Sie Ihre genaue Adresse an.",base_sent_1:"Please enter your exact address.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:72,goal:"der Angeh\xF6rige, -n",base:"relative (cousin, etc)",goal_sent_1:"Wir d\xFCrfen nur Familienangeh\xF6rigen Auskunft geben.",base_sent_1:"We may only provide information to family members.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"masculine"},{id:73,goal:"angenehm",base:"pleasant",goal_sent_1:"Wir w\xFCnschen Ihnen eine angenehme Reise.",base_sent_1:"We wish you a pleasant journey.",goal_sent_2:"Welcher Termin w\xE4re Ihnen angenehm?",base_sent_2:"Which date would you like?",starred:!1,type:"other"},{id:74,goal:'die Angst, -"e',base:"fear",goal_sent_1:"Du brauchst keine Angst zu haben. Der Hund tut dir nichts.",base_sent_1:"You do not have to be scared. The dog does nothing to you.",goal_sent_2:"Ich habe Angst, vielleicht ist etwas passiert.",base_sent_2:"I'm scared, maybe something happened.",starred:!1,type:"feminine"},{id:75,goal:"\xE4ngstlich",base:"nervous, worried, timid",goal_sent_1:"Meine Tochter ist etwas \xE4ngstlich. Sie geht nicht gern allein auf die Stra\xDFe.",base_sent_1:"My daughter is a little scared. She does not like to go alone on the street.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"other"},{id:76,goal:"anhaben, hat an, hatte an, hat angehabt",base:"to have on",goal_sent_1:"Gestern hatte Julia ein rotes Kleid an.",base_sent_1:"Yesterday Julia was wearing a red dress.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:77,goal:"ankommen, kommt an, kam an, ist angekommen",base:"to arrive",goal_sent_1:"Wann kommt der Zug in Hamburg an?",base_sent_1:"When does the train arrive in Hamburg?",goal_sent_2:"Es kommt darauf an, dass Sie alle Fragen im Test beantworten.",base_sent_2:"It is important that you answer all the questions in the test.",starred:!1,type:"verb"},{id:78,goal:'die Ankunft, "-e',base:"arrival",goal_sent_1:"Die Abfahrt ist um 0.55 Uhr, die Ankunft um 8.07 Uhr.",base_sent_1:"The departure is at 0.55 clock, the arrival at 8.07 clock.",goal_sent_2:"Gleich nach der Ankunft habe ich meine Eltern angerufen.",base_sent_2:"Immediately after arrival, I called my parents.",starred:!1,type:"feminine"},{id:79,goal:"die Anlage, -n",base:"music system, attachment, investment",goal_sent_1:"Meine Musikanlage ist kaputt.",base_sent_1:"My music system is broken.",goal_sent_2:"In der Anlage finden Sie meinen Lebenslauf.",base_sent_2:"In the attachment you will find my CV.",starred:!1,type:"feminine"},{id:80,goal:"anmelden, meldet an, meldete an, hat angemeldet, angemeldet sein",base:"to announce, make an appointment",goal_sent_1:"F\xFCr diesen Kurs m\xFCssen Sie sich unbedingt vorher anmelden.",base_sent_1:"You absolutely have to register in advance for this course.",goal_sent_2:"Ich melde meinen Sohn im Kindergarten an.",base_sent_2:"I enroll my son in kindergarten.",starred:!1,type:"verb"},{id:81,goal:"die Anmeldung, -en",base:"appointment, announcement",goal_sent_1:"Wo bekomme ich die Formulare f\xFCr die Anmeldung?",base_sent_1:"Where can I get the registration forms?",goal_sent_2:"Die Anmeldung ist im Erdgeschoss, Zimmer 55.",base_sent_2:"The registration is on the ground floor, room 55.",starred:!1,type:"feminine"},{id:82,goal:"die Anrede, -n",base:"form of address",goal_sent_1:"Du darfst im Brief die Anrede nicht vergessen.",base_sent_1:"You must not forget the salutation in the letter.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"feminine"},{id:83,goal:"anrufen, ruft an, rief an, hat angerufen",base:"to telephone, call, call out",goal_sent_1:"Ich rufe Sie heute Abend an.",base_sent_1:"I'll call you tonight.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:84,goal:"der Anruf, -e",base:"call",goal_sent_1:"Ich warte auf einen Anruf aus Berlin.",base_sent_1:"I'm waiting for a call from Berlin.",goal_sent_2:"Meine Tochter bekommt viele Anrufe auf ihrem Handy.",base_sent_2:"My daughter gets many calls on her mobile.",starred:!1,type:"masculine"},{id:85,goal:"der Anrufbeantworter, -",base:"answering machine",goal_sent_1:"Ich habe dir eine Nachricht auf den Anrufbeantworter gesprochen.",base_sent_1:"I have spoken to you on the answering machine.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"masculine"},{id:86,goal:"die Ansage, -n",base:"announcement",goal_sent_1:"Achten Sie auf die Ansage am Bahnsteig.",base_sent_1:"Pay attention to the announcement on the platform.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"feminine"},{id:87,goal:"anschaffen, schafft an, schaffte an, hat angeschafft",base:"to purchase",goal_sent_1:"Wir haben uns neue M\xF6bel angeschafft.",base_sent_1:"We bought new furniture.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:88,goal:"anschlie\xDFen, schlie\xDFt an, schloss an, hat angeschlossen",base:"to connect",goal_sent_1:"Wo kann ich den Computer anschlie\xDFen?",base_sent_1:"Where can I connect the computer?",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:89,goal:'der Anschluss, -"e',base:"connection (TV, internet)",goal_sent_1:"In Mannheim haben Sie Anschluss nach Saarbr\xFCcken.",base_sent_1:"In Mannheim you have connection to Saarbr\xFCcken.",goal_sent_2:"Ich brauche in meiner Wohnung einen Telefonanschluss.",base_sent_2:"I need a telephone connection in my apartment.",starred:!1,type:"masculine"},{id:90,goal:"anschnallen, schnallt an, schnallte an, hat angeschnallt",base:"to strap in, fasten seat belt",goal_sent_1:"Vergiss nicht, dich anzuschnallen!",base_sent_1:"Do not forget to strap on!",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:91,goal:"ansehen, sieht an, sah an, hat angesehen",base:"to look at",goal_sent_1:"Warum siehst du mich so erschrocken an?",base_sent_1:"Why are you looking at me so startled?",goal_sent_2:"Darf ich eure Urlaubsfotos ansehen?",base_sent_2:"May I take a look at your vacation photos?",starred:!1,type:"verb"},{id:92,goal:"ansprechen, spricht an, sprach an, hat angesprochen",base:"to speak to",goal_sent_1:"Gestern hat mich die neue Mieterin im Treppenhaus angesprochen.",base_sent_1:"Yesterday, the new tenant in the stairwell addressed me.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:93,goal:'der Anspruch, - "e',base:"claim",goal_sent_1:"Sie wohnen im Stadtzentrum. Deshalb haben Sie keinen Anspruch auf Fahrgeld.",base_sent_1:"You live in the city center. Therefore, you are not entitled to fare.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"masculine"},{id:94,goal:"anstellen, stellt an, stellte an, hat angestellt",base:"to turn on, employ",goal_sent_1:"K\xF6nnen Sie bitte die Heizung anstellen?",base_sent_1:"Can you please turn on the heating?",goal_sent_2:"Mein Schwager ist bei einer M\xF6belfirma angestellt.",base_sent_2:"My brother-in-law is employed by a furniture company.",starred:!1,type:"verb"},{id:95,goal:"der Angestellte, -n",base:"employee",goal_sent_1:"Bj\xF6rn ist Angestellter in einem Reiseb\xFCro.",base_sent_1:"Bj\xF6rn is a clerk in a travel agency.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"masculine"},{id:96,goal:"sich anstrengen, strengt sich an, strengte sich an, hat sich angestrengt",base:"to tire oneself out, strain oneself",goal_sent_1:"Diese Arbeit strengt mich sehr an.",base_sent_1:"This work is very stressful for me.",goal_sent_2:"Wenn du die Pr\xFCfung schaffen willst, musst du dich mehr anstrengen.",base_sent_2:"If you want to pass the exam, you have to work harder.",starred:!1,type:"verb"},{id:97,goal:"anstrengend",base:"exhausting",goal_sent_1:"Ich finde diese Arbeit sehr anstrengend.",base_sent_1:"I find this work very exhausting.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"other"},{id:98,goal:'der Antrag, -"e',base:"application, proposal, motion",goal_sent_1:"Haben Sie schon einen Antrag auf Wohngeld gestellt?",base_sent_1:"Have you already applied for housing allowance?",goal_sent_2:"Die Antr\xE4ge bekommen Sie in Zimmer 47.",base_sent_2:"You will receive the applications in room 47.",starred:!1,type:"masculine"},{id:99,goal:"anwenden, wendet an, wandte an, hat angewandt/angewendet",base:"to use, employ, apply",goal_sent_1:"Diese Salbe muss man dreimal am Tag anwenden.",base_sent_1:"This ointment must be used three times a day.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"}];var m0="@firebase/database",y0="1.0.5";var sy="";function s2(t){sy=t}var cm=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ae(n))}get(e){let n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:ms(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var um=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return pn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var K0=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){let e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new cm(e)}}catch{}return new um},fi=K0("localStorage"),dm=K0("sessionStorage");var xs=new or("@firebase/database"),o2=function(){let t=1;return function(){return t++}}(),Y0=function(t){let e=cC(t),n=new zc;n.update(e);let r=n.digest();return Wc.encodeByteArray(r)},Ia=function(...t){let e="";for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Ia.apply(null,r):typeof r=="object"?e+=Ae(r):e+=r,e+=" "}return e},gi=null,_0=!0,a2=function(t,e){v(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(xs.logLevel=ue.VERBOSE,gi=xs.log.bind(xs),e&&dm.set("logging_enabled",!0)):typeof t=="function"?gi=t:(gi=null,dm.remove("logging_enabled"))},We=function(...t){if(_0===!0&&(_0=!1,gi===null&&dm.get("logging_enabled")===!0&&a2(!0)),gi){let e=Ia.apply(null,t);gi(e)}},Da=function(t){return function(...e){We(t,...e)}},hm=function(...t){let e="FIREBASE INTERNAL ERROR: "+Ia(...t);xs.error(e)},Ln=function(...t){let e=`FIREBASE FATAL ERROR: ${Ia(...t)}`;throw xs.error(e),new Error(e)},ot=function(...t){let e="FIREBASE WARNING: "+Ia(...t);xs.warn(e)},l2=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ot("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Q0=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},c2=function(t){if(fn()||document.readyState==="complete")t();else{let e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Os="[MIN_NAME]",mi="[MAX_NAME]",Bs=function(t,e){if(t===e)return 0;if(t===Os||e===mi)return-1;if(e===Os||t===mi)return 1;{let n=v0(t),r=v0(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},u2=function(t,e){return t===e?0:t<e?-1:1},la=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Ae(e))},oy=function(t){if(typeof t!="object"||t===null)return Ae(t);let e=[];for(let r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Ae(e[r]),n+=":",n+=oy(t[e[r]]);return n+="}",n},Z0=function(t,e){let n=t.length;if(n<=e)return[t];let r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function at(t,e){for(let n in t)t.hasOwnProperty(n)&&e(n,t[n])}var J0=function(t){v(!Q0(t),"Invalid JSON number");let e=11,n=52,r=(1<<e-1)-1,i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));let c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();let u=c.join(""),d="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},d2=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},h2=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function f2(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");let r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}var p2=new RegExp("^-?(0*)\\d{1,10}$"),g2=-2147483648,m2=2147483647,v0=function(t){if(p2.test(t)){let e=Number(t);if(e>=g2&&e<=m2)return e}return null},$s=function(t){try{t()}catch(e){setTimeout(()=>{let n=e.stack||"";throw ot("Exception was thrown by user callback.",n),e},Math.floor(0))}},y2=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},fa=function(t,e){let n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var fm=class{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){ot(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}};var pm=class{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(We("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ot(e)}},pa=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}t.OWNER="owner";return t})(),Ou="5",X0="v",eD="s",tD="r",nD="f",rD=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,iD="ls",sD="p",gm="ac",oD="websocket",aD="long_polling";var Pu=class{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=fi.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&fi.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}};function _2(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function lD(t,e,n){v(typeof e=="string","typeof type must == string"),v(typeof n=="object","typeof params must == object");let r;if(e===oD)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===aD)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);_2(t)&&(n.ns=t.namespace);let i=[];return at(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}var mm=class{constructor(){this.counters_={}}incrementCounter(e,n=1){pn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return ZE(this.counters_)}};var nm={},rm={};function ay(t){let e=t.toString();return nm[e]||(nm[e]=new mm),nm[e]}function v2(t,e){let n=t.toString();return rm[n]||(rm[n]=e()),rm[n]}var ym=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&$s(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var w0="start",w2="close",b2="pLPCommand",E2="pRTLPCB",cD="id",uD="pw",dD="ser",C2="cb",I2="seg",D2="ts",S2="d",T2="dframe",hD=1870,fD=30,A2=hD-fD,M2=25e3,N2=3e4,_m=class t{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Da(e),this.stats_=ay(n),this.urlFn=l=>(this.appCheckToken&&(l[gm]=this.appCheckToken),lD(n,aD,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new ym(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(N2)),c2(()=>{if(this.isClosed_)return;this.scriptTagHolder=new vm((...s)=>{let[o,a,l,c,u]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===w0)this.id=a,this.password=l;else if(o===w2)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{let[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[w0]="t",r[dD]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[C2]=this.scriptTagHolder.uniqueCallbackIdentifier),r[X0]=Ou,this.transportSessionId&&(r[eD]=this.transportSessionId),this.lastSessionId&&(r[iD]=this.lastSessionId),this.applicationId&&(r[sD]=this.applicationId),this.appCheckToken&&(r[gm]=this.appCheckToken),typeof location<"u"&&location.hostname&&rD.test(location.hostname)&&(r[tD]=nD);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){t.forceAllow_=!0}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){return fn()?!1:t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!d2()&&!h2()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let n=Ae(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=tg(n),i=Z0(r,A2);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if(fn())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[T2]="t",r[cD]=e,r[uD]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let n=Ae(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},vm=class t{constructor(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,fn())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=o2(),window[b2+this.uniqueCallbackIdentifier]=e,window[E2+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');let o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){We("frame writing exception"),a.stack&&We(a.stack),We(a)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||We("No IE domain setting required")}catch{let r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[cD]=this.myID,e[uD]=this.myPW,e[dD]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+fD+r.length<=hD;){let o=this.pendingSegs.shift();r=r+"&"+I2+i+"="+o.seg+"&"+D2+i+"="+o.ts+"&"+S2+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(M2)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){fn()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{We("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var R2=16384,x2=45e3,Fu=null;typeof MozWebSocket<"u"?Fu=MozWebSocket:typeof WebSocket<"u"&&(Fu=WebSocket);var ca=(()=>{class t{constructor(n,r,i,s,o,a,l){this.connId=n,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Da(this.connId),this.stats_=ay(r),this.connURL=t.connectionURL_(r,a,l,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,s,o){let a={};return a[X0]=Ou,!fn()&&typeof location<"u"&&location.hostname&&rD.test(location.hostname)&&(a[tD]=nD),r&&(a[eD]=r),i&&(a[iD]=i),s&&(a[gm]=s),o&&(a[sD]=o),lD(n,oD,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,fi.set("previous_websocket_failure",!0);try{let i;if(fn()){let s=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${Ou}/${sy}/${process.platform}/${s}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let o=process.env,a=this.connURL.indexOf("wss://")===0?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new Fu(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&Fu!==null&&!t.forceDisallow_}static previouslyFailed(){return fi.isInMemoryStorage||fi.get("previous_websocket_failure")===!0}markConnectionHealthy(){fi.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=ms(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(v(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=Ae(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=Z0(r,R2);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(x2))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4;return t})(),k2=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[_m,ca]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){let r=ca&&ca.isAvailable(),i=r&&!ca.previouslyFailed();if(n.webSocketOnly&&(r||ot("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[ca];else{let s=this.transports_=[];for(let o of t.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}t.globalTransportInitialized_=!1;return t})(),O2=6e4,P2=5e3,F2=10*1024,L2=100*1024,im="t",b0="d",V2="s",E0="r",j2="e",C0="o",I0="a",D0="n",S0="p",U2="h",wm=class{constructor(e,n,r,i,s,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Da("c:"+this.id+":"),this.transportManager_=new k2(n),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=fa(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>L2?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>F2?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){let n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(im in e){let n=e[im];n===I0?this.upgradeIfSecondaryHealthy_():n===E0?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===C0&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let n=la("t",e),r=la("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:S0,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:I0,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:D0,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let n=la("t",e),r=la("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let n=la(im,e);if(b0 in e){let r=e[b0];if(n===U2){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===D0){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===V2?this.onConnectionShutdown_(r):n===E0?this.onReset_(r):n===j2?hm("Server Error: "+r):n===C0?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):hm("Unknown control packet command: "+n)}}onHandshake_(e){let n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Ou!==r&&ot("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),fa(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(O2))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):fa(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(P2))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:S0,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(fi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var Lu=class{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}};var Vu=class{constructor(e){this.allowedEvents_=e,this.listeners_={},v(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){let r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});let i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);let i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){v(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};var ju=class t extends Vu{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!jo()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new t}getInitialEvent(e){return v(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var T0=32,A0=768,de=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function se(){return new de("")}function J(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function br(t){return t.pieces_.length-t.pieceNum_}function me(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new de(t.pieces_,e)}function pD(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function B2(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function gD(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function mD(t){if(t.pieceNum_>=t.pieces_.length)return null;let e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new de(e,0)}function Re(t,e){let n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof de)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{let r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new de(n,0)}function Q(t){return t.pieceNum_>=t.pieces_.length}function tt(t,e){let n=J(t),r=J(e);if(n===null)return e;if(n===r)return tt(me(t),me(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function yD(t,e){if(br(t)!==br(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function qt(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(br(t)>br(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var bm=class{constructor(e,n){this.errorPrefix_=n,this.parts_=gD(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=$o(this.parts_[r]);_D(this)}};function $2(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=$o(e),_D(t)}function H2(t){let e=t.parts_.pop();t.byteLength_-=$o(e),t.parts_.length>0&&(t.byteLength_-=1)}function _D(t){if(t.byteLength_>A0)throw new Error(t.errorPrefix_+"has a key path longer than "+A0+" bytes ("+t.byteLength_+").");if(t.parts_.length>T0)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+T0+") or object contains a cycle "+hi(t))}function hi(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}var Em=class t extends Vu{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new t}getInitialEvent(e){return v(e==="visible","Unknown event type: "+e),[this.visible_]}};var ua=1e3,z2=60*5*1e3,M0=30*1e3,W2=1.3,G2=3e4,q2="server_kill",N0=3,ly=(()=>{class t extends Lu{constructor(n,r,i,s,o,a,l,c){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=t.nextPersistentConnectionId_++,this.log_=Da("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ua,this.maxReconnectDelay_=z2,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!fn())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Em.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&ju.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let s=++this.requestNumber_,o={r:s,a:n,b:r};this.log_(Ae(o)),v(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(n){this.initConnection_();let r=new sr,s={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let l=a.d;a.s==="ok"?r.resolve(l):r.reject(l)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;let o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),r.promise}listen(n,r,i,s){this.initConnection_();let o=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),v(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),v(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");let l={onComplete:s,hashFn:r,query:n,tag:i};this.listens.get(a).set(o,l),this.connected_&&this.sendListen_(l)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);let o={p:i},a="q";n.tag&&(o.q=r._queryObject,o.t=n.tag),o.h=n.hashFn(),this.sendRequest(a,o,l=>{let c=l.d,u=l.s;t.warnOnListenWarnings_(c,r),(this.listens.get(i)&&this.listens.get(i).get(s))===n&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(i,s),n.onComplete&&n.onComplete(u,c))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&pn(n,"w")){let i=ti(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();ot(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||aC(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=M0)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=oC(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{let o=s.s,a=s.d||"error";this.authToken_===n&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),s=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),v(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,n._queryObject,r)}sendUnlisten_(n,r,i,s){this.log_("Unlisten on "+n+" for "+r);let o={p:n},a="n";s&&(o.q=i,o.t=s),this.sendRequest(a,o)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,s){let o={p:r,d:i};this.log_("onDisconnect "+n,o),this.sendRequest(n,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(n,r,i,s){this.putInternal("p",n,r,i,s)}merge(n,r,i,s){this.putInternal("m",n,r,i,s)}putInternal(n,r,i,s,o){this.initConnection_();let a={p:r,d:i};o!==void 0&&(a.h=o),this.outstandingPuts_.push({action:n,request:a,onComplete:s}),this.outstandingPutCount_++;let l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,s=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let o=i.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+Ae(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):hm("Unrecognized action received from server: "+Ae(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){v(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ua,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=ua,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>G2&&(this.reconnectDelay_=ua),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=new Date().getTime()-this.lastConnectionAttemptTime_,r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*W2)}this.onConnectStatus_(!1)}establishConnection_(){return g(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+t.nextConnectionId_++,o=this.lastSessionId,a=!1,l=null,c=function(){l?l.close():(a=!0,i())},u=function(h){v(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(h)};this.realtime_={close:c,sendRequest:u};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[h,f]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?We("getToken() completed but was canceled"):(We("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=f&&f.token,l=new wm(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,p=>{ot(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(q2)},o))}catch(h){this.log_("Failed to get token: "+h),a||(this.repoInfo_.nodeAdmin&&ot(h),c())}}})}interrupt(n){We("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){We("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Uo(this.interruptReasons_)&&(this.reconnectDelay_=ua,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(o=>oy(o)).join("$"):i="default";let s=this.removeListen_(n,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(n,r){let i=new de(n).toString(),s;if(this.listens.has(i)){let o=this.listens.get(i);s=o.get(r),o.delete(r),o.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(n,r){We("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=N0&&(this.reconnectDelay_=M0,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){We("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=N0&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";fn()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+sy.replace(/\./g,"-")]=1,jo()?n["framework.cordova"]=1:Gc()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=ju.getInstance().currentlyOnline();return Uo(this.interruptReasons_)&&n}}t.nextPersistentConnectionId_=0,t.nextConnectionId_=0;return t})(),K=class t{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new t(e,n)}};var Ps=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){let r=new K(Os,e),i=new K(Os,n);return this.compare(r,i)!==0}minPost(){return K.MIN}};var ku,Uu=class extends Ps{static get __EMPTY_NODE(){return ku}static set __EMPTY_NODE(e){ku=e}compare(e,n){return Bs(e.name,n.name)}isDefinedOn(e){throw ei("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return K.MIN}maxPost(){return new K(mi,ku)}makePost(e,n){return v(typeof e=="string","KeyIndex indexValue must always be a string."),new K(e,ku)}toString(){return".key"}},ks=new Uu;var Rs=class{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},Gt=(()=>{class t{constructor(n,r,i,s,o){this.key=n,this.value=r,this.color=i??t.RED,this.left=s??xt.EMPTY_NODE,this.right=o??xt.EMPTY_NODE}copy(n,r,i,s,o){return new t(n??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let s=this,o=i(n,s.key);return o<0?s=s.copy(null,null,null,s.left.insert(n,r,i),null):o===0?s=s.copy(null,r,null,null,null):s=s.copy(null,null,null,null,s.right.insert(n,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return xt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,s;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return xt.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})(),Cm=class{copy(e,n,r,i,s){return this}insert(e,n,r){return new Gt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},xt=class t{constructor(e,n=t.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Gt.BLACK,null,null))}remove(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Gt.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Rs(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Rs(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Rs(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Rs(this.root_,null,this.comparator_,!0,e)}};xt.EMPTY_NODE=new Cm;function K2(t,e){return Bs(t.name,e.name)}function cy(t,e){return Bs(t,e)}var Im;function Y2(t){Im=t}var vD=function(t){return typeof t=="number"?"number:"+J0(t):"string:"+t},wD=function(t){if(t.isLeafNode()){let e=t.val();v(typeof e=="string"||typeof e=="number"||typeof e=="object"&&pn(e,".sv"),"Priority must be a string or number.")}else v(t===Im||t.isEmpty(),"priority of unexpected type.");v(t===Im||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var R0,Fs=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,v(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),wD(this.priorityNode_)}static set __childrenNodeConstructor(n){R0=n}static get __childrenNodeConstructor(){return R0}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return Q(n)?this:J(n)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=J(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(v(i!==".priority"||br(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(me(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+vD(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=J0(this.value_):n+=this.value_,this.lazyHash_=Y0(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(v(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,s=t.VALUE_TYPE_ORDER.indexOf(r),o=t.VALUE_TYPE_ORDER.indexOf(i);return v(s>=0,"Unknown leaf type: "+r),v(o>=0,"Unknown leaf type: "+i),s===o?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}t.VALUE_TYPE_ORDER=["object","boolean","number","string"];return t})(),bD,ED;function Q2(t){bD=t}function Z2(t){ED=t}var Dm=class extends Ps{compare(e,n){let r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Bs(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return K.MIN}maxPost(){return new K(mi,new Fs("[PRIORITY-POST]",ED))}makePost(e,n){let r=bD(e);return new K(n,new Fs("[PRIORITY-POST]",r))}toString(){return".priority"}},Ee=new Dm;var J2=Math.log(2),Sm=class{constructor(e){let n=s=>parseInt(Math.log(s)/J2,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;let i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},Bu=function(t,e,n,r){t.sort(e);let i=function(l,c){let u=c-l,d,h;if(u===0)return null;if(u===1)return d=t[l],h=n?n(d):d,new Gt(h,d.node,Gt.BLACK,null,null);{let f=parseInt(u/2,10)+l,p=i(l,f),m=i(f+1,c);return d=t[f],h=n?n(d):d,new Gt(h,d.node,Gt.BLACK,p,m)}},s=function(l){let c=null,u=null,d=t.length,h=function(p,m){let w=d-p,D=d;d-=p;let G=i(w+1,D),F=t[w],ie=n?n(F):F;f(new Gt(ie,F.node,m,null,G))},f=function(p){c?(c.left=p,c=p):(u=p,c=p)};for(let p=0;p<l.count;++p){let m=l.nextBitIsOne(),w=Math.pow(2,l.count-(p+1));m?h(w,Gt.BLACK):(h(w,Gt.BLACK),h(w,Gt.RED))}return u},o=new Sm(t.length),a=s(o);return new xt(r||e,a)};var sm,Ns={},Ls=class t{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return v(Ns&&Ee,"ChildrenNode.ts has not been loaded"),sm=sm||new t({".priority":Ns},{".priority":Ee}),sm}get(e){let n=ti(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof xt?n:null}hasIndex(e){return pn(this.indexSet_,e.toString())}addIndex(e,n){v(e!==ks,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,s=n.getIterator(K.Wrap),o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=Bu(r,e.getCompare()):a=Ns;let l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;let u=Object.assign({},this.indexes_);return u[l]=a,new t(u,c)}addToIndexes(e,n){let r=Bo(this.indexes_,(i,s)=>{let o=ti(this.indexSet_,s);if(v(o,"Missing index implementation for "+s),i===Ns)if(o.isDefinedOn(e.node)){let a=[],l=n.getIterator(K.Wrap),c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),Bu(a,o.getCompare())}else return Ns;else{let a=n.get(e.name),l=i;return a&&(l=l.remove(new K(e.name,a))),l.insert(e,e.node)}});return new t(r,this.indexSet_)}removeFromIndexes(e,n){let r=Bo(this.indexes_,i=>{if(i===Ns)return i;{let s=n.get(e.name);return s?i.remove(new K(e.name,s)):i}});return new t(r,this.indexSet_)}};var da,j=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&wD(this.priorityNode_),this.children_.isEmpty()&&v(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return da||(da=new t(new xt(cy),null,Ls.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||da}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?da:r}}getChild(n){let r=J(n);return r===null?this:this.getImmediateChild(r).getChild(me(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(v(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new K(n,r),s,o;r.isEmpty()?(s=this.children_.remove(n),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(n,r),o=this.indexMap_.addToIndexes(i,this.children_));let a=s.isEmpty()?da:this.priorityNode_;return new t(s,a,o)}}updateChild(n,r){let i=J(n);if(i===null)return r;{v(J(n)!==".priority"||br(n)===1,".priority must be the last token in a path");let s=this.getImmediateChild(i).updateChild(me(n),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,s=0,o=!0;if(this.forEachChild(Ee,(a,l)=>{r[a]=l.val(n),i++,o&&t.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!n&&o&&s<2*i){let a=[];for(let l in r)a[l]=r[l];return a}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+vD(this.getPriority().val())+":"),this.forEachChild(Ee,(r,i)=>{let s=i.hash();s!==""&&(n+=":"+r+":"+s)}),this.lazyHash_=n===""?"":Y0(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let s=this.resolveIndex_(i);if(s){let o=s.getPredecessorKey(new K(n,r));return o?o.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new K(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new K(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,s=>s);{let s=this.children_.getIteratorFrom(n.name,K.Wrap),o=s.peek();for(;o!=null&&r.compare(o,n)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,s=>s);{let s=this.children_.getReverseIteratorFrom(n.name,K.Wrap),o=s.peek();for(;o!=null&&r.compare(o,n)>0;)s.getNext(),o=s.peek();return s}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===Sa?-1:0}withIndex(n){if(n===ks||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===ks||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(Ee),s=r.getIterator(Ee),o=i.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=i.getNext(),a=s.getNext()}return o===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===ks?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})(),Tm=class extends j{constructor(){super(new xt(cy),j.EMPTY_NODE,Ls.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return j.EMPTY_NODE}isEmpty(){return!1}},Sa=new Tm;Object.defineProperties(K,{MIN:{value:new K(Os,j.EMPTY_NODE)},MAX:{value:new K(mi,Sa)}});Uu.__EMPTY_NODE=j.EMPTY_NODE;Fs.__childrenNodeConstructor=j;Y2(Sa);Z2(Sa);var X2=!0;function Pe(t,e=null){if(t===null)return j.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),v(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){let n=t;return new Fs(n,Pe(e))}if(!(t instanceof Array)&&X2){let n=[],r=!1;if(at(t,(o,a)=>{if(o.substring(0,1)!=="."){let l=Pe(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new K(o,l)))}}),n.length===0)return j.EMPTY_NODE;let s=Bu(n,K2,o=>o.name,cy);if(r){let o=Bu(n,Ee.getCompare());return new j(s,Pe(e),new Ls({".priority":o},{".priority":Ee}))}else return new j(s,Pe(e),Ls.Default)}else{let n=j.EMPTY_NODE;return at(t,(r,i)=>{if(pn(t,r)&&r.substring(0,1)!=="."){let s=Pe(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Pe(e))}}Q2(Pe);var Am=class extends Ps{constructor(e){super(),this.indexPath_=e,v(!Q(e)&&J(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){let r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Bs(e.name,n.name):s}makePost(e,n){let r=Pe(e),i=j.EMPTY_NODE.updateChild(this.indexPath_,r);return new K(n,i)}maxPost(){let e=j.EMPTY_NODE.updateChild(this.indexPath_,Sa);return new K(mi,e)}toString(){return gD(this.indexPath_,0).join("/")}};var Mm=class extends Ps{compare(e,n){let r=e.node.compareTo(n.node);return r===0?Bs(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return K.MIN}maxPost(){return K.MAX}makePost(e,n){let r=Pe(e);return new K(n,r)}toString(){return".value"}},eV=new Mm;function CD(t){return{type:"value",snapshotNode:t}}function Vs(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function _a(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function va(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function tV(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}var wa=class{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){v(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(_a(n,a)):v(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Vs(n,r)):o.trackChildChange(va(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Ee,(i,s)=>{n.hasChild(i)||r.trackChildChange(_a(i,s))}),n.isLeafNode()||n.forEachChild(Ee,(i,s)=>{if(e.hasChild(i)){let o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(va(i,s,o))}else r.trackChildChange(Vs(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?j.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var $u=class t{constructor(e){this.indexedFilter_=new wa(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){let n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new K(n,r))||(r=j.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=j.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(j.EMPTY_NODE);let s=this;return n.forEachChild(Ee,(o,a)=>{s.matches(new K(o,a))||(i=i.updateImmediateChild(o,j.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){let n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){let n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}};var Nm=class{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{let r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{let r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new $u(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new K(n,r))||(r=j.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=j.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=j.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){let a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(j.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){let a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,j.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){let d=this.index_.getCompare();o=(h,f)=>d(f,h)}else o=this.index_.getCompare();let a=e;v(a.numChildren()===this.limit_,"");let l=new K(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){let d=a.getImmediateChild(n),h=i.getChildAfterChild(this.index_,c,this.reverse_);for(;h!=null&&(h.name===n||a.hasChild(h.name));)h=i.getChildAfterChild(this.index_,h,this.reverse_);let f=h==null?1:o(h,l);if(u&&!r.isEmpty()&&f>=0)return s?.trackChildChange(va(n,r,d)),a.updateImmediateChild(n,r);{s?.trackChildChange(_a(n,d));let m=a.updateImmediateChild(n,j.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(s?.trackChildChange(Vs(h.name,h.node)),m.updateImmediateChild(h.name,h.node)):m}}else return r.isEmpty()?e:u&&o(c,l)>=0?(s!=null&&(s.trackChildChange(_a(c.name,c.node)),s.trackChildChange(Vs(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,j.EMPTY_NODE)):e}};var Rm=class t{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ee}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return v(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return v(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Os}hasEnd(){return this.endSet_}getIndexEndValue(){return v(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return v(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:mi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return v(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ee}copy(){let e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function nV(t){return t.loadsAllData()?new wa(t.getIndex()):t.hasLimit()?new Nm(t):new $u(t)}function x0(t){let e={};if(t.isDefault())return e;let n;if(t.index_===Ee?n="$priority":t.index_===eV?n="$value":t.index_===ks?n="$key":(v(t.index_ instanceof Am,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Ae(n),t.startSet_){let r=t.startAfterSet_?"startAfter":"startAt";e[r]=Ae(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Ae(t.indexStartName_))}if(t.endSet_){let r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Ae(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Ae(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function k0(t){let e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Ee&&(e.i=t.index_.toString()),e}var xm=class t extends Lu{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Da("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(v(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){let s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);let o=t.getListenId_(e,r),a={};this.listens_[o]=a;let l=x0(e._queryParams);this.restRequest_(s+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(s,d,!1,r),ti(this.listens_,o)===a){let h;c?c===401?h="permission_denied":h="rest_error:"+c:h="ok",i(h,null)}})}unlisten(e,n){let r=t.getListenId_(e,n);delete this.listens_[r]}get(e){let n=x0(e._queryParams),r=e._path.toString(),i=new sr;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);let o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+ni(n);this.log_("Sending REST request for "+o);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=ms(a.responseText)}catch{ot("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&ot("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}};var km=class{constructor(){this.rootNode_=j.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}};function Hu(){return{value:null,children:new Map}}function ID(t,e,n){if(Q(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{let r=J(e);t.children.has(r)||t.children.set(r,Hu());let i=t.children.get(r);e=me(e),ID(i,e,n)}}function Om(t,e,n){t.value!==null?n(e,t.value):rV(t,(r,i)=>{let s=new de(e.toString()+"/"+r);Om(i,s,n)})}function rV(t,e){t.children.forEach((n,r)=>{e(r,n)})}var Pm=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),n=Object.assign({},e);return this.last_&&at(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}};var O0=10*1e3,iV=30*1e3,sV=5*60*1e3,Fm=class{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Pm(e);let r=O0+(iV-O0)*Math.random();fa(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let e=this.statsListener_.get(),n={},r=!1;at(e,(i,s)=>{s>0&&pn(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),fa(this.reportStats_.bind(this),Math.floor(Math.random()*2*sV))}};var wn=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(wn||{});function DD(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function uy(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function dy(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var Lm=class t{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=wn.ACK_USER_WRITE,this.source=DD()}operationForChild(e){if(Q(this.path)){if(this.affectedTree.value!=null)return v(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new de(e));return new t(se(),n,this.revert)}}else return v(J(this.path)===e,"operationForChild called for unrelated child."),new t(me(this.path),this.affectedTree,this.revert)}};var zu=class t{constructor(e,n){this.source=e,this.path=n,this.type=wn.LISTEN_COMPLETE}operationForChild(e){return Q(this.path)?new t(this.source,se()):new t(this.source,me(this.path))}};var js=class t{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=wn.OVERWRITE}operationForChild(e){return Q(this.path)?new t(this.source,se(),this.snap.getImmediateChild(e)):new t(this.source,me(this.path),this.snap)}};var Wu=class t{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=wn.MERGE}operationForChild(e){if(Q(this.path)){let n=this.children.subtree(new de(e));return n.isEmpty()?null:n.value?new js(this.source,se(),n.value):new t(this.source,se(),n)}else return v(J(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,me(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var bn=class{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Q(e))return this.isFullyInitialized()&&!this.filtered_;let n=J(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};var Vm=class{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}};function oV(t,e,n,r){let i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(tV(o.childName,o.snapshotNode))}),ha(t,i,"child_removed",e,r,n),ha(t,i,"child_added",e,r,n),ha(t,i,"child_moved",s,r,n),ha(t,i,"child_changed",e,r,n),ha(t,i,"value",e,r,n),i}function ha(t,e,n,r,i,s){let o=r.filter(a=>a.type===n);o.sort((a,l)=>lV(t,a,l)),o.forEach(a=>{let l=aV(t,a,s);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function aV(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function lV(t,e,n){if(e.childName==null||n.childName==null)throw ei("Should only compare child_ events.");let r=new K(e.childName,e.snapshotNode),i=new K(n.childName,n.snapshotNode);return t.index_.compare(r,i)}function td(t,e){return{eventCache:t,serverCache:e}}function ga(t,e,n,r){return td(new bn(e,n,r),t.serverCache)}function SD(t,e,n,r){return td(t.eventCache,new bn(e,n,r))}function Gu(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function yi(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var om,cV=()=>(om||(om=new xt(u2)),om),lt=class t{constructor(e,n=cV()){this.value=e,this.children=n}static fromObject(e){let n=new t(null);return at(e,(r,i)=>{n=n.set(new de(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:se(),value:this.value};if(Q(e))return null;{let r=J(e),i=this.children.get(r);if(i!==null){let s=i.findRootMostMatchingPathAndValue(me(e),n);return s!=null?{path:Re(new de(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Q(e))return this;{let n=J(e),r=this.children.get(n);return r!==null?r.subtree(me(e)):new t(null)}}set(e,n){if(Q(e))return new t(n,this.children);{let r=J(e),s=(this.children.get(r)||new t(null)).set(me(e),n),o=this.children.insert(r,s);return new t(this.value,o)}}remove(e){if(Q(e))return this.children.isEmpty()?new t(null):new t(null,this.children);{let n=J(e),r=this.children.get(n);if(r){let i=r.remove(me(e)),s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new t(null):new t(this.value,s)}else return this}}get(e){if(Q(e))return this.value;{let n=J(e),r=this.children.get(n);return r?r.get(me(e)):null}}setTree(e,n){if(Q(e))return n;{let r=J(e),s=(this.children.get(r)||new t(null)).setTree(me(e),n),o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new t(this.value,o)}}fold(e){return this.fold_(se(),e)}fold_(e,n){let r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Re(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,se(),n)}findOnPath_(e,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if(Q(e))return null;{let s=J(e),o=this.children.get(s);return o?o.findOnPath_(me(e),Re(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,se(),n)}foreachOnPath_(e,n,r){if(Q(e))return this;{this.value&&r(n,this.value);let i=J(e),s=this.children.get(i);return s?s.foreachOnPath_(me(e),Re(n,i),r):new t(null)}}foreach(e){this.foreach_(se(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Re(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}};var Kt=class t{constructor(e){this.writeTree_=e}static empty(){return new t(new lt(null))}};function ma(t,e,n){if(Q(e))return new Kt(new lt(n));{let r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){let i=r.path,s=r.value,o=tt(i,e);return s=s.updateChild(o,n),new Kt(t.writeTree_.set(i,s))}else{let i=new lt(n),s=t.writeTree_.setTree(e,i);return new Kt(s)}}}function P0(t,e,n){let r=t;return at(n,(i,s)=>{r=ma(r,Re(e,i),s)}),r}function F0(t,e){if(Q(e))return Kt.empty();{let n=t.writeTree_.setTree(e,new lt(null));return new Kt(n)}}function jm(t,e){return _i(t,e)!=null}function _i(t,e){let n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(tt(n.path,e)):null}function L0(t){let e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ee,(r,i)=>{e.push(new K(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new K(r,i.value))}),e}function vr(t,e){if(Q(e))return t;{let n=_i(t,e);return n!=null?new Kt(new lt(n)):new Kt(t.writeTree_.subtree(e))}}function Um(t){return t.writeTree_.isEmpty()}function Us(t,e){return TD(se(),t.writeTree_,e)}function TD(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(v(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=TD(Re(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Re(t,".priority"),r)),n}}function nd(t,e){return RD(e,t)}function uV(t,e,n,r,i){v(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=ma(t.visibleWrites,e,n)),t.lastWriteId=r}function dV(t,e){for(let n=0;n<t.allWrites.length;n++){let r=t.allWrites[n];if(r.writeId===e)return r}return null}function hV(t,e){let n=t.allWrites.findIndex(a=>a.writeId===e);v(n>=0,"removeWrite called with nonexistent writeId.");let r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){let a=t.allWrites[o];a.visible&&(o>=n&&fV(a,r.path)?i=!1:qt(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return pV(t),!0;if(r.snap)t.visibleWrites=F0(t.visibleWrites,r.path);else{let a=r.children;at(a,l=>{t.visibleWrites=F0(t.visibleWrites,Re(r.path,l))})}return!0}else return!1}function fV(t,e){if(t.snap)return qt(t.path,e);for(let n in t.children)if(t.children.hasOwnProperty(n)&&qt(Re(t.path,n),e))return!0;return!1}function pV(t){t.visibleWrites=AD(t.allWrites,gV,se()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function gV(t){return t.visible}function AD(t,e,n){let r=Kt.empty();for(let i=0;i<t.length;++i){let s=t[i];if(e(s)){let o=s.path,a;if(s.snap)qt(n,o)?(a=tt(n,o),r=ma(r,a,s.snap)):qt(o,n)&&(a=tt(o,n),r=ma(r,se(),s.snap.getChild(a)));else if(s.children){if(qt(n,o))a=tt(n,o),r=P0(r,a,s.children);else if(qt(o,n))if(a=tt(o,n),Q(a))r=P0(r,se(),s.children);else{let l=ti(s.children,J(a));if(l){let c=l.getChild(me(a));r=ma(r,se(),c)}}}else throw ei("WriteRecord should have .snap or .children")}}return r}function MD(t,e,n,r,i){if(!r&&!i){let s=_i(t.visibleWrites,e);if(s!=null)return s;{let o=vr(t.visibleWrites,e);if(Um(o))return n;if(n==null&&!jm(o,se()))return null;{let a=n||j.EMPTY_NODE;return Us(o,a)}}}else{let s=vr(t.visibleWrites,e);if(!i&&Um(s))return n;if(!i&&n==null&&!jm(s,se()))return null;{let o=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(qt(c.path,e)||qt(e,c.path))},a=AD(t.allWrites,o,e),l=n||j.EMPTY_NODE;return Us(a,l)}}}function mV(t,e,n){let r=j.EMPTY_NODE,i=_i(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Ee,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){let s=vr(t.visibleWrites,e);return n.forEachChild(Ee,(o,a)=>{let l=Us(vr(s,new de(o)),a);r=r.updateImmediateChild(o,l)}),L0(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{let s=vr(t.visibleWrites,e);return L0(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function yV(t,e,n,r,i){v(r||i,"Either existingEventSnap or existingServerSnap must exist");let s=Re(e,n);if(jm(t.visibleWrites,s))return null;{let o=vr(t.visibleWrites,s);return Um(o)?i.getChild(n):Us(o,i.getChild(n))}}function _V(t,e,n,r){let i=Re(e,n),s=_i(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){let o=vr(t.visibleWrites,i);return Us(o,r.getNode().getImmediateChild(n))}else return null}function vV(t,e){return _i(t.visibleWrites,e)}function wV(t,e,n,r,i,s,o){let a,l=vr(t.visibleWrites,e),c=_i(l,se());if(c!=null)a=c;else if(n!=null)a=Us(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){let u=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o),f=h.getNext();for(;f&&u.length<i;)d(f,r)!==0&&u.push(f),f=h.getNext();return u}else return[]}function bV(){return{visibleWrites:Kt.empty(),allWrites:[],lastWriteId:-1}}function qu(t,e,n,r){return MD(t.writeTree,t.treePath,e,n,r)}function hy(t,e){return mV(t.writeTree,t.treePath,e)}function V0(t,e,n,r){return yV(t.writeTree,t.treePath,e,n,r)}function Ku(t,e){return vV(t.writeTree,Re(t.treePath,e))}function EV(t,e,n,r,i,s){return wV(t.writeTree,t.treePath,e,n,r,i,s)}function fy(t,e,n){return _V(t.writeTree,t.treePath,e,n)}function ND(t,e){return RD(Re(t.treePath,e),t.writeTree)}function RD(t,e){return{treePath:t,writeTree:e}}var Bm=class{constructor(){this.changeMap=new Map}trackChildChange(e){let n=e.type,r=e.childName;v(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),v(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,va(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,_a(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,Vs(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,va(r,e.snapshotNode,i.oldSnap));else throw ei("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}};var $m=class{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}},xD=new $m,ba=class{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{let r=this.optCompleteServerCache_!=null?new bn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return fy(this.writes_,e,r)}}getChildAfterChild(e,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:yi(this.viewCache_),s=EV(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}};function CV(t){return{filter:t}}function IV(t,e){v(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),v(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function DV(t,e,n,r,i){let s=new Bm,o,a;if(n.type===wn.OVERWRITE){let c=n;c.source.fromUser?o=Hm(t,e,c.path,c.snap,r,i,s):(v(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!Q(c.path),o=Yu(t,e,c.path,c.snap,r,i,a,s))}else if(n.type===wn.MERGE){let c=n;c.source.fromUser?o=TV(t,e,c.path,c.children,r,i,s):(v(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=zm(t,e,c.path,c.children,r,i,a,s))}else if(n.type===wn.ACK_USER_WRITE){let c=n;c.revert?o=NV(t,e,c.path,r,i,s):o=AV(t,e,c.path,c.affectedTree,r,i,s)}else if(n.type===wn.LISTEN_COMPLETE)o=MV(t,e,n.path,r,s);else throw ei("Unknown operation type: "+n.type);let l=s.getChanges();return SV(e,o,l),{viewCache:o,changes:l}}function SV(t,e,n){let r=e.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Gu(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(CD(Gu(e)))}}function kD(t,e,n,r,i,s){let o=e.eventCache;if(Ku(r,n)!=null)return e;{let a,l;if(Q(n))if(v(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let c=yi(e),u=c instanceof j?c:j.EMPTY_NODE,d=hy(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{let c=qu(r,yi(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{let c=J(n);if(c===".priority"){v(br(n)===1,"Can't have a priority with additional path components");let u=o.getNode();l=e.serverCache.getNode();let d=V0(r,n,u,l);d!=null?a=t.filter.updatePriority(u,d):a=o.getNode()}else{let u=me(n),d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();let h=V0(r,n,o.getNode(),l);h!=null?d=o.getNode().getImmediateChild(c).updateChild(u,h):d=o.getNode().getImmediateChild(c)}else d=fy(r,c,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),c,d,u,i,s):a=o.getNode()}}return ga(e,a,o.isFullyInitialized()||Q(n),t.filter.filtersNodes())}}function Yu(t,e,n,r,i,s,o,a){let l=e.serverCache,c,u=o?t.filter:t.filter.getIndexedFilter();if(Q(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){let f=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),f,null)}else{let f=J(n);if(!l.isCompleteForPath(n)&&br(n)>1)return e;let p=me(n),w=l.getNode().getImmediateChild(f).updateChild(p,r);f===".priority"?c=u.updatePriority(l.getNode(),w):c=u.updateChild(l.getNode(),f,w,p,xD,null)}let d=SD(e,c,l.isFullyInitialized()||Q(n),u.filtersNodes()),h=new ba(i,d,s);return kD(t,d,n,i,h,a)}function Hm(t,e,n,r,i,s,o){let a=e.eventCache,l,c,u=new ba(i,e,s);if(Q(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=ga(e,c,!0,t.filter.filtersNodes());else{let d=J(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=ga(e,c,a.isFullyInitialized(),a.isFiltered());else{let h=me(n),f=a.getNode().getImmediateChild(d),p;if(Q(h))p=r;else{let m=u.getCompleteChild(d);m!=null?pD(h)===".priority"&&m.getChild(mD(h)).isEmpty()?p=m:p=m.updateChild(h,r):p=j.EMPTY_NODE}if(f.equals(p))l=e;else{let m=t.filter.updateChild(a.getNode(),d,p,h,u,o);l=ga(e,m,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function j0(t,e){return t.eventCache.isCompleteForChild(e)}function TV(t,e,n,r,i,s,o){let a=e;return r.foreach((l,c)=>{let u=Re(n,l);j0(e,J(u))&&(a=Hm(t,a,u,c,i,s,o))}),r.foreach((l,c)=>{let u=Re(n,l);j0(e,J(u))||(a=Hm(t,a,u,c,i,s,o))}),a}function U0(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function zm(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;Q(n)?c=r:c=new lt(null).setTree(n,r);let u=e.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){let f=e.serverCache.getNode().getImmediateChild(d),p=U0(t,f,h);l=Yu(t,l,new de(d),p,i,s,o,a)}}),c.children.inorderTraversal((d,h)=>{let f=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!u.hasChild(d)&&!f){let p=e.serverCache.getNode().getImmediateChild(d),m=U0(t,p,h);l=Yu(t,l,new de(d),m,i,s,o,a)}}),l}function AV(t,e,n,r,i,s,o){if(Ku(i,n)!=null)return e;let a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(Q(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Yu(t,e,n,l.getNode().getChild(n),i,s,a,o);if(Q(n)){let c=new lt(null);return l.getNode().forEachChild(ks,(u,d)=>{c=c.set(new de(u),d)}),zm(t,e,n,c,i,s,a,o)}else return e}else{let c=new lt(null);return r.foreach((u,d)=>{let h=Re(n,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),zm(t,e,n,c,i,s,a,o)}}function MV(t,e,n,r,i){let s=e.serverCache,o=SD(e,s.getNode(),s.isFullyInitialized()||Q(n),s.isFiltered());return kD(t,o,n,r,xD,i)}function NV(t,e,n,r,i,s){let o;if(Ku(r,n)!=null)return e;{let a=new ba(r,e,i),l=e.eventCache.getNode(),c;if(Q(n)||J(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=qu(r,yi(e));else{let d=e.serverCache.getNode();v(d instanceof j,"serverChildren would be complete if leaf node"),u=hy(r,d)}u=u,c=t.filter.updateFullNode(l,u,s)}else{let u=J(n),d=fy(r,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=t.filter.updateChild(l,u,d,me(n),a,s):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,j.EMPTY_NODE,me(n),a,s):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=qu(r,yi(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||Ku(r,se())!=null,ga(e,c,o,t.filter.filtersNodes())}}var Wm=class{constructor(e,n){this.query_=e,this.eventRegistrations_=[];let r=this.query_._queryParams,i=new wa(r.getIndex()),s=nV(r);this.processor_=CV(s);let o=n.serverCache,a=n.eventCache,l=i.updateFullNode(j.EMPTY_NODE,o.getNode(),null),c=s.updateFullNode(j.EMPTY_NODE,a.getNode(),null),u=new bn(l,o.isFullyInitialized(),i.filtersNodes()),d=new bn(c,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=td(d,u),this.eventGenerator_=new Vm(this.query_)}get query(){return this.query_}};function RV(t){return t.viewCache_.serverCache.getNode()}function xV(t){return Gu(t.viewCache_)}function kV(t,e){let n=yi(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Q(e)&&!n.getImmediateChild(J(e)).isEmpty())?n.getChild(e):null}function B0(t){return t.eventRegistrations_.length===0}function OV(t,e){t.eventRegistrations_.push(e)}function $0(t,e,n){let r=[];if(n){v(e==null,"A cancel should cancel all event registrations.");let i=t.query._path;t.eventRegistrations_.forEach(s=>{let o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){let o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function H0(t,e,n,r){e.type===wn.MERGE&&e.source.queryId!==null&&(v(yi(t.viewCache_),"We should always have a full cache before handling merges"),v(Gu(t.viewCache_),"Missing event cache, even though we have a server cache"));let i=t.viewCache_,s=DV(t.processor_,i,e,n,r);return IV(t.processor_,s.viewCache),v(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,OD(t,s.changes,s.viewCache.eventCache.getNode(),null)}function PV(t,e){let n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ee,(s,o)=>{r.push(Vs(s,o))}),n.isFullyInitialized()&&r.push(CD(n.getNode())),OD(t,r,n.getNode(),e)}function OD(t,e,n,r){let i=r?[r]:t.eventRegistrations_;return oV(t.eventGenerator_,e,n,i)}var Qu,Zu=class{constructor(){this.views=new Map}};function FV(t){v(!Qu,"__referenceConstructor has already been defined"),Qu=t}function LV(){return v(Qu,"Reference.ts has not been loaded"),Qu}function VV(t){return t.views.size===0}function py(t,e,n,r){let i=e.source.queryId;if(i!==null){let s=t.views.get(i);return v(s!=null,"SyncTree gave us an op for an invalid query."),H0(s,e,n,r)}else{let s=[];for(let o of t.views.values())s=s.concat(H0(o,e,n,r));return s}}function PD(t,e,n,r,i){let s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=qu(n,i?r:null),l=!1;a?l=!0:r instanceof j?(a=hy(n,r),l=!1):(a=j.EMPTY_NODE,l=!1);let c=td(new bn(a,l,!1),new bn(r,i,!1));return new Wm(e,c)}return o}function jV(t,e,n,r,i,s){let o=PD(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),OV(o,n),PV(o,n)}function UV(t,e,n,r){let i=e._queryIdentifier,s=[],o=[],a=Er(t);if(i==="default")for(let[l,c]of t.views.entries())o=o.concat($0(c,n,r)),B0(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{let l=t.views.get(i);l&&(o=o.concat($0(l,n,r)),B0(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!Er(t)&&s.push(new(LV())(e._repo,e._path)),{removed:s,events:o}}function FD(t){let e=[];for(let n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function wr(t,e){let n=null;for(let r of t.views.values())n=n||kV(r,e);return n}function LD(t,e){if(e._queryParams.loadsAllData())return rd(t);{let r=e._queryIdentifier;return t.views.get(r)}}function VD(t,e){return LD(t,e)!=null}function Er(t){return rd(t)!=null}function rd(t){for(let e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}var Ju;function BV(t){v(!Ju,"__referenceConstructor has already been defined"),Ju=t}function $V(){return v(Ju,"Reference.ts has not been loaded"),Ju}var HV=1,Xu=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new lt(null),this.pendingWriteTree_=bV(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function jD(t,e,n,r,i){return uV(t.pendingWriteTree_,e,n,r,i),i?Aa(t,new js(DD(),e,n)):[]}function pi(t,e,n=!1){let r=dV(t.pendingWriteTree_,e);if(hV(t.pendingWriteTree_,e)){let s=new lt(null);return r.snap!=null?s=s.set(se(),!0):at(r.children,o=>{s=s.set(new de(o),!0)}),Aa(t,new Lm(r.path,s,n))}else return[]}function Ta(t,e,n){return Aa(t,new js(uy(),e,n))}function zV(t,e,n){let r=lt.fromObject(n);return Aa(t,new Wu(uy(),e,r))}function WV(t,e){return Aa(t,new zu(uy(),e))}function GV(t,e,n){let r=my(t,n);if(r){let i=yy(r),s=i.path,o=i.queryId,a=tt(s,e),l=new zu(dy(o),a);return _y(t,s,l)}else return[]}function UD(t,e,n,r,i=!1){let s=e._path,o=t.syncPointTree_.get(s),a=[];if(o&&(e._queryIdentifier==="default"||VD(o,e))){let l=UV(o,e,n,r);VV(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));let c=l.removed;if(a=l.events,!i){let u=c.findIndex(h=>h._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(s,(h,f)=>Er(f));if(u&&!d){let h=t.syncPointTree_.subtree(s);if(!h.isEmpty()){let f=QV(h);for(let p=0;p<f.length;++p){let m=f[p],w=m.query,D=zD(t,m);t.listenProvider_.startListening(ya(w),Ea(t,w),D.hashFn,D.onComplete)}}}!d&&c.length>0&&!r&&(u?t.listenProvider_.stopListening(ya(e),null):c.forEach(h=>{let f=t.queryToTagMap.get(id(h));t.listenProvider_.stopListening(ya(h),f)}))}ZV(t,c)}return a}function BD(t,e,n,r){let i=my(t,r);if(i!=null){let s=yy(i),o=s.path,a=s.queryId,l=tt(o,e),c=new js(dy(a),l,n);return _y(t,o,c)}else return[]}function qV(t,e,n,r){let i=my(t,r);if(i){let s=yy(i),o=s.path,a=s.queryId,l=tt(o,e),c=lt.fromObject(n),u=new Wu(dy(a),l,c);return _y(t,o,u)}else return[]}function KV(t,e,n,r=!1){let i=e._path,s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(h,f)=>{let p=tt(h,i);s=s||wr(f,p),o=o||Er(f)});let a=t.syncPointTree_.get(i);a?(o=o||Er(a),s=s||wr(a,se())):(a=new Zu,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;s!=null?l=!0:(l=!1,s=j.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((f,p)=>{let m=wr(p,se());m&&(s=s.updateImmediateChild(f,m))}));let c=VD(a,e);if(!c&&!e._queryParams.loadsAllData()){let h=id(e);v(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");let f=JV();t.queryToTagMap.set(h,f),t.tagToQueryMap.set(f,h)}let u=nd(t.pendingWriteTree_,i),d=jV(a,e,n,u,s,l);if(!c&&!o&&!r){let h=LD(a,e);d=d.concat(XV(t,e,h))}return d}function gy(t,e,n){let i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{let l=tt(o,e),c=wr(a,l);if(c)return c});return MD(i,e,s,n,!0)}function YV(t,e){let n=e._path,r=null;t.syncPointTree_.foreachOnPath(n,(c,u)=>{let d=tt(c,n);r=r||wr(u,d)});let i=t.syncPointTree_.get(n);i?r=r||wr(i,se()):(i=new Zu,t.syncPointTree_=t.syncPointTree_.set(n,i));let s=r!=null,o=s?new bn(r,!0,!1):null,a=nd(t.pendingWriteTree_,e._path),l=PD(i,e,a,s?o.getNode():j.EMPTY_NODE,s);return xV(l)}function Aa(t,e){return $D(e,t.syncPointTree_,null,nd(t.pendingWriteTree_,se()))}function $D(t,e,n,r){if(Q(t.path))return HD(t,e,n,r);{let i=e.get(se());n==null&&i!=null&&(n=wr(i,se()));let s=[],o=J(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){let c=n?n.getImmediateChild(o):null,u=ND(r,o);s=s.concat($D(a,l,c,u))}return i&&(s=s.concat(py(i,t,r,n))),s}}function HD(t,e,n,r){let i=e.get(se());n==null&&i!=null&&(n=wr(i,se()));let s=[];return e.children.inorderTraversal((o,a)=>{let l=n?n.getImmediateChild(o):null,c=ND(r,o),u=t.operationForChild(o);u&&(s=s.concat(HD(u,a,l,c)))}),i&&(s=s.concat(py(i,t,r,n))),s}function zD(t,e){let n=e.query,r=Ea(t,n);return{hashFn:()=>(RV(e)||j.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?GV(t,n._path,r):WV(t,n._path);{let s=f2(i,n);return UD(t,n,null,s)}}}}function Ea(t,e){let n=id(e);return t.queryToTagMap.get(n)}function id(t){return t._path.toString()+"$"+t._queryIdentifier}function my(t,e){return t.tagToQueryMap.get(e)}function yy(t){let e=t.indexOf("$");return v(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new de(t.substr(0,e))}}function _y(t,e,n){let r=t.syncPointTree_.get(e);v(r,"Missing sync point for query tag that we're tracking");let i=nd(t.pendingWriteTree_,e);return py(r,n,i,null)}function QV(t){return t.fold((e,n,r)=>{if(n&&Er(n))return[rd(n)];{let i=[];return n&&(i=FD(n)),at(r,(s,o)=>{i=i.concat(o)}),i}})}function ya(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new($V())(t._repo,t._path):t}function ZV(t,e){for(let n=0;n<e.length;++n){let r=e[n];if(!r._queryParams.loadsAllData()){let i=id(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function JV(){return HV++}function XV(t,e,n){let r=e._path,i=Ea(t,e),s=zD(t,n),o=t.listenProvider_.startListening(ya(e),i,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(r);if(i)v(!Er(a.value),"If we're adding a query, it shouldn't be shadowed");else{let l=a.fold((c,u,d)=>{if(!Q(c)&&u&&Er(u))return[rd(u).query];{let h=[];return u&&(h=h.concat(FD(u).map(f=>f.query))),at(d,(f,p)=>{h=h.concat(p)}),h}});for(let c=0;c<l.length;++c){let u=l[c];t.listenProvider_.stopListening(ya(u),Ea(t,u))}}return o}var Gm=class t{constructor(e){this.node_=e}getImmediateChild(e){let n=this.node_.getImmediateChild(e);return new t(n)}node(){return this.node_}},qm=class t{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){let n=Re(this.path_,e);return new t(this.syncTree_,n)}node(){return gy(this.syncTree_,this.path_)}},ej=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},z0=function(t,e,n){if(!t||typeof t!="object")return t;if(v(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return tj(t[".sv"],e,n);if(typeof t[".sv"]=="object")return nj(t[".sv"],e);v(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},tj=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:v(!1,"Unexpected server value: "+t)}},nj=function(t,e,n){t.hasOwnProperty("increment")||v(!1,"Unexpected server value: "+JSON.stringify(t,null,2));let r=t.increment;typeof r!="number"&&v(!1,"Unexpected increment value: "+r);let i=e.node();if(v(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let o=i.getValue();return typeof o!="number"?r:o+r},rj=function(t,e,n,r){return vy(e,new qm(n,t),r)},WD=function(t,e,n){return vy(t,new Gm(e),n)};function vy(t,e,n){let r=t.getPriority().val(),i=z0(r,e.getImmediateChild(".priority"),n),s;if(t.isLeafNode()){let o=t,a=z0(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new Fs(a,Pe(i)):t}else{let o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Fs(i))),o.forEachChild(Ee,(a,l)=>{let c=vy(l,e.getImmediateChild(a),n);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}var Ca=class{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}};function wy(t,e){let n=e instanceof de?e:new de(e),r=t,i=J(n);for(;i!==null;){let s=ti(r.node.children,i)||{children:{},childCount:0};r=new Ca(i,r,s),n=me(n),i=J(n)}return r}function Hs(t){return t.node.value}function GD(t,e){t.node.value=e,Km(t)}function qD(t){return t.node.childCount>0}function ij(t){return Hs(t)===void 0&&!qD(t)}function sd(t,e){at(t.node.children,(n,r)=>{e(new Ca(n,t,r))})}function KD(t,e,n,r){n&&!r&&e(t),sd(t,i=>{KD(i,e,!0,r)}),n&&r&&e(t)}function sj(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Ma(t){return new de(t.parent===null?t.name:Ma(t.parent)+"/"+t.name)}function Km(t){t.parent!==null&&oj(t.parent,t.name,t)}function oj(t,e,n){let r=ij(n),i=pn(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Km(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Km(t))}var aj=/[\[\].#$\/\u0000-\u001F\u007F]/,lj=/[\[\].#$\u0000-\u001F\u007F]/,am=10*1024*1024,YD=function(t){return typeof t=="string"&&t.length!==0&&!aj.test(t)},QD=function(t){return typeof t=="string"&&t.length!==0&&!lj.test(t)},cj=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),QD(t)};var uj=function(t,e,n,r){r&&e===void 0||by(qc(t,"value"),e,n)},by=function(t,e,n){let r=n instanceof de?new bm(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+hi(r));if(typeof e=="function")throw new Error(t+"contains a function "+hi(r)+" with contents = "+e.toString());if(Q0(e))throw new Error(t+"contains "+e.toString()+" "+hi(r));if(typeof e=="string"&&e.length>am/3&&$o(e)>am)throw new Error(t+"contains a string greater than "+am+" utf8 bytes "+hi(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(at(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!YD(o)))throw new Error(t+" contains an invalid key ("+o+") "+hi(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);$2(r,o),by(t,a,r),H2(r)}),i&&s)throw new Error(t+' contains ".value" child '+hi(r)+" in addition to actual children.")}};var ZD=function(t,e,n,r){if(!(r&&n===void 0)&&!QD(n))throw new Error(qc(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},dj=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),ZD(t,e,n,r)},hj=function(t,e){if(J(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},fj=function(t,e){let n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!YD(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!cj(n))throw new Error(qc(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var Ym=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function JD(t,e){let n=null;for(let r=0;r<e.length;r++){let i=e[r],s=i.getPath();n!==null&&!yD(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function En(t,e,n){JD(t,n),pj(t,r=>qt(r,e)||qt(e,r))}function pj(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){let i=t.eventLists_[r];if(i){let s=i.path;e(s)?(gj(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function gj(t){for(let e=0;e<t.events.length;e++){let n=t.events[e];if(n!==null){t.events[e]=null;let r=n.getEventRunner();gi&&We("event: "+n.toString()),$s(r)}}}var mj="repo_interrupt",yj=25,Qm=class{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Ym,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Hu(),this.transactionQueueTree_=new Ca,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function _j(t,e,n){if(t.stats_=ay(t.repoInfo_),t.forceRestClient_||y2())t.server_=new xm(t.repoInfo_,(r,i,s,o)=>{W0(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>G0(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ae(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new ly(t.repoInfo_,e,(r,i,s,o)=>{W0(t,r,i,s,o)},r=>{G0(t,r)},r=>{wj(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=v2(t.repoInfo_,()=>new Fm(t.stats_,t.server_)),t.infoData_=new km,t.infoSyncTree_=new Xu({startListening:(r,i,s,o)=>{let a=[],l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=Ta(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),Cy(t,"connected",!1),t.serverSyncTree_=new Xu({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{let c=o(a,l);En(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function vj(t){let n=t.infoData_.getNode(new de(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Ey(t){return ej({timestamp:vj(t)})}function W0(t,e,n,r,i){t.dataUpdateCount++;let s=new de(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){let l=Bo(n,c=>Pe(c));o=qV(t.serverSyncTree_,s,l,i)}else{let l=Pe(n);o=BD(t.serverSyncTree_,s,l,i)}else if(r){let l=Bo(n,c=>Pe(c));o=zV(t.serverSyncTree_,s,l)}else{let l=Pe(n);o=Ta(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=ad(t,s)),En(t.eventQueue_,a,o)}function G0(t,e){Cy(t,"connected",e),e===!1&&Cj(t)}function wj(t,e){at(e,(n,r)=>{Cy(t,n,r)})}function Cy(t,e,n){let r=new de("/.info/"+e),i=Pe(n);t.infoData_.updateSnapshot(r,i);let s=Ta(t.infoSyncTree_,r,i);En(t.eventQueue_,r,s)}function XD(t){return t.nextWriteId_++}function bj(t,e,n){let r=YV(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{let s=Pe(i).withIndex(e._queryParams.getIndex());KV(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=Ta(t.serverSyncTree_,e._path,s);else{let a=Ea(t.serverSyncTree_,e);o=BD(t.serverSyncTree_,e._path,s,a)}return En(t.eventQueue_,e._path,o),UD(t.serverSyncTree_,e,n,null,!0),s},i=>(od(t,"get for query "+Ae(e)+" failed: "+i),Promise.reject(new Error(i))))}function Ej(t,e,n,r,i){od(t,"set",{path:e.toString(),value:n,priority:r});let s=Ey(t),o=Pe(n,r),a=gy(t.serverSyncTree_,e),l=WD(o,a,s),c=XD(t),u=jD(t.serverSyncTree_,e,l,c,!0);JD(t.eventQueue_,u),t.server_.put(e.toString(),o.val(!0),(h,f)=>{let p=h==="ok";p||ot("set at "+e+" failed: "+h);let m=pi(t.serverSyncTree_,c,!p);En(t.eventQueue_,e,m),Dj(t,i,h,f)});let d=iS(t,e);ad(t,d),En(t.eventQueue_,d,[])}function Cj(t){od(t,"onDisconnectEvents");let e=Ey(t),n=Hu();Om(t.onDisconnect_,se(),(i,s)=>{let o=rj(i,s,t.serverSyncTree_,e);ID(n,i,o)});let r=[];Om(n,se(),(i,s)=>{r=r.concat(Ta(t.serverSyncTree_,i,s));let o=iS(t,i);ad(t,o)}),t.onDisconnect_=Hu(),En(t.eventQueue_,se(),r)}function Ij(t){t.persistentConnection_&&t.persistentConnection_.interrupt(mj)}function od(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),We(n,...e)}function Dj(t,e,n,r){e&&$s(()=>{if(n==="ok")e(null);else{let i=(n||"error").toUpperCase(),s=i;r&&(s+=": "+r);let o=new Error(s);o.code=i,e(o)}})}function eS(t,e,n){return gy(t.serverSyncTree_,e,n)||j.EMPTY_NODE}function Iy(t,e=t.transactionQueueTree_){if(e||ld(t,e),Hs(e)){let n=nS(t,e);v(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&Sj(t,Ma(e),n)}else qD(e)&&sd(e,n=>{Iy(t,n)})}function Sj(t,e,n){let r=n.map(c=>c.currentWriteId),i=eS(t,e,r),s=i,o=i.hash();for(let c=0;c<n.length;c++){let u=n[c];v(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let d=tt(e,u.path);s=s.updateChild(d,u.currentOutputSnapshotRaw)}let a=s.val(!0),l=e;t.server_.put(l.toString(),a,c=>{od(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){let d=[];for(let h=0;h<n.length;h++)n[h].status=2,u=u.concat(pi(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();ld(t,wy(t.transactionQueueTree_,e)),Iy(t,t.transactionQueueTree_),En(t.eventQueue_,e,u);for(let h=0;h<d.length;h++)$s(d[h])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{ot("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}ad(t,e)}},o)}function ad(t,e){let n=tS(t,e),r=Ma(n),i=nS(t,n);return Tj(t,i,r),r}function Tj(t,e,n){if(e.length===0)return;let r=[],i=[],o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){let l=e[a],c=tt(n,l.path),u=!1,d;if(v(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,i=i.concat(pi(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=yj)u=!0,d="maxretry",i=i.concat(pi(t.serverSyncTree_,l.currentWriteId,!0));else{let h=eS(t,l.path,o);l.currentInputSnapshot=h;let f=e[a].update(h.val());if(f!==void 0){by("transaction failed: Data returned ",f,l.path);let p=Pe(f);typeof f=="object"&&f!=null&&pn(f,".priority")||(p=p.updatePriority(h.getPriority()));let w=l.currentWriteId,D=Ey(t),G=WD(p,h,D);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=G,l.currentWriteId=XD(t),o.splice(o.indexOf(w),1),i=i.concat(jD(t.serverSyncTree_,l.path,G,l.currentWriteId,l.applyLocally)),i=i.concat(pi(t.serverSyncTree_,w,!0))}else u=!0,d="nodata",i=i.concat(pi(t.serverSyncTree_,l.currentWriteId,!0))}En(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}ld(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)$s(r[a]);Iy(t,t.transactionQueueTree_)}function tS(t,e){let n,r=t.transactionQueueTree_;for(n=J(e);n!==null&&Hs(r)===void 0;)r=wy(r,n),e=me(e),n=J(e);return r}function nS(t,e){let n=[];return rS(t,e,n),n.sort((r,i)=>r.order-i.order),n}function rS(t,e,n){let r=Hs(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);sd(e,i=>{rS(t,i,n)})}function ld(t,e){let n=Hs(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,GD(e,n.length>0?n:void 0)}sd(e,r=>{ld(t,r)})}function iS(t,e){let n=Ma(tS(t,e)),r=wy(t.transactionQueueTree_,e);return sj(r,i=>{lm(t,i)}),lm(t,r),KD(r,i=>{lm(t,i)}),n}function lm(t,e){let n=Hs(e);if(n){let r=[],i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(v(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(v(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(pi(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?GD(e,void 0):n.length=s+1,En(t.eventQueue_,Ma(e),i);for(let o=0;o<r.length;o++)$s(r[o])}}function Aj(t){let e="",n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function Mj(t){let e={};t.charAt(0)==="?"&&(t=t.substring(1));for(let n of t.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):ot(`Invalid query segment '${n}' in query '${t}'`)}return e}var q0=function(t,e){let n=Nj(t),r=n.namespace;n.domain==="firebase.com"&&Ln(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Ln("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||l2();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Pu(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new de(n.pathString)}},Nj=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(i=Aj(t.substring(u,d)));let h=Mj(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;let f=e.slice(0,c);if(f.toLowerCase()==="localhost")n="localhost";else if(f.split(".").length<=2)n=f;else{let p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),n=e.substring(p+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};var Zm=class{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){let e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ae(this.snapshot.exportVal())}},Jm=class{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var Xm=class{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return v(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}};var ey=class t{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Q(this._path)?null:pD(this._path)}get ref(){return new Vn(this._repo,this._path)}get _queryIdentifier(){let e=k0(this._queryParams),n=oy(e);return n==="{}"?"default":n}get _queryObject(){return k0(this._queryParams)}isEqual(e){if(e=ze(e),!(e instanceof t))return!1;let n=this._repo===e._repo,r=yD(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+B2(this._path)}};var Vn=class t extends ey{constructor(e,n){super(e,n,new Rm,!1)}get parent(){let e=mD(this._path);return e===null?null:new t(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}},ed=class t{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){let n=new de(e),r=ty(this.ref,e);return new t(this._node.getChild(n),r,Ee)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new t(i,ty(this.ref,r),Ee)))}hasChild(e){let n=new de(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function Dy(t,e){return t=ze(t),t._checkNotDeleted("ref"),e!==void 0?ty(t._root,e):t._root}function ty(t,e){return t=ze(t),J(t._path)===null?dj("child","path",e,!1):ZD("child","path",e,!1),new Vn(t._repo,Re(t._path,e))}function sS(t,e){t=ze(t),hj("set",t._path),uj("set",e,t._path,!1);let n=new sr;return Ej(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function oS(t){t=ze(t);let e=new Xm(()=>{}),n=new ny(e);return bj(t._repo,t,n).then(r=>new ed(r,new Vn(t._repo,t._path),t._queryParams.getIndex()))}var ny=class t{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){let r=n._queryParams.getIndex();return new Zm("value",this,new ed(e.snapshotNode,new Vn(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Jm(this,e,n):null}matches(e){return e instanceof t?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}};FV(Vn);BV(Vn);var Rj="FIREBASE_DATABASE_EMULATOR_HOST",ry={},xj=!1;function kj(t,e,n,r){t.repoInfo_=new Pu(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function Oj(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Ln("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),We("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=q0(s,i),a=o.repoInfo,l,c;typeof process<"u"&&process.env&&(c=process.env[Rj]),c?(l=!0,s=`http://${c}?ns=${a.namespace}`,o=q0(s,i),a=o.repoInfo):l=!o.repoInfo.secure;let u=i&&l?new pa(pa.OWNER):new pm(t.name,t.options,e);fj("Invalid Firebase Database URL",o),Q(o.path)||Ln("Database URL must point to the root of a Firebase Database (not including a child path).");let d=Fj(a,t,u,new fm(t.name,n));return new iy(d,t)}function Pj(t,e){let n=ry[e];(!n||n[t.key]!==t)&&Ln(`Database ${e}(${t.repoInfo_}) has already been deleted.`),Ij(t),delete n[t.key]}function Fj(t,e,n,r){let i=ry[e.name];i||(i={},ry[e.name]=i);let s=i[t.toURLString()];return s&&Ln("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Qm(t,xj,n,r),i[t.toURLString()]=s,s}var iy=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(_j(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Vn(this._repo,se())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Pj(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Ln("Cannot call "+e+" on a deleted database.")}};function Sy(t=Zc(),e){let n=Wo(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){let r=XE("database");r&&Lj(n,...r)}return n}function Lj(t,e,n,r={}){t=ze(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Ln("Cannot call useEmulator() after instance has already been initialized.");let i=t._repoInternal,s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Ln('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new pa(pa.OWNER);else if(r.mockUserToken){let o=typeof r.mockUserToken=="string"?r.mockUserToken:eC(r.mockUserToken,t.app.options.projectId);s=new pa(o)}kj(i,e,n,s)}function Vj(t){s2(cr),lr(new Tt("database",(e,{instanceIdentifier:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return Oj(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Wt(m0,y0,t),Wt(m0,y0,"esm2017")}ly.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};ly.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};Vj();var aS=(()=>{let e=class e{constructor(r){this.authService=r}getCardsLocation(){return this.authService.user+"/cards"}getCards(){return g(this,null,function*(){let r=Sy(this.authService.firebaseApp),i=Dy(r,this.getCardsLocation());return yield oS(i).then(s=>s.exists()?s.toJSON():null)})}updateCard(r){return g(this,null,function*(){let i=Sy(this.authService.firebaseApp);return sS(Dy(i,this.getCardsLocation()+"/"+r.id),r)})}};e.\u0275fac=function(i){return new(i||e)(T(Es))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var lS=(()=>{let e=class e{constructor(){}isLocal(){return location.hostname!=="localhost"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var cS=(()=>{let e=class e{constructor(r,i){this.dbService=r,this.envService=i,this.locals=null}get(r){return g(this,null,function*(){return this.locals&&this.locals.length>0?this.locals:r||this.envService.isLocal()?(this.locals=g0,this.locals?this.locals:[]):this.dbService.getCards().then(i=>Object.values(i))})}update(r){return g(this,null,function*(){if(this.envService.isLocal()){this.locals=yield this.get(),this.locals[r.id]=r;return}return this.dbService.updateCard(r)})}};e.\u0275fac=function(i){return new(i||e)(T(aS),T(lS))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var cd=(()=>{let e=class e{constructor(){this.dealStarred=!1,this.baseFront=!0,this.deckSize=10,this.dealStarredChanged=new ve}getDealStarred(){return this.dealStarred}setDealStarred(r){this.dealStarred=r,this.dealStarredChanged.next()}getBaseFront(){return this.baseFront}setBaseFront(r){this.baseFront=r}getDeckSize(){return this.deckSize}setDeckSize(r){this.deckSize=r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var $j=t=>({width:t});function Hj(t,e){t&1&&(_(0,"p"),fe(1,"loading..."),S())}function zj(t,e){if(t&1){let n=$t();_(0,"app-card",6),gc(1,"typeColor"),U("onSwiped",function(i){Qe(n);let s=re(4);return Ze(s.handleSwiped(i))})("onUpdated",function(i){Qe(n);let s=re(4);return Ze(s.handleCardUpdated(i))}),S()}if(t&2){let n=re().$implicit,r=re(3);Y("card",n)("color",mc(1,3,n.type))("baseFirst",r.getBaseFirst())}}function Wj(t,e){if(t&1&&(Hf(0),Xe(1,zj,2,5,"app-card",5),zf()),t&2){let n=e.index,r=re(3);W(),Y("ngIf",n===r.deck.length-1)}}function Gj(t,e){if(t&1&&(_(0,"div",0),Xe(1,Wj,2,1,"ng-container",2),_(2,"div",3),x(3,"div",4),S()()),t&2){let n=re(2);W(),Y("ngForOf",n.deck),W(2),pc(ns(3,$j,n.getDeckProgress()))}}function qj(t,e){if(t&1){let n=$t();_(0,"div",9)(1,"p"),fe(2,"You're out of cards!"),S(),_(3,"button",10),U("click",function(){Qe(n);let i=re(3);return Ze(i.initAndDeal())}),fe(4,"Reset card pile?"),S()()}}function Kj(t,e){if(t&1){let n=$t();_(0,"button",10),U("click",function(){Qe(n);let i=re(3);return Ze(i.dealMissed())}),fe(1),S()}if(t&2){let n=re(3);W(),Gr("Deal ",n.missed.length," missed cards?")}}function Yj(t,e){if(t&1){let n=$t();_(0,"button",10),U("click",function(){Qe(n);let i=re(3);return Ze(i.dealSameDeck())}),fe(1,"Deal same deck?"),S()}}function Qj(t,e){if(t&1){let n=$t();_(0,"button",10),U("click",function(){Qe(n);let i=re(3);return Ze(i.dealNewDeck())}),fe(1),S()}if(t&2){let n=re(3);W(),Gr("Deal another ",n.getDeckSize(),"?")}}function Zj(t,e){if(t&1&&(_(0,"div",1),Xe(1,qj,5,0,"div",7)(2,Kj,2,1,"button",8)(3,Yj,2,0,"button",8)(4,Qj,2,1,"button",8),S()),t&2){let n=re(2);W(),Y("ngIf",n.pile.length===0),W(),Y("ngIf",n.missed.length>0),W(),Y("ngIf",n.currentDeck.length>0),W(),Y("ngIf",n.pile.length>0)}}function Jj(t,e){if(t&1&&Xe(0,Gj,4,5,"div",0)(1,Zj,5,4,"div",1),t&2){let n=re();ho(n.deck.length>0?0:1)}}var dS=(()=>{let e=class e{constructor(r,i,s){this.actionsService=r,this.cardService=i,this.settingsService=s,this.loading=!1,this.sample=!1,this.cards=[],this.pile=[],this.deck=[],this.currentDeck=[],this.missed=[]}ngOnInit(){this.loading=!0,this.actionsService.activeUndo.subscribe(r=>this.applyUndo(r)),this.actionsService.activeRedo.subscribe(r=>this.applyRedo(r)),this.settingsService.dealStarredChanged.subscribe(()=>this.initAndDeal()),this.cardService.get(this.sample).then(r=>{this.cards=r,this.initAndDeal(),this.loading=!1}).catch(r=>alert("Failed to get cards from database! "+r))}initPile(){this.settingsService.getDealStarred()?this.pile=structuredClone(this.getStarred()):this.pile=structuredClone(this.cards)}initAndDeal(){this.initPile(),this.dealNewDeck()}getStarred(){return this.cards.filter(r=>r.starred)}applyUndo(r){r.direction||this.missed.splice(this.missed.findIndex(i=>i.id===r.card.id),1),this.deck.push(r.card)}applyRedo(r){this.handleSwiped(r.direction)}refreshWorkingCards(){for(let r of[this.currentDeck,this.deck,this.missed])for(let i=0;i<r.length;i++)r[i]=this.cards[r[i].id]}updateCard(r){this.cardService.update(r).then(()=>{this.cards[r.id]=r,this.refreshWorkingCards()}).catch(i=>alert("Card update failed! "+i))}getBaseFirst(){return this.settingsService.getBaseFront()}getDeckSize(){return this.settingsService.getDeckSize()}shuffle(r){for(let i=r.length-1;i>0;i--){let s=Math.floor(Math.random()*(i+1));[r[i],r[s]]=[r[s],r[i]]}}deal(r){let i=[];for(let s=0;s<this.getDeckSize();s++){if(r.length===0)return i;let o=Math.floor(Math.random()*r.length);i.push(r[o]),r.splice(o,1)}return i}initDeck(){this.missed=[],this.actionsService.reset()}dealMissed(){this.deck=this.missed,this.shuffle(this.deck),this.initDeck()}dealSameDeck(){this.deck=structuredClone(this.currentDeck),this.shuffle(this.deck),this.initDeck()}dealNewDeck(){this.deck=this.deal(this.pile),this.currentDeck=structuredClone(this.deck),this.initDeck()}handleSwiped(r){let i=this.deck.pop();i&&(this.actionsService.pushUndo({direction:r,card:i}),this.actionsService.resetRedos(),r||this.missed.push(i))}getDeckProgress(){return(1+Math.abs(this.deck.length-this.getDeckSize()))*10+"%"}handleCardUpdated(r){this.updateCard(r)}};e.\u0275fac=function(i){return new(i||e)(M(xu),M(cS),M(cd))},e.\u0275cmp=ke({type:e,selectors:[["app-deck"]],inputs:{sample:"sample"},standalone:!0,features:[Oe],decls:2,vars:1,consts:[[1,"deck"],[1,"options"],[4,"ngFor","ngForOf"],[1,"progress"],[1,"progress-inner"],[3,"card","color","baseFirst","onSwiped","onUpdated",4,"ngIf"],[3,"onSwiped","onUpdated","card","color","baseFirst"],["style","text-align: center;",4,"ngIf"],["class","btn",3,"click",4,"ngIf"],[2,"text-align","center"],[1,"btn",3,"click"]],template:function(i,s){i&1&&Xe(0,Hj,2,0,"p")(1,Jj,2,1),i&2&&ho(s.loading?0:1)},dependencies:[dn,Cc,os,f0,Ru],styles:["body[_ngcontent-%COMP%]{margin:0;background:#dedede;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{height:2.5rem;margin:0 .5rem;padding:.25rem;border:none;outline:none;border-radius:5px;background-color:#f0f8ff;font-size:large;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}textarea[_ngcontent-%COMP%]{height:3.5rem}button[_ngcontent-%COMP%]{font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}.label[_ngcontent-%COMP%]{font-size:20px}.btn[_ngcontent-%COMP%]{width:fit-content;margin:auto;padding:.5rem 1rem;border:none;outline:none;height:3rem;border-radius:5px;font-size:20px;box-shadow:0 1px 2px #d3d3d3}.icon-btn[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;outline:none;border:none;background:none;width:4rem;height:4rem;padding:0 .5rem}.icon-btn[_ngcontent-%COMP%]:hover{cursor:pointer;outline:solid 1px black}.navbar[_ngcontent-%COMP%]{height:4rem;width:100%;display:flex;flex-direction:row;justify-content:space-between}[_nghost-%COMP%]{display:flex;flex-direction:column;margin:auto;width:100%;height:100%}.deck[_ngcontent-%COMP%]{height:100%;padding:1rem}.progress[_ngcontent-%COMP%]{width:100%;height:.25rem;background:#789;margin-top:.25rem;border-radius:2px}.progress-inner[_ngcontent-%COMP%]{height:100%;border-radius:2px;background:#0ff}.options[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:auto;gap:2rem}"]});let t=e;return t})();var hS=di("drop",[Nt("active",et({top:"0"})),Nt("inactive",et({top:"-100%"})),Rt("active => inactive",Mt("200ms ease-out")),Rt("inactive => active",Mt("200ms ease-in"))]);var Xj=t=>({background:t}),fS=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ke({type:e,selectors:[["app-action-slider"]],inputs:{active:"active"},standalone:!0,features:[Oe],decls:2,vars:5,consts:[[1,"track",3,"ngStyle"]],template:function(i,s){i&1&&(_(0,"div",0),x(1,"div"),S()),i&2&&(Y("ngStyle",ns(3,Xj,s.active?"lightgreen":"gray")),W(),Wr(s.active?"slider right":"slider left"))},dependencies:[eE],styles:["body[_ngcontent-%COMP%]{margin:0;background:#dedede;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{height:2.5rem;margin:0 .5rem;padding:.25rem;border:none;outline:none;border-radius:5px;background-color:#f0f8ff;font-size:large;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}textarea[_ngcontent-%COMP%]{height:3.5rem}button[_ngcontent-%COMP%]{font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}.label[_ngcontent-%COMP%]{font-size:20px}.btn[_ngcontent-%COMP%]{width:fit-content;margin:auto;padding:.5rem 1rem;border:none;outline:none;height:3rem;border-radius:5px;font-size:20px;box-shadow:0 1px 2px #d3d3d3}.icon-btn[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;outline:none;border:none;background:none;width:4rem;height:4rem;padding:0 .5rem}.icon-btn[_ngcontent-%COMP%]:hover{cursor:pointer;outline:solid 1px black}.navbar[_ngcontent-%COMP%]{height:4rem;width:100%;display:flex;flex-direction:row;justify-content:space-between}[_nghost-%COMP%]{display:flex;flex-direction:column;justify-content:center;padding:4px;margin-right:4px}.track[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;border-radius:2rem;width:42px;height:24px;box-shadow:0 1px 1px gray}.slider[_ngcontent-%COMP%]{border-radius:2rem;width:18px;height:18px;background:#dedede;box-shadow:1px 1px 2px #00000070}.left[_ngcontent-%COMP%]{transition:all .3s ease;margin-left:4px}.right[_ngcontent-%COMP%]{transition:all .3s ease;margin-left:20px}"]});let t=e;return t})();var pS=(()=>{let e=class e{constructor(r){this.settingsService=r,this.dropState="inactive",this.menuForm=new mr({deckSize:new st(this.settingsService.getDeckSize(),[At.min(1),At.required])}),this.open=!1,this.closePressed=new le}getDropState(){return this.open?"active":"inactive"}getDealFromStarred(){return this.settingsService.getDealStarred()}toggleDealFromStarred(){this.settingsService.setDealStarred(!this.settingsService.getDealStarred())}getBaseFront(){return this.settingsService.getBaseFront()}toggleBaseFront(){this.settingsService.setBaseFront(!this.settingsService.getBaseFront())}setDeckSize(){let r=this.menuForm.controls.deckSize.value;r&&this.settingsService.setDeckSize(r)}};e.\u0275fac=function(i){return new(i||e)(M(cd))},e.\u0275cmp=ke({type:e,selectors:[["app-menu"]],inputs:{open:"open"},outputs:{closePressed:"closePressed"},standalone:!0,features:[Oe],decls:28,vars:4,consts:[[1,"menu-container",3,"formGroup"],[1,"row"],[1,"label",2,"margin-right","1rem"],[3,"click","active"],["type","number","placeholder","deck size","formControlName","deckSize",2,"margin","0"],[1,"btn",2,"margin","0",3,"click"],[1,"navbar"],[1,"icon-btn",3,"click"],["viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["id","SVGRepo_bgCarrier","stroke-width","0"],["id","SVGRepo_tracerCarrier","stroke-linecap","round","stroke-linejoin","round"],["id","SVGRepo_iconCarrier"],["id","Menu / Close_LG"],["id","Vector","d","M21 21L12 12M12 12L3 3M12 12L21.0001 3M12 12L3 21.0001","stroke","#000000","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"]],template:function(i,s){i&1&&(_(0,"form",0)(1,"div",1)(2,"p",2),fe(3,"Deal from starred cards only?"),S(),_(4,"app-action-slider",3),U("click",function(){return s.toggleDealFromStarred()}),S()(),_(5,"div",1)(6,"p",2),fe(7,"Base on front?"),S(),_(8,"app-action-slider",3),U("click",function(){return s.toggleBaseFront()}),S()(),_(9,"div",1),x(10,"input",4),_(11,"button",5),U("click",function(){return s.setDeckSize()}),fe(12,"Set deck size"),S()(),_(13,"div",6)(14,"button",7),U("click",function(){return s.closePressed.emit()}),$e(),_(15,"svg",8),x(16,"g",9)(17,"g",10),_(18,"g",11)(19,"g",12),x(20,"path",13),S()()()(),Nn(),_(21,"button",7),U("click",function(){return s.closePressed.emit()}),$e(),_(22,"svg",8),x(23,"g",9)(24,"g",10),_(25,"g",11)(26,"g",12),x(27,"path",13),S()()()()()()),i&2&&(Y("formGroup",s.menuForm)("@drop",s.getDropState()),W(4),Y("active",s.getDealFromStarred()),W(4),Y("active",s.getBaseFront()))},dependencies:[Ms,As,yr,em,Ss,Ts,ci,ui,fS],styles:["body[_ngcontent-%COMP%]{margin:0;background:#dedede;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{height:2.5rem;margin:0 .5rem;padding:.25rem;border:none;outline:none;border-radius:5px;background-color:#f0f8ff;font-size:large;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}textarea[_ngcontent-%COMP%]{height:3.5rem}button[_ngcontent-%COMP%]{font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}.label[_ngcontent-%COMP%]{font-size:20px}.btn[_ngcontent-%COMP%]{width:fit-content;margin:auto;padding:.5rem 1rem;border:none;outline:none;height:3rem;border-radius:5px;font-size:20px;box-shadow:0 1px 2px #d3d3d3}.icon-btn[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;outline:none;border:none;background:none;width:4rem;height:4rem;padding:0 .5rem}.icon-btn[_ngcontent-%COMP%]:hover{cursor:pointer;outline:solid 1px black}.navbar[_ngcontent-%COMP%]{height:4rem;width:100%;display:flex;flex-direction:row;justify-content:space-between}.menu-container[_ngcontent-%COMP%]{position:absolute;left:0;display:flex;flex-direction:column;justify-content:flex-end;width:100%;height:100%;background:#dedede;z-index:1;gap:.5rem}.row[_ngcontent-%COMP%]{margin:0 1rem;display:flex;flex-direction:row;justify-content:space-between}"],data:{animation:[hS]}});let t=e;return t})();var Ty=(()=>{let e=class e{constructor(r,i){this.actionsService=r,this.router=i,this.menuOpen=!1,this.sample=!1}ngOnInit(){this.router.url==="/sample"&&(this.sample=!0)}handleUndo(){this.actionsService.applyUndo()}handleRedo(){this.actionsService.applyRedo()}};e.\u0275fac=function(i){return new(i||e)(M(xu),M(kn))},e.\u0275cmp=ke({type:e,selectors:[["app-layout"]],standalone:!0,features:[Oe],decls:4,vars:2,consts:[[1,"content"],[3,"closePressed","open"],[3,"sample"],[3,"menuPressed","undoPressed","redoPressed"]],template:function(i,s){i&1&&(_(0,"div",0)(1,"app-menu",1),U("closePressed",function(){return s.menuOpen=!1}),S(),x(2,"app-deck",2),_(3,"app-navbar",3),U("menuPressed",function(){return s.menuOpen=!0})("undoPressed",function(){return s.handleUndo()})("redoPressed",function(){return s.handleRedo()}),S()()),i&2&&(W(),Y("open",s.menuOpen),W(),Y("sample",s.sample))},dependencies:[pS,AI,dS],styles:["body[_ngcontent-%COMP%]{margin:0;background:#dedede;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{height:2.5rem;margin:0 .5rem;padding:.25rem;border:none;outline:none;border-radius:5px;background-color:#f0f8ff;font-size:large;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}textarea[_ngcontent-%COMP%]{height:3.5rem}button[_ngcontent-%COMP%]{font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}.label[_ngcontent-%COMP%]{font-size:20px}.btn[_ngcontent-%COMP%]{width:fit-content;margin:auto;padding:.5rem 1rem;border:none;outline:none;height:3rem;border-radius:5px;font-size:20px;box-shadow:0 1px 2px #d3d3d3}.icon-btn[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;outline:none;border:none;background:none;width:4rem;height:4rem;padding:0 .5rem}.icon-btn[_ngcontent-%COMP%]:hover{cursor:pointer;outline:solid 1px black}.navbar[_ngcontent-%COMP%]{height:4rem;width:100%;display:flex;flex-direction:row;justify-content:space-between}.content[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;overflow:hidden;display:flex;flex-direction:column;justify-content:space-between}"]});let t=e;return t})();function eU(t,e){if(t&1&&(_(0,"button",6),fe(1,"Sign In"),S()),t&2){let n=re();Y("disabled",n.signInForm.invalid)}}var gS=(()=>{let e=class e{constructor(r,i){this.authService=r,this.router=i,this.loading=!1,this.signInForm=new mr({email:new st(null,At.required),password:new st(null,At.required)})}ngOnInit(){}onSubmit(){let r={email:this.signInForm.controls.email.value,password:this.signInForm.controls.password.value};!r.email||!r.password||(this.loading=!0,this.authService.signIn(r.email,r.password).then(i=>{i?this.router.navigate([""]):this.loading=!1}))}};e.\u0275fac=function(i){return new(i||e)(M(Es),M(kn))},e.\u0275cmp=ke({type:e,selectors:[["app-auth"]],standalone:!0,features:[Oe],decls:11,vars:3,consts:[[1,"signin",3,"submit","formGroup"],["type","text","placeholder","email","formControlName","email"],["type","password","placeholder","password","formControlName","password"],["class","btn submit","type","submit","style","margin: auto;",3,"disabled",4,"ngIf"],[1,"sample"],["routerLink","/sample"],["type","submit",1,"btn","submit",2,"margin","auto",3,"disabled"]],template:function(i,s){i&1&&(_(0,"form",0),U("submit",function(){return s.onSubmit()}),_(1,"h1"),fe(2),S(),x(3,"input",1)(4,"input",2),Xe(5,eU,2,1,"button",3),S(),_(6,"p",4),fe(7," Don't have an account? Try a "),_(8,"a",5),fe(9,"sample"),S(),fe(10,`!
`),S()),i&2&&(Y("formGroup",s.signInForm),W(2),Rn(s.loading?"Loading...":"Sign In"),W(3),Y("ngIf",!s.loading))},dependencies:[dn,os,Ms,As,yr,Ss,Ts,ci,ui,qE],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;text-align:center}.signin[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.submit[_ngcontent-%COMP%]{background-color:#90ee90}.sample[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%}"]});let t=e;return t})();var mS=[{path:"",component:Ty,canActivate:[Es]},{path:"sample",component:Ty},{path:"auth",component:gS}];function yS(t){return new y(3e3,!1)}function tU(){return new y(3100,!1)}function nU(){return new y(3101,!1)}function rU(t){return new y(3001,!1)}function iU(t){return new y(3003,!1)}function sU(t){return new y(3004,!1)}function oU(t,e){return new y(3005,!1)}function aU(){return new y(3006,!1)}function lU(){return new y(3007,!1)}function cU(t,e){return new y(3008,!1)}function uU(t){return new y(3002,!1)}function dU(t,e,n,r,i){return new y(3010,!1)}function hU(){return new y(3011,!1)}function fU(){return new y(3012,!1)}function pU(){return new y(3200,!1)}function gU(){return new y(3202,!1)}function mU(){return new y(3013,!1)}function yU(t){return new y(3014,!1)}function _U(t){return new y(3015,!1)}function vU(t){return new y(3016,!1)}function wU(t,e){return new y(3404,!1)}function bU(t){return new y(3502,!1)}function EU(t){return new y(3503,!1)}function CU(){return new y(3300,!1)}function IU(t){return new y(3504,!1)}function DU(t){return new y(3301,!1)}function SU(t,e){return new y(3302,!1)}function TU(t){return new y(3303,!1)}function AU(t,e){return new y(3400,!1)}function MU(t){return new y(3401,!1)}function NU(t){return new y(3402,!1)}function RU(t,e){return new y(3505,!1)}function Cr(t){switch(t.length){case 0:return new _r;case 1:return t[0];default:return new aa(t)}}function RS(t,e,n=new Map,r=new Map){let i=[],s=[],o=-1,a=null;if(e.forEach(l=>{let c=l.get("offset"),u=c==o,d=u&&a||new Map;l.forEach((h,f)=>{let p=f,m=h;if(f!=="offset")switch(p=t.normalizePropertyName(p,i),m){case Nu:m=n.get(f);break;case vn:m=r.get(f);break;default:m=t.normalizeStyleValue(f,p,m,i);break}d.set(p,m)}),u||s.push(d),a=d,o=c}),i.length)throw bU(i);return s}function Qy(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&Ay(n,"start",t)));break;case"done":t.onDone(()=>r(n&&Ay(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&Ay(n,"destroy",t)));break}}function Ay(t,e,n){let r=n.totalTime,i=!!n.disabled,s=Zy(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,r??t.totalTime,i),o=t._data;return o!=null&&(s._data=o),s}function Zy(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function wt(t,e,n){let r=t.get(e);return r||t.set(e,r=n),r}function _S(t){let e=t.indexOf(":"),n=t.substring(1,e),r=t.slice(e+1);return[n,r]}var xU=typeof document>"u"?null:document.documentElement;function Jy(t){let e=t.parentNode||t.host||null;return e===xU?null:e}function kU(t){return t.substring(1,6)=="ebkit"}var vi=null,vS=!1;function OU(t){vi||(vi=PU()||{},vS=vi.style?"WebkitAppearance"in vi.style:!1);let e=!0;return vi.style&&!kU(t)&&(e=t in vi.style,!e&&vS&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in vi.style)),e}function PU(){return typeof document<"u"?document.body:null}function xS(t,e){for(;e;){if(e===t)return!0;e=Jy(e)}return!1}function kS(t,e,n){if(n)return Array.from(t.querySelectorAll(e));let r=t.querySelector(e);return r?[r]:[]}var Xy=(()=>{let e=class e{validateStyleProperty(r){return OU(r)}containsElement(r,i){return xS(r,i)}getParentElement(r){return Jy(r)}query(r,i,s){return kS(r,i,s)}computeStyle(r,i,s){return s||""}animate(r,i,s,o,a,l=[],c){return new _r(s,o)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac});let t=e;return t})(),r_=class r_{};r_.NOOP=new Xy;var Ei=r_,Ci=class{};var FU=1e3,OS="{{",LU="}}",PS="ng-enter",Oy="ng-leave",ud="ng-trigger",gd=".ng-trigger",wS="ng-animating",Py=".ng-animating";function jn(t){if(typeof t=="number")return t;let e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Fy(parseFloat(e[1]),e[2])}function Fy(t,e){switch(e){case"s":return t*FU;default:return t}}function md(t,e,n){return t.hasOwnProperty("duration")?t:VU(t,e,n)}function VU(t,e,n){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,s=0,o="";if(typeof t=="string"){let a=t.match(r);if(a===null)return e.push(yS(t)),{duration:0,delay:0,easing:""};i=Fy(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(s=Fy(parseFloat(l),a[4]));let c=a[5];c&&(o=c)}else i=t;if(!n){let a=!1,l=e.length;i<0&&(e.push(tU()),a=!0),s<0&&(e.push(nU()),a=!0),a&&e.splice(l,0,yS(t))}return{duration:i,delay:s,easing:o}}function jU(t){return t.length?t[0]instanceof Map?t:t.map(e=>new Map(Object.entries(e))):[]}function Cn(t,e,n){e.forEach((r,i)=>{let s=e_(i);n&&!n.has(i)&&n.set(i,t.style[s]),t.style[s]=r})}function bi(t,e){e.forEach((n,r)=>{let i=e_(r);t.style[i]=""})}function Na(t){return Array.isArray(t)?t.length==1?t[0]:l0(t):t}function UU(t,e,n){let r=e.params||{},i=FS(t);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||n.push(rU(s))})}var Ly=new RegExp(`${OS}\\s*(.+?)\\s*${LU}`,"g");function FS(t){let e=[];if(typeof t=="string"){let n;for(;n=Ly.exec(t);)e.push(n[1]);Ly.lastIndex=0}return e}function xa(t,e,n){let r=`${t}`,i=r.replace(Ly,(s,o)=>{let a=e[o];return a==null&&(n.push(iU(o)),a=""),a.toString()});return i==r?t:i}var BU=/-+([a-z0-9])/g;function e_(t){return t.replace(BU,(...e)=>e[1].toUpperCase())}function $U(t,e){return t===0||e===0}function HU(t,e,n){if(n.size&&e.length){let r=e[0],i=[];if(n.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,t_(t,a)))}}return e}function vt(t,e,n){switch(e.type){case V.Trigger:return t.visitTrigger(e,n);case V.State:return t.visitState(e,n);case V.Transition:return t.visitTransition(e,n);case V.Sequence:return t.visitSequence(e,n);case V.Group:return t.visitGroup(e,n);case V.Animate:return t.visitAnimate(e,n);case V.Keyframes:return t.visitKeyframes(e,n);case V.Style:return t.visitStyle(e,n);case V.Reference:return t.visitReference(e,n);case V.AnimateChild:return t.visitAnimateChild(e,n);case V.AnimateRef:return t.visitAnimateRef(e,n);case V.Query:return t.visitQuery(e,n);case V.Stagger:return t.visitStagger(e,n);default:throw sU(e.type)}}function t_(t,e){return window.getComputedStyle(t)[e]}var zU=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),yd=class extends Ci{normalizePropertyName(e,n){return e_(e)}normalizeStyleValue(e,n,r,i){let s="",o=r.toString().trim();if(zU.has(n)&&r!==0&&r!=="0")if(typeof r=="number")s="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(oU(e,r))}return o+s}};var _d="*";function WU(t,e){let n=[];return typeof t=="string"?t.split(/\s*,\s*/).forEach(r=>GU(r,n,e)):n.push(t),n}function GU(t,e,n){if(t[0]==":"){let l=qU(t,n);if(typeof l=="function"){e.push(l);return}t=l}let r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return n.push(_U(t)),e;let i=r[1],s=r[2],o=r[3];e.push(bS(i,o));let a=i==_d&&o==_d;s[0]=="<"&&!a&&e.push(bS(o,i))}function qU(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,r)=>parseFloat(r)>parseFloat(n);case":decrement":return(n,r)=>parseFloat(r)<parseFloat(n);default:return e.push(vU(t)),"* => *"}}var dd=new Set(["true","1"]),hd=new Set(["false","0"]);function bS(t,e){let n=dd.has(t)||hd.has(t),r=dd.has(e)||hd.has(e);return(i,s)=>{let o=t==_d||t==i,a=e==_d||e==s;return!o&&n&&typeof i=="boolean"&&(o=i?dd.has(t):hd.has(t)),!a&&r&&typeof s=="boolean"&&(a=s?dd.has(e):hd.has(e)),o&&a}}var LS=":self",KU=new RegExp(`s*${LS}s*,?`,"g");function VS(t,e,n,r){return new Vy(t).build(e,n,r)}var ES="",Vy=class{constructor(e){this._driver=e}build(e,n,r){let i=new jy(n);return this._resetContextStyleTimingState(i),vt(this,Na(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=ES,e.collectedStyles=new Map,e.collectedStyles.set(ES,new Map),e.currentTime=0}visitTrigger(e,n){let r=n.queryCount=0,i=n.depCount=0,s=[],o=[];return e.name.charAt(0)=="@"&&n.errors.push(aU()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),a.type==V.State){let l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,n))}),l.name=c}else if(a.type==V.Transition){let l=this.visitTransition(a,n);r+=l.queryCount,i+=l.depCount,o.push(l)}else n.errors.push(lU())}),{type:V.Trigger,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,n){let r=this.visitStyle(e.styles,n),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){let s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{FS(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&n.errors.push(cU(e.name,[...s.values()]))}return{type:V.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;let r=vt(this,Na(e.animation),n),i=WU(e.expr,n.errors);return{type:V.Transition,matchers:i,animation:r,queryCount:n.queryCount,depCount:n.depCount,options:wi(e.options)}}visitSequence(e,n){return{type:V.Sequence,steps:e.steps.map(r=>vt(this,r,n)),options:wi(e.options)}}visitGroup(e,n){let r=n.currentTime,i=0,s=e.steps.map(o=>{n.currentTime=r;let a=vt(this,o,n);return i=Math.max(i,n.currentTime),a});return n.currentTime=i,{type:V.Group,steps:s,options:wi(e.options)}}visitAnimate(e,n){let r=JU(e.timings,n.errors);n.currentAnimateTimings=r;let i,s=e.styles?e.styles:et({});if(s.type==V.Keyframes)i=this.visitKeyframes(s,n);else{let o=e.styles,a=!1;if(!o){a=!0;let c={};r.easing&&(c.easing=r.easing),o=et(c)}n.currentTime+=r.duration+r.delay;let l=this.visitStyle(o,n);l.isEmptyStep=a,i=l}return n.currentAnimateTimings=null,{type:V.Animate,timings:r,style:i,options:null}}visitStyle(e,n){let r=this._makeStyleAst(e,n);return this._validateStyleAst(r,n),r}_makeStyleAst(e,n){let r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===vn?r.push(a):n.errors.push(uU(a)):r.push(new Map(Object.entries(a)));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s)){for(let l of a.values())if(l.toString().indexOf(OS)>=0){s=!0;break}}}),{type:V.Style,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,n){let r=n.currentAnimateTimings,i=n.currentTime,s=n.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,l)=>{let c=n.collectedStyles.get(n.currentQuerySelector),u=c.get(l),d=!0;u&&(s!=i&&s>=u.startTime&&i<=u.endTime&&(n.errors.push(dU(l,u.startTime,u.endTime,s,i)),d=!1),s=u.startTime),d&&c.set(l,{startTime:s,endTime:i}),n.options&&UU(a,n.options,n.errors)})})}visitKeyframes(e,n){let r={type:V.Keyframes,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(hU()),r;let i=1,s=0,o=[],a=!1,l=!1,c=0,u=e.steps.map(D=>{let G=this._makeStyleAst(D,n),F=G.offset!=null?G.offset:ZU(G.styles),ie=0;return F!=null&&(s++,ie=G.offset=F),l=l||ie<0||ie>1,a=a||ie<c,c=ie,o.push(ie),G});l&&n.errors.push(fU()),a&&n.errors.push(pU());let d=e.steps.length,h=0;s>0&&s<d?n.errors.push(gU()):s==0&&(h=i/(d-1));let f=d-1,p=n.currentTime,m=n.currentAnimateTimings,w=m.duration;return u.forEach((D,G)=>{let F=h>0?G==f?1:h*G:o[G],ie=F*w;n.currentTime=p+m.delay+ie,m.duration=ie,this._validateStyleAst(D,n),D.offset=F,r.styles.push(D)}),r}visitReference(e,n){return{type:V.Reference,animation:vt(this,Na(e.animation),n),options:wi(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:V.AnimateChild,options:wi(e.options)}}visitAnimateRef(e,n){return{type:V.AnimateRef,animation:this.visitReference(e.animation,n),options:wi(e.options)}}visitQuery(e,n){let r=n.currentQuerySelector,i=e.options||{};n.queryCount++,n.currentQuery=e;let[s,o]=YU(e.selector);n.currentQuerySelector=r.length?r+" "+s:s,wt(n.collectedStyles,n.currentQuerySelector,new Map);let a=vt(this,Na(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=r,{type:V.Query,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:wi(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(mU());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:md(e.timings,n.errors,!0);return{type:V.Stagger,animation:vt(this,Na(e.animation),n),timings:r,options:null}}};function YU(t){let e=!!t.split(/\s*,\s*/).find(n=>n==LS);return e&&(t=t.replace(KU,"")),t=t.replace(/@\*/g,gd).replace(/@\w+/g,n=>gd+"-"+n.slice(1)).replace(/:animating/g,Py),[t,e]}function QU(t){return t?b({},t):null}var jy=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function ZU(t){if(typeof t=="string")return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){let r=n;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(t instanceof Map&&t.has("offset")){let n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}function JU(t,e){if(t.hasOwnProperty("duration"))return t;if(typeof t=="number"){let s=md(t,e).duration;return My(s,0,"")}let n=t;if(n.split(/\s+/).some(s=>s.charAt(0)=="{"&&s.charAt(1)=="{")){let s=My(0,0,"");return s.dynamic=!0,s.strValue=n,s}let i=md(n,e);return My(i.duration,i.delay,i.easing)}function wi(t){return t?(t=b({},t),t.params&&(t.params=QU(t.params))):t={},t}function My(t,e,n){return{duration:t,delay:e,easing:n}}function n_(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}var ka=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,n){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}},XU=1,eB=":enter",tB=new RegExp(eB,"g"),nB=":leave",rB=new RegExp(nB,"g");function jS(t,e,n,r,i,s=new Map,o=new Map,a,l,c=[]){return new Uy().buildKeyframes(t,e,n,r,i,s,o,a,l,c)}var Uy=class{buildKeyframes(e,n,r,i,s,o,a,l,c,u=[]){c=c||new ka;let d=new By(e,n,c,i,s,u,[]);d.options=l;let h=l.delay?jn(l.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([o],null,d.errors,l),vt(this,r,d);let f=d.timelines.filter(p=>p.containsAnimation());if(f.length&&a.size){let p;for(let m=f.length-1;m>=0;m--){let w=f[m];if(w.element===n){p=w;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,l)}return f.length?f.map(p=>p.buildKeyframes()):[n_(n,[],[],[],0,h,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){let r=n.subInstructions.get(n.element);if(r){let i=n.createSubContext(e.options),s=n.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&n.transformIntoNewTimeline(o)}n.previousNode=e}visitAnimateRef(e,n){let r=n.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,r),this.visitReference(e.animation,r),n.transformIntoNewTimeline(r.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,r){for(let i of e){let s=i?.delay;if(s){let o=typeof s=="number"?s:jn(xa(s,i?.params??{},n.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,n,r){let s=n.currentTimeline.currentTime,o=r.duration!=null?jn(r.duration):null,a=r.delay!=null?jn(r.delay):null;return o!==0&&e.forEach(l=>{let c=n.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,n){n.updateOptions(e.options,!0),vt(this,e.animation,n),n.previousNode=e}visitSequence(e,n){let r=n.subContextCount,i=n,s=e.options;if(s&&(s.params||s.delay)&&(i=n.createSubContext(s),i.transformIntoNewTimeline(),s.delay!=null)){i.previousNode.type==V.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=vd);let o=jn(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>vt(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){let r=[],i=n.currentTimeline.currentTime,s=e.options&&e.options.delay?jn(e.options.delay):0;e.steps.forEach(o=>{let a=n.createSubContext(e.options);s&&a.delayNextStep(s),vt(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>n.currentTimeline.mergeTimelineCollectedStyles(o)),n.transformIntoNewTimeline(i),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){let r=e.strValue,i=n.params?xa(r,n.params,n.errors):r;return md(i,n.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){let r=n.currentAnimateTimings=this._visitTiming(e.timings,n),i=n.currentTimeline;r.delay&&(n.incrementTime(r.delay),i.snapshotCurrentStyles());let s=e.style;s.type==V.Keyframes?this.visitKeyframes(s,n):(n.incrementTime(r.duration),this.visitStyle(s,n),i.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){let r=n.currentTimeline,i=n.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){let r=n.currentAnimateTimings,i=n.currentTimeline.duration,s=r.duration,a=n.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(l=>{let c=l.offset||0;a.forwardTime(c*s),a.setStyles(l.styles,l.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(i+s),n.previousNode=e}visitQuery(e,n){let r=n.currentTimeline.currentTime,i=e.options||{},s=i.delay?jn(i.delay):0;s&&(n.previousNode.type===V.Style||r==0&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=vd);let o=r,a=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,n.errors);n.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{n.currentQueryIndex=u;let d=n.createSubContext(e.options,c);s&&d.delayNextStep(s),c===n.element&&(l=d.currentTimeline),vt(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe();let h=d.currentTimeline.currentTime;o=Math.max(o,h)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(o),l&&(n.currentTimeline.mergeTimelineCollectedStyles(l),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){let r=n.parentContext,i=n.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(n.currentQueryTotal-1),l=o*n.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime;break}let u=n.currentTimeline;l&&u.delayNextStep(l);let d=u.currentTime;vt(this,e.animation,n),n.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}},vd={},By=class t{constructor(e,n,r,i,s,o,a,l){this._driver=e,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=vd,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new wd(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;let r=e,i=this.options;r.duration!=null&&(i.duration=jn(r.duration)),r.delay!=null&&(i.delay=jn(r.delay));let s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!n||!o.hasOwnProperty(a))&&(o[a]=xa(s[a],o,this.errors))})}}_copyOptions(){let e={};if(this.options){let n=this.options.params;if(n){let r=e.params={};Object.keys(n).forEach(i=>{r[i]=n[i]})}}return e}createSubContext(e=null,n,r){let i=n||this.element,s=new t(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=vd,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,r){let i={duration:n??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new $y(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace(tB,"."+this._enterClassName),e=e.replace(rB,"."+this._leaveClassName);let l=r!=1,c=this._driver.query(this.element,e,l);r!==0&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),a.push(...c)}return!s&&a.length==0&&o.push(yU(n)),a}},wd=class t{constructor(e,n,r,i){this._driver=e,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let n=this._keyframes.size===1&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=XU,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,r]of this._globalTimelineStyles)this._backFill.set(n,r||vn),this._currentKeyframe.set(n,vn);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,r,i){n&&this._previousKeyframe.set("easing",n);let s=i&&i.params||{},o=iB(e,this._globalTimelineStyles);for(let[a,l]of o){let c=xa(l,s,r);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??vn),this._updateStyle(a,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,r)=>{let i=this._styleSummary.get(r);(!i||n.time>i.time)&&this._updateStyle(r,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,n=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,l)=>{let c=new Map([...this._backFill,...a]);c.forEach((u,d)=>{u===Nu?e.add(d):u===vn&&n.add(d)}),r||c.set("offset",l/this.duration),i.push(c)});let s=[...e.values()],o=[...n.values()];if(r){let a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return n_(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}},$y=class extends wd{constructor(e,n,r,i,s,o,a=!1){super(e,n,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&n){let s=[],o=r+n,a=n/o,l=new Map(e[0]);l.set("offset",0),s.push(l);let c=new Map(e[0]);c.set("offset",CS(a)),s.push(c);let u=e.length-1;for(let d=1;d<=u;d++){let h=new Map(e[d]),f=h.get("offset"),p=n+f*r;h.set("offset",CS(p/o)),s.push(h)}r=o,n=0,i="",e=s}return n_(this.element,e,this.preStyleProps,this.postStyleProps,r,n,i,!0)}};function CS(t,e=3){let n=Math.pow(10,e-1);return Math.round(t*n)/n}function iB(t,e){let n=new Map,r;return t.forEach(i=>{if(i==="*"){r??=e.keys();for(let s of r)n.set(s,vn)}else for(let[s,o]of i)n.set(s,o)}),n}function IS(t,e,n,r,i,s,o,a,l,c,u,d,h){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}var Ny={},bd=class{constructor(e,n,r){this._triggerName=e,this.ast=n,this._stateStyles=r}match(e,n,r,i){return sB(this.ast.matchers,e,n,r,i)}buildStyles(e,n,r){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(n,r):new Map}build(e,n,r,i,s,o,a,l,c,u){let d=[],h=this.ast.options&&this.ast.options.params||Ny,f=a&&a.params||Ny,p=this.buildStyles(r,f,d),m=l&&l.params||Ny,w=this.buildStyles(i,m,d),D=new Set,G=new Map,F=new Map,ie=i==="void",Ue={params:US(m,h),delay:this.ast.options?.delay},pe=u?[]:jS(e,n,this.ast.animation,s,o,p,w,Ue,c,d),ye=0;return pe.forEach(De=>{ye=Math.max(De.duration+De.delay,ye)}),d.length?IS(n,this._triggerName,r,i,ie,p,w,[],[],G,F,ye,d):(pe.forEach(De=>{let ct=De.element,Qt=wt(G,ct,new Set);De.preStyleProps.forEach(Ir=>Qt.add(Ir));let i_=wt(F,ct,new Set);De.postStyleProps.forEach(Ir=>i_.add(Ir)),ct!==n&&D.add(ct)}),IS(n,this._triggerName,r,i,ie,p,w,pe,[...D.values()],G,F,ye))}};function sB(t,e,n,r,i){return t.some(s=>s(e,n,r,i))}function US(t,e){let n=b({},e);return Object.entries(t).forEach(([r,i])=>{i!=null&&(n[r]=i)}),n}var Hy=class{constructor(e,n,r){this.styles=e,this.defaultParams=n,this.normalizer=r}buildStyles(e,n){let r=new Map,i=US(e,this.defaultParams);return this.styles.styles.forEach(s=>{typeof s!="string"&&s.forEach((o,a)=>{o&&(o=xa(o,i,n));let l=this.normalizer.normalizePropertyName(a,n);o=this.normalizer.normalizeStyleValue(a,l,o,n),r.set(a,o)})}),r}};function oB(t,e,n){return new zy(t,e,n)}var zy=class{constructor(e,n,r){this.name=e,this.ast=n,this._normalizer=r,this.transitionFactories=[],this.states=new Map,n.states.forEach(i=>{let s=i.options&&i.options.params||{};this.states.set(i.name,new Hy(i.style,s,r))}),DS(this.states,"true","1"),DS(this.states,"false","0"),n.transitions.forEach(i=>{this.transitionFactories.push(new bd(e,i,this.states))}),this.fallbackTransition=aB(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,r,i){return this.transitionFactories.find(o=>o.match(e,n,r,i))||null}matchStyles(e,n,r){return this.fallbackTransition.buildStyles(e,n,r)}};function aB(t,e,n){let r=[(o,a)=>!0],i={type:V.Sequence,steps:[],options:null},s={type:V.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new bd(t,s,e)}function DS(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}var lB=new ka,Wy=class{constructor(e,n,r){this.bodyNode=e,this._driver=n,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,n){let r=[],i=[],s=VS(this._driver,n,r,i);if(r.length)throw EU(r);i.length&&void 0,this._animations.set(e,s)}_buildPlayer(e,n,r){let i=e.element,s=RS(this._normalizer,e.keyframes,n,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,n,r={}){let i=[],s=this._animations.get(e),o,a=new Map;if(s?(o=jS(this._driver,n,s,PS,Oy,new Map,new Map,r,lB,i),o.forEach(u=>{let d=wt(a,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(i.push(CU()),o=[]),i.length)throw IU(i);a.forEach((u,d)=>{u.forEach((h,f)=>{u.set(f,this._driver.computeStyle(d,f,vn))})});let l=o.map(u=>{let d=a.get(u.element);return this._buildPlayer(u,new Map,d)}),c=Cr(l);return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){let n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);let r=this.players.indexOf(n);r>=0&&this.players.splice(r,1)}_getPlayer(e){let n=this._playersById.get(e);if(!n)throw DU(e);return n}listen(e,n,r,i){let s=Zy(n,"","","");return Qy(this._getPlayer(e),r,s,i),()=>{}}command(e,n,r,i){if(r=="register"){this.register(e,i[0]);return}if(r=="create"){let o=i[0]||{};this.create(e,n,o);return}let s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},SS="ng-animate-queued",cB=".ng-animate-queued",Ry="ng-animate-disabled",uB=".ng-animate-disabled",dB="ng-star-inserted",hB=".ng-star-inserted",fB=[],BS={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},pB={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Yt="__ng_removed",Oa=class{get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;let r=e&&e.hasOwnProperty("value"),i=r?e.value:e;if(this.value=mB(i),r){let s=e,{value:o}=s,a=Ad(s,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let n=e.params;if(n){let r=this.options.params;Object.keys(n).forEach(i=>{r[i]==null&&(r[i]=n[i])})}}},Ra="void",xy=new Oa(Ra),Gy=class{constructor(e,n,r){this.id=e,this.hostElement=n,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,kt(n,this._hostClassName)}listen(e,n,r,i){if(!this._triggers.has(n))throw SU(r,n);if(r==null||r.length==0)throw TU(n);if(!yB(r))throw AU(r,n);let s=wt(this._elementListeners,e,[]),o={name:n,phase:r,callback:i};s.push(o);let a=wt(this._engine.statesByElement,e,new Map);return a.has(n)||(kt(e,ud),kt(e,ud+"-"+n),a.set(n,xy)),()=>{this._engine.afterFlush(()=>{let l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(n)||a.delete(n)})}}register(e,n){return this._triggers.has(e)?!1:(this._triggers.set(e,n),!0)}_getTrigger(e){let n=this._triggers.get(e);if(!n)throw MU(e);return n}trigger(e,n,r,i=!0){let s=this._getTrigger(n),o=new Pa(this.id,n,e),a=this._engine.statesByElement.get(e);a||(kt(e,ud),kt(e,ud+"-"+n),this._engine.statesByElement.set(e,a=new Map));let l=a.get(n),c=new Oa(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(n,c),l||(l=xy),!(c.value===Ra)&&l.value===c.value){if(!wB(l.params,c.params)){let m=[],w=s.matchStyles(l.value,l.params,m),D=s.matchStyles(c.value,c.params,m);m.length?this._engine.reportError(m):this._engine.afterFlush(()=>{bi(e,w),Cn(e,D)})}return}let h=wt(this._engine.playersByElement,e,[]);h.forEach(m=>{m.namespaceId==this.id&&m.triggerName==n&&m.queued&&m.destroy()});let f=s.matchTransition(l.value,c.value,e,c.params),p=!1;if(!f){if(!i)return;f=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:f,fromState:l,toState:c,player:o,isFallbackTransition:p}),p||(kt(e,SS),o.onStart(()=>{zs(e,SS)})),o.onDone(()=>{let m=this.players.indexOf(o);m>=0&&this.players.splice(m,1);let w=this._engine.playersByElement.get(e);if(w){let D=w.indexOf(o);D>=0&&w.splice(D,1)}}),this.players.push(o),h.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,r)=>{this._elementListeners.set(r,n.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let n=this._engine.playersByElement.get(e);n&&(n.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){let r=this._engine.driver.query(e,gd,!0);r.forEach(i=>{if(i[Yt])return;let s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,n,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,n,r,i){let s=this._engine.statesByElement.get(e),o=new Map;if(s){let a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){let u=this.trigger(e,c,Ra,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,o),r&&Cr(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let n=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(n&&r){let i=new Set;n.forEach(s=>{let o=s.name;if(i.has(o))return;i.add(o);let l=this._triggers.get(o).fallbackTransition,c=r.get(o)||xy,u=new Oa(Ra),d=new Pa(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,n){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let i=!1;if(r.totalAnimations){let s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,n);else{let s=e[Yt];(!s||s===BS)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,n))}}insertNode(e,n){kt(e,this._hostClassName)}drainQueuedTransitions(e){let n=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){let l=Zy(s,r.triggerName,r.fromState.value,r.toState.value);l._data=e,Qy(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):n.push(r)}),this._queue=[],n.sort((r,i)=>{let s=r.transition.ast.depCount,o=i.transition.ast.depCount;return s==0||o==0?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},qy=class{_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,r){this.bodyNode=e,this.driver=n,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(n=>{n.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,n){let r=new Gy(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(r,n):(this.newHostElements.set(n,r),this.collectEnterElement(n)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,n){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(n);for(;a;){let l=i.get(a);if(l){let c=r.indexOf(l);r.splice(c+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(n,e),e}register(e,n){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,n)),r}registerTrigger(e,n,r){let i=this._namespaceLookup[e];i&&i.register(n,r)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let n=new Set,r=this.statesByElement.get(e);if(r){for(let i of r.values())if(i.namespaceId){let s=this._fetchNamespace(i.namespaceId);s&&n.add(s)}}return n}trigger(e,n,r,i){if(fd(n)){let s=this._fetchNamespace(e);if(s)return s.trigger(n,r,i),!0}return!1}insertNode(e,n,r,i){if(!fd(n))return;let s=n[Yt];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;let o=this.collectedLeaveElements.indexOf(n);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){let o=this._fetchNamespace(e);o&&o.insertNode(n,r)}i&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),kt(e,Ry)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),zs(e,Ry))}removeNode(e,n,r){if(fd(n)){let i=e?this._fetchNamespace(e):null;i?i.removeNode(n,r):this.markElementAsRemoved(e,n,!1,r);let s=this.namespacesByHostElement.get(n);s&&s.id!==e&&s.removeNode(n,r)}else this._onRemovalComplete(n,r)}markElementAsRemoved(e,n,r,i,s){this.collectedLeaveElements.push(n),n[Yt]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,n,r,i,s){return fd(n)?this._fetchNamespace(e).listen(n,r,i,s):()=>{}}_buildInstruction(e,n,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,n,s)}destroyInnerAnimations(e){let n=this.driver.query(e,gd,!0);n.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(n=this.driver.query(e,Py,!0),n.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let n=this.playersByElement.get(e);n&&n.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let n=this.playersByQueriedElement.get(e);n&&n.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Cr(this.players).onDone(()=>e());e()})}processLeaveNode(e){let n=e[Yt];if(n&&n.setForRemoval){if(e[Yt]=BS,n.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}e.classList?.contains(Ry)&&this.markElementAsDisabled(e,!1),this.driver.query(e,uB,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];kt(i,dB)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{n=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],n.length?Cr(n).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw NU(e)}_flushAnimations(e,n){let r=new ka,i=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(I=>{u.add(I);let A=this.driver.query(I,cB,!0);for(let R=0;R<A.length;R++)u.add(A[R])});let d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=MS(h,this.collectedEnterElements),p=new Map,m=0;f.forEach((I,A)=>{let R=PS+m++;p.set(A,R),I.forEach(te=>kt(te,R))});let w=[],D=new Set,G=new Set;for(let I=0;I<this.collectedLeaveElements.length;I++){let A=this.collectedLeaveElements[I],R=A[Yt];R&&R.setForRemoval&&(w.push(A),D.add(A),R.hasAnimation?this.driver.query(A,hB,!0).forEach(te=>D.add(te)):G.add(A))}let F=new Map,ie=MS(h,Array.from(D));ie.forEach((I,A)=>{let R=Oy+m++;F.set(A,R),I.forEach(te=>kt(te,R))}),e.push(()=>{f.forEach((I,A)=>{let R=p.get(A);I.forEach(te=>zs(te,R))}),ie.forEach((I,A)=>{let R=F.get(A);I.forEach(te=>zs(te,R))}),w.forEach(I=>{this.processLeaveNode(I)})});let Ue=[],pe=[];for(let I=this._namespaceList.length-1;I>=0;I--)this._namespaceList[I].drainQueuedTransitions(n).forEach(R=>{let te=R.player,xe=R.element;if(Ue.push(te),this.collectedEnterElements.length){let Be=xe[Yt];if(Be&&Be.setForMove){if(Be.previousTriggersValues&&Be.previousTriggersValues.has(R.triggerName)){let Dr=Be.previousTriggersValues.get(R.triggerName),bt=this.statesByElement.get(R.element);if(bt&&bt.has(R.triggerName)){let Fa=bt.get(R.triggerName);Fa.value=Dr,bt.set(R.triggerName,Fa)}}te.destroy();return}}let Zt=!d||!this.driver.containsElement(d,xe),ut=F.get(xe),Un=p.get(xe),_e=this._buildInstruction(R,r,Un,ut,Zt);if(_e.errors&&_e.errors.length){pe.push(_e);return}if(Zt){te.onStart(()=>bi(xe,_e.fromStyles)),te.onDestroy(()=>Cn(xe,_e.toStyles)),i.push(te);return}if(R.isFallbackTransition){te.onStart(()=>bi(xe,_e.fromStyles)),te.onDestroy(()=>Cn(xe,_e.toStyles)),i.push(te);return}let a_=[];_e.timelines.forEach(Be=>{Be.stretchStartingKeyframe=!0,this.disabledNodes.has(Be.element)||a_.push(Be)}),_e.timelines=a_,r.append(xe,_e.timelines);let YS={instruction:_e,player:te,element:xe};o.push(YS),_e.queriedElements.forEach(Be=>wt(a,Be,[]).push(te)),_e.preStyleProps.forEach((Be,Dr)=>{if(Be.size){let bt=l.get(Dr);bt||l.set(Dr,bt=new Set),Be.forEach((Fa,Td)=>bt.add(Td))}}),_e.postStyleProps.forEach((Be,Dr)=>{let bt=c.get(Dr);bt||c.set(Dr,bt=new Set),Be.forEach((Fa,Td)=>bt.add(Td))})});if(pe.length){let I=[];pe.forEach(A=>{I.push(RU(A.triggerName,A.errors))}),Ue.forEach(A=>A.destroy()),this.reportError(I)}let ye=new Map,De=new Map;o.forEach(I=>{let A=I.element;r.has(A)&&(De.set(A,A),this._beforeAnimationBuild(I.player.namespaceId,I.instruction,ye))}),i.forEach(I=>{let A=I.element;this._getPreviousPlayers(A,!1,I.namespaceId,I.triggerName,null).forEach(te=>{wt(ye,A,[]).push(te),te.destroy()})});let ct=w.filter(I=>NS(I,l,c)),Qt=new Map;AS(Qt,this.driver,G,c,vn).forEach(I=>{NS(I,l,c)&&ct.push(I)});let Ir=new Map;f.forEach((I,A)=>{AS(Ir,this.driver,new Set(I),l,Nu)}),ct.forEach(I=>{let A=Qt.get(I),R=Ir.get(I);Qt.set(I,new Map([...A?.entries()??[],...R?.entries()??[]]))});let Sd=[],s_=[],o_={};o.forEach(I=>{let{element:A,player:R,instruction:te}=I;if(r.has(A)){if(u.has(A)){R.onDestroy(()=>Cn(A,te.toStyles)),R.disabled=!0,R.overrideTotalTime(te.totalTime),i.push(R);return}let xe=o_;if(De.size>1){let ut=A,Un=[];for(;ut=ut.parentNode;){let _e=De.get(ut);if(_e){xe=_e;break}Un.push(ut)}Un.forEach(_e=>De.set(_e,xe))}let Zt=this._buildAnimation(R.namespaceId,te,ye,s,Ir,Qt);if(R.setRealPlayer(Zt),xe===o_)Sd.push(R);else{let ut=this.playersByElement.get(xe);ut&&ut.length&&(R.parentPlayer=Cr(ut)),i.push(R)}}else bi(A,te.fromStyles),R.onDestroy(()=>Cn(A,te.toStyles)),s_.push(R),u.has(A)&&i.push(R)}),s_.forEach(I=>{let A=s.get(I.element);if(A&&A.length){let R=Cr(A);I.setRealPlayer(R)}}),i.forEach(I=>{I.parentPlayer?I.syncPlayerEvents(I.parentPlayer):I.destroy()});for(let I=0;I<w.length;I++){let A=w[I],R=A[Yt];if(zs(A,Oy),R&&R.hasAnimation)continue;let te=[];if(a.size){let Zt=a.get(A);Zt&&Zt.length&&te.push(...Zt);let ut=this.driver.query(A,Py,!0);for(let Un=0;Un<ut.length;Un++){let _e=a.get(ut[Un]);_e&&_e.length&&te.push(..._e)}}let xe=te.filter(Zt=>!Zt.destroyed);xe.length?_B(this,A,xe):this.processLeaveNode(A)}return w.length=0,Sd.forEach(I=>{this.players.push(I),I.onDone(()=>{I.destroy();let A=this.players.indexOf(I);this.players.splice(A,1)}),I.play()}),Sd}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,r,i,s){let o=[];if(n){let a=this.playersByQueriedElement.get(e);a&&(o=a)}else{let a=this.playersByElement.get(e);if(a){let l=!s||s==Ra;a.forEach(c=>{c.queued||!l&&c.triggerName!=i||o.push(c)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,n,r){let i=n.triggerName,s=n.element,o=n.isRemovalTransition?void 0:e,a=n.isRemovalTransition?void 0:i;for(let l of n.timelines){let c=l.element,u=c!==s,d=wt(r,c,[]);this._getPreviousPlayers(c,u,o,a,n.toState).forEach(f=>{let p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}bi(s,n.fromStyles)}_buildAnimation(e,n,r,i,s,o){let a=n.triggerName,l=n.element,c=[],u=new Set,d=new Set,h=n.timelines.map(p=>{let m=p.element;u.add(m);let w=m[Yt];if(w&&w.removedBeforeQueried)return new _r(p.duration,p.delay);let D=m!==l,G=vB((r.get(m)||fB).map(ye=>ye.getRealPlayer())).filter(ye=>{let De=ye;return De.element?De.element===m:!1}),F=s.get(m),ie=o.get(m),Ue=RS(this._normalizer,p.keyframes,F,ie),pe=this._buildPlayer(p,Ue,G);if(p.subTimeline&&i&&d.add(m),D){let ye=new Pa(e,a,m);ye.setRealPlayer(pe),c.push(ye)}return pe});c.forEach(p=>{wt(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>gB(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>kt(p,wS));let f=Cr(h);return f.onDestroy(()=>{u.forEach(p=>zs(p,wS)),Cn(l,n.toStyles)}),d.forEach(p=>{wt(i,p,[]).push(f)}),f}_buildPlayer(e,n,r){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,r):new _r(e.duration,e.delay)}},Pa=class{constructor(e,n,r){this.namespaceId=e,this.triggerName=n,this.element=r,this._player=new _r,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,r)=>{n.forEach(i=>Qy(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){wt(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let n=this._player;n.triggerCallback&&n.triggerCallback(e)}};function gB(t,e,n){let r=t.get(e);if(r){if(r.length){let i=r.indexOf(n);r.splice(i,1)}r.length==0&&t.delete(e)}return r}function mB(t){return t??null}function fd(t){return t&&t.nodeType===1}function yB(t){return t=="start"||t=="done"}function TS(t,e){let n=t.style.display;return t.style.display=e??"none",n}function AS(t,e,n,r,i){let s=[];n.forEach(l=>s.push(TS(l)));let o=[];r.forEach((l,c)=>{let u=new Map;l.forEach(d=>{let h=e.computeStyle(c,d,i);u.set(d,h),(!h||h.length==0)&&(c[Yt]=pB,o.push(c))}),t.set(c,u)});let a=0;return n.forEach(l=>TS(l,s[a++])),o}function MS(t,e){let n=new Map;if(t.forEach(a=>n.set(a,[])),e.length==0)return n;let r=1,i=new Set(e),s=new Map;function o(a){if(!a)return r;let l=s.get(a);if(l)return l;let c=a.parentNode;return n.has(c)?l=c:i.has(c)?l=r:l=o(c),s.set(a,l),l}return e.forEach(a=>{let l=o(a);l!==r&&n.get(l).push(a)}),n}function kt(t,e){t.classList?.add(e)}function zs(t,e){t.classList?.remove(e)}function _B(t,e,n){Cr(n).onDone(()=>t.processLeaveNode(e))}function vB(t){let e=[];return $S(t,e),e}function $S(t,e){for(let n=0;n<t.length;n++){let r=t[n];r instanceof aa?$S(r.players,e):e.push(r)}}function wB(t,e){let n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){let s=n[i];if(!e.hasOwnProperty(s)||t[s]!==e[s])return!1}return!0}function NS(t,e,n){let r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(s=>i.add(s)):e.set(t,r),n.delete(t),!0}var Gs=class{constructor(e,n,r){this._driver=n,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new qy(e.body,n,r),this._timelineEngine=new Wy(e.body,n,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,n,r,i,s){let o=e+"-"+i,a=this._triggerCache[o];if(!a){let l=[],c=[],u=VS(this._driver,s,l,c);if(l.length)throw wU(i,l);c.length&&void 0,a=oB(i,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(n,i,a)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,r,i){this._transitionEngine.insertNode(e,n,r,i)}onRemove(e,n,r){this._transitionEngine.removeNode(e,n,r)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,r,i){if(r.charAt(0)=="@"){let[s,o]=_S(r),a=i;this._timelineEngine.command(s,n,o,a)}else this._transitionEngine.trigger(e,n,r,i)}listen(e,n,r,i,s){if(r.charAt(0)=="@"){let[o,a]=_S(r);return this._timelineEngine.listen(o,n,a,s)}return this._transitionEngine.listen(e,n,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function bB(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=ky(e[0]),e.length>1&&(r=ky(e[e.length-1]))):e instanceof Map&&(n=ky(e)),n||r?new Ky(t,n,r):null}var Ws=class Ws{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=Ws.initialStylesByElement.get(e);i||Ws.initialStylesByElement.set(e,i=new Map),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&Cn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Cn(this._element,this._initialStyles),this._endStyles&&(Cn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Ws.initialStylesByElement.delete(this._element),this._startStyles&&(bi(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(bi(this._element,this._endStyles),this._endStyles=null),Cn(this._element,this._initialStyles),this._state=3)}};Ws.initialStylesByElement=new WeakMap;var Ky=Ws;function ky(t){let e=null;return t.forEach((n,r)=>{EB(r)&&(e=e||new Map,e.set(r,n))}),e}function EB(t){return t==="display"||t==="position"}var Ed=class{constructor(e,n,r,i){this.element=e,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let n=()=>this._onFinish();this.domPlayer.addEventListener("finish",n),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let n=[];return e.forEach(r=>{n.push(Object.fromEntries(r))}),n}_triggerWebAnimation(e,n,r){return e.animate(this._convertKeyframesToObject(n),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&e.set(i,this._finished?r:t_(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let n=e==="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},Cd=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,n){return xS(e,n)}getParentElement(e){return Jy(e)}query(e,n,r){return kS(e,n,r)}computeStyle(e,n,r){return t_(e,n)}animate(e,n,r,i,s,o=[]){let a=i==0?"both":"forwards",l={duration:r,delay:i,fill:a};s&&(l.easing=s);let c=new Map,u=o.filter(f=>f instanceof Ed);$U(r,i)&&u.forEach(f=>{f.currentSnapshot.forEach((p,m)=>c.set(m,p))});let d=jU(n).map(f=>new Map(f));d=HU(e,d,c);let h=bB(e,d);return new Ed(e,d,l,h)}};var pd="@",HS="@.disabled",Id=class{constructor(e,n,r,i){this.namespaceId=e,this.delegate=n,this.engine=r,this._onDestroy=i,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,r,i=!0){this.delegate.insertBefore(e,n,r),this.engine.onInsert(this.namespaceId,n,e,i)}removeChild(e,n,r){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,r,i){this.delegate.setAttribute(e,n,r,i)}removeAttribute(e,n,r){this.delegate.removeAttribute(e,n,r)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,r,i){this.delegate.setStyle(e,n,r,i)}removeStyle(e,n,r){this.delegate.removeStyle(e,n,r)}setProperty(e,n,r){n.charAt(0)==pd&&n==HS?this.disableAnimations(e,!!r):this.delegate.setProperty(e,n,r)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,r){return this.delegate.listen(e,n,r)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}},Yy=class extends Id{constructor(e,n,r,i,s){super(n,r,i,s),this.factory=e,this.namespaceId=n}setProperty(e,n,r){n.charAt(0)==pd?n.charAt(1)=="."&&n==HS?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,n.slice(1),r):this.delegate.setProperty(e,n,r)}listen(e,n,r){if(n.charAt(0)==pd){let i=CB(e),s=n.slice(1),o="";return s.charAt(0)!=pd&&([s,o]=IB(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{let l=a._data||-1;this.factory.scheduleListenerCallback(l,r,a)})}return this.delegate.listen(e,n,r)}};function CB(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}function IB(t){let e=t.indexOf("."),n=t.substring(0,e),r=t.slice(e+1);return[n,r]}var Dd=class{constructor(e,n,r){this.delegate=e,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,n.onRemovalComplete=(i,s)=>{let o=s?.parentNode(i);o&&s.removeChild(o,i)}}createRenderer(e,n){let r="",i=this.delegate.createRenderer(e,n);if(!e||!n?.data?.animation){let c=this._rendererCache,u=c.get(i);if(!u){let d=()=>c.delete(i);u=new Id(r,i,this.engine,d),c.set(i,u)}return u}let s=n.id,o=n.id+"-"+this._currentId;this._currentId++,this.engine.register(o,e);let a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(s,o,e,c.name,c)};return n.data.animation.forEach(a),new Yy(this,o,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,n,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>n(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(s=>{let[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),i.push([n,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var SB=(()=>{let e=class e extends Gs{constructor(r,i,s){super(r,i,s)}ngOnDestroy(){this.flush()}};e.\u0275fac=function(i){return new(i||e)(T(He),T(Ei),T(Ci))},e.\u0275prov=C({token:e,factory:e.\u0275fac});let t=e;return t})();function TB(){return new yd}function AB(t,e,n){return new Dd(t,e,n)}var WS=[{provide:Ci,useFactory:TB},{provide:Gs,useClass:SB},{provide:Qn,useFactory:AB,deps:[Sc,Gs,ge]}],zS=[{provide:Ei,useFactory:()=>new Cd},{provide:Ef,useValue:"BrowserAnimations"},...WS],MB=[{provide:Ei,useClass:Xy},{provide:Ef,useValue:"NoopAnimations"},...WS],GS=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:r.disableAnimations?MB:zS}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=mt({type:e}),e.\u0275inj=gt({providers:zS,imports:[dE]});let t=e;return t})();var qS={providers:[KE(mS),uf([GS,SI.forRoot({config:{tokenGetter:()=>localStorage.getItem("jwt"),allowedDomains:[],disallowedRoutes:[]}})])]};var KS=(()=>{let e=class e{constructor(){this.title="cardo"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ke({type:e,selectors:[["app-root"]],standalone:!0,features:[Oe],decls:1,vars:0,template:function(i,s){i&1&&x(0,"router-outlet")},dependencies:[dn,Hp]});let t=e;return t})();cE(KS,qS).catch(t=>console.error(t));

var AT=Object.defineProperty,NT=Object.defineProperties;var xT=Object.getOwnPropertyDescriptors;var tl=Object.getOwnPropertySymbols,RT=Object.getPrototypeOf,B_=Object.prototype.hasOwnProperty,$_=Object.prototype.propertyIsEnumerable,kT=Reflect.get;var U_=(t,e,n)=>e in t?AT(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,w=(t,e)=>{for(var n in e||={})B_.call(e,n)&&U_(t,n,e[n]);if(tl)for(var n of tl(e))$_.call(e,n)&&U_(t,n,e[n]);return t},Y=(t,e)=>NT(t,xT(e));var qd=(t,e)=>{var n={};for(var r in t)B_.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&tl)for(var r of tl(t))e.indexOf(r)<0&&$_.call(t,r)&&(n[r]=t[r]);return n};var Hr=(t,e,n)=>kT(RT(t),n,e);var g=(t,e,n)=>new Promise((r,i)=>{var s=l=>{try{a(n.next(l))}catch(c){i(c)}},o=l=>{try{a(n.throw(l))}catch(c){i(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(s,o);a((n=n.apply(t,e)).next())});var H_=null;var Kd=1,Yd=Symbol("SIGNAL");function ie(t){let e=H_;return H_=t,e}var z_={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function OT(t){if(!(Jd(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Kd)){if(!t.producerMustRecompute(t)&&!Qd(t)){t.dirty=!1,t.lastCleanEpoch=Kd;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Kd}}function G_(t){return t&&(t.nextProducerIndex=0),ie(t)}function W_(t,e){if(ie(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Jd(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Zd(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Qd(t){Xd(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(OT(n),r!==n.version))return!0}return!1}function q_(t){if(Xd(t),Jd(t))for(let e=0;e<t.producerNode.length;e++)Zd(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Zd(t,e){if(PT(t),t.liveConsumerNode.length===1&&FT(t))for(let r=0;r<t.producerNode.length;r++)Zd(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Xd(i),i.producerIndexOfThis[r]=e}}function Jd(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Xd(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function PT(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function FT(t){return t.producerNode!==void 0}function LT(){throw new Error}var VT=LT;function K_(t){VT=t}function B(t){return typeof t=="function"}function Ui(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var nl=Ui(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function fo(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Fe=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(B(r))try{r()}catch(s){e=s instanceof nl?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{Y_(s)}catch(o){e=e??[],o instanceof nl?e=[...e,...o.errors]:e.push(o)}}if(e)throw new nl(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Y_(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&fo(n,e)}remove(e){let{_finalizers:n}=this;n&&fo(n,e),e instanceof t&&e._removeParent(this)}};Fe.EMPTY=(()=>{let t=new Fe;return t.closed=!0,t})();var eh=Fe.EMPTY;function rl(t){return t instanceof Fe||t&&"closed"in t&&B(t.remove)&&B(t.add)&&B(t.unsubscribe)}function Y_(t){B(t)?t():t.unsubscribe()}var zt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Bi={setTimeout(t,e,...n){let{delegate:r}=Bi;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Bi;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function il(t){Bi.setTimeout(()=>{let{onUnhandledError:e}=zt;if(e)e(t);else throw t})}function po(){}var Q_=th("C",void 0,void 0);function Z_(t){return th("E",void 0,t)}function J_(t){return th("N",t,void 0)}function th(t,e,n){return{kind:t,value:e,error:n}}var zr=null;function $i(t){if(zt.useDeprecatedSynchronousErrorHandling){let e=!zr;if(e&&(zr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=zr;if(zr=null,n)throw r}}else t()}function X_(t){zt.useDeprecatedSynchronousErrorHandling&&zr&&(zr.errorThrown=!0,zr.error=t)}var Gr=class extends Fe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,rl(e)&&e.add(this)):this.destination=BT}static create(e,n,r){return new Hi(e,n,r)}next(e){this.isStopped?rh(J_(e),this):this._next(e)}error(e){this.isStopped?rh(Z_(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?rh(Q_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},jT=Function.prototype.bind;function nh(t,e){return jT.call(t,e)}var ih=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){sl(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){sl(r)}else sl(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){sl(n)}}},Hi=class extends Gr{constructor(e,n,r){super();let i;if(B(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&zt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&nh(e.next,s),error:e.error&&nh(e.error,s),complete:e.complete&&nh(e.complete,s)}):i=e}this.destination=new ih(i)}};function sl(t){zt.useDeprecatedSynchronousErrorHandling?X_(t):il(t)}function UT(t){throw t}function rh(t,e){let{onStoppedNotification:n}=zt;n&&Bi.setTimeout(()=>n(t,e))}var BT={closed:!0,next:po,error:UT,complete:po};var zi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function vt(t){return t}function sh(...t){return oh(t)}function oh(t){return t.length===0?vt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var de=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=HT(n)?n:new Hi(n,r,i);return $i(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=ev(r),new r((i,s)=>{let o=new Hi({next:a=>{try{n(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[zi](){return this}pipe(...n){return oh(n)(this)}toPromise(n){return n=ev(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function ev(t){var e;return(e=t??zt.Promise)!==null&&e!==void 0?e:Promise}function $T(t){return t&&B(t.next)&&B(t.error)&&B(t.complete)}function HT(t){return t&&t instanceof Gr||$T(t)&&rl(t)}function ah(t){return B(t?.lift)}function oe(t){return e=>{if(ah(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ee(t,e,n,r,i){return new lh(t,e,n,r,i)}var lh=class extends Gr{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Gi(){return oe((t,e)=>{let n=null;t._refCount++;let r=ee(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Wi=class extends de{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,ah(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Fe;let n=this.getSubject();e.add(this.source.subscribe(ee(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Fe.EMPTY)}return e}refCount(){return Gi()(this)}};var tv=Ui(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var he=(()=>{class t extends de{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new ol(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new tv}next(n){$i(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){$i(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){$i(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?eh:(this.currentObservers=null,s.push(n),new Fe(()=>{this.currentObservers=null,fo(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new de;return n.source=this,n}}return t.create=(e,n)=>new ol(e,n),t})(),ol=class extends he{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:eh}};var Ge=class extends he{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var wt=new de(t=>t.complete());function nv(t){return t&&B(t.schedule)}function rv(t){return t[t.length-1]}function al(t){return B(rv(t))?t.pop():void 0}function Zn(t){return nv(rv(t))?t.pop():void 0}function ch(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function sv(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}function iv(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Wr(t){return this instanceof Wr?(this.v=t,this):new Wr(t)}function ov(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(f){return function(p){return Promise.resolve(p).then(f,d)}}function a(f,p){r[f]&&(i[f]=function(m){return new Promise(function(C,R){s.push([f,m,C,R])>1||l(f,m)})},p&&(i[f]=p(i[f])))}function l(f,p){try{c(r[f](p))}catch(m){h(s[0][3],m)}}function c(f){f.value instanceof Wr?Promise.resolve(f.value.v).then(u,d):h(s[0][2],f)}function u(f){l("next",f)}function d(f){l("throw",f)}function h(f,p){f(p),s.shift(),s.length&&l(s[0][0],s[0][1])}}function av(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof iv=="function"?iv(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,l){o=t[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}}var ll=t=>t&&typeof t.length=="number"&&typeof t!="function";function cl(t){return B(t?.then)}function ul(t){return B(t[zi])}function dl(t){return Symbol.asyncIterator&&B(t?.[Symbol.asyncIterator])}function hl(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function zT(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var fl=zT();function pl(t){return B(t?.[fl])}function gl(t){return ov(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Wr(n.read());if(i)return yield Wr(void 0);yield yield Wr(r)}}finally{n.releaseLock()}})}function ml(t){return B(t?.getReader)}function Le(t){if(t instanceof de)return t;if(t!=null){if(ul(t))return GT(t);if(ll(t))return WT(t);if(cl(t))return qT(t);if(dl(t))return lv(t);if(pl(t))return KT(t);if(ml(t))return YT(t)}throw hl(t)}function GT(t){return new de(e=>{let n=t[zi]();if(B(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function WT(t){return new de(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function qT(t){return new de(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,il)})}function KT(t){return new de(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function lv(t){return new de(e=>{QT(t,e).catch(n=>e.error(n))})}function YT(t){return lv(gl(t))}function QT(t,e){var n,r,i,s;return sv(this,void 0,void 0,function*(){try{for(n=av(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function ct(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function yl(t,e=0){return oe((n,r)=>{n.subscribe(ee(r,i=>ct(r,t,()=>r.next(i),e),()=>ct(r,t,()=>r.complete(),e),i=>ct(r,t,()=>r.error(i),e)))})}function _l(t,e=0){return oe((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function cv(t,e){return Le(t).pipe(_l(e),yl(e))}function uv(t,e){return Le(t).pipe(_l(e),yl(e))}function dv(t,e){return new de(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function hv(t,e){return new de(n=>{let r;return ct(n,e,()=>{r=t[fl](),ct(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>B(r?.return)&&r.return()})}function vl(t,e){if(!t)throw new Error("Iterable cannot be null");return new de(n=>{ct(n,e,()=>{let r=t[Symbol.asyncIterator]();ct(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function fv(t,e){return vl(gl(t),e)}function pv(t,e){if(t!=null){if(ul(t))return cv(t,e);if(ll(t))return dv(t,e);if(cl(t))return uv(t,e);if(dl(t))return vl(t,e);if(pl(t))return hv(t,e);if(ml(t))return fv(t,e)}throw hl(t)}function Oe(t,e){return e?pv(t,e):Le(t)}function V(...t){let e=Zn(t);return Oe(t,e)}function qi(t,e){let n=B(t)?t:()=>t,r=i=>i.error(n());return new de(e?i=>e.schedule(r,0,i):r)}function uh(t){return!!t&&(t instanceof de||B(t.lift)&&B(t.subscribe))}var On=Ui(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function G(t,e){return oe((n,r)=>{let i=0;n.subscribe(ee(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:ZT}=Array;function JT(t,e){return ZT(e)?t(...e):t(e)}function wl(t){return G(e=>JT(t,e))}var{isArray:XT}=Array,{getPrototypeOf:eM,prototype:tM,keys:nM}=Object;function bl(t){if(t.length===1){let e=t[0];if(XT(e))return{args:e,keys:null};if(rM(e)){let n=nM(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function rM(t){return t&&typeof t=="object"&&eM(t)===tM}function Cl(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function El(...t){let e=Zn(t),n=al(t),{args:r,keys:i}=bl(t);if(r.length===0)return Oe([],e);let s=new de(iM(r,e,i?o=>Cl(i,o):vt));return n?s.pipe(wl(n)):s}function iM(t,e,n=vt){return r=>{gv(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let l=0;l<i;l++)gv(e,()=>{let c=Oe(t[l],e),u=!1;c.subscribe(ee(r,d=>{s[l]=d,u||(u=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function gv(t,e,n){t?ct(n,t,e):e()}function mv(t,e,n,r,i,s,o,a){let l=[],c=0,u=0,d=!1,h=()=>{d&&!l.length&&!c&&e.complete()},f=m=>c<r?p(m):l.push(m),p=m=>{s&&e.next(m),c++;let C=!1;Le(n(m,u++)).subscribe(ee(e,R=>{i?.(R),s?f(R):e.next(R)},()=>{C=!0},void 0,()=>{if(C)try{for(c--;l.length&&c<r;){let R=l.shift();o?ct(e,o,()=>p(R)):p(R)}h()}catch(R){e.error(R)}}))};return t.subscribe(ee(e,f,()=>{d=!0,h()})),()=>{a?.()}}function Ne(t,e,n=1/0){return B(e)?Ne((r,i)=>G((s,o)=>e(r,s,i,o))(Le(t(r,i))),n):(typeof e=="number"&&(n=e),oe((r,i)=>mv(r,i,t,n)))}function dh(t=1/0){return Ne(vt,t)}function yv(){return dh(1)}function Ki(...t){return yv()(Oe(t,Zn(t)))}function Yi(t){return new de(e=>{Le(t()).subscribe(e)})}function hh(...t){let e=al(t),{args:n,keys:r}=bl(t),i=new de(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),l=o,c=o;for(let u=0;u<o;u++){let d=!1;Le(n[u]).subscribe(ee(s,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||s.next(r?Cl(r,a):a),s.complete())}))}});return e?i.pipe(wl(e)):i}function Gt(t,e){return oe((n,r)=>{let i=0;n.subscribe(ee(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Jn(t){return oe((e,n)=>{let r=null,i=!1,s;r=e.subscribe(ee(n,void 0,void 0,o=>{s=Le(t(o,Jn(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function _v(t,e,n,r,i){return(s,o)=>{let a=n,l=e,c=0;s.subscribe(ee(o,u=>{let d=c++;l=a?t(l,u,d):(a=!0,u),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}function Qi(t,e){return B(e)?Ne(t,e,1):Ne(t,1)}function Xn(t){return oe((e,n)=>{let r=!1;e.subscribe(ee(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Pn(t){return t<=0?()=>wt:oe((e,n)=>{let r=0;e.subscribe(ee(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function fh(t){return G(()=>t)}function Il(t=sM){return oe((e,n)=>{let r=!1;e.subscribe(ee(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function sM(){return new On}function go(t){return oe((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function an(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Gt((i,s)=>t(i,s,r)):vt,Pn(1),n?Xn(e):Il(()=>new On))}function Zi(t){return t<=0?()=>wt:oe((e,n)=>{let r=[];e.subscribe(ee(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function ph(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Gt((i,s)=>t(i,s,r)):vt,Zi(1),n?Xn(e):Il(()=>new On))}function gh(t,e){return oe(_v(t,e,arguments.length>=2,!0))}function mh(...t){let e=Zn(t);return oe((n,r)=>{(e?Ki(t,n,e):Ki(t,n)).subscribe(r)})}function Wt(t,e){return oe((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(ee(r,l=>{i?.unsubscribe();let c=0,u=s++;Le(t(l,u)).subscribe(i=ee(r,d=>r.next(e?e(l,d,u,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function yh(t){return oe((e,n)=>{Le(t).subscribe(ee(n,()=>n.complete(),po)),!n.closed&&e.subscribe(n)})}function We(t,e,n){let r=B(t)||e||n?{next:t,error:e,complete:n}:t;return r?oe((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(ee(s,l=>{var c;(c=r.next)===null||c===void 0||c.call(r,l),s.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),s.complete()},l=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,l),s.error(l)},()=>{var l,c;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):vt}var iw="https://g.co/ng/security#xss",_=class extends Error{constructor(e,n){super(sc(e,n)),this.code=e}};function sc(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Mo(t){return{toString:t}.toString()}var Dl="__parameters__";function oM(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function sw(t,e,n){return Mo(()=>{let r=oM(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(l,c,u){let d=l.hasOwnProperty(Dl)?l[Dl]:Object.defineProperty(l,Dl,{value:[]})[Dl];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Nt=globalThis;function _e(t){for(let e in t)if(t[e]===_e)return e;throw Error("Could not find renamed property on target object.")}function aM(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function it(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(it).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function kh(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var lM=_e({__forward_ref__:_e});function pn(t){return t.__forward_ref__=pn,t.toString=function(){return it(this())},t}function rt(t){return ow(t)?t():t}function ow(t){return typeof t=="function"&&t.hasOwnProperty(lM)&&t.__forward_ref__===pn}function I(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ct(t){return{providers:t.providers||[],imports:t.imports||[]}}function oc(t){return vv(t,lw)||vv(t,cw)}function aw(t){return oc(t)!==null}function vv(t,e){return t.hasOwnProperty(e)?t[e]:null}function cM(t){let e=t&&(t[lw]||t[cw]);return e||null}function wv(t){return t&&(t.hasOwnProperty(bv)||t.hasOwnProperty(uM))?t[bv]:null}var lw=_e({\u0275prov:_e}),bv=_e({\u0275inj:_e}),cw=_e({ngInjectableDef:_e}),uM=_e({ngInjectorDef:_e}),O=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=I({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function uw(t){return t&&!!t.\u0275providers}var dM=_e({\u0275cmp:_e}),hM=_e({\u0275dir:_e}),fM=_e({\u0275pipe:_e}),pM=_e({\u0275mod:_e}),Ol=_e({\u0275fac:_e}),mo=_e({__NG_ELEMENT_ID__:_e}),Cv=_e({__NG_ENV_ID__:_e});function ac(t){return typeof t=="string"?t:t==null?"":String(t)}function gM(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():ac(t)}function mM(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new _(-200,t)}function Ef(t,e){throw new _(-201,!1)}var W=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(W||{}),Oh;function dw(){return Oh}function ut(t){let e=Oh;return Oh=t,e}function hw(t,e,n){let r=oc(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&W.Optional)return null;if(e!==void 0)return e;Ef(t,"Injector")}var yM={},yo=yM,Ph="__NG_DI_FLAG__",Pl="ngTempTokenPath",_M="ngTokenPath",vM=/\n/gm,wM="\u0275",Ev="__source",ts;function bM(){return ts}function er(t){let e=ts;return ts=t,e}function CM(t,e=W.Default){if(ts===void 0)throw new _(-203,!1);return ts===null?hw(t,void 0,e):ts.get(t,e&W.Optional?null:void 0,e)}function T(t,e=W.Default){return(dw()||CM)(rt(t),e)}function D(t,e=W.Default){return T(t,lc(e))}function lc(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Fh(t){let e=[];for(let n=0;n<t.length;n++){let r=rt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new _(900,!1);let i,s=W.Default;for(let o=0;o<r.length;o++){let a=r[o],l=EM(a);typeof l=="number"?l===-1?i=a.token:s|=l:i=a}e.push(T(i,s))}else e.push(T(r))}return e}function fw(t,e){return t[Ph]=e,t.prototype[Ph]=e,t}function EM(t){return t[Ph]}function IM(t,e,n,r){let i=t[Pl];throw e[Ev]&&i.unshift(e[Ev]),t.message=DM(`
`+t.message,i,n,r),t[_M]=i,t[Pl]=null,t}function DM(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==wM?t.slice(2):t;let i=it(e);if(Array.isArray(e))i=e.map(it).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):it(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(vM,`
  `)}`}var cc=fw(sw("Optional"),8);var If=fw(sw("SkipSelf"),4);function Yr(t,e){let n=t.hasOwnProperty(Ol);return n?t[Ol]:null}function Df(t,e){t.forEach(n=>Array.isArray(n)?Df(n,e):e(n))}function pw(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Fl(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function SM(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function TM(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function uc(t,e,n){let r=Ao(t,e);return r>=0?t[r|1]=n:(r=~r,TM(t,r,e,n)),r}function _h(t,e){let n=Ao(t,e);if(n>=0)return t[n|1]}function Ao(t,e){return MM(t,e,1)}function MM(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var rs={},dt=[],is=new O(""),gw=new O("",-1),mw=new O(""),Ll=class{get(e,n=yo){if(n===yo){let r=new Error(`NullInjectorError: No provider for ${it(e)}!`);throw r.name="NullInjectorError",r}return n}},yw=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(yw||{}),un=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(un||{}),ss=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(ss||{});function AM(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Lh(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];NM(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function _w(t){return t===3||t===4||t===6}function NM(t){return t.charCodeAt(0)===64}function _o(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Iv(t,n,i,null,e[++r]):Iv(t,n,i,null,null))}}return t}function Iv(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var vw="ng-template";function xM(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&AM(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Sf(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function Sf(t){return t.type===4&&t.value!==vw}function RM(t,e,n){let r=t.type===4&&!n?vw:t.value;return e===r}function kM(t,e,n){let r=4,i=t.attrs,s=i!==null?FM(i):0,o=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!o&&!qt(r)&&!qt(l))return!1;if(o&&qt(l))continue;o=!1,r=l|r&1;continue}if(!o)if(r&4){if(r=2|r&1,l!==""&&!RM(t,l,n)||l===""&&e.length===1){if(qt(r))return!1;o=!0}}else if(r&8){if(i===null||!xM(t,i,l,n)){if(qt(r))return!1;o=!0}}else{let c=e[++a],u=OM(l,i,Sf(t),n);if(u===-1){if(qt(r))return!1;o=!0;continue}if(c!==""){let d;if(u>s?d="":d=i[u+1].toLowerCase(),r&2&&c!==d){if(qt(r))return!1;o=!0}}}}return qt(r)||o}function qt(t){return(t&1)===0}function OM(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return LM(e,t)}function ww(t,e,n=!1){for(let r=0;r<e.length;r++)if(kM(t,e[r],n))return!0;return!1}function PM(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if(!(n&1))return e[n+1]}return null}function FM(t){for(let e=0;e<t.length;e++){let n=t[e];if(_w(n))return e}return t.length}function LM(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function VM(t,e){e:for(let n=0;n<e.length;n++){let r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function Dv(t,e){return t?":not("+e.trim()+")":e}function jM(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!qt(o)&&(e+=Dv(s,i),i=""),r=o,s=s||!qt(r);n++}return i!==""&&(e+=Dv(s,i)),e}function UM(t){return t.map(jM).join(",")}function BM(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!qt(i))break;i=s}r++}return{attrs:e,classes:n}}function Ee(t){return Mo(()=>{let e=Dw(t),n=Y(w({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===yw.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||un.Emulated,styles:t.styles||dt,_:null,schemas:t.schemas||null,tView:null,id:""});Sw(n);let r=t.dependencies;return n.directiveDefs=Tv(r,!1),n.pipeDefs=Tv(r,!0),n.id=zM(n),n})}function $M(t){return Qr(t)||bw(t)}function HM(t){return t!==null}function Et(t){return Mo(()=>({type:t.type,bootstrap:t.bootstrap||dt,declarations:t.declarations||dt,imports:t.imports||dt,exports:t.exports||dt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Sv(t,e){if(t==null)return rs;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=ss.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==ss.None?[r,a]:r,e[s]=o):n[s]=r}return n}function Re(t){return Mo(()=>{let e=Dw(t);return Sw(e),e})}function gs(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Qr(t){return t[dM]||null}function bw(t){return t[hM]||null}function Cw(t){return t[fM]||null}function Ew(t){let e=Qr(t)||bw(t)||Cw(t);return e!==null?e.standalone:!1}function Iw(t,e){let n=t[pM]||null;if(!n&&e===!0)throw new Error(`Type ${it(t)} does not have '\u0275mod' property.`);return n}function Dw(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||rs,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||dt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Sv(t.inputs,e),outputs:Sv(t.outputs),debugInfo:null}}function Sw(t){t.features?.forEach(e=>e(t))}function Tv(t,e){if(!t)return null;let n=e?Cw:$M;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(HM)}function zM(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function dc(t){return{\u0275providers:t}}function Tf(...t){return{\u0275providers:Tw(!0,t),\u0275fromNgModule:!0}}function Tw(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return Df(e,o=>{let a=o;Vh(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Mw(i,s),n}function Mw(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Mf(i,s=>{e(s,r)})}}function Vh(t,e,n,r){if(t=rt(t),!t)return!1;let i=null,s=wv(t),o=!s&&Qr(t);if(!s&&!o){let l=t.ngModule;if(s=wv(l),s)i=l;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let l=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let c of l)Vh(c,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let c;try{Df(s.imports,u=>{Vh(u,e,n,r)&&(c||=[],c.push(u))})}finally{}c!==void 0&&Mw(c,e)}if(!a){let c=Yr(i)||(()=>new i);e({provide:i,useFactory:c,deps:dt},i),e({provide:mw,useValue:i,multi:!0},i),e({provide:is,useValue:()=>T(i),multi:!0},i)}let l=s.providers;if(l!=null&&!a){let c=t;Mf(l,u=>{e(u,c)})}}else return!1;return i!==t&&t.providers!==void 0}function Mf(t,e){for(let n of t)uw(n)&&(n=n.\u0275providers),Array.isArray(n)?Mf(n,e):e(n)}var GM=_e({provide:String,useValue:_e});function Aw(t){return t!==null&&typeof t=="object"&&GM in t}function WM(t){return!!(t&&t.useExisting)}function qM(t){return!!(t&&t.useFactory)}function os(t){return typeof t=="function"}function KM(t){return!!t.useClass}var hc=new O(""),Al={},YM={},vh;function Af(){return vh===void 0&&(vh=new Ll),vh}var xt=class{},vo=class extends xt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Uh(e,o=>this.processProvider(o)),this.records.set(gw,Ji(void 0,this)),i.has("environment")&&this.records.set(xt,Ji(void 0,this));let s=this.records.get(hc);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(mw,dt,W.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=ie(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ie(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=er(this),r=ut(void 0),i;try{return e()}finally{er(n),ut(r)}}get(e,n=yo,r=W.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Cv))return e[Cv](this);r=lc(r);let i,s=er(this),o=ut(void 0);try{if(!(r&W.SkipSelf)){let l=this.records.get(e);if(l===void 0){let c=eA(e)&&oc(e);c&&this.injectableDefInScope(c)?l=Ji(jh(e),Al):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let a=r&W.Self?Af():this.parent;return n=r&W.Optional&&n===yo?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Pl]=a[Pl]||[]).unshift(it(e)),s)throw a;return IM(a,e,"R3InjectorError",this.source)}else throw a}finally{ut(o),er(s)}}resolveInjectorInitializers(){let e=ie(null),n=er(this),r=ut(void 0),i;try{let s=this.get(is,dt,W.Self);for(let o of s)o()}finally{er(n),ut(r),ie(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(it(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new _(205,!1)}processProvider(e){e=rt(e);let n=os(e)?e:rt(e&&e.provide),r=ZM(e);if(!os(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Ji(void 0,Al,!0),i.factory=()=>Fh(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=ie(null);try{return n.value===Al&&(n.value=YM,n.value=n.factory()),typeof n.value=="object"&&n.value&&XM(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ie(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=rt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function jh(t){let e=oc(t),n=e!==null?e.factory:Yr(t);if(n!==null)return n;if(t instanceof O)throw new _(204,!1);if(t instanceof Function)return QM(t);throw new _(204,!1)}function QM(t){if(t.length>0)throw new _(204,!1);let n=cM(t);return n!==null?()=>n.factory(t):()=>new t}function ZM(t){if(Aw(t))return Ji(void 0,t.useValue);{let e=Nw(t);return Ji(e,Al)}}function Nw(t,e,n){let r;if(os(t)){let i=rt(t);return Yr(i)||jh(i)}else if(Aw(t))r=()=>rt(t.useValue);else if(qM(t))r=()=>t.useFactory(...Fh(t.deps||[]));else if(WM(t))r=()=>T(rt(t.useExisting));else{let i=rt(t&&(t.useClass||t.provide));if(JM(t))r=()=>new i(...Fh(t.deps));else return Yr(i)||jh(i)}return r}function Ji(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function JM(t){return!!t.deps}function XM(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function eA(t){return typeof t=="function"||typeof t=="object"&&t instanceof O}function Uh(t,e){for(let n of t)Array.isArray(n)?Uh(n,e):n&&uw(n)?Uh(n.\u0275providers,e):e(n)}function gn(t,e){t instanceof vo&&t.assertNotDestroyed();let n,r=er(t),i=ut(void 0);try{return e()}finally{er(r),ut(i)}}function tA(){return dw()!==void 0||bM()!=null}function nA(t){return typeof t=="function"}var Ln=0,Q=1,j=2,st=3,Kt=4,ht=5,wo=6,Vl=7,Rt=8,as=9,dn=10,xe=11,bo=12,Mv=13,ms=14,kt=15,ls=16,Xi=17,cs=18,fc=19,xw=20,tr=21,wh=22,Zr=23,ot=25,Rw=1;var Jr=7,jl=8,Ul=9,bt=10,Bl=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Bl||{});function nr(t){return Array.isArray(t)&&typeof t[Rw]=="object"}function Vn(t){return Array.isArray(t)&&t[Rw]===!0}function Nf(t){return(t.flags&4)!==0}function pc(t){return t.componentOffset>-1}function gc(t){return(t.flags&1)===1}function rr(t){return!!t.template}function Bh(t){return(t[j]&512)!==0}var $h=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function kw(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function jn(){return Ow}function Ow(t){return t.type.prototype.ngOnChanges&&(t.setInput=iA),rA}jn.ngInherit=!0;function rA(){let t=Fw(this),e=t?.current;if(e){let n=t.previous;if(n===rs)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function iA(t,e,n,r,i){let s=this.declaredInputs[r],o=Fw(t)||sA(t,{previous:rs,current:null}),a=o.current||(o.current={}),l=o.previous,c=l[s];a[s]=new $h(c&&c.currentValue,n,l===rs),kw(t,e,i,n)}var Pw="__ngSimpleChanges__";function Fw(t){return t[Pw]||null}function sA(t,e){return t[Pw]=e}var Av=null;var ln=function(t,e,n){Av?.(t,e,n)},Lw="svg",oA="math";function hn(t){for(;Array.isArray(t);)t=t[Ln];return t}function Vw(t,e){return hn(e[t])}function Ot(t,e){return hn(e[t.index])}function xf(t,e){return t.data[e]}function aA(t,e){return t[e]}function lr(t,e){let n=e[t];return nr(n)?n:n[Ln]}function Rf(t){return(t[j]&128)===128}function lA(t){return Vn(t[st])}function us(t,e){return e==null?null:t[e]}function jw(t){t[Xi]=0}function cA(t){t[j]&1024||(t[j]|=1024,Rf(t)&&mc(t))}function uA(t,e){for(;t>0;)e=e[ms],t--;return e}function Co(t){return!!(t[j]&9216||t[Zr]?.dirty)}function Hh(t){t[dn].changeDetectionScheduler?.notify(7),t[j]&64&&(t[j]|=1024),Co(t)&&mc(t)}function mc(t){t[dn].changeDetectionScheduler?.notify(0);let e=Eo(t);for(;e!==null&&!(e[j]&8192||(e[j]|=8192,!Rf(e)));)e=Eo(e)}function Uw(t,e){if((t[j]&256)===256)throw new _(911,!1);t[tr]===null&&(t[tr]=[]),t[tr].push(e)}function dA(t,e){if(t[tr]===null)return;let n=t[tr].indexOf(e);n!==-1&&t[tr].splice(n,1)}function Eo(t){let e=t[st];return Vn(e)?e[st]:e}var q={lFrame:Zw(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Bw=!1;function hA(){return q.lFrame.elementDepthCount}function fA(){q.lFrame.elementDepthCount++}function pA(){q.lFrame.elementDepthCount--}function $w(){return q.bindingsEnabled}function Hw(){return q.skipHydrationRootTNode!==null}function gA(t){return q.skipHydrationRootTNode===t}function mA(){q.skipHydrationRootTNode=null}function le(){return q.lFrame.lView}function He(){return q.lFrame.tView}function te(t){return q.lFrame.contextLView=t,t[Rt]}function ne(t){return q.lFrame.contextLView=null,t}function Ze(){let t=zw();for(;t!==null&&t.type===64;)t=t.parent;return t}function zw(){return q.lFrame.currentTNode}function yA(){let t=q.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function ri(t,e){let n=q.lFrame;n.currentTNode=t,n.isParent=e}function kf(){return q.lFrame.isParent}function Of(){q.lFrame.isParent=!1}function Gw(){return Bw}function Nv(t){Bw=t}function Ww(){let t=q.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function _A(t){return q.lFrame.bindingIndex=t}function No(){return q.lFrame.bindingIndex++}function qw(t){let e=q.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function vA(){return q.lFrame.inI18n}function wA(t,e){let n=q.lFrame;n.bindingIndex=n.bindingRootIndex=t,zh(e)}function bA(){return q.lFrame.currentDirectiveIndex}function zh(t){q.lFrame.currentDirectiveIndex=t}function CA(t){let e=q.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Kw(t){q.lFrame.currentQueryIndex=t}function EA(t){let e=t[Q];return e.type===2?e.declTNode:e.type===1?t[ht]:null}function Yw(t,e,n){if(n&W.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&W.Host);)if(i=EA(s),i===null||(s=s[ms],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=q.lFrame=Qw();return r.currentTNode=e,r.lView=t,!0}function Pf(t){let e=Qw(),n=t[Q];q.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Qw(){let t=q.lFrame,e=t===null?null:t.child;return e===null?Zw(t):e}function Zw(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function Jw(){let t=q.lFrame;return q.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Xw=Jw;function Ff(){let t=Jw();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function IA(t){return(q.lFrame.contextLView=uA(t,q.lFrame.contextLView))[Rt]}function ii(){return q.lFrame.selectedIndex}function Xr(t){q.lFrame.selectedIndex=t}function Lf(){let t=q.lFrame;return xf(t.tView,t.selectedIndex)}function Ue(){q.lFrame.currentNamespace=Lw}function Un(){DA()}function DA(){q.lFrame.currentNamespace=null}function SA(){return q.lFrame.currentNamespace}var eb=!0;function yc(){return eb}function _c(t){eb=t}function TA(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=Ow(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function vc(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),l&&(t.viewHooks??=[]).push(-n,l),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function Nl(t,e,n){tb(t,e,3,n)}function xl(t,e,n,r){(t[j]&3)===n&&tb(t,e,n,r)}function bh(t,e){let n=t[j];(n&3)===e&&(n&=16383,n+=1,t[j]=n)}function tb(t,e,n,r){let i=r!==void 0?t[Xi]&65535:0,s=r??-1,o=e.length-1,a=0;for(let l=i;l<o;l++)if(typeof e[l+1]=="number"){if(a=e[l],r!=null&&a>=r)break}else e[l]<0&&(t[Xi]+=65536),(a<s||s==-1)&&(MA(t,n,e,l),t[Xi]=(t[Xi]&4294901760)+l+2),l++}function xv(t,e){ln(4,t,e);let n=ie(null);try{e.call(t)}finally{ie(n),ln(5,t,e)}}function MA(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[j]>>14<t[Xi]>>16&&(t[j]&3)===e&&(t[j]+=16384,xv(a,s)):xv(a,s)}var ns=-1,ei=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function AA(t){return t instanceof ei}function NA(t){return(t.flags&8)!==0}function xA(t){return(t.flags&16)!==0}function nb(t){return t!==ns}function $l(t){return t&32767}function RA(t){return t>>16}function Hl(t,e){let n=RA(t),r=e;for(;n>0;)r=r[ms],n--;return r}var Gh=!0;function zl(t){let e=Gh;return Gh=t,e}var kA=256,rb=kA-1,ib=5,OA=0,cn={};function PA(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(mo)&&(r=n[mo]),r==null&&(r=n[mo]=OA++);let i=r&rb,s=1<<i;e.data[t+(i>>ib)]|=s}function Gl(t,e){let n=sb(t,e);if(n!==-1)return n;let r=e[Q];r.firstCreatePass&&(t.injectorIndex=e.length,Ch(r.data,t),Ch(e,null),Ch(r.blueprint,null));let i=Vf(t,e),s=t.injectorIndex;if(nb(i)){let o=$l(i),a=Hl(i,e),l=a[Q].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=i,s}function Ch(t,e){t.push(0,0,0,0,0,0,0,0,e)}function sb(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Vf(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=ub(i),r===null)return ns;if(n++,i=i[ms],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return ns}function Wh(t,e,n){PA(t,e,n)}function FA(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(_w(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function ob(t,e,n){if(n&W.Optional||t!==void 0)return t;Ef(e,"NodeInjector")}function ab(t,e,n,r){if(n&W.Optional&&r===void 0&&(r=null),!(n&(W.Self|W.Host))){let i=t[as],s=ut(void 0);try{return i?i.get(e,r,n&W.Optional):hw(e,r,n&W.Optional)}finally{ut(s)}}return ob(r,e,n)}function lb(t,e,n,r=W.Default,i){if(t!==null){if(e[j]&2048&&!(r&W.Self)){let o=BA(t,e,n,r,cn);if(o!==cn)return o}let s=cb(t,e,n,r,cn);if(s!==cn)return s}return ab(e,n,r,i)}function cb(t,e,n,r,i){let s=jA(n);if(typeof s=="function"){if(!Yw(e,t,r))return r&W.Host?ob(i,n,r):ab(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&W.Optional))Ef(n);else return o}finally{Xw()}}else if(typeof s=="number"){let o=null,a=sb(t,e),l=ns,c=r&W.Host?e[kt][ht]:null;for((a===-1||r&W.SkipSelf)&&(l=a===-1?Vf(t,e):e[a+8],l===ns||!kv(r,!1)?a=-1:(o=e[Q],a=$l(l),e=Hl(l,e)));a!==-1;){let u=e[Q];if(Rv(s,a,u.data)){let d=LA(a,e,n,o,r,c);if(d!==cn)return d}l=e[a+8],l!==ns&&kv(r,e[Q].data[a+8]===c)&&Rv(s,a,e)?(o=u,a=$l(l),e=Hl(l,e)):a=-1}}return i}function LA(t,e,n,r,i,s){let o=e[Q],a=o.data[t+8],l=r==null?pc(a)&&Gh:r!=o&&(a.type&3)!==0,c=i&W.Host&&s===a,u=VA(a,o,n,l,c);return u!==null?ds(e,o,u,a):cn}function VA(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,l=t.directiveStart,c=t.directiveEnd,u=s>>20,d=r?a:a+u,h=i?a+u:c;for(let f=d;f<h;f++){let p=o[f];if(f<l&&n===p||f>=l&&p.type===n)return f}if(i){let f=o[l];if(f&&rr(f)&&f.type===n)return l}return null}function ds(t,e,n,r){let i=t[n],s=e.data;if(AA(i)){let o=i;o.resolving&&mM(gM(s[n]));let a=zl(o.canSeeViewProviders);o.resolving=!0;let l,c=o.injectImpl?ut(o.injectImpl):null,u=Yw(t,r,W.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&TA(n,s[n],e)}finally{c!==null&&ut(c),zl(a),o.resolving=!1,Xw()}}return i}function jA(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(mo)?t[mo]:void 0;return typeof e=="number"?e>=0?e&rb:UA:e}function Rv(t,e,n){let r=1<<t;return!!(n[e+(t>>ib)]&r)}function kv(t,e){return!(t&W.Self)&&!(t&W.Host&&e)}var Kr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return lb(this._tNode,this._lView,e,lc(r),n)}};function UA(){return new Kr(Ze(),le())}function cr(t){return Mo(()=>{let e=t.prototype.constructor,n=e[Ol]||qh(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[Ol]||qh(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function qh(t){return ow(t)?()=>{let e=qh(rt(t));return e&&e()}:Yr(t)}function BA(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[j]&2048&&!(o[j]&512);){let a=cb(s,o,n,r|W.Self,cn);if(a!==cn)return a;let l=s.parent;if(!l){let c=o[xw];if(c){let u=c.get(n,cn,r);if(u!==cn)return u}l=ub(o),o=o[ms]}s=l}return i}function ub(t){let e=t[Q],n=e.type;return n===2?e.declTNode:n===1?t[ht]:null}function jf(t){return FA(Ze(),t)}function Ov(t,e=null,n=null,r){let i=db(t,e,n,r);return i.resolveInjectorInitializers(),i}function db(t,e=null,n=null,r,i=new Set){let s=[n||dt,Tf(t)];return r=r||(typeof t=="object"?void 0:it(t)),new vo(s,e||Af(),r||null,i)}var qr=class qr{static create(e,n){if(Array.isArray(e))return Ov({name:""},n,e,"");{let r=e.name??"";return Ov({name:r},e.parent,e.providers,r)}}};qr.THROW_IF_NOT_FOUND=yo,qr.NULL=new Ll,qr.\u0275prov=I({token:qr,providedIn:"any",factory:()=>T(gw)}),qr.__NG_ELEMENT_ID__=-1;var ir=qr;var $A=new O("");$A.__NG_ELEMENT_ID__=t=>{let e=Ze();if(e===null)throw new _(204,!1);if(e.type&2)return e.value;if(t&W.Optional)return null;throw new _(204,!1)};var HA="ngOriginalError";function Eh(t){return t[HA]}var Fn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Eh(e);for(;n&&Eh(n);)n=Eh(n);return n||null}},hb=new O("",{providedIn:"root",factory:()=>D(Fn).handleError.bind(void 0)}),fb=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=zA,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Kh=class extends fb{constructor(e){super(),this._lView=e}onDestroy(e){return Uw(this._lView,e),()=>dA(this._lView,e)}};function zA(){return new Kh(le())}function GA(){return wc(Ze(),le())}function wc(t,e){return new Yt(Ot(t,e))}var Yt=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=GA;let t=e;return t})();var Yh=class extends he{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,tA()&&(this.destroyRef=D(fb,{optional:!0})??void 0)}emit(e){let n=ie(null);try{super.next(e)}finally{ie(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=Ih(s),i&&(i=Ih(i)),o&&(o=Ih(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof Fe&&e.add(a),a}};function Ih(t){return e=>{setTimeout(t,void 0,e)}}var J=Yh;function pb(t){return(t.flags&128)===128}var gb=new Map,WA=0;function qA(){return WA++}function KA(t){gb.set(t[fc],t)}function YA(t){gb.delete(t[fc])}var Pv="__ngContext__";function sr(t,e){nr(e)?(t[Pv]=e[fc],KA(e)):t[Pv]=e}function mb(t){return _b(t[bo])}function yb(t){return _b(t[Kt])}function _b(t){for(;t!==null&&!Vn(t);)t=t[Kt];return t}var Qh;function vb(t){Qh=t}function QA(){if(Qh!==void 0)return Qh;if(typeof document<"u")return document;throw new _(210,!1)}var bc=new O("",{providedIn:"root",factory:()=>ZA}),ZA="ng",Uf=new O(""),si=new O("",{providedIn:"platform",factory:()=>"unknown"});var Bf=new O(""),$f=new O("",{providedIn:"root",factory:()=>QA().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var JA="h",XA="b";var eN=()=>null;function Hf(t,e,n=!1){return eN(t,e,n)}var wb=!1,tN=new O("",{providedIn:"root",factory:()=>wb});var Sl;function nN(){if(Sl===void 0&&(Sl=null,Nt.trustedTypes))try{Sl=Nt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Sl}function Fv(t){return nN()?.createScriptURL(t)||t}var Wl=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${iw})`}};function oi(t){return t instanceof Wl?t.changingThisBreaksApplicationSecurity:t}function zf(t,e){let n=rN(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${iw})`)}return n===e}function rN(t){return t instanceof Wl&&t.getTypeName()||null}var iN=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function bb(t){return t=String(t),t.match(iN)?t:"unsafe:"+t}var Cc=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Cc||{});function sN(t){let e=Eb();return e?e.sanitize(Cc.URL,t)||"":zf(t,"URL")?oi(t):bb(ac(t))}function oN(t){let e=Eb();if(e)return Fv(e.sanitize(Cc.RESOURCE_URL,t)||"");if(zf(t,"ResourceURL"))return Fv(oi(t));throw new _(904,!1)}function aN(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?oN:sN}function Cb(t,e,n){return aN(e,n)(t)}function Eb(){let t=le();return t&&t[dn].sanitizer}var lN=/^>|^->|<!--|-->|--!>|<!-$/g,cN=/(<|>)/g,uN="\u200B$1\u200B";function dN(t){return t.replace(lN,e=>e.replace(cN,uN))}function Ec(t){return t.ownerDocument.defaultView}function Ib(t){return t instanceof Function?t():t}var fn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(fn||{}),hN;function Gf(t,e){return hN(t,e)}function es(t,e,n,r,i){if(r!=null){let s,o=!1;Vn(r)?s=r:nr(r)&&(o=!0,r=r[Ln]);let a=hn(r);t===0&&n!==null?i==null?Ab(e,n,a):Kl(e,n,a,i||null,!0):t===1&&n!==null?Kl(e,n,a,i||null,!0):t===2?TN(e,a,o):t===3&&e.destroyNode(a),s!=null&&AN(e,t,s,n,i)}}function fN(t,e){return t.createText(e)}function pN(t,e,n){t.setValue(e,n)}function gN(t,e){return t.createComment(dN(e))}function Db(t,e,n){return t.createElement(e,n)}function mN(t,e){Sb(t,e),e[Ln]=null,e[ht]=null}function yN(t,e,n,r,i,s){r[Ln]=i,r[ht]=e,Dc(t,r,n,1,i,s)}function Sb(t,e){e[dn].changeDetectionScheduler?.notify(8),Dc(t,e,e[xe],2,null,null)}function _N(t){let e=t[bo];if(!e)return Dh(t[Q],t);for(;e;){let n=null;if(nr(e))n=e[bo];else{let r=e[bt];r&&(n=r)}if(!n){for(;e&&!e[Kt]&&e!==t;)nr(e)&&Dh(e[Q],e),e=e[st];e===null&&(e=t),nr(e)&&Dh(e[Q],e),n=e&&e[Kt]}e=n}}function vN(t,e,n,r){let i=bt+r,s=n.length;r>0&&(n[i-1][Kt]=e),r<s-bt?(e[Kt]=n[i],pw(n,bt+r,e)):(n.push(e),e[Kt]=null),e[st]=n;let o=e[ls];o!==null&&n!==o&&Tb(o,e);let a=e[cs];a!==null&&a.insertView(t),Hh(e),e[j]|=128}function Tb(t,e){let n=t[Ul],r=e[st];if(nr(r))t[j]|=Bl.HasTransplantedViews;else{let i=r[st][kt];e[kt]!==i&&(t[j]|=Bl.HasTransplantedViews)}n===null?t[Ul]=[e]:n.push(e)}function Wf(t,e){let n=t[Ul],r=n.indexOf(e);n.splice(r,1)}function ql(t,e){if(t.length<=bt)return;let n=bt+e,r=t[n];if(r){let i=r[ls];i!==null&&i!==t&&Wf(i,r),e>0&&(t[n-1][Kt]=r[Kt]);let s=Fl(t,bt+e);mN(r[Q],r);let o=s[cs];o!==null&&o.detachView(s[Q]),r[st]=null,r[Kt]=null,r[j]&=-129}return r}function qf(t,e){if(!(e[j]&256)){let n=e[xe];n.destroyNode&&Dc(t,e,n,3,null,null),_N(e)}}function Dh(t,e){if(e[j]&256)return;let n=ie(null);try{e[j]&=-129,e[j]|=256,e[Zr]&&q_(e[Zr]),bN(t,e),wN(t,e),e[Q].type===1&&e[xe].destroy();let r=e[ls];if(r!==null&&Vn(e[st])){r!==e[st]&&Wf(r,e);let i=e[cs];i!==null&&i.detachView(t)}YA(e)}finally{ie(n)}}function wN(t,e){let n=t.cleanup,r=e[Vl];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[Vl]=null);let i=e[tr];if(i!==null){e[tr]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function bN(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof ei)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],l=s[o+1];ln(4,a,l);try{l.call(a)}finally{ln(5,a,l)}}else{ln(4,i,s);try{s.call(i)}finally{ln(5,i,s)}}}}}function Mb(t,e,n){return CN(t,e.parent,n)}function CN(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[Ln];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===un.None||s===un.Emulated)return null}return Ot(r,n)}}function Kl(t,e,n,r,i){t.insertBefore(e,n,r,i)}function Ab(t,e,n){t.appendChild(e,n)}function Lv(t,e,n,r,i){r!==null?Kl(t,e,n,r,i):Ab(t,e,n)}function EN(t,e,n,r){t.removeChild(e,n,r)}function Kf(t,e){return t.parentNode(e)}function IN(t,e){return t.nextSibling(e)}function Nb(t,e,n){return SN(t,e,n)}function DN(t,e,n){return t.type&40?Ot(t,n):null}var SN=DN,Vv;function Ic(t,e,n,r){let i=Mb(t,r,e),s=e[xe],o=r.parent||e[ht],a=Nb(o,r,e);if(i!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)Lv(s,i,n[l],a,!1);else Lv(s,i,n,a,!1);Vv!==void 0&&Vv(s,r,e,n,i)}function Rl(t,e){if(e!==null){let n=e.type;if(n&3)return Ot(e,t);if(n&4)return Zh(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Rl(t,r);{let i=t[e.index];return Vn(i)?Zh(-1,i):hn(i)}}else{if(n&32)return Gf(e,t)()||hn(t[e.index]);{let r=xb(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Eo(t[kt]);return Rl(i,r)}else return Rl(t,e.next)}}}return null}function xb(t,e){if(e!==null){let r=t[kt][ht],i=e.projection;return r.projection[i]}return null}function Zh(t,e){let n=bt+t+1;if(n<e.length){let r=e[n],i=r[Q].firstChild;if(i!==null)return Rl(r,i)}return e[Jr]}function TN(t,e,n){let r=Kf(t,e);r&&EN(t,r,e,n)}function Yf(t,e,n,r,i,s,o){for(;n!=null;){let a=r[n.index],l=n.type;if(o&&e===0&&(a&&sr(hn(a),r),n.flags|=2),(n.flags&32)!==32)if(l&8)Yf(t,e,n.child,r,i,s,!1),es(e,t,i,a,s);else if(l&32){let c=Gf(n,r),u;for(;u=c();)es(e,t,i,u,s);es(e,t,i,a,s)}else l&16?Rb(t,e,r,n,i,s):es(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Dc(t,e,n,r,i,s){Yf(n,r,t.firstChild,e,i,s,!1)}function MN(t,e,n){let r=e[xe],i=Mb(t,n,e),s=n.parent||e[ht],o=Nb(s,n,e);Rb(r,0,e,n,i,o)}function Rb(t,e,n,r,i,s){let o=n[kt],l=o[ht].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];es(e,t,i,u,s)}else{let c=l,u=o[st];pb(r)&&(c.flags|=128),Yf(t,e,c,u,i,s,!0)}}function AN(t,e,n,r,i){let s=n[Jr],o=hn(n);s!==o&&es(e,t,r,s,i);for(let a=bt;a<n.length;a++){let l=n[a];Dc(l[Q],l,t,e,r,s)}}function NN(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:fn.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=fn.Important),t.setStyle(n,r,i,s))}}function xN(t,e,n){t.setAttribute(e,"style",n)}function kb(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Ob(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&Lh(t,e,r),i!==null&&kb(t,e,i),s!==null&&xN(t,e,s)}var mn={};function A(t=1){Pb(He(),le(),ii()+t,!1)}function Pb(t,e,n,r){if(!r)if((e[j]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Nl(e,s,n)}else{let s=t.preOrderHooks;s!==null&&xl(e,s,0,n)}Xr(n)}function E(t,e=W.Default){let n=le();if(n===null)return T(t,e);let r=Ze();return lb(r,n,rt(t),e)}function Fb(t,e,n,r,i,s){let o=ie(null);try{let a=null;i&ss.SignalBased&&(a=e[r][Yd]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&ss.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):kw(e,a,r,s)}finally{ie(o)}}function RN(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Xr(~i);else{let s=i,o=n[++r],a=n[++r];wA(o,s);let l=e[s];a(2,l)}}}finally{Xr(-1)}}function Sc(t,e,n,r,i,s,o,a,l,c,u){let d=e.blueprint.slice();return d[Ln]=i,d[j]=r|4|128|8|64,(c!==null||t&&t[j]&2048)&&(d[j]|=2048),jw(d),d[st]=d[ms]=t,d[Rt]=n,d[dn]=o||t&&t[dn],d[xe]=a||t&&t[xe],d[as]=l||t&&t[as]||null,d[ht]=s,d[fc]=qA(),d[wo]=u,d[xw]=c,d[kt]=e.type==2?t[kt]:d,d}function ys(t,e,n,r,i){let s=t.data[e];if(s===null)s=kN(t,e,n,r,i),vA()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=yA();s.injectorIndex=o===null?-1:o.injectorIndex}return ri(s,!0),s}function kN(t,e,n,r,i){let s=zw(),o=kf(),a=o?s:s&&s.parent,l=t.data[e]=VN(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=l),s!==null&&(o?s.child==null&&l.parent!==null&&(s.child=l):s.next===null&&(s.next=l,l.prev=s)),l}function Lb(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Vb(t,e,n,r,i){let s=ii(),o=r&2;try{Xr(-1),o&&e.length>ot&&Pb(t,e,ot,!1),ln(o?2:0,i),n(r,i)}finally{Xr(s),ln(o?3:1,i)}}function Qf(t,e,n){if(Nf(e)){let r=ie(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let l=n[o];a.contentQueries(1,l,o)}}}finally{ie(r)}}}function Zf(t,e,n){$w()&&(zN(t,e,n,Ot(n,e)),(n.flags&64)===64&&$b(t,e,n))}function Jf(t,e,n=Ot){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function jb(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Xf(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Xf(t,e,n,r,i,s,o,a,l,c,u){let d=ot+r,h=d+i,f=ON(d,h),p=typeof c=="function"?c():c;return f[Q]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:u}}function ON(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:mn);return n}function PN(t,e,n,r){let s=r.get(tN,wb)||n===un.ShadowDom,o=t.selectRootElement(e,s);return FN(o),o}function FN(t){LN(t)}var LN=()=>null;function VN(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return Hw()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function jv(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,l=ss.None;Array.isArray(o)?(a=o[0],l=o[1]):a=o;let c=s;if(i!==null){if(!i.hasOwnProperty(s))continue;c=i[s]}t===0?Uv(r,n,c,a,l):Uv(r,n,c,a)}return r}function Uv(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function jN(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],l=null,c=null;for(let u=r;u<i;u++){let d=s[u],h=n?n.get(d):null,f=h?h.inputs:null,p=h?h.outputs:null;l=jv(0,d.inputs,u,l,f),c=jv(1,d.outputs,u,c,p);let m=l!==null&&o!==null&&!Sf(e)?t1(l,u,o):null;a.push(m)}l!==null&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}function UN(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Ub(t,e,n,r,i,s,o,a){let l=Ot(e,n),c=e.inputs,u;!a&&c!=null&&(u=c[r])?(tp(t,n,u,r,i),pc(e)&&BN(n,e.index)):e.type&3?(r=UN(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(l,r,i)):e.type&12}function BN(t,e){let n=lr(e,t);n[j]&16||(n[j]|=64)}function ep(t,e,n,r){if($w()){let i=r===null?null:{"":-1},s=WN(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&Bb(t,e,n,o,i,a),i&&qN(n,r,i)}n.mergedAttrs=_o(n.mergedAttrs,n.attrs)}function Bb(t,e,n,r,i,s){for(let c=0;c<r.length;c++)Wh(Gl(n,e),t,r[c].type);YN(n,t.data.length,r.length);for(let c=0;c<r.length;c++){let u=r[c];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,l=Lb(t,e,r.length,null);for(let c=0;c<r.length;c++){let u=r[c];n.mergedAttrs=_o(n.mergedAttrs,u.hostAttrs),QN(t,n,e,l,u),KN(l,u,i),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),l++}jN(t,n,s)}function $N(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;HN(o)!=a&&o.push(a),o.push(n,r,s)}}function HN(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function zN(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;pc(n)&&ZN(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Gl(n,e),sr(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let l=t.data[a],c=ds(e,t,a,n);if(sr(c,e),o!==null&&e1(e,a-i,c,l,n,o),rr(l)){let u=lr(n.index,e);u[Rt]=ds(e,t,a,n)}}}function $b(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=bA();try{Xr(s);for(let a=r;a<i;a++){let l=t.data[a],c=e[a];zh(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&GN(l,c)}}finally{Xr(-1),zh(o)}}function GN(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function WN(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(ww(e,o.selectors,!1))if(r||(r=[]),rr(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let l=a.length;Jh(t,e,l)}else r.unshift(o),Jh(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function Jh(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function qN(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new _(-301,!1);r.push(e[i],s)}}}function KN(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;rr(e)&&(n[""]=t)}}function YN(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function QN(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=Yr(i.type,!0)),o=new ei(s,rr(i),E);t.blueprint[r]=o,n[r]=o,$N(t,e,r,Lb(t,n,i.hostVars,mn),i)}function ZN(t,e,n){let r=Ot(e,t),i=jb(n),s=t[dn].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=Tc(t,Sc(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function JN(t,e,n,r,i,s){let o=Ot(t,e);XN(e[xe],o,s,t.value,n,r,i)}function XN(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?ac(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function e1(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let l=o[a++],c=o[a++],u=o[a++],d=o[a++];Fb(r,n,l,c,u,d)}}function t1(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function Hb(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function zb(t,e){let n=t.contentQueries;if(n!==null){let r=ie(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];Kw(s),a.contentQueries(2,e[o],o)}}}finally{ie(r)}}}function Tc(t,e){return t[bo]?t[Mv][Kt]=e:t[bo]=e,t[Mv]=e,e}function Xh(t,e,n){Kw(0);let r=ie(null);try{e(t,n)}finally{ie(r)}}function n1(t){return t[Vl]??=[]}function r1(t){return t.cleanup??=[]}function Gb(t,e){let n=t[as],r=n?n.get(Fn,null):null;r&&r.handleError(e)}function tp(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],l=n[s++],c=e[o],u=t.data[o];Fb(u,c,r,a,l,i)}}function i1(t,e,n){let r=Vw(e,t);pN(t[xe],r,n)}function s1(t,e){let n=lr(e,t),r=n[Q];o1(r,n);let i=n[Ln];i!==null&&n[wo]===null&&(n[wo]=Hf(i,n[as])),np(r,n,n[Rt])}function o1(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function np(t,e,n){Pf(e);try{let r=t.viewQuery;r!==null&&Xh(1,r,n);let i=t.template;i!==null&&Vb(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[cs]?.finishViewCreation(t),t.staticContentQueries&&zb(t,e),t.staticViewQueries&&Xh(2,t.viewQuery,n);let s=t.components;s!==null&&a1(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[j]&=-5,Ff()}}function a1(t,e){for(let n=0;n<e.length;n++)s1(t,e[n])}function rp(t,e,n,r){let i=ie(null);try{let s=e.tView,a=t[j]&4096?4096:16,l=Sc(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=t[e.index];l[ls]=c;let u=t[cs];return u!==null&&(l[cs]=u.createEmbeddedView(s)),np(s,l,n),l}finally{ie(i)}}function l1(t,e){let n=bt+e;if(n<t.length)return t[n]}function Yl(t,e){return!e||e.firstChild===null||pb(t)}function ip(t,e,n,r=!0){let i=e[Q];if(vN(i,e,t,n),r){let o=Zh(n,t),a=e[xe],l=Kf(a,t[Jr]);l!==null&&yN(i,t[ht],a,e,l,o)}let s=e[wo];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function c1(t,e){let n=ql(t,e);return n!==void 0&&qf(n[Q],n),n}function Ql(t,e,n,r,i=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(hn(s)),Vn(s)&&u1(s,r);let o=n.type;if(o&8)Ql(t,e,n.child,r);else if(o&32){let a=Gf(n,e),l;for(;l=a();)r.push(l)}else if(o&16){let a=xb(e,n);if(Array.isArray(a))r.push(...a);else{let l=Eo(e[kt]);Ql(l[Q],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function u1(t,e){for(let n=bt;n<t.length;n++){let r=t[n],i=r[Q].firstChild;i!==null&&Ql(r[Q],r,i,e)}t[Jr]!==t[Ln]&&e.push(t[Jr])}var Wb=[];function d1(t){return t[Zr]??h1(t)}function h1(t){let e=Wb.pop()??Object.create(p1);return e.lView=t,e}function f1(t){t.lView[Zr]!==t&&(t.lView=null,Wb.push(t))}var p1=Y(w({},z_),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{mc(t.lView)},consumerOnSignalRead(){this.lView[Zr]=this}}),g1=100;function qb(t,e=!0,n=0){let r=t[dn],i=r.rendererFactory,s=!1;s||i.begin?.();try{m1(t,n)}catch(o){throw e&&Gb(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function m1(t,e){let n=Gw();try{Nv(!0),ef(t,e);let r=0;for(;Co(t);){if(r===g1)throw new _(103,!1);r++,ef(t,1)}}finally{Nv(n)}}function y1(t,e,n,r){let i=e[j];if((i&256)===256)return;let s=!1,o=!1;!s&&e[dn].inlineEffectRunner?.flush(),Pf(e);let a=null,l=null;!s&&_1(t)&&(l=d1(e),a=G_(l));try{jw(e),_A(t.bindingStartIndex),n!==null&&Vb(t,e,n,2,r);let c=(i&3)===3;if(!s)if(c){let h=t.preOrderCheckHooks;h!==null&&Nl(e,h,null)}else{let h=t.preOrderHooks;h!==null&&xl(e,h,0,null),bh(e,0)}if(o||v1(e),Kb(e,0),t.contentQueries!==null&&zb(t,e),!s)if(c){let h=t.contentCheckHooks;h!==null&&Nl(e,h)}else{let h=t.contentHooks;h!==null&&xl(e,h,1),bh(e,1)}RN(t,e);let u=t.components;u!==null&&Qb(e,u,0);let d=t.viewQuery;if(d!==null&&Xh(2,d,r),!s)if(c){let h=t.viewCheckHooks;h!==null&&Nl(e,h)}else{let h=t.viewHooks;h!==null&&xl(e,h,2),bh(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[wh]){for(let h of e[wh])h();e[wh]=null}s||(e[j]&=-73)}catch(c){throw s||mc(e),c}finally{l!==null&&(W_(l,a),f1(l)),Ff()}}function _1(t){return t.type!==2}function Kb(t,e){for(let n=mb(t);n!==null;n=yb(n))for(let r=bt;r<n.length;r++){let i=n[r];Yb(i,e)}}function v1(t){for(let e=mb(t);e!==null;e=yb(e)){if(!(e[j]&Bl.HasTransplantedViews))continue;let n=e[Ul];for(let r=0;r<n.length;r++){let i=n[r];cA(i)}}}function w1(t,e,n){let r=lr(e,t);Yb(r,n)}function Yb(t,e){Rf(t)&&ef(t,e)}function ef(t,e){let r=t[Q],i=t[j],s=t[Zr],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&Qd(s)),o||=!1,s&&(s.dirty=!1),t[j]&=-9217,o)y1(r,t,r.template,t[Rt]);else if(i&8192){Kb(t,1);let a=r.components;a!==null&&Qb(t,a,1)}}function Qb(t,e,n){for(let r=0;r<e.length;r++)w1(t,e[r],n)}function sp(t,e){let n=Gw()?64:1088;for(t[dn].changeDetectionScheduler?.notify(e);t;){t[j]|=n;let r=Eo(t);if(Bh(t)&&!r)return t;t=r}return null}var ti=class{get rootNodes(){let e=this._lView,n=e[Q];return Ql(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Rt]}set context(e){this._lView[Rt]=e}get destroyed(){return(this._lView[j]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[st];if(Vn(e)){let n=e[jl],r=n?n.indexOf(this):-1;r>-1&&(ql(e,r),Fl(n,r))}this._attachedToViewContainer=!1}qf(this._lView[Q],this._lView)}onDestroy(e){Uw(this._lView,e)}markForCheck(){sp(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[j]&=-129}reattach(){Hh(this._lView),this._lView[j]|=128}detectChanges(){this._lView[j]|=1024,qb(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new _(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Bh(this._lView),n=this._lView[ls];n!==null&&!e&&Wf(n,this._lView),Sb(this._lView[Q],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new _(902,!1);this._appRef=e;let n=Bh(this._lView),r=this._lView[ls];r!==null&&!n&&Tb(r,this._lView),Hh(this._lView)}},Mc=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=E1;let t=e;return t})(),b1=Mc,C1=class extends b1{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=rp(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new ti(i)}};function E1(){return I1(Ze(),le())}function I1(t,e){return t.type&4?new C1(e,t,wc(t,e)):null}var Cz=new RegExp(`^(\\d+)*(${XA}|${JA})*(.*)`);var D1=()=>null;function Zl(t,e){return D1(t,e)}var Io=class{},Zb=new O("",{providedIn:"root",factory:()=>!1});var Jb=new O(""),tf=class{},Jl=class{};function S1(t){let e=Error(`No component factory found for ${it(t)}.`);return e[T1]=t,e}var T1="ngComponent";var nf=class{resolveComponentFactory(e){throw S1(e)}},Cp=class Cp{};Cp.NULL=new nf;var hs=Cp,or=class{},yn=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>M1();let t=e;return t})();function M1(){let t=le(),e=Ze(),n=lr(e.index,t);return(nr(n)?n:t)[xe]}var A1=(()=>{let e=class e{};e.\u0275prov=I({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Sh={};var Bv=new Set;function xo(t){Bv.has(t)||(Bv.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function Xb(t){let e=!0;return setTimeout(()=>{e&&(e=!1,t())}),typeof Nt.requestAnimationFrame=="function"&&Nt.requestAnimationFrame(()=>{e&&(e=!1,t())}),()=>{e=!1}}function $v(t){let e=!0;return queueMicrotask(()=>{e&&t()}),()=>{e=!1}}function Hv(...t){}var Ce=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new J(!1),this.onMicrotaskEmpty=new J(!1),this.onStable=new J(!1),this.onError=new J(!1),typeof Zone>"u")throw new _(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.callbackScheduled=!1,R1(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new _(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new _(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,N1,Hv,Hv);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},N1={};function op(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function x1(t){t.isCheckStableRunning||t.callbackScheduled||(t.callbackScheduled=!0,Zone.root.run(()=>{Xb(()=>{t.callbackScheduled=!1,rf(t),t.isCheckStableRunning=!0,op(t),t.isCheckStableRunning=!1})}),rf(t))}function R1(t){let e=()=>{x1(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(k1(a))return n.invokeTask(i,s,o,a);try{return zv(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Gv(t)}},onInvoke:(n,r,i,s,o,a,l)=>{try{return zv(t),n.invoke(i,s,o,a,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!O1(a)&&e(),Gv(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,rf(t),op(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function rf(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function zv(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Gv(t){t._nesting--,op(t)}var sf=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new J,this.onMicrotaskEmpty=new J,this.onStable=new J,this.onError=new J}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function k1(t){return e0(t,"__ignore_ng_zone__")}function O1(t){return e0(t,"__scheduler_tick__")}function e0(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var t0=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=I({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function Xl(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=kh(i,a);else if(s==2){let l=a,c=e[++o];r=kh(r,l+": "+c+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var ec=class extends hs{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Qr(e);return new Do(n,this.ngModule)}};function Wv(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function P1(t){let e=t.toLowerCase();return e==="svg"?Lw:e==="math"?oA:null}var of=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=lc(r);let i=this.injector.get(e,Sh,r);return i!==Sh||n===Sh?i:this.parentInjector.get(e,n,r)}},Do=class extends Jl{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=Wv(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return Wv(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=UM(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=ie(null);try{i=i||this.ngModule;let o=i instanceof xt?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new of(e,o):e,l=a.get(or,null);if(l===null)throw new _(407,!1);let c=a.get(A1,null),u=a.get(t0,null),d=a.get(Io,null),h={rendererFactory:l,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:d},f=l.createRenderer(null,this.componentDef),p=this.componentDef.selectors[0][0]||"div",m=r?PN(f,r,this.componentDef.encapsulation,a):Db(f,p,P1(p)),C=512;this.componentDef.signals?C|=4096:this.componentDef.onPush||(C|=16);let R=null;m!==null&&(R=Hf(m,a,!0));let K=Xf(0,null,null,1,0,null,null,null,null,null,null),U=Sc(null,K,null,C,null,null,h,f,a,null,R);Pf(U);let ce,Ye;try{let be=this.componentDef,Se,Pe=null;be.findHostDirectiveDefs?(Se=[],Pe=new Map,be.findHostDirectiveDefs(be,Se,Pe),Se.push(be)):Se=[be];let yt=F1(U,m),sn=L1(yt,m,be,Se,U,h,f);Ye=xf(K,ot),m&&U1(f,be,m,r),n!==void 0&&B1(Ye,this.ngContentSelectors,n),ce=j1(sn,be,Se,Pe,U,[$1]),np(K,U,null)}finally{Ff()}return new af(this.componentType,ce,wc(Ye,U),U,Ye)}finally{ie(s)}}},af=class extends tf{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new ti(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;tp(s[Q],s,i,e,n),this.previousInputValues.set(e,n);let o=lr(this._tNode.index,s);sp(o,1)}}get injector(){return new Kr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function F1(t,e){let n=t[Q],r=ot;return t[r]=e,ys(n,r,2,"#host",null)}function L1(t,e,n,r,i,s,o){let a=i[Q];V1(r,t,e,o);let l=null;e!==null&&(l=Hf(e,i[as]));let c=s.rendererFactory.createRenderer(e,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let d=Sc(i,jb(n),null,u,i[t.index],t,s,c,null,null,l);return a.firstCreatePass&&Jh(a,t,r.length-1),Tc(i,d),i[t.index]=d}function V1(t,e,n,r){for(let i of t)e.mergedAttrs=_o(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Xl(e,e.mergedAttrs,!0),n!==null&&Ob(r,n,e))}function j1(t,e,n,r,i,s){let o=Ze(),a=i[Q],l=Ot(o,i);Bb(a,i,o,n,null,r);for(let u=0;u<n.length;u++){let d=o.directiveStart+u,h=ds(i,a,d,o);sr(h,i)}$b(a,i,o),l&&sr(l,i);let c=ds(i,a,o.directiveStart+o.componentOffset,o);if(t[Rt]=i[Rt]=c,s!==null)for(let u of s)u(c,e);return Qf(a,o,i),c}function U1(t,e,n,r){if(r)Lh(t,n,["ng-version","18.0.2"]);else{let{attrs:i,classes:s}=BM(e.selectors[0]);i&&Lh(t,n,i),s&&s.length>0&&kb(t,n,s.join(" "))}}function B1(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function $1(){let t=Ze();vc(le()[Q],t)}var _s=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=H1;let t=e;return t})();function H1(){let t=Ze();return G1(t,le())}var z1=_s,n0=class extends z1{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return wc(this._hostTNode,this._hostLView)}get injector(){return new Kr(this._hostTNode,this._hostLView)}get parentInjector(){let e=Vf(this._hostTNode,this._hostLView);if(nb(e)){let n=Hl(e,this._hostLView),r=$l(e),i=n[Q].data[r+8];return new Kr(i,n)}else return new Kr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=qv(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-bt}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=Zl(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,Yl(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!nA(e),a;if(o)a=n;else{let p=n||{};a=p.index,r=p.injector,i=p.projectableNodes,s=p.environmentInjector||p.ngModuleRef}let l=o?e:new Do(Qr(e)),c=r||this.parentInjector;if(!s&&l.ngModule==null){let m=(o?c:this.parentInjector).get(xt,null);m&&(s=m)}let u=Qr(l.componentType??{}),d=Zl(this._lContainer,u?.id??null),h=d?.firstChild??null,f=l.create(c,i,h,s);return this.insertImpl(f.hostView,a,Yl(this._hostTNode,d)),f}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(lA(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=i[st],c=new n0(l,l[ht],l[st]);c.detach(c.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return ip(o,i,s,r),e.attachToViewContainerRef(),pw(Th(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=qv(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=ql(this._lContainer,n);r&&(Fl(Th(this._lContainer),n),qf(r[Q],r))}detach(e){let n=this._adjustIndex(e,-1),r=ql(this._lContainer,n);return r&&Fl(Th(this._lContainer),n)!=null?new ti(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function qv(t){return t[jl]}function Th(t){return t[jl]||(t[jl]=[])}function G1(t,e){let n,r=e[t.index];return Vn(r)?n=r:(n=Hb(r,e,null,t),e[t.index]=n,Tc(e,n)),q1(n,e,t,r),new n0(n,t,e)}function W1(t,e){let n=t[xe],r=n.createComment(""),i=Ot(e,t),s=Kf(n,i);return Kl(n,s,r,IN(n,i),!1),r}var q1=Q1,K1=()=>!1;function Y1(t,e,n){return K1(t,e,n)}function Q1(t,e,n,r){if(t[Jr])return;let i;n.type&8?i=hn(r):i=W1(e,n),t[Jr]=i}function Z1(t){return typeof t=="function"&&t[Yd]!==void 0}function r0(t){return Z1(t)&&typeof t.set=="function"}function J1(t){return Object.getPrototypeOf(t.prototype).constructor}function Pt(t){let e=J1(t.type),n=!0,r=[t];for(;e;){let i;if(rr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new _(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=Tl(t.inputs),o.inputTransforms=Tl(t.inputTransforms),o.declaredInputs=Tl(t.declaredInputs),o.outputs=Tl(t.outputs);let a=i.hostBindings;a&&rx(t,a);let l=i.viewQuery,c=i.contentQueries;if(l&&tx(t,l),c&&nx(t,c),X1(t,i),aM(t.outputs,i.outputs),rr(i)&&i.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===Pt&&(n=!1)}}e=Object.getPrototypeOf(e)}ex(r)}function X1(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function ex(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=_o(i.hostAttrs,n=_o(n,i.hostAttrs))}}function Tl(t){return t===rs?{}:t===dt?[]:t}function tx(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function nx(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function rx(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function ap(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var ar=class{},So=class{};var lf=class extends ar{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ec(this);let i=Iw(e);this._bootstrapComponents=Ib(i.bootstrap),this._r3Injector=db(e,n,[{provide:ar,useValue:this},{provide:hs,useValue:this.componentFactoryResolver},...r],it(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},cf=class extends So{constructor(e){super(),this.moduleType=e}create(e){return new lf(this.moduleType,e,[])}};var tc=class extends ar{constructor(e){super(),this.componentFactoryResolver=new ec(this),this.instance=null;let n=new vo([...e.providers,{provide:ar,useValue:this},{provide:hs,useValue:this.componentFactoryResolver}],e.parent||Af(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function lp(t,e,n=null){return new tc({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var vs=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ge(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function i0(t){return cp(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function ix(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function cp(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function sx(t,e,n){return t[e]=n}function ur(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function ox(t){return(t.flags&32)===32}function ax(t,e,n,r,i,s,o,a,l){let c=e.consts,u=ys(e,t,4,o||null,a||null);ep(e,n,u,us(c,l)),vc(e,u);let d=u.tView=Xf(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function s0(t,e,n,r,i,s,o,a,l,c){let u=n+ot,d=e.firstCreatePass?ax(u,e,t,r,i,s,o,a,l):e.data[u];ri(d,!1);let h=lx(e,t,d,n);yc()&&Ic(e,t,h,d),sr(h,t);let f=Hb(h,t,h,d);return t[u]=f,Tc(t,f),Y1(f,d,t),gc(d)&&Zf(e,t,d),l!=null&&Jf(t,d,c),d}function fe(t,e,n,r,i,s,o,a){let l=le(),c=He(),u=us(c.consts,s);return s0(l,c,t,e,n,r,i,u,o,a),fe}var lx=cx;function cx(t,e,n,r){return _c(!0),e[xe].createComment("")}function Ac(t,e,n,r){let i=le(),s=No();if(ur(i,s,e)){let o=He(),a=Lf();JN(a,i,t,e,n,r)}return Ac}function ux(t,e,n,r){return ur(t,No(),n)?e+ac(n)+r:mn}function Ml(t,e){return t<<17|e<<2}function ni(t){return t>>17&32767}function dx(t){return(t&2)==2}function hx(t,e){return t&131071|e<<17}function uf(t){return t|2}function fs(t){return(t&131068)>>2}function Mh(t,e){return t&-131069|e<<2}function fx(t){return(t&1)===1}function df(t){return t|1}function px(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=ni(o),l=fs(o);t[r]=n;let c=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||Ao(d,u)>0)&&(c=!0)}else u=n;if(i)if(l!==0){let h=ni(t[a+1]);t[r+1]=Ml(h,a),h!==0&&(t[h+1]=Mh(t[h+1],r)),t[a+1]=hx(t[a+1],r)}else t[r+1]=Ml(a,0),a!==0&&(t[a+1]=Mh(t[a+1],r)),a=r;else t[r+1]=Ml(l,0),a===0?a=r:t[l+1]=Mh(t[l+1],r),l=r;c&&(t[r+1]=uf(t[r+1])),Kv(t,u,r,!0),Kv(t,u,r,!1),gx(e,u,t,r,s),o=Ml(a,l),s?e.classBindings=o:e.styleBindings=o}function gx(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&Ao(s,e)>=0&&(n[r+1]=df(n[r+1]))}function Kv(t,e,n,r){let i=t[n+1],s=e===null,o=r?ni(i):fs(i),a=!1;for(;o!==0&&(a===!1||s);){let l=t[o],c=t[o+1];mx(l,e)&&(a=!0,t[o+1]=r?df(c):uf(c)),o=r?ni(c):fs(c)}a&&(t[n+1]=r?uf(i):df(i))}function mx(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Ao(t,e)>=0:!1}var je={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function o0(t){return t.substring(je.key,je.keyEnd)}function yx(t){return t.substring(je.value,je.valueEnd)}function _x(t){return c0(t),a0(t,ps(t,0,je.textEnd))}function a0(t,e){let n=je.textEnd;return n===e?-1:(e=je.keyEnd=wx(t,je.key=e,n),ps(t,e,n))}function vx(t){return c0(t),l0(t,ps(t,0,je.textEnd))}function l0(t,e){let n=je.textEnd,r=je.key=ps(t,e,n);return n===r?-1:(r=je.keyEnd=bx(t,r,n),r=Yv(t,r,n,58),r=je.value=ps(t,r,n),r=je.valueEnd=Cx(t,r,n),Yv(t,r,n,59))}function c0(t){je.key=0,je.keyEnd=0,je.value=0,je.valueEnd=0,je.textEnd=t.length}function ps(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function wx(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function bx(t,e,n){let r;for(;e<n&&((r=t.charCodeAt(e))===45||r===95||(r&-33)>=65&&(r&-33)<=90||r>=48&&r<=57);)e++;return e}function Yv(t,e,n,r){return e=ps(t,e,n),e<n&&e++,e}function Cx(t,e,n){let r=-1,i=-1,s=-1,o=e,a=o;for(;o<n;){let l=t.charCodeAt(o++);if(l===59)return a;l===34||l===39?a=o=Qv(t,l,o,n):e===o-4&&s===85&&i===82&&r===76&&l===40?a=o=Qv(t,41,o,n):l>32&&(a=o),s=i,i=r,r=l&-33}return a}function Qv(t,e,n,r){let i=-1,s=n;for(;s<r;){let o=t.charCodeAt(s++);if(o==e&&i!==92)return s;o==92&&i===92?i=0:i=o}throw new Error}function x(t,e,n){let r=le(),i=No();if(ur(r,i,e)){let s=He(),o=Lf();Ub(s,o,r,t,e,r[xe],n,!1)}return x}function hf(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";tp(t,n,s[o],o,r)}function ws(t,e,n){return u0(t,e,n,!1),ws}function Nc(t,e){return u0(t,e,null,!0),Nc}function dr(t){d0(p0,Ex,t,!1)}function Ex(t,e){for(let n=vx(e);n>=0;n=l0(e,n))p0(t,o0(e),yx(e))}function ai(t){d0(Nx,Ix,t,!0)}function Ix(t,e){for(let n=_x(e);n>=0;n=a0(e,n))uc(t,o0(e),!0)}function u0(t,e,n,r){let i=le(),s=He(),o=qw(2);if(s.firstUpdatePass&&f0(s,t,o,r),e!==mn&&ur(i,o,e)){let a=s.data[ii()];g0(s,a,i,i[xe],t,i[o+1]=Rx(e,n),r,o)}}function d0(t,e,n,r){let i=He(),s=qw(2);i.firstUpdatePass&&f0(i,null,s,r);let o=le();if(n!==mn&&ur(o,s,n)){let a=i.data[ii()];if(m0(a,r)&&!h0(i,s)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(n=kh(l,n||"")),hf(i,a,o,n,r)}else xx(i,a,o,o[xe],o[s+1],o[s+1]=Ax(t,e,n),r,s)}}function h0(t,e){return e>=t.expandoStartIndex}function f0(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[ii()],o=h0(t,n);m0(s,r)&&e===null&&!o&&(e=!1),e=Dx(i,s,e,r),px(i,s,e,n,o,r)}}function Dx(t,e,n,r){let i=CA(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Ah(null,t,e,n,r),n=To(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=Ah(i,t,e,n,r),s===null){let l=Sx(t,e,r);l!==void 0&&Array.isArray(l)&&(l=Ah(null,t,e,l[1],r),l=To(l,e.attrs,r),Tx(t,e,r,l))}else s=Mx(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function Sx(t,e,n){let r=n?e.classBindings:e.styleBindings;if(fs(r)!==0)return t[ni(r)]}function Tx(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[ni(i)]=r}function Mx(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=To(r,o,n)}return To(r,e.attrs,n)}function Ah(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=To(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function To(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),uc(t,o,n?!0:e[++s]))}return t===void 0?null:t}function Ax(t,e,n){if(n==null||n==="")return dt;let r=[],i=oi(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if(typeof i=="object")for(let s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else typeof i=="string"&&e(r,i);return r}function p0(t,e,n){uc(t,e,oi(n))}function Nx(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&uc(t,r,n)}function xx(t,e,n,r,i,s,o,a){i===mn&&(i=dt);let l=0,c=0,u=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;u!==null||d!==null;){let h=l<i.length?i[l+1]:void 0,f=c<s.length?s[c+1]:void 0,p=null,m;u===d?(l+=2,c+=2,h!==f&&(p=d,m=f)):d===null||u!==null&&u<d?(l+=2,p=u):(c+=2,p=d,m=f),p!==null&&g0(t,e,n,r,p,m,o,a),u=l<i.length?i[l]:null,d=c<s.length?s[c]:null}}function g0(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let l=t.data,c=l[a+1],u=fx(c)?Zv(l,e,n,i,fs(c),o):void 0;if(!nc(u)){nc(s)||dx(c)&&(s=Zv(l,null,n,i,a,o));let d=Vw(ii(),n);NN(r,o,d,i,s)}}function Zv(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let l=t[i],c=Array.isArray(l),u=c?l[1]:l,d=u===null,h=n[i+1];h===mn&&(h=d?dt:void 0);let f=d?_h(h,r):u===r?h:void 0;if(c&&!nc(f)&&(f=_h(l,r)),nc(f)&&(a=f,o))return a;let p=t[i+1];i=o?ni(p):fs(p)}if(e!==null){let l=s?e.residualClasses:e.residualStyles;l!=null&&(a=_h(l,r))}return a}function nc(t){return t!==void 0}function Rx(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=it(oi(t)))),t}function m0(t,e){return(t.flags&(e?8:16))!==0}function ft(t,e){xo("NgControlFlow");let n=le(),r=No(),i=n[r]!==mn?n[r]:-1,s=i!==-1?Jv(n,ot+i):void 0,o=0;if(ur(n,r,t)){let a=ie(null);try{if(s!==void 0&&c1(s,o),t!==-1){let l=ot+t,c=Jv(n,l),u=kx(n[Q],l),d=Zl(c,u.tView.ssrId),h=rp(n,u,e,{dehydratedView:d});ip(c,h,o,Yl(u,d))}}finally{ie(a)}}else if(s!==void 0){let a=l1(s,o);a!==void 0&&(a[Rt]=e)}}function Jv(t,e){return t[e]}function kx(t,e){return xf(t,e)}function Ox(t,e,n,r,i,s){let o=e.consts,a=us(o,i),l=ys(e,t,2,r,a);return ep(e,n,l,us(o,s)),l.attrs!==null&&Xl(l,l.attrs,!1),l.mergedAttrs!==null&&Xl(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function y(t,e,n,r){let i=le(),s=He(),o=ot+t,a=i[xe],l=s.firstCreatePass?Ox(o,s,i,e,n,r):s.data[o],c=Px(s,i,l,a,e,t);i[o]=c;let u=gc(l);return ri(l,!0),Ob(a,c,l),!ox(l)&&yc()&&Ic(s,i,c,l),hA()===0&&sr(c,i),fA(),u&&(Zf(s,i,l),Qf(s,l,i)),r!==null&&Jf(i,l),y}function b(){let t=Ze();kf()?Of():(t=t.parent,ri(t,!1));let e=t;gA(e)&&mA(),pA();let n=He();return n.firstCreatePass&&(vc(n,t),Nf(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&NA(e)&&hf(n,e,le(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&xA(e)&&hf(n,e,le(),e.stylesWithoutHost,!1),b}function S(t,e,n,r){return y(t,e,n,r),b(),S}var Px=(t,e,n,r,i,s)=>(_c(!0),Db(r,i,SA()));function Fx(t,e,n,r,i){let s=e.consts,o=us(s,r),a=ys(e,t,8,"ng-container",o);o!==null&&Xl(a,o,!0);let l=us(s,i);return ep(e,n,a,l),e.queries!==null&&e.queries.elementStart(e,a),a}function up(t,e,n){let r=le(),i=He(),s=t+ot,o=i.firstCreatePass?Fx(s,i,r,e,n):i.data[s];ri(o,!0);let a=Lx(i,r,o,t);return r[s]=a,yc()&&Ic(i,r,a,o),sr(a,r),gc(o)&&(Zf(i,r,o),Qf(i,o,r)),n!=null&&Jf(r,o),up}function dp(){let t=Ze(),e=He();return kf()?Of():(t=t.parent,ri(t,!1)),e.firstCreatePass&&(vc(e,t),Nf(t)&&e.queries.elementEnd(t)),dp}var Lx=(t,e,n,r)=>(_c(!0),gN(e[xe],""));function Te(){return le()}var rc="en-US";var Vx=rc;function jx(t){typeof t=="string"&&(Vx=t.toLowerCase().replace(/_/g,"-"))}var Ux=(t,e,n)=>{};function F(t,e,n,r){let i=le(),s=He(),o=Ze();return y0(s,i,i[xe],o,t,e,r),F}function Bx(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[Vl],l=i[s+2];return a.length>l?a[l]:null}typeof o=="string"&&(s+=2)}return null}function y0(t,e,n,r,i,s,o){let a=gc(r),c=t.firstCreatePass&&r1(t),u=e[Rt],d=n1(e),h=!0;if(r.type&3||o){let m=Ot(r,e),C=o?o(m):m,R=d.length,K=o?ce=>o(hn(ce[r.index])):r.index,U=null;if(!o&&a&&(U=Bx(t,e,i,r.index)),U!==null){let ce=U.__ngLastListenerFn__||U;ce.__ngNextListenerFn__=s,U.__ngLastListenerFn__=s,h=!1}else{s=ew(r,e,u,s),Ux(m,i,s);let ce=n.listen(C,i,s);d.push(s,ce),c&&c.push(i,K,R,R+1)}}else s=ew(r,e,u,s);let f=r.outputs,p;if(h&&f!==null&&(p=f[i])){let m=p.length;if(m)for(let C=0;C<m;C+=2){let R=p[C],K=p[C+1],Ye=e[R][K].subscribe(s),be=d.length;d.push(s,Ye),c&&c.push(i,r.index,be,-(be+1))}}}function Xv(t,e,n,r){let i=ie(null);try{return ln(6,e,n),n(r)!==!1}catch(s){return Gb(t,s),!1}finally{ln(7,e,n),ie(i)}}function ew(t,e,n,r){return function i(s){if(s===Function)return r;let o=t.componentOffset>-1?lr(t.index,e):e;sp(o,5);let a=Xv(e,n,r,s),l=i.__ngNextListenerFn__;for(;l;)a=Xv(e,n,l,s)&&a,l=l.__ngNextListenerFn__;return a}}function M(t=1){return IA(t)}function $x(t,e){let n=null,r=PM(t);for(let i=0;i<e.length;i++){let s=e[i];if(s==="*"){n=i;continue}if(r===null?ww(t,s,!0):VM(r,s))return i}return n}function _0(t){let e=le()[kt][ht];if(!e.projection){let n=t?t.length:1,r=e.projection=SM(n,null),i=r.slice(),s=e.child;for(;s!==null;){let o=t?$x(s,t):0;o!==null&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}function v0(t,e=0,n,r,i,s){let o=le(),a=He(),l=r?t+1:null;l!==null&&s0(o,a,l,r,i,s,null,n);let c=ys(a,ot+t,16,null,n||null);c.projection===null&&(c.projection=e),Of();let d=!o[wo]||Hw();o[kt][ht].projection[c.projection]===null&&l!==null?Hx(o,a,l):d&&(c.flags&32)!==32&&MN(a,o,c)}function Hx(t,e,n){let r=ot+n,i=e.data[r],s=t[r],o=Zl(s,i.tView.ssrId),a=rp(t,i,void 0,{dehydratedView:o});ip(s,a,0,Yl(i,o))}function zx(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function se(t,e=""){let n=le(),r=He(),i=t+ot,s=r.firstCreatePass?ys(r,i,1,e,null):r.data[i],o=Gx(r,n,s,e,t);n[i]=o,yc()&&Ic(r,n,o,s),ri(s,!1)}var Gx=(t,e,n,r,i)=>(_c(!0),fN(e[xe],r));function It(t){return Qt("",t,""),It}function Qt(t,e,n){let r=le(),i=ux(r,t,e,n);return i!==mn&&i1(r,ii(),i),Qt}function hp(t,e,n){r0(e)&&(e=e());let r=le(),i=No();if(ur(r,i,e)){let s=He(),o=Lf();Ub(s,o,r,t,e,r[xe],n,!1)}return hp}function w0(t,e){let n=r0(t);return n&&t.set(e),n}function fp(t,e){let n=le(),r=He(),i=Ze();return y0(r,n,n[xe],i,t,e),fp}function Wx(t,e,n){let r=He();if(r.firstCreatePass){let i=rr(t);ff(n,r.data,r.blueprint,i,!0),ff(e,r.data,r.blueprint,i,!1)}}function ff(t,e,n,r,i){if(t=rt(t),Array.isArray(t))for(let s=0;s<t.length;s++)ff(t[s],e,n,r,i);else{let s=He(),o=le(),a=Ze(),l=os(t)?t:rt(t.provide),c=Nw(t),u=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(os(t)||!t.multi){let f=new ei(c,i,E),p=xh(l,e,i?u:u+h,d);p===-1?(Wh(Gl(a,o),s,l),Nh(s,t,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{let f=xh(l,e,u+h,d),p=xh(l,e,u,u+h),m=f>=0&&n[f],C=p>=0&&n[p];if(i&&!C||!i&&!m){Wh(Gl(a,o),s,l);let R=Yx(i?Kx:qx,n.length,i,r,c);!i&&C&&(n[p].providerFactory=R),Nh(s,t,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(R),o.push(R)}else{let R=b0(n[i?p:f],c,!i&&r);Nh(s,t,f>-1?f:p,R)}!i&&r&&C&&n[p].componentProviders++}}}function Nh(t,e,n,r){let i=os(e),s=KM(e);if(i||s){let l=(s?rt(e.useClass):e).prototype.ngOnDestroy;if(l){let c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let u=c.indexOf(n);u===-1?c.push(n,[r,l]):c[u+1].push(r,l)}else c.push(n,l)}}}function b0(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function xh(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function qx(t,e,n,r){return pf(this.multi,[])}function Kx(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=ds(n,n[Q],this.providerFactory.index,r);s=a.slice(0,o),pf(i,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],pf(i,s);return s}function pf(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function Yx(t,e,n,r,i){let s=new ei(t,n,E);return s.multi=[],s.index=e,s.componentProviders=0,b0(s,i,r&&!n),s}function hr(t,e=[]){return n=>{n.providersResolver=(r,i)=>Wx(r,i?i(t):t,e)}}var Qx=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=Tw(!1,r.type),s=i.length>0?lp([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=I({token:e,providedIn:"environment",factory:()=>new e(T(xt))});let t=e;return t})();function Ie(t){xo("NgStandalone"),t.getStandaloneInjector=e=>e.get(Qx).getOrCreateStandaloneInjector(t)}function _n(t,e,n,r){return C0(le(),Ww(),t,e,n,r)}function Zx(t,e){let n=t[e];return n===mn?void 0:n}function C0(t,e,n,r,i,s){let o=e+n;return ur(t,o,i)?sx(t,o+1,s?r.call(s,i):r(i)):Zx(t,o+1)}function ve(t,e){let n=He(),r,i=t+ot;n.firstCreatePass?(r=Jx(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let s=r.factory||(r.factory=Yr(r.type,!0)),o,a=ut(E);try{let l=zl(!1),c=s();return zl(l),zx(n,le(),i,c),c}finally{ut(a)}}function Jx(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function we(t,e,n){let r=t+ot,i=le(),s=aA(i,r);return Xx(i,r)?C0(i,Ww(),e,s.transform,n,s):s.transform(n)}function Xx(t,e){return t[Q].data[e].pure}var xc=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var pp=new O(""),Ro=new O(""),Rc=(()=>{let e=class e{constructor(r,i,s){this._ngZone=r,this.registry=i,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,gp||(eR(s),s.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ce.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(r)?(clearTimeout(i.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,s){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),r()},i)),this._callbacks.push({doneCb:r,timeoutId:o,updateCb:s})}whenStable(r,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,s),this._runCallbacksIfReady()}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,s){return[]}};e.\u0275fac=function(i){return new(i||e)(T(Ce),T(kc),T(Ro))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})(),kc=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return gp?.findTestabilityInTree(this,r,i)??null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function eR(t){gp=t}var gp;function fr(t){return!!t&&typeof t.then=="function"}function mp(t){return!!t&&typeof t.subscribe=="function"}var E0=new O(""),I0=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=D(E0,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(fr(o))r.push(o);else if(mp(o)){let a=new Promise((l,c)=>{o.subscribe({complete:l,error:c})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Oc=new O("");function tR(){K_(()=>{throw new _(600,!1)})}function nR(t){return t.isBoundToModule}var rR=10;function iR(t,e,n){try{let r=n();return fr(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var pr=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=D(hb),this.afterRenderEffectManager=D(t0),this.zonelessEnabled=D(Zb),this.externalTestViews=new Set,this.beforeRender=new he,this.afterTick=new he,this.componentTypes=[],this.components=[],this.isStable=D(vs).hasPendingTasks.pipe(G(r=>!r)),this._injector=D(xt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof Jl;if(!this._injector.get(I0).done){let f=!s&&Ew(r),p=!1;throw new _(405,p)}let a;s?a=r:a=this._injector.get(hs).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let l=nR(a)?void 0:this._injector.get(ar),c=i||a.selector,u=a.create(ir.NULL,[],c,l),d=u.location.nativeElement,h=u.injector.get(pp,null);return h?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),Rh(this.components,u),h?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new _(101,!1);let i=ie(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1,ie(i),this.afterTick.next()}}detectChangesInAttachedViews(r){let i=null;this._injector.destroyed||(i=this._injector.get(or,null,{optional:!0}));let s=0,o=this.afterRenderEffectManager;for(;s<rR;){let a=s===0;if(r||!a){this.beforeRender.next(a);for(let{_lView:l,notifyErrorHandler:c}of this._views)sR(l,c,a,this.zonelessEnabled)}else i?.begin?.(),i?.end?.();if(s++,o.executeInternalCallbacks(),!this.allViews.some(({_lView:l})=>Co(l))&&(o.execute(),!this.allViews.some(({_lView:l})=>Co(l))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Rh(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Oc,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Rh(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new _(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Rh(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function sR(t,e,n,r){if(!n&&!Co(t))return;qb(t,e,n&&!r?0:1)}var gf=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},yp=(()=>{let e=class e{compileModuleSync(r){return new cf(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=Iw(r),o=Ib(s.declarations).reduce((a,l)=>{let c=Qr(l);return c&&a.push(new Do(c)),a},[]);return new gf(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var oR=(()=>{let e=class e{constructor(){this.zone=D(Ce),this.changeDetectionScheduler=D(Io),this.applicationRef=D(pr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function aR({ngZoneFactory:t,ignoreChangesOutsideZone:e}){return t??=()=>new Ce(cR()),[{provide:Ce,useFactory:t},{provide:is,multi:!0,useFactory:()=>{let n=D(oR,{optional:!0});return()=>n.initialize()}},{provide:is,multi:!0,useFactory:()=>{let n=D(uR);return()=>{n.initialize()}}},{provide:hb,useFactory:lR},e===!0?{provide:Jb,useValue:!0}:[]]}function lR(){let t=D(Ce),e=D(Fn);return n=>t.runOutsideAngular(()=>e.handleError(n))}function cR(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var uR=(()=>{let e=class e{constructor(){this.subscription=new Fe,this.initialized=!1,this.zone=D(Ce),this.pendingTasks=D(vs)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ce.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ce.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var dR=(()=>{let e=class e{constructor(){this.appRef=D(pr),this.taskService=D(vs),this.ngZone=D(Ce),this.zonelessEnabled=D(Zb),this.disableScheduling=D(Jb,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Fe,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof sf||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&r===5)return;switch(r){case 3:case 2:case 0:case 4:case 5:case 1:{this.shouldRefreshViews=!0;break}case 8:case 7:case 6:case 9:default:}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?$v:Xb;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Ce.isInAngularZone())}tick(r){if(this.runningTick||this.appRef.destroyed)return;let i=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(r)},void 0,this.schedulerTickApplyArgs)}catch(s){throw this.taskService.remove(i),s}finally{this.cleanup()}this.useMicrotaskScheduler=!0,$v(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(i)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function hR(){return typeof $localize<"u"&&$localize.locale||rc}var _p=new O("",{providedIn:"root",factory:()=>D(_p,W.Optional|W.SkipSelf)||hR()});var D0=new O("");var kl=null;function fR(t=[],e){return ir.create({name:e,providers:[{provide:hc,useValue:"platform"},{provide:D0,useValue:new Set([()=>kl=null])},...t]})}function pR(t=[]){if(kl)return kl;let e=fR(t);return kl=e,tR(),gR(e),e}function gR(t){t.get(Uf,null)?.forEach(n=>n())}var li=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=mR;let t=e;return t})();function mR(t){return yR(Ze(),le(),(t&16)===16)}function yR(t,e,n){if(pc(t)&&!n){let r=lr(t.index,e);return new ti(r,r)}else if(t.type&47){let r=e[kt];return new ti(r,e)}return null}var mf=class{constructor(){}supports(e){return i0(e)}create(e){return new yf(e)}},_R=(t,e)=>e,yf=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||_R}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<tw(r,i,s)?n:r,a=tw(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let c=a-i,u=l-i;if(c!=u){for(let h=0;h<c;h++){let f=h<s.length?s[h]:s[h]=0,p=f+h;u<=p&&p<c&&(s[h]=f+1)}let d=o.previousIndex;s[d]=u-c}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!i0(e))throw new _(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,ix(e,a=>{o=this._trackByFn(i,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new _f(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new ic),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new ic),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},_f=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},vf=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},ic=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new vf,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function tw(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var wf=class{constructor(){}supports(e){return e instanceof Map||cp(e)}create(){return new bf}},bf=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let n;for(n=this._mapHead;n!==null;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||cp(e)))throw new _(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{let s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){let r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,n);let s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}let r=new Cf(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}},Cf=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function nw(){return new vp([new mf])}var vp=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||nw()),deps:[[e,new If,new cc]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i!=null)return i;throw new _(901,!1)}};e.\u0275prov=I({token:e,providedIn:"root",factory:nw});let t=e;return t})();function rw(){return new wp([new wf])}var wp=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||rw()),deps:[[e,new If,new cc]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i)return i;throw new _(901,!1)}};e.\u0275prov=I({token:e,providedIn:"root",factory:rw});let t=e;return t})();var S0=(()=>{let e=class e{constructor(r){}};e.\u0275fac=function(i){return new(i||e)(T(pr))},e.\u0275mod=Et({type:e}),e.\u0275inj=Ct({});let t=e;return t})();function T0(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=pR(r),s=[aR({}),{provide:Io,useExisting:dR},...n||[]],a=new tc({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,l=a.get(Ce);return l.run(()=>{a.resolveInjectorInitializers();let c=a.get(Fn,null),u;l.runOutsideAngular(()=>{u=l.onError.subscribe({next:f=>{c.handleError(f)}})});let d=()=>a.destroy(),h=i.get(D0);return h.add(d),a.onDestroy(()=>{u.unsubscribe(),h.delete(d)}),iR(c,l,()=>{let f=a.get(I0);return f.runInitializers(),f.donePromise.then(()=>{let p=a.get(_p,rc);jx(p||rc);let m=a.get(pr);return e!==void 0&&m.bootstrap(e),m})})})}catch(e){return Promise.reject(e)}}function bs(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function bp(t){let e=ie(null);try{return t()}finally{ie(e)}}var R0=null;function vn(){return R0}function k0(t){R0??=t}var Pc=class{};var Je=new O(""),O0=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:()=>D(vR),providedIn:"platform"});let t=e;return t})();var vR=(()=>{let e=class e extends O0{constructor(){super(),this._doc=D(Je),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return vn().getBaseHref(this._doc)}onPopState(r){let i=vn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=vn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function P0(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function M0(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function ci(t){return t&&t[0]!=="?"?"?"+t:t}var Cs=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:()=>D(F0),providedIn:"root"});let t=e;return t})(),wR=new O(""),F0=(()=>{let e=class e extends Cs{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??D(Je).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return P0(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+ci(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+ci(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+ci(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(T(O0),T(wR,8))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ko=(()=>{let e=class e{constructor(r){this._subject=new J,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=ER(M0(A0(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+ci(i))}normalize(r){return e.stripTrailingSlash(CR(this._basePath,A0(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ci(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ci(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=ci,e.joinWithSlash=P0,e.stripTrailingSlash=M0,e.\u0275fac=function(i){return new(i||e)(T(Cs))},e.\u0275prov=I({token:e,factory:()=>bR(),providedIn:"root"});let t=e;return t})();function bR(){return new ko(T(Cs))}function CR(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function A0(t){return t.replace(/\/index.html$/,"")}function ER(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function L0(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var Ep=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},wn=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((s,o,a)=>{if(s.previousIndex==null)i.createEmbeddedView(this._template,new Ep(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(o===null?void 0:o);else if(o!==null){let l=i.get(o);i.move(l,a),N0(l,s)}});for(let s=0,o=i.length;s<o;s++){let l=i.get(s).context;l.index=s,l.count=o,l.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{let o=i.get(s.currentIndex);N0(o,s)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(E(_s),E(Mc),E(vp))},e.\u0275dir=Re({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function N0(t,e){t.context.$implicit=e.item}var gr=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new Ip,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){x0("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){x0("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(E(_s),E(Mc))},e.\u0275dir=Re({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),Ip=class{constructor(){this.$implicit=null,this.ngIf=null}};function x0(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${it(e)}'.`)}var V0=(()=>{let e=class e{constructor(r,i,s){this._ngEl=r,this._differs=i,this._renderer=s,this._ngStyle=null,this._differ=null}set ngStyle(r){this._ngStyle=r,!this._differ&&r&&(this._differ=this._differs.find(r).create())}ngDoCheck(){if(this._differ){let r=this._differ.diff(this._ngStyle);r&&this._applyChanges(r)}}_setStyle(r,i){let[s,o]=r.split("."),a=s.indexOf("-")===-1?void 0:fn.DashCase;i!=null?this._renderer.setStyle(this._ngEl.nativeElement,s,o?`${i}${o}`:i,a):this._renderer.removeStyle(this._ngEl.nativeElement,s,a)}_applyChanges(r){r.forEachRemovedItem(i=>this._setStyle(i.key,null)),r.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),r.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}};e.\u0275fac=function(i){return new(i||e)(E(Yt),E(wp),E(yn))},e.\u0275dir=Re({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0});let t=e;return t})();function IR(t,e){return new _(2100,!1)}var Dp=class{createSubscription(e,n){return bp(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){bp(()=>e.unsubscribe())}},Sp=class{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}},DR=new Sp,SR=new Dp,Lc=(()=>{let e=class e{constructor(r){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=r}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(r){if(!this._obj){if(r)try{this.markForCheckOnValueUpdate=!1,this._subscribe(r)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return r!==this._obj?(this._dispose(),this.transform(r)):this._latestValue}_subscribe(r){this._obj=r,this._strategy=this._selectStrategy(r),this._subscription=this._strategy.createSubscription(r,i=>this._updateLatestValue(r,i))}_selectStrategy(r){if(fr(r))return DR;if(mp(r))return SR;throw IR(e,r)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(r,i){r===this._obj&&(this._latestValue=i,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}};e.\u0275fac=function(i){return new(i||e)(E(li,16))},e.\u0275pipe=gs({name:"async",type:e,pure:!1,standalone:!0});let t=e;return t})();var Xe=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Et({type:e}),e.\u0275inj=Ct({});let t=e;return t})(),j0="browser",TR="server";function Mp(t){return t===TR}var Fc=class{};var U0=new O("");var xp=class extends Pc{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Rp=class t extends xp{static makeCurrent(){k0(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=MR();return n==null?null:AR(n)}resetBaseElement(){Oo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return L0(document.cookie,e)}},Oo=null;function MR(){return Oo=Oo||document.querySelector("base"),Oo?Oo.getAttribute("href"):null}function AR(t){return new URL(t,document.baseURI).pathname}var kp=class{addToWindow(e){Nt.getAngularTestability=(r,i=!0)=>{let s=e.findTestabilityInTree(r,i);if(s==null)throw new _(5103,!1);return s},Nt.getAllAngularTestabilities=()=>e.getAllTestabilities(),Nt.getAllAngularRootElements=()=>e.getAllRootElements();let n=r=>{let i=Nt.getAllAngularTestabilities(),s=i.length,o=function(){s--,s==0&&r()};i.forEach(a=>{a.whenStable(o)})};Nt.frameworkStabilizers||(Nt.frameworkStabilizers=[]),Nt.frameworkStabilizers.push(n)}findTestabilityInTree(e,n,r){if(n==null)return null;let i=e.getTestability(n);return i??(r?vn().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},NR=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})(),Op=new O(""),H0=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new _(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(T(Op),T(Ce))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})(),Vc=class{constructor(e){this._doc=e}},Ap="ng-app-id",z0=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Mp(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Ap}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(Ap),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Ap,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(T(Je),T(bc),T($f,8),T(si))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})(),Np={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Fp=/%COMP%/g,G0="%COMP%",xR=`_nghost-${G0}`,RR=`_ngcontent-${G0}`,kR=!0,OR=new O("",{providedIn:"root",factory:()=>kR});function PR(t){return RR.replace(Fp,t)}function FR(t){return xR.replace(Fp,t)}function W0(t,e){return e.map(n=>n.replace(Fp,t))}var jc=(()=>{let e=class e{constructor(r,i,s,o,a,l,c,u=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=l,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=Mp(l),this.defaultRenderer=new Po(r,a,c,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===un.ShadowDom&&(i=Y(w({},i),{encapsulation:un.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof Uc?s.applyToHost(r):s instanceof Fo&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,l=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case un.Emulated:o=new Uc(c,u,i,this.appId,d,a,l,h);break;case un.ShadowDom:return new Pp(c,u,r,i,a,l,this.nonce,h);default:o=new Fo(c,u,i,d,a,l,h);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(T(H0),T(z0),T(bc),T(OR),T(Je),T(si),T(Ce),T($f))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})(),Po=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Np[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(B0(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(B0(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new _(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=Np[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Np[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(fn.DashCase|fn.Important)?e.style.setProperty(n,r,i&fn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&fn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=vn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function B0(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Pp=class extends Po{constructor(e,n,r,i,s,o,a,l){super(e,s,o,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=W0(i.id,i.styles);for(let u of c){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Fo=class extends Po{constructor(e,n,r,i,s,o,a,l){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=l?W0(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Uc=class extends Fo{constructor(e,n,r,i,s,o,a,l){let c=i+"-"+r.id;super(e,n,r,s,o,a,l,c),this.contentAttr=PR(c),this.hostAttr=FR(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},LR=(()=>{let e=class e extends Vc{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(T(Je))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})(),$0=["alt","control","meta","shift"],VR={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},jR={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},UR=(()=>{let e=class e extends Vc{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>vn().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",l=i.indexOf("code");if(l>-1&&(i.splice(l,1),a="code."),$0.forEach(u=>{let d=i.indexOf(u);d>-1&&(i.splice(d,1),a+=u+".")}),a+=o,i.length!=0||o.length===0)return null;let c={};return c.domEventName=s,c.fullKey=a,c}static matchEventFullKeyCode(r,i){let s=VR[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),$0.forEach(a=>{if(a!==s){let l=jR[a];l(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(T(Je))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})();function q0(t,e){return T0(w({rootComponent:t},BR(e)))}function BR(t){return{appProviders:[...K0,...t?.providers??[]],platformProviders:GR}}function $R(){Rp.makeCurrent()}function HR(){return new Fn}function zR(){return vb(document),document}var GR=[{provide:si,useValue:j0},{provide:Uf,useValue:$R,multi:!0},{provide:Je,useFactory:zR,deps:[]}];var WR=new O(""),qR=[{provide:Ro,useClass:kp,deps:[]},{provide:pp,useClass:Rc,deps:[Ce,kc,Ro]},{provide:Rc,useClass:Rc,deps:[Ce,kc,Ro]}],K0=[{provide:hc,useValue:"root"},{provide:Fn,useFactory:HR,deps:[]},{provide:Op,useClass:LR,multi:!0,deps:[Je,Ce,si]},{provide:Op,useClass:UR,multi:!0,deps:[Je]},jc,z0,H0,{provide:or,useExisting:jc},{provide:Fc,useClass:NR,deps:[]},[]],Y0=(()=>{let e=class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:bc,useValue:r.appId}]}}};e.\u0275fac=function(i){return new(i||e)(T(WR,12))},e.\u0275mod=Et({type:e}),e.\u0275inj=Ct({providers:[...K0,...qR],imports:[Xe,S0]});let t=e;return t})();var Q0=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(T(Je))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var z="primary",Xo=Symbol("RouteTitle"),Bp=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Ms(t){return new Bp(t)}function YR(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function QR(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!bn(t[n],e[n]))return!1;return!0}function bn(t,e){let n=t?$p(t):void 0,r=e?$p(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!iC(t[i],e[i]))return!1;return!0}function $p(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function iC(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function sC(t){return t.length>0?t[t.length-1]:null}function _r(t){return uh(t)?t:fr(t)?Oe(Promise.resolve(t)):V(t)}var ZR={exact:aC,subset:lC},oC={exact:JR,subset:XR,ignored:()=>!0};function Z0(t,e,n){return ZR[n.paths](t.root,e.root,n.matrixParams)&&oC[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function JR(t,e){return bn(t,e)}function aC(t,e,n){if(!hi(t.segments,e.segments)||!Hc(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!aC(t.children[r],e.children[r],n))return!1;return!0}function XR(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>iC(t[n],e[n]))}function lC(t,e,n){return cC(t,e,e.segments,n)}function cC(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!hi(i,n)||e.hasChildren()||!Hc(i,n,r))}else if(t.segments.length===n.length){if(!hi(t.segments,n)||!Hc(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!lC(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!hi(t.segments,i)||!Hc(t.segments,i,r)||!t.children[z]?!1:cC(t.children[z],e,s,r)}}function Hc(t,e,n){return e.every((r,i)=>oC[n](t[i].parameters,r.parameters))}var mr=class{constructor(e=new pe([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ms(this.queryParams),this._queryParamMap}toString(){return nk.serialize(this)}},pe=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return zc(this)}},di=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Ms(this.parameters),this._parameterMap}toString(){return dC(this)}};function ek(t,e){return hi(t,e)&&t.every((n,r)=>bn(n.parameters,e[r].parameters))}function hi(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function tk(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===z&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==z&&(n=n.concat(e(i,r)))}),n}var pg=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:()=>new Ho,providedIn:"root"});let t=e;return t})(),Ho=class{parse(e){let n=new zp(e);return new mr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Lo(e.root,!0)}`,r=sk(e.queryParams),i=typeof e.fragment=="string"?`#${rk(e.fragment)}`:"";return`${n}${r}${i}`}},nk=new Ho;function zc(t){return t.segments.map(e=>dC(e)).join("/")}function Lo(t,e){if(!t.hasChildren())return zc(t);if(e){let n=t.children[z]?Lo(t.children[z],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==z&&r.push(`${i}:${Lo(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=tk(t,(r,i)=>i===z?[Lo(t.children[z],!1)]:[`${i}:${Lo(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[z]!=null?`${zc(t)}/${n[0]}`:`${zc(t)}/(${n.join("//")})`}}function uC(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Bc(t){return uC(t).replace(/%3B/gi,";")}function rk(t){return encodeURI(t)}function Hp(t){return uC(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Gc(t){return decodeURIComponent(t)}function J0(t){return Gc(t.replace(/\+/g,"%20"))}function dC(t){return`${Hp(t.path)}${ik(t.parameters)}`}function ik(t){return Object.entries(t).map(([e,n])=>`;${Hp(e)}=${Hp(n)}`).join("")}function sk(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Bc(n)}=${Bc(i)}`).join("&"):`${Bc(n)}=${Bc(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var ok=/^[^\/()?;#]+/;function Lp(t){let e=t.match(ok);return e?e[0]:""}var ak=/^[^\/()?;=#]+/;function lk(t){let e=t.match(ak);return e?e[0]:""}var ck=/^[^=?&#]+/;function uk(t){let e=t.match(ck);return e?e[0]:""}var dk=/^[^&#]+/;function hk(t){let e=t.match(dk);return e?e[0]:""}var zp=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new pe([],{}):new pe([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[z]=new pe(e,n)),r}parseSegment(){let e=Lp(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new _(4009,!1);return this.capture(e),new di(Gc(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=lk(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Lp(this.remaining);i&&(r=i,this.capture(r))}e[Gc(n)]=Gc(r)}parseQueryParam(e){let n=uk(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=hk(this.remaining);o&&(r=o,this.capture(r))}let i=J0(n),s=J0(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Lp(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new _(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=z);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[z]:new pe([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new _(4011,!1)}};function hC(t){return t.segments.length>0?new pe([],{[z]:t}):t}function fC(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=fC(i);if(r===z&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new pe(t.segments,e);return fk(n)}function fk(t){if(t.numberOfChildren===1&&t.children[z]){let e=t.children[z];return new pe(t.segments.concat(e.segments),e.children)}return t}function zo(t){return t instanceof mr}function pk(t,e,n=null,r=null){let i=pC(t);return gC(i,e,n,r)}function pC(t){let e;function n(s){let o={};for(let l of s.children){let c=n(l);o[l.outlet]=c}let a=new pe(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=hC(r);return e??i}function gC(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Vp(i,i,i,n,r);let s=gk(e);if(s.toRoot())return Vp(i,i,new pe([],{}),n,r);let o=mk(s,i,t),a=o.processChildren?Uo(o.segmentGroup,o.index,s.commands):yC(o.segmentGroup,o.index,s.commands);return Vp(i,o.segmentGroup,a,n,r)}function Wc(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Go(t){return typeof t=="object"&&t!=null&&t.outlets}function Vp(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let o;t===e?o=n:o=mC(t,e,n);let a=hC(fC(o));return new mr(a,s,i)}function mC(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=mC(s,e,n)}),new pe(t.segments,r)}var qc=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Wc(r[0]))throw new _(4003,!1);let i=r.find(Go);if(i&&i!==sC(r))throw new _(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function gk(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new qc(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new qc(n,e,r)}var Ds=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function mk(t,e,n){if(t.isAbsolute)return new Ds(e,!0,0);if(!n)return new Ds(e,!1,NaN);if(n.parent===null)return new Ds(n,!0,0);let r=Wc(t.commands[0])?0:1,i=n.segments.length-1+r;return yk(n,i,t.numberOfDoubleDots)}function yk(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new _(4005,!1);i=r.segments.length}return new Ds(r,!1,i-s)}function _k(t){return Go(t[0])?t[0].outlets:{[z]:t}}function yC(t,e,n){if(t??=new pe([],{}),t.segments.length===0&&t.hasChildren())return Uo(t,e,n);let r=vk(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new pe(t.segments.slice(0,r.pathIndex),{});return s.children[z]=new pe(t.segments.slice(r.pathIndex),t.children),Uo(s,0,i)}else return r.match&&i.length===0?new pe(t.segments,{}):r.match&&!t.hasChildren()?Gp(t,e,n):r.match?Uo(t,0,i):Gp(t,e,n)}function Uo(t,e,n){if(n.length===0)return new pe(t.segments,{});{let r=_k(n),i={};if(Object.keys(r).some(s=>s!==z)&&t.children[z]&&t.numberOfChildren===1&&t.children[z].segments.length===0){let s=Uo(t.children[z],e,n);return new pe(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=yC(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new pe(t.segments,i)}}function vk(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(Go(a))break;let l=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!eC(l,c,o))return s;r+=2}else{if(!eC(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Gp(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(Go(s)){let l=wk(s.outlets);return new pe(r,l)}if(i===0&&Wc(n[0])){let l=t.segments[e];r.push(new di(l.path,X0(n[0]))),i++;continue}let o=Go(s)?s.outlets[z]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Wc(a)?(r.push(new di(o,X0(a))),i+=2):(r.push(new di(o,{})),i++)}return new pe(r,{})}function wk(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Gp(new pe([],{}),0,r))}),e}function X0(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function eC(t,e,n){return t==n.path&&bn(e,n.parameters)}var Bo="imperative",qe=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(qe||{}),Ft=class{constructor(e,n){this.id=e,this.url=n}},Wo=class extends Ft{constructor(e,n,r="imperative",i=null){super(e,n),this.type=qe.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},yr=class extends Ft{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=qe.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},St=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(St||{}),Wp=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Wp||{}),Bn=class extends Ft{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=qe.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},fi=class extends Ft{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=qe.NavigationSkipped}},qo=class extends Ft{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=qe.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Kc=class extends Ft{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=qe.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},qp=class extends Ft{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=qe.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Kp=class extends Ft{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=qe.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Yp=class extends Ft{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=qe.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Qp=class extends Ft{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=qe.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Zp=class{constructor(e){this.route=e,this.type=qe.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Jp=class{constructor(e){this.route=e,this.type=qe.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Xp=class{constructor(e){this.snapshot=e,this.type=qe.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},eg=class{constructor(e){this.snapshot=e,this.type=qe.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},tg=class{constructor(e){this.snapshot=e,this.type=qe.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ng=class{constructor(e){this.snapshot=e,this.type=qe.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Ko=class{},As=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};var rg=class{constructor(e){this.injector=e,this.outlet=null,this.route=null,this.children=new tu(this.injector),this.attachRef=null}},tu=(()=>{let e=class e{constructor(r){this.parentInjector=r,this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new rg(this.parentInjector),this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)(T(xt))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Yc=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=ig(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=ig(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=sg(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return sg(e,this._root).map(n=>n.value)}};function ig(t,e){if(t===e.value)return e;for(let n of e.children){let r=ig(t,n);if(r)return r}return null}function sg(t,e){if(t===e.value)return[e];for(let n of e.children){let r=sg(t,n);if(r.length)return r.unshift(e),r}return[]}var Dt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Is(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Qc=class extends Yc{constructor(e,n){super(e),this.snapshot=n,gg(this,e)}toString(){return this.snapshot.toString()}};function _C(t){let e=bk(t),n=new Ge([new di("",{})]),r=new Ge({}),i=new Ge({}),s=new Ge({}),o=new Ge(""),a=new pi(n,r,s,o,i,z,t,e.root);return a.snapshot=e.root,new Qc(new Dt(a,[]),e)}function bk(t){let e={},n={},r={},i="",s=new Ss([],e,r,i,n,z,t,null,{});return new Jc("",new Dt(s,[]))}var pi=class{constructor(e,n,r,i,s,o,a,l){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(G(c=>c[Xo]))??V(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(G(e=>Ms(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(G(e=>Ms(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Zc(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:w(w({},e.params),t.params),data:w(w({},e.data),t.data),resolve:w(w(w(w({},t.data),e.data),i?.data),t._resolvedData)}:r={params:w({},t.params),data:w({},t.data),resolve:w(w({},t.data),t._resolvedData??{})},i&&wC(i)&&(r.resolve[Xo]=i.title),r}var Ss=class{get title(){return this.data?.[Xo]}constructor(e,n,r,i,s,o,a,l,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ms(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ms(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Jc=class extends Yc{constructor(e,n){super(n),this.url=e,gg(this,n)}toString(){return vC(this._root)}};function gg(t,e){e.value._routerState=t,e.children.forEach(n=>gg(t,n))}function vC(t){let e=t.children.length>0?` { ${t.children.map(vC).join(", ")} } `:"";return`${t.value}${e}`}function jp(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,bn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),bn(e.params,n.params)||t.paramsSubject.next(n.params),QR(e.url,n.url)||t.urlSubject.next(n.url),bn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function og(t,e){let n=bn(t.params,e.params)&&ek(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||og(t.parent,e.parent))}function wC(t){return typeof t.title=="string"||t.title===null}var mg=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=z,this.activateEvents=new J,this.deactivateEvents=new J,this.attachEvents=new J,this.detachEvents=new J,this.parentContexts=D(tu),this.location=D(_s),this.changeDetector=D(li),this.inputBinder=D(yg,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new _(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new _(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new _(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new _(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new ag(r,l,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:c,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Re({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[jn]});let t=e;return t})(),ag=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===pi?this.route:e===tu?this.childContexts:this.parent.get(e,n)}},yg=new O("");function Ck(t,e,n){let r=Yo(t,e._root,n?n._root:void 0);return new Qc(r,e)}function Yo(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=Ek(t,e,n);return new Dt(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Yo(t,a)),o}}let r=Ik(e.value),i=e.children.map(s=>Yo(t,s));return new Dt(r,i)}}function Ek(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Yo(t,r,i);return Yo(t,r)})}function Ik(t){return new pi(new Ge(t.url),new Ge(t.params),new Ge(t.queryParams),new Ge(t.fragment),new Ge(t.data),t.outlet,t.component,t)}var Qo=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},bC="ngNavigationCancelingError";function Xc(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=zo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=CC(!1,St.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function CC(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[bC]=!0,n.cancellationCode=e,n}function Dk(t){return EC(t)&&zo(t.url)}function EC(t){return!!t&&t[bC]}var Sk=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ee({type:e,selectors:[["ng-component"]],standalone:!0,features:[Ie],decls:1,vars:0,template:function(i,s){i&1&&S(0,"router-outlet")},dependencies:[mg],encapsulation:2});let t=e;return t})();function Tk(t,e){return t.providers&&!t._injector&&(t._injector=lp(t.providers,e,`Route: ${t.path}`)),t._injector??e}function _g(t){let e=t.children&&t.children.map(_g),n=e?Y(w({},t),{children:e}):w({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==z&&(n.component=Sk),n}function Zt(t){return t.outlet||z}function Mk(t,e){let n=t.filter(r=>Zt(r)===e);return n.push(...t.filter(r=>Zt(r)!==e)),n}function ea(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Ak=(t,e,n,r)=>G(i=>(new lg(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),lg=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),jp(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Is(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Is(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Is(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Is(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new ng(s.value.snapshot))}),e.children.length&&this.forwardEvent(new eg(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(jp(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),jp(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=ea(i.snapshot);o.attachRef=null,o.route=i,o.injector=a??o.injector,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},eu=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ts=class{constructor(e,n){this.component=e,this.route=n}};function Nk(t,e,n){let r=t._root,i=e?e._root:null;return Vo(r,i,n,[r.value])}function xk(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function xs(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!aw(t)?t:e.get(t):r}function Vo(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Is(e);return t.children.forEach(o=>{Rk(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>$o(a,n.getContext(o),i)),i}function Rk(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let l=kk(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new eu(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Vo(t,e,a?a.children:null,r,i):Vo(t,e,n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ts(a.outlet.component,o))}else o&&$o(e,a,i),i.canActivateChecks.push(new eu(r)),s.component?Vo(t,null,a?a.children:null,r,i):Vo(t,null,n,r,i);return i}function kk(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!hi(t.url,e.url);case"pathParamsOrQueryParamsChange":return!hi(t.url,e.url)||!bn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!og(t,e)||!bn(t.queryParams,e.queryParams);case"paramsChange":default:return!og(t,e)}}function $o(t,e,n){let r=Is(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?$o(o,e.children.getContext(s),n):$o(o,null,n):$o(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Ts(e.outlet.component,i)):n.canDeactivateChecks.push(new Ts(null,i)):n.canDeactivateChecks.push(new Ts(null,i))}function ta(t){return typeof t=="function"}function Ok(t){return typeof t=="boolean"}function Pk(t){return t&&ta(t.canLoad)}function Fk(t){return t&&ta(t.canActivate)}function Lk(t){return t&&ta(t.canActivateChild)}function Vk(t){return t&&ta(t.canDeactivate)}function jk(t){return t&&ta(t.canMatch)}function IC(t){return t instanceof On||t?.name==="EmptyError"}var $c=Symbol("INITIAL_VALUE");function Ns(){return Wt(t=>El(t.map(e=>e.pipe(Pn(1),mh($c)))).pipe(G(e=>{for(let n of e)if(n!==!0){if(n===$c)return $c;if(n===!1||Uk(n))return n}return!0}),Gt(e=>e!==$c),Pn(1)))}function Uk(t){return zo(t)||t instanceof Qo}function Bk(t,e){return Ne(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?V(Y(w({},n),{guardsResult:!0})):$k(o,r,i,t).pipe(Ne(a=>a&&Ok(a)?Hk(r,s,t,e):V(a)),G(a=>Y(w({},n),{guardsResult:a})))})}function $k(t,e,n,r){return Oe(t).pipe(Ne(i=>Kk(i.component,i.route,n,e,r)),an(i=>i!==!0,!0))}function Hk(t,e,n,r){return Oe(e).pipe(Qi(i=>Ki(Gk(i.route.parent,r),zk(i.route,r),qk(t,i.path,n),Wk(t,i.route,n))),an(i=>i!==!0,!0))}function zk(t,e){return t!==null&&e&&e(new tg(t)),V(!0)}function Gk(t,e){return t!==null&&e&&e(new Xp(t)),V(!0)}function Wk(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return V(!0);let i=r.map(s=>Yi(()=>{let o=ea(e)??n,a=xs(s,o),l=Fk(a)?a.canActivate(e,t):gn(o,()=>a(e,t));return _r(l).pipe(an())}));return V(i).pipe(Ns())}function qk(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>xk(o)).filter(o=>o!==null).map(o=>Yi(()=>{let a=o.guards.map(l=>{let c=ea(o.node)??n,u=xs(l,c),d=Lk(u)?u.canActivateChild(r,t):gn(c,()=>u(r,t));return _r(d).pipe(an())});return V(a).pipe(Ns())}));return V(s).pipe(Ns())}function Kk(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return V(!0);let o=s.map(a=>{let l=ea(e)??i,c=xs(a,l),u=Vk(c)?c.canDeactivate(t,e,n,r):gn(l,()=>c(t,e,n,r));return _r(u).pipe(an())});return V(o).pipe(Ns())}function Yk(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return V(!0);let s=i.map(o=>{let a=xs(o,t),l=Pk(a)?a.canLoad(e,n):gn(t,()=>a(e,n));return _r(l)});return V(s).pipe(Ns(),DC(r))}function DC(t){return sh(We(e=>{if(typeof e!="boolean")throw Xc(t,e)}),G(e=>e===!0))}function Qk(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return V(!0);let s=i.map(o=>{let a=xs(o,t),l=jk(a)?a.canMatch(e,n):gn(t,()=>a(e,n));return _r(l)});return V(s).pipe(Ns(),DC(r))}var Zo=class{constructor(e){this.segmentGroup=e||null}},Jo=class extends Error{constructor(e){super(),this.urlTree=e}};function Es(t){return qi(new Zo(t))}function Zk(t){return qi(new _(4e3,!1))}function Jk(t){return qi(CC(!1,St.GuardRejected))}var cg=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return V(r);if(i.numberOfChildren>1||!i.children[z])return Zk(`${e.redirectTo}`);i=i.children[z]}}applyRedirectCommands(e,n,r,i,s){if(typeof n!="string"){let a=n,{queryParams:l,fragment:c,routeConfig:u,url:d,outlet:h,params:f,data:p,title:m}=i,C=gn(s,()=>a({params:f,data:p,queryParams:l,fragment:c,routeConfig:u,url:d,outlet:h,title:m}));if(C instanceof mr)throw new Jo(C);n=C}let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Jo(o);return o}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new mr(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(e,l,r,i)}),new pe(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new _(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},ug={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Xk(t,e,n,r,i){let s=vg(t,e,n);return s.matched?(r=Tk(e,r),Qk(r,e,n,i).pipe(G(o=>o===!0?s:w({},ug)))):V(s)}function vg(t,e,n){if(e.path==="**")return eO(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?w({},ug):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||YR)(n,t,e);if(!i)return w({},ug);let s={};Object.entries(i.posParams??{}).forEach(([a,l])=>{s[a]=l.path});let o=i.consumed.length>0?w(w({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function eO(t){return{matched:!0,parameters:t.length>0?sC(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function tC(t,e,n,r){return n.length>0&&rO(t,n,r)?{segmentGroup:new pe(e,nO(r,new pe(n,t.children))),slicedSegments:[]}:n.length===0&&iO(t,n,r)?{segmentGroup:new pe(t.segments,tO(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new pe(t.segments,t.children),slicedSegments:n}}function tO(t,e,n,r){let i={};for(let s of n)if(nu(t,e,s)&&!r[Zt(s)]){let o=new pe([],{});i[Zt(s)]=o}return w(w({},r),i)}function nO(t,e){let n={};n[z]=e;for(let r of t)if(r.path===""&&Zt(r)!==z){let i=new pe([],{});n[Zt(r)]=i}return n}function rO(t,e,n){return n.some(r=>nu(t,e,r)&&Zt(r)!==z)}function iO(t,e,n){return n.some(r=>nu(t,e,r))}function nu(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function sO(t,e,n,r){return Zt(t)!==r&&(r===z||!nu(e,n,t))?!1:vg(e,t,n).matched}function oO(t,e,n){return e.length===0&&!t.children[n]}var dg=class{};function aO(t,e,n,r,i,s,o="emptyOnly"){return new hg(t,e,n,r,i,o,s).recognize()}var lO=31,hg=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new cg(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new _(4002,`'${e.segmentGroup}'`)}recognize(){let e=tC(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(G(({children:n,rootSnapshot:r})=>{let i=new Dt(r,n),s=new Jc("",i),o=pk(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let n=new Ss([],Object.freeze({}),Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),z,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,z,n).pipe(G(r=>({children:r,rootSnapshot:n})),Jn(r=>{if(r instanceof Jo)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Zo?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,s):this.processSegment(e,n,r,r.segments,i,!0,s).pipe(G(o=>o instanceof Dt?[o]:[]))}processChildren(e,n,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return Oe(s).pipe(Qi(o=>{let a=r.children[o],l=Mk(n,o);return this.processSegmentGroup(e,l,a,o,i)}),gh((o,a)=>(o.push(...a),o)),Xn(null),ph(),Ne(o=>{if(o===null)return Es(r);let a=SC(o);return cO(a),V(a)}))}processSegment(e,n,r,i,s,o,a){return Oe(n).pipe(Qi(l=>this.processSegmentAgainstRoute(l._injector??e,n,l,r,i,s,o,a).pipe(Jn(c=>{if(c instanceof Zo)return V(null);throw c}))),an(l=>!!l),Jn(l=>{if(IC(l))return oO(r,i,s)?V(new dg):Es(r);throw l}))}processSegmentAgainstRoute(e,n,r,i,s,o,a,l){return sO(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o,l):Es(i):Es(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o,a){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:d,remainingSegments:h}=vg(n,i,s);if(!l)return Es(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>lO&&(this.allowRedirects=!1));let f=new Ss(s,c,Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,nC(i),Zt(i),i.component??i._loadedComponent??null,i,rC(i)),p=Zc(f,a,this.paramsInheritanceStrategy);f.params=Object.freeze(p.params),f.data=Object.freeze(p.data);let m=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,f,e);return this.applyRedirects.lineralizeSegments(i,m).pipe(Ne(C=>this.processSegment(e,r,n,C.concat(h),o,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a=Xk(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Wt(l=>l.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Wt(({routes:c})=>{let u=r._loadedInjector??e,{parameters:d,consumedSegments:h,remainingSegments:f}=l,p=new Ss(h,d,Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,nC(r),Zt(r),r.component??r._loadedComponent??null,r,rC(r)),m=Zc(p,o,this.paramsInheritanceStrategy);p.params=Object.freeze(m.params),p.data=Object.freeze(m.data);let{segmentGroup:C,slicedSegments:R}=tC(n,h,f,c);if(R.length===0&&C.hasChildren())return this.processChildren(u,c,C,p).pipe(G(U=>new Dt(p,U)));if(c.length===0&&R.length===0)return V(new Dt(p,[]));let K=Zt(r)===s;return this.processSegment(u,c,C,R,K?z:s,!0,p).pipe(G(U=>new Dt(p,U instanceof Dt?[U]:[])))}))):Es(n)))}getChildConfig(e,n,r){return n.children?V({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?V({routes:n._loadedRoutes,injector:n._loadedInjector}):Yk(e,n,r,this.urlSerializer).pipe(Ne(i=>i?this.configLoader.loadChildren(e,n).pipe(We(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):Jk(n))):V({routes:[],injector:e})}};function cO(t){t.sort((e,n)=>e.value.outlet===z?-1:n.value.outlet===z?1:e.value.outlet.localeCompare(n.value.outlet))}function uO(t){let e=t.value.routeConfig;return e&&e.path===""}function SC(t){let e=[],n=new Set;for(let r of t){if(!uO(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=SC(r.children);e.push(new Dt(r.value,i))}return e.filter(r=>!n.has(r))}function nC(t){return t.data||{}}function rC(t){return t.resolve||{}}function dO(t,e,n,r,i,s){return Ne(o=>aO(t,e,n,r,o.extractedUrl,i,s).pipe(G(({state:a,tree:l})=>Y(w({},o),{targetSnapshot:a,urlAfterRedirects:l}))))}function hO(t,e){return Ne(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return V(n);let s=new Set(i.map(l=>l.route)),o=new Set;for(let l of s)if(!o.has(l))for(let c of TC(l))o.add(c);let a=0;return Oe(o).pipe(Qi(l=>s.has(l)?fO(l,r,t,e):(l.data=Zc(l,l.parent,t).resolve,V(void 0))),We(()=>a++),Zi(1),Ne(l=>a===o.size?V(n):wt))})}function TC(t){let e=t.children.map(n=>TC(n)).flat();return[t,...e]}function fO(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!wC(i)&&(s[Xo]=i.title),pO(s,t,e,r).pipe(G(o=>(t._resolvedData=o,t.data=Zc(t,t.parent,n).resolve,null)))}function pO(t,e,n,r){let i=$p(t);if(i.length===0)return V({});let s={};return Oe(i).pipe(Ne(o=>gO(t[o],e,n,r).pipe(an(),We(a=>{if(a instanceof Qo)throw Xc(new Ho,a);s[o]=a}))),Zi(1),fh(s),Jn(o=>IC(o)?wt:qi(o)))}function gO(t,e,n,r){let i=ea(e)??r,s=xs(t,i),o=s.resolve?s.resolve(e,n):gn(i,()=>s(e,n));return _r(o)}function Up(t){return Wt(e=>{let n=t(e);return n?Oe(n).pipe(G(()=>e)):V(e)})}var MC=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===z);return i}getResolvedTitleForRoute(r){return r.data[Xo]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:()=>D(mO),providedIn:"root"});let t=e;return t})(),mO=(()=>{let e=class e extends MC{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(T(Q0))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),wg=new O("",{providedIn:"root",factory:()=>({})}),bg=new O(""),yO=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=D(yp)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return V(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=_r(r.loadComponent()).pipe(G(AC),We(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),go(()=>{this.componentLoaders.delete(r)})),s=new Wi(i,()=>new he).pipe(Gi());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return V({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=_O(i,this.compiler,r,this.onLoadEndListener).pipe(go(()=>{this.childrenLoaders.delete(i)})),a=new Wi(o,()=>new he).pipe(Gi());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function _O(t,e,n,r){return _r(t.loadChildren()).pipe(G(AC),Ne(i=>i instanceof So||Array.isArray(i)?V(i):Oe(e.compileModuleAsync(i))),G(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(bg,[],{optional:!0,self:!0}).flat()),{routes:o.map(_g),injector:s}}))}function vO(t){return t&&typeof t=="object"&&"default"in t}function AC(t){return vO(t)?t.default:t}var Cg=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:()=>D(wO),providedIn:"root"});let t=e;return t})(),wO=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),bO=new O("");var CO=new O(""),EO=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new he,this.transitionAbortSubject=new he,this.configLoader=D(yO),this.environmentInjector=D(xt),this.urlSerializer=D(pg),this.rootContexts=D(tu),this.location=D(ko),this.inputBindingEnabled=D(yg,{optional:!0})!==null,this.titleStrategy=D(MC),this.options=D(wg,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=D(Cg),this.createViewTransition=D(bO,{optional:!0}),this.navigationErrorHandler=D(CO,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>V(void 0),this.rootComponentType=null;let r=s=>this.events.next(new Zp(s)),i=s=>this.events.next(new Jp(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(Y(w(w({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new Ge({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Bo,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Gt(o=>o.id!==0),G(o=>Y(w({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Wt(o=>{let a=!1,l=!1;return V(o).pipe(Wt(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",St.SupersededByNewNavigation),wt;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?Y(w({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=c.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!u&&d!=="reload"){let h="";return this.events.next(new fi(c.id,this.urlSerializer.serialize(c.rawUrl),h,Wp.IgnoredSameUrlNavigation)),c.resolve(!1),wt}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return V(c).pipe(Wt(h=>{let f=this.transitions?.getValue();return this.events.next(new Wo(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?wt:Promise.resolve(h)}),dO(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),We(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=Y(w({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let f=new Kc(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:h,extractedUrl:f,source:p,restoredState:m,extras:C}=c,R=new Wo(h,this.urlSerializer.serialize(f),p,m);this.events.next(R);let K=_C(this.rootComponentType).snapshot;return this.currentTransition=o=Y(w({},c),{targetSnapshot:K,urlAfterRedirects:f,extras:Y(w({},C),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,V(o)}else{let h="";return this.events.next(new fi(c.id,this.urlSerializer.serialize(c.extractedUrl),h,Wp.IgnoredByUrlHandlingStrategy)),c.resolve(!1),wt}}),We(c=>{let u=new qp(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),G(c=>(this.currentTransition=o=Y(w({},c),{guards:Nk(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),Bk(this.environmentInjector,c=>this.events.next(c)),We(c=>{if(o.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw Xc(this.urlSerializer,c.guardsResult);let u=new Kp(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),Gt(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",St.GuardRejected),!1)),Up(c=>{if(c.guards.canActivateChecks.length)return V(c).pipe(We(u=>{let d=new Yp(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),Wt(u=>{let d=!1;return V(u).pipe(hO(this.paramsInheritanceStrategy,this.environmentInjector),We({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",St.NoDataFromResolver)}}))}),We(u=>{let d=new Qp(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),Up(c=>{let u=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(We(f=>{d.component=f}),G(()=>{})));for(let f of d.children)h.push(...u(f));return h};return El(u(c.targetSnapshot.root)).pipe(Xn(null),Pn(1))}),Up(()=>this.afterPreactivation()),Wt(()=>{let{currentSnapshot:c,targetSnapshot:u}=o,d=this.createViewTransition?.(this.environmentInjector,c.root,u.root);return d?Oe(d).pipe(G(()=>o)):V(o)}),G(c=>{let u=Ck(r.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=Y(w({},c),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,o}),We(()=>{this.events.next(new Ko)}),Ak(this.rootContexts,r.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Pn(1),We({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new yr(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),yh(this.transitionAbortSubject.pipe(We(c=>{throw c}))),go(()=>{!a&&!l&&this.cancelNavigationTransition(o,"",St.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Jn(c=>{if(l=!0,EC(c))this.events.next(new Bn(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),Dk(c)?this.events.next(new As(c.url,c.navigationBehaviorOptions)):o.resolve(!1);else{let u=new qo(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0);try{let d=gn(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(d instanceof Qo){let{message:h,cancellationCode:f}=Xc(this.urlSerializer,d);this.events.next(new Bn(o.id,this.urlSerializer.serialize(o.extractedUrl),h,f)),this.events.next(new As(d.redirectTo,d.navigationBehaviorOptions))}else{this.events.next(u);let h=r.errorHandler(c);o.resolve(!!h)}}catch(d){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(d)}}return wt}))}))}cancelNavigationTransition(r,i,s){let o=new Bn(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function IO(t){return t!==Bo}var DO=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:()=>D(SO),providedIn:"root"});let t=e;return t})(),fg=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},SO=(()=>{let e=class e extends fg{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=cr(e)))(s||e)}})(),e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),NC=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:()=>D(TO),providedIn:"root"});let t=e;return t})(),TO=(()=>{let e=class e extends NC{constructor(){super(...arguments),this.location=D(ko),this.urlSerializer=D(pg),this.options=D(wg,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=D(Cg),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new mr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=_C(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Wo)this.stateMemento=this.createStateMemento();else if(r instanceof fi)this.rawUrlTree=i.initialUrl;else if(r instanceof Kc){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof Ko?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof Bn&&(r.code===St.GuardRejected||r.code===St.NoDataFromResolver)?this.restoreHistory(i):r instanceof qo?this.restoreHistory(i,!0):r instanceof yr&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=w(w({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=w(w({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=cr(e)))(s||e)}})(),e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),jo=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(jo||{});function MO(t,e){t.events.pipe(Gt(n=>n instanceof yr||n instanceof Bn||n instanceof qo||n instanceof fi),G(n=>n instanceof yr||n instanceof fi?jo.COMPLETE:(n instanceof Bn?n.code===St.Redirect||n.code===St.SupersededByNewNavigation:!1)?jo.REDIRECTING:jo.FAILED),Gt(n=>n!==jo.REDIRECTING),Pn(1)).subscribe(()=>{e()})}function AO(t){throw t}var NO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},xO={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},$n=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=D(xc),this.stateManager=D(NC),this.options=D(wg,{optional:!0})||{},this.pendingTasks=D(vs),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=D(EO),this.urlSerializer=D(pg),this.location=D(ko),this.urlHandlingStrategy=D(Cg),this._events=new he,this.errorHandler=this.options.errorHandler||AO,this.navigated=!1,this.routeReuseStrategy=D(DO),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=D(bg,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!D(yg,{optional:!0}),this.eventsSubscription=new Fe,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Bn&&i.code!==St.Redirect&&i.code!==St.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof yr)this.navigated=!0;else if(i instanceof As){let a=i.navigationBehaviorOptions,l=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),c=w({info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||this.urlUpdateStrategy==="eager"||IO(s.source)},a);this.scheduleNavigation(l,Bo,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}kO(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Bo,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let c=w({},s);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let l=this.parseUrl(r);this.scheduleNavigation(l,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(_g),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:l,preserveFragment:c}=i,u=c?this.currentUrlTree.fragment:a,d=null;switch(l){case"merge":d=w(w({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let f=s?s.snapshot:this.routerState.snapshot.root;h=pC(f)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),h=this.currentUrlTree.root}return gC(h,r,d,u??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=zo(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Bo,null,i)}navigate(r,i={skipLocationChange:!1}){return RO(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=w({},NO):i===!1?s=w({},xO):s=i,zo(r))return Z0(this.currentUrlTree,r,s);let o=this.parseUrl(r);return Z0(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let l,c,u;a?(l=a.resolve,c=a.reject,u=a.promise):u=new Promise((h,f)=>{l=h,c=f});let d=this.pendingTasks.add();return MO(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:l,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(h=>Promise.reject(h))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function RO(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new _(4008,!1)}function kO(t){return!(t instanceof Ko)&&!(t instanceof As)}var xC=(()=>{let e=class e{constructor(r,i,s,o,a,l){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=l,this.href=null,this.commands=null,this.onChanges=new he,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let c=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=r.events.subscribe(u=>{u instanceof yr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,s,o,a){let l=this.urlTree;if(l===null||this.isAnchorElement&&(r!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(l,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:Cb(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(E($n),E(pi),jf("tabindex"),E(yn),E(Yt),E(Cs))},e.\u0275dir=Re({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&F("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&Ac("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",bs],skipLocationChange:[2,"skipLocationChange","skipLocationChange",bs],replaceUrl:[2,"replaceUrl","replaceUrl",bs],routerLink:"routerLink"},standalone:!0,features:[ap,jn]});let t=e;return t})();var OO=new O("");function RC(t,...e){return dc([{provide:bg,multi:!0,useValue:t},[],{provide:pi,useFactory:PO,deps:[$n]},{provide:Oc,multi:!0,useFactory:FO},e.map(n=>n.\u0275providers)])}function PO(t){return t.routerState.root}function FO(){let t=D(ir);return e=>{let n=t.get(pr);if(e!==n.components[0])return;let r=t.get($n),i=t.get(LO);t.get(VO)===1&&r.initialNavigation(),t.get(jO,null,W.Optional)?.setUpPreloading(),t.get(OO,null,W.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var LO=new O("",{factory:()=>new he}),VO=new O("",{providedIn:"root",factory:()=>1});var jO=new O("");var Dg={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var v=function(t,e){if(!t)throw gi(e)},gi=function(t){return new Error("Firebase Database ("+Dg.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};var OC=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},UO=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},iu={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=s>>2,d=(s&3)<<4|a>>4,h=(a&15)<<2|c>>6,f=c&63;l||(f=64,o||(h=64)),r.push(n[u],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(OC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):UO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let c=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||d==null)throw new Sg;let h=s<<2|a>>4;if(r.push(h),c!==64){let f=a<<4&240|c>>2;if(r.push(f),d!==64){let p=c<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Sg=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Mg=function(t){let e=OC(t);return iu.encodeByteArray(e,!0)},na=function(t){return Mg(t).replace(/\./g,"")},ra=function(t){try{return iu.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function PC(t){return FC(void 0,t)}function FC(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(let n in e)!e.hasOwnProperty(n)||!BO(n)||(t[n]=FC(t[n],e[n]));return t}function BO(t){return t!=="__proto__"}function $O(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var HO=()=>$O().__FIREBASE_DEFAULTS__,zO=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},GO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&ra(t[1]);return e&&JSON.parse(e)},Ag=()=>{try{return HO()||zO()||GO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Ng=t=>{var e,n;return(n=(e=Ag())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},LC=t=>{let e=Ng(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},xg=()=>{var t;return(t=Ag())===null||t===void 0?void 0:t.config},Rg=t=>{var e;return(e=Ag())===null||e===void 0?void 0:e[`_${t}`]};var vr=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function VC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[na(JSON.stringify(n)),na(JSON.stringify(o)),""].join(".")}function Ke(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ia(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ke())}function jC(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function su(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function UC(){let t=Ke();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Cn(){return Dg.NODE_CLIENT===!0||Dg.NODE_ADMIN===!0}function BC(){try{return typeof indexedDB=="object"}catch{return!1}}function $C(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var WO="FirebaseError",Jt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=WO,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hn.prototype.create)}},Hn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?qO(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Jt(i,a,r)}};function qO(t,e){return t.replace(KO,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var KO=/\{\$([^}]+)}/g;function Rs(t){return JSON.parse(t)}function Ve(t){return JSON.stringify(t)}var HC=function(t){let e={},n={},r={},i="";try{let s=t.split(".");e=Rs(ra(s[0])||""),n=Rs(ra(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}};var zC=function(t){let e=HC(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},GC=function(t){let e=HC(t).claims;return typeof e=="object"&&e.admin===!0};function En(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function mi(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function sa(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function oa(t,e,n){let r={};for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function ks(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(kC(s)&&kC(o)){if(!ks(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function kC(t){return t!==null&&typeof t=="object"}function yi(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Os(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Ps(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}var ru=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);let r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){let h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let d=0;d<80;d++){d<40?d<20?(c=a^s&(o^a),u=1518500249):(c=s^o^a,u=1859775393):d<60?(c=s&o|a&(s|o),u=2400959708):(c=s^o^a,u=3395469782);let h=(i<<5|i>>>27)+c+l+u+r[d]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);let r=n-this.blockSize,i=0,s=this.buf_,o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){let e=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}};function WC(t,e){let n=new Tg(t,e);return n.subscribe.bind(n)}var Tg=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");YO(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Ig),i.error===void 0&&(i.error=Ig),i.complete===void 0&&(i.complete=Ig);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function YO(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ig(){}function ou(t,e){return`${t} failed: ${e} argument `}var qC=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){let s=i-55296;r++,v(r<t.length,"Surrogate pair missing trail surrogate.");let o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},aa=function(t){let e=0;for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};var Y6=4*60*60*1e3;function et(t){return t&&t._delegate?t._delegate:t}var Lt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var _i="[DEFAULT]";var au=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new vr;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ZO(e))try{this.getOrInitializeService({instanceIdentifier:_i})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=_i){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return g(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=_i){return this.instances.has(e)}getOptions(e=_i){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:QO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=_i){return this.component?this.component.multipleInstances?e:_i:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function QO(t){return t===_i?void 0:t}function ZO(t){return t.instantiationMode==="EAGER"}var la=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new au(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var JO=[],me=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(me||{}),XO={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},eP=me.INFO,tP={[me.DEBUG]:"log",[me.VERBOSE]:"log",[me.INFO]:"info",[me.WARN]:"warn",[me.ERROR]:"error"},nP=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=tP[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},wr=class{constructor(e){this.name=e,this._logLevel=eP,this._logHandler=nP,this._userLogHandler=null,JO.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?XO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,me.DEBUG,...e),this._logHandler(this,me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,me.VERBOSE,...e),this._logHandler(this,me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,me.INFO,...e),this._logHandler(this,me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,me.WARN,...e),this._logHandler(this,me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,me.ERROR,...e),this._logHandler(this,me.ERROR,...e)}};var rP=(t,e)=>e.some(n=>t instanceof n),KC,YC;function iP(){return KC||(KC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sP(){return YC||(YC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var QC=new WeakMap,Og=new WeakMap,ZC=new WeakMap,kg=new WeakMap,Fg=new WeakMap;function oP(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(In(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&QC.set(n,t)}).catch(()=>{}),Fg.set(e,t),e}function aP(t){if(Og.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Og.set(t,e)}var Pg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Og.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ZC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return In(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function JC(t){Pg=t(Pg)}function lP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(lu(this),e,...n);return ZC.set(r,e.sort?e.sort():[e]),In(r)}:sP().includes(t)?function(...e){return t.apply(lu(this),e),In(QC.get(this))}:function(...e){return In(t.apply(lu(this),e))}}function cP(t){return typeof t=="function"?lP(t):(t instanceof IDBTransaction&&aP(t),rP(t,iP())?new Proxy(t,Pg):t)}function In(t){if(t instanceof IDBRequest)return oP(t);if(kg.has(t))return kg.get(t);let e=cP(t);return e!==t&&(kg.set(t,e),Fg.set(e,t)),e}var lu=t=>Fg.get(t);function eE(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=In(o);return r&&o.addEventListener("upgradeneeded",l=>{r(In(o.result),l.oldVersion,l.newVersion,In(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}var uP=["get","getKey","getAll","getAllKeys","count"],dP=["put","add","delete","clear"],Lg=new Map;function XC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Lg.get(e))return Lg.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=dP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||uP.includes(n)))return;let s=function(o,...a){return g(this,null,function*(){let l=this.transaction(o,i?"readwrite":"readonly"),c=l.store;return r&&(c=c.index(a.shift())),(yield Promise.all([c[n](...a),i&&l.done]))[0]})};return Lg.set(e,s),s}JC(t=>Y(w({},t),{get:(e,n,r)=>XC(e,n)||t.get(e,n,r),has:(e,n)=>!!XC(e,n)||t.has(e,n)}));var jg=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(hP(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function hP(t){let e=t.getComponent();return e?.type==="VERSION"}var Ug="@firebase/app",tE="0.10.5";var vi=new wr("@firebase/app"),fP="@firebase/app-compat",pP="@firebase/analytics-compat",gP="@firebase/analytics",mP="@firebase/app-check-compat",yP="@firebase/app-check",_P="@firebase/auth",vP="@firebase/auth-compat",wP="@firebase/database",bP="@firebase/database-compat",CP="@firebase/functions",EP="@firebase/functions-compat",IP="@firebase/installations",DP="@firebase/installations-compat",SP="@firebase/messaging",TP="@firebase/messaging-compat",MP="@firebase/performance",AP="@firebase/performance-compat",NP="@firebase/remote-config",xP="@firebase/remote-config-compat",RP="@firebase/storage",kP="@firebase/storage-compat",OP="@firebase/firestore",PP="@firebase/vertexai-preview",FP="@firebase/firestore-compat",LP="firebase",VP="10.12.2";var Bg="[DEFAULT]",jP={[Ug]:"fire-core",[fP]:"fire-core-compat",[gP]:"fire-analytics",[pP]:"fire-analytics-compat",[yP]:"fire-app-check",[mP]:"fire-app-check-compat",[_P]:"fire-auth",[vP]:"fire-auth-compat",[wP]:"fire-rtdb",[bP]:"fire-rtdb-compat",[CP]:"fire-fn",[EP]:"fire-fn-compat",[IP]:"fire-iid",[DP]:"fire-iid-compat",[SP]:"fire-fcm",[TP]:"fire-fcm-compat",[MP]:"fire-perf",[AP]:"fire-perf-compat",[NP]:"fire-rc",[xP]:"fire-rc-compat",[RP]:"fire-gcs",[kP]:"fire-gcs-compat",[OP]:"fire-fst",[FP]:"fire-fst-compat",[PP]:"fire-vertex","fire-js":"fire-js",[LP]:"fire-js-all"};var cu=new Map,UP=new Map,$g=new Map;function nE(t,e){try{t.container.addComponent(e)}catch(n){vi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Cr(t){let e=t.name;if($g.has(e))return vi.debug(`There were multiple attempts to register component ${e}.`),!1;$g.set(e,t);for(let n of cu.values())nE(n,t);for(let n of UP.values())nE(n,t);return!0}function ua(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Dn(t){return t.settings!==void 0}var BP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},br=new Hn("app","Firebase",BP);var Hg=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Lt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw br.create("app-deleted",{appName:this._name})}};var Er=VP;function Wg(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Bg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw br.create("bad-app-name",{appName:String(i)});if(n||(n=xg()),!n)throw br.create("no-options");let s=cu.get(i);if(s){if(ks(n,s.options)&&ks(r,s.config))return s;throw br.create("duplicate-app",{appName:i})}let o=new la(i);for(let l of $g.values())o.addComponent(l);let a=new Hg(n,r,o);return cu.set(i,a),a}function uu(t=Bg){let e=cu.get(t);if(!e&&t===Bg&&xg())return Wg();if(!e)throw br.create("no-app",{appName:t});return e}function Xt(t,e,n){var r;let i=(r=jP[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vi.warn(a.join(" "));return}Cr(new Lt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var $P="firebase-heartbeat-database",HP=1,ca="firebase-heartbeat-store",Vg=null;function oE(){return Vg||(Vg=eE($P,HP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ca)}catch(n){console.warn(n)}}}}).catch(t=>{throw br.create("idb-open",{originalErrorMessage:t.message})})),Vg}function zP(t){return g(this,null,function*(){try{let n=(yield oE()).transaction(ca),r=yield n.objectStore(ca).get(aE(t));return yield n.done,r}catch(e){if(e instanceof Jt)vi.warn(e.message);else{let n=br.create("idb-get",{originalErrorMessage:e?.message});vi.warn(n.message)}}})}function rE(t,e){return g(this,null,function*(){try{let r=(yield oE()).transaction(ca,"readwrite");yield r.objectStore(ca).put(e,aE(t)),yield r.done}catch(n){if(n instanceof Jt)vi.warn(n.message);else{let r=br.create("idb-set",{originalErrorMessage:n?.message});vi.warn(r.message)}}})}function aE(t){return`${t.name}!${t.options.appId}`}var GP=1024,WP=30*24*60*60*1e3,zg=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Gg(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return g(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=iE();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=WP}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return g(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=iE(),{heartbeatsToSend:r,unsentEntries:i}=qP(this._heartbeatsCache.heartbeats),s=na(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function iE(){return new Date().toISOString().substring(0,10)}function qP(t,e=GP){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),sE(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),sE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Gg=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return g(this,null,function*(){return BC()?$C().then(()=>!0).catch(()=>!1):!1})}read(){return g(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield zP(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return g(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return rE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return g(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return rE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function sE(t){return na(JSON.stringify({version:2,heartbeats:t})).length}function KP(t){Cr(new Lt("platform-logger",e=>new jg(e),"PRIVATE")),Cr(new Lt("heartbeat",e=>new zg(e),"PRIVATE")),Xt(Ug,tE,t),Xt(Ug,tE,"esm2017"),Xt("fire-js","")}KP("");function DE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var SE=DE,TE=new Hn("auth","Firebase",DE());var mu=new wr("@firebase/auth");function YP(t,...e){mu.logLevel<=me.WARN&&mu.warn(`Auth (${Er}): ${t}`,...e)}function hu(t,...e){mu.logLevel<=me.ERROR&&mu.error(`Auth (${Er}): ${t}`,...e)}function Tn(t,...e){throw pm(t,...e)}function wi(t,...e){return pm(t,...e)}function ME(t,e,n){let r=Object.assign(Object.assign({},SE()),{[e]:n});return new Hn("auth","Firebase",r).create(e,{appName:t.name})}function Dr(t){return ME(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function pm(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return TE.create(t,...e)}function L(t,e,...n){if(!t)throw pm(e,...n)}function zn(t){let e="INTERNAL ASSERTION FAILED: "+t;throw hu(e),new Error(e)}function Sr(t,e){t||zn(e)}function Qg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function QP(){return lE()==="http:"||lE()==="https:"}function lE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function ZP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(QP()||jC()||"connection"in navigator)?navigator.onLine:!0}function JP(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var bi=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Sr(n>e,"Short delay should be less than long delay!"),this.isMobile=ia()||su()}get(){return ZP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function gm(t,e){Sr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var yu=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var XP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var eF=new bi(3e4,6e4);function Ei(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Tr(s,o,a,l){return g(this,arguments,function*(t,e,n,r,i={}){return AE(t,i,()=>g(this,null,function*(){let c={},u={};r&&(e==="GET"?u=r:c={body:JSON.stringify(r)});let d=yi(Object.assign({key:t.config.apiKey},u)).slice(1),h=yield t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),yu.fetch()(NE(t,t.config.apiHost,n,d),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},c))}))})}function AE(t,e,n){return g(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},XP),e);try{let i=new Zg(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw du(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw du(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw du(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw du(t,"user-disabled",o);let u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw ME(t,u,c);Tn(t,u)}}catch(i){if(i instanceof Jt)throw i;Tn(t,"network-request-failed",{message:String(i)})}})}function Tu(s,o,a,l){return g(this,arguments,function*(t,e,n,r,i={}){let c=yield Tr(t,e,n,r,i);return"mfaPendingCredential"in c&&Tn(t,"multi-factor-auth-required",{_serverResponse:c}),c})}function NE(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?gm(t.config,i):`${t.config.apiScheme}://${i}`}function tF(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Zg=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(wi(this.auth,"network-request-failed")),eF.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function du(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=wi(t,e,r);return i.customData._tokenResponse=n,i}function cE(t){return t!==void 0&&t.enterprise!==void 0}var Jg=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return tF(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function nF(t,e){return g(this,null,function*(){return Tr(t,"GET","/v2/recaptchaConfig",Ei(t,e))})}function rF(t,e){return g(this,null,function*(){return Tr(t,"POST","/v1/accounts:delete",e)})}function xE(t,e){return g(this,null,function*(){return Tr(t,"POST","/v1/accounts:lookup",e)})}function da(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function RE(t,e=!1){return g(this,null,function*(){let n=et(t),r=yield n.getIdToken(e),i=mm(r);L(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:da(qg(i.auth_time)),issuedAtTime:da(qg(i.iat)),expirationTime:da(qg(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function qg(t){return Number(t)*1e3}function mm(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return hu("JWT malformed, contained fewer than 3 sections"),null;try{let i=ra(n);return i?JSON.parse(i):(hu("Failed to decode base64 JWT payload"),null)}catch(i){return hu("Caught error parsing JWT payload as JSON",i?.toString()),null}}function uE(t){let e=mm(t);return L(e,"internal-error"),L(typeof e.exp<"u","internal-error"),L(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function fa(t,e,n=!1){return g(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Jt&&iF(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function iF({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Xg=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>g(this,null,function*(){yield this.iteration()}),n)}iteration(){return g(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var pa=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=da(this.lastLoginAt),this.creationTime=da(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function _u(t){return g(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield fa(t,xE(n,{idToken:r}));L(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?OE(s.providerUserInfo):[],a=sF(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!a?.length,u=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new pa(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)})}function kE(t){return g(this,null,function*(){let e=et(t);yield _u(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function sF(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function OE(t){return t.map(e=>{var{providerId:n}=e,r=ch(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function oF(t,e){return g(this,null,function*(){let n=yield AE(t,{},()=>g(this,null,function*(){let r=yi({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=NE(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",yu.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function aF(t,e){return g(this,null,function*(){return Tr(t,"POST","/v2/accounts:revokeToken",Ei(t,e))})}var ha=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){L(e.idToken,"internal-error"),L(typeof e.idToken<"u","internal-error"),L(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):uE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){L(e.length!==0,"internal-error");let n=uE(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return g(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(L(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return g(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield oF(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(L(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(L(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(L(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return zn("not implemented")}};function Ir(t,e){L(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Fs=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=ch(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xg(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new pa(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return g(this,null,function*(){let n=yield fa(this,this.stsTokenManager.getToken(this.auth,e));return L(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return RE(this,e)}reload(){return kE(this)}_assign(e){this!==e&&(L(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){L(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return g(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield _u(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return g(this,null,function*(){if(Dn(this.auth.app))return Promise.reject(Dr(this.auth));let e=yield this.getIdToken();return yield fa(this,rF(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,u;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,C=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,R=(c=n.createdAt)!==null&&c!==void 0?c:void 0,K=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:U,emailVerified:ce,isAnonymous:Ye,providerData:be,stsTokenManager:Se}=n;L(U&&Se,e,"internal-error");let Pe=ha.fromJSON(this.name,Se);L(typeof U=="string",e,"internal-error"),Ir(d,e.name),Ir(h,e.name),L(typeof ce=="boolean",e,"internal-error"),L(typeof Ye=="boolean",e,"internal-error"),Ir(f,e.name),Ir(p,e.name),Ir(m,e.name),Ir(C,e.name),Ir(R,e.name),Ir(K,e.name);let yt=new t({uid:U,auth:e,email:h,emailVerified:ce,displayName:d,isAnonymous:Ye,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:Pe,createdAt:R,lastLoginAt:K});return be&&Array.isArray(be)&&(yt.providerData=be.map(sn=>Object.assign({},sn))),C&&(yt._redirectEventId=C),yt}static _fromIdTokenResponse(e,n,r=!1){return g(this,null,function*(){let i=new ha;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield _u(s),s})}static _fromGetAccountInfoResponse(e,n,r){return g(this,null,function*(){let i=n.users[0];L(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?OE(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new ha;a.updateFromIdToken(r);let l=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new pa(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(l,c),l})}};var dE=new Map;function Gn(t){Sr(t instanceof Function,"Expected a class definition");let e=dE.get(t);return e?(Sr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,dE.set(t,e),e)}var lF=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return g(this,null,function*(){return!0})}_set(n,r){return g(this,null,function*(){this.storage[n]=r})}_get(n){return g(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return g(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),em=lF;function fu(t,e,n){return`firebase:${t}:${e}:${n}`}var vu=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=fu(this.userKey,i.apiKey,s),this.fullPersistenceKey=fu("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return g(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Fs._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return g(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return g(this,null,function*(){if(!n.length)return new t(Gn(em),e,r);let i=(yield Promise.all(n.map(c=>g(this,null,function*(){if(yield c._isAvailable())return c})))).filter(c=>c),s=i[0]||Gn(em),o=fu(r,e.config.apiKey,e.name),a=null;for(let c of n)try{let u=yield c._get(o);if(u){let d=Fs._fromJSON(e,u);c!==s&&(a=d),s=c;break}}catch{}let l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new t(s,e,r):(s=l[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(c=>g(this,null,function*(){if(c!==s)try{yield c._remove(o)}catch{}}))),new t(s,e,r))})}};function hE(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(LE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(PE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(jE(e))return"Blackberry";if(UE(e))return"Webos";if(ym(e))return"Safari";if((e.includes("chrome/")||FE(e))&&!e.includes("edge/"))return"Chrome";if(VE(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function PE(t=Ke()){return/firefox\//i.test(t)}function ym(t=Ke()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function FE(t=Ke()){return/crios\//i.test(t)}function LE(t=Ke()){return/iemobile/i.test(t)}function VE(t=Ke()){return/android/i.test(t)}function jE(t=Ke()){return/blackberry/i.test(t)}function UE(t=Ke()){return/webos/i.test(t)}function Mu(t=Ke()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function cF(t=Ke()){var e;return Mu(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function uF(){return UC()&&document.documentMode===10}function BE(t=Ke()){return Mu(t)||VE(t)||UE(t)||jE(t)||/windows phone/i.test(t)||LE(t)}function dF(){try{return!!(window&&window!==window.top)}catch{return!1}}function $E(t,e=[]){let n;switch(t){case"Browser":n=hE(Ke());break;case"Worker":n=`${hE(Ke())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Er}/${r}`}var tm=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return g(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function hF(n){return g(this,arguments,function*(t,e={}){return Tr(t,"GET","/v2/passwordPolicy",Ei(t,e))})}var fF=6,nm=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:fF,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var rm=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wu(this),this.idTokenSubscription=new wu(this),this.beforeStateQueue=new tm(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=TE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Gn(n)),this._initializationPromise=this.queue(()=>g(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield vu.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return g(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return g(this,null,function*(){try{let n=yield xE(this,{idToken:e}),r=yield Fs._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return g(this,null,function*(){var n;if(Dn(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,l=yield this.tryRedirectSignIn(e);(!o||o===a)&&l?.user&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return L(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return g(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return g(this,null,function*(){try{yield _u(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=JP()}_delete(){return g(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return g(this,null,function*(){if(Dn(this.app))return Promise.reject(Dr(this));let n=e?et(e):null;return n&&L(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return g(this,null,function*(){if(!this._deleted)return e&&L(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>g(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return g(this,null,function*(){return Dn(this.app)?Promise.reject(Dr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Dn(this.app)?Promise.reject(Dr(this)):this.queue(()=>g(this,null,function*(){yield this.assertedPersistence.setPersistence(Gn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return g(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return g(this,null,function*(){let e=yield hF(this),n=new nm(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Hn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return g(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield aF(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return g(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return g(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Gn(e)||this._popupRedirectResolver;L(n,this,"argument-error"),this.redirectPersistenceManager=yield vu.create(this,[Gn(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return g(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>g(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return g(this,null,function*(){if(e===this.currentUser)return this.queue(()=>g(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(L(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{let l=e.addObserver(n);return()=>{o=!0,l()}}}directlySetCurrentUser(e){return g(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return L(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$E(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return g(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return g(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&YP(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Ls(t){return et(t)}var wu=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=WC(n=>this.observer=n)}get next(){return L(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Au={loadJS(){return g(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function pF(t){Au=t}function HE(t){return Au.loadJS(t)}function gF(){return Au.recaptchaEnterpriseScript}function mF(){return Au.gapiScript}function zE(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var yF="recaptcha-enterprise",_F="NO_RECAPTCHA",im=class{constructor(e){this.type=yF,this.auth=Ls(e)}verify(e="verify",n=!1){return g(this,null,function*(){function r(s){return g(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>g(this,null,function*(){nF(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let c=new Jg(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})}))})}function i(s,o,a){let l=window.grecaptcha;cE(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(_F)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&cE(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=gF();l.length!==0&&(l+=a),HE(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})})}};function fE(t,e,n,r=!1){return g(this,null,function*(){let i=new im(t),s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function pE(t,e,n,r){return g(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield fE(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(s=>g(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield fE(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)}))})}function GE(t,e){let n=ua(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(ks(s,e??{}))return i;Tn(i,"already-initialized")}return n.initialize({options:e})}function vF(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Gn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function WE(t,e,n){let r=Ls(t);L(r._canInitEmulator,r,"emulator-config-failed"),L(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=qE(e),{host:o,port:a}=wF(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||bF()}function qE(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function wF(t){let e=qE(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:gE(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:gE(o)}}}function gE(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function bF(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var ga=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return zn("not implemented")}_getIdTokenResponse(e){return zn("not implemented")}_linkToIdToken(e,n){return zn("not implemented")}_getReauthenticationResolver(e){return zn("not implemented")}};function CF(t,e){return g(this,null,function*(){return Tr(t,"POST","/v1/accounts:signUp",e)})}function EF(t,e){return g(this,null,function*(){return Tu(t,"POST","/v1/accounts:signInWithPassword",Ei(t,e))})}function IF(t,e){return g(this,null,function*(){return Tu(t,"POST","/v1/accounts:signInWithEmailLink",Ei(t,e))})}function DF(t,e){return g(this,null,function*(){return Tu(t,"POST","/v1/accounts:signInWithEmailLink",Ei(t,e))})}var ma=class t extends ga{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return g(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return pE(e,n,"signInWithPassword",EF);case"emailLink":return IF(e,{email:this._email,oobCode:this._password});default:Tn(e,"internal-error")}})}_linkToIdToken(e,n){return g(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return pE(e,r,"signUpPassword",CF);case"emailLink":return DF(e,{idToken:n,email:this._email,oobCode:this._password});default:Tn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Kg(t,e){return g(this,null,function*(){return Tu(t,"POST","/v1/accounts:signInWithIdp",Ei(t,e))})}function SF(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function TF(t){let e=Os(Ps(t)).link,n=e?Os(Ps(e)).deep_link_id:null,r=Os(Ps(t)).deep_link_id;return(r?Os(Ps(r)).link:null)||r||n||e||t}var bu=class t{constructor(e){var n,r,i,s,o,a;let l=Os(Ps(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,d=SF((i=l.mode)!==null&&i!==void 0?i:null);L(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=TF(e);try{return new t(n)}catch{return null}}};var KE=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return ma._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=bu.parseLink(r);return L(i,"argument-error"),ma._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),Cu=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var sm=class extends Cu{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var ya=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return g(this,null,function*(){let s=yield Fs._fromIdTokenResponse(e,r,i),o=mE(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return g(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=mE(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function mE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var om=class t extends Jt{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function YE(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?om._fromErrorAndOperation(t,s,e,r):s})}function MF(t,e,n=!1){return g(this,null,function*(){let r=yield fa(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return ya._forOperation(t,"link",r)})}function AF(t,e,n=!1){return g(this,null,function*(){let{auth:r}=t;if(Dn(r.app))return Promise.reject(Dr(r));let i="reauthenticate";try{let s=yield fa(t,YE(r,i,e,t),n);L(s.idToken,r,"internal-error");let o=mm(s.idToken);L(o,r,"internal-error");let{sub:a}=o;return L(t.uid===a,r,"user-mismatch"),ya._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Tn(r,"user-mismatch"),s}})}function QE(t,e,n=!1){return g(this,null,function*(){if(Dn(t.app))return Promise.reject(Dr(t));let r="signIn",i=yield YE(t,r,e),s=yield ya._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function ZE(t,e){return g(this,null,function*(){return QE(Ls(t),e)})}function NF(t){return g(this,null,function*(){let e=Ls(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function _m(t,e,n){return Dn(t.app)?Promise.reject(Dr(t)):ZE(et(t),KE.credential(e,n)).catch(r=>g(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&NF(t),r}))}function JE(t,e,n,r){return et(t).onIdTokenChanged(e,n,r)}function XE(t,e,n){return et(t).beforeAuthStateChanged(e,n)}function vm(t,e,n,r){return et(t).onAuthStateChanged(e,n,r)}var Eu="__sak";var Iu=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Eu,"1"),this.storage.removeItem(Eu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function xF(){let t=Ke();return ym(t)||Mu(t)}var RF=1e3,kF=10,OF=(()=>{class t extends Iu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=xF()&&dF(),this.fallbackToPolling=BE(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}let i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(i);if(n.newValue!==a)n.newValue!==null?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);uF()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,kF):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},RF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return g(this,null,function*(){yield Hr(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return g(this,null,function*(){let r=yield Hr(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return g(this,null,function*(){yield Hr(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),eI=OF;var PF=(()=>{class t extends Iu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),wm=PF;function FF(t){return Promise.all(t.map(e=>g(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var LF=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return g(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let l=Array.from(a).map(u=>g(this,null,function*(){return u(r.origin,o)})),c=yield FF(l);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:c})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function tI(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var am=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return g(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{let c=tI("",20);i.port1.start();let u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){let h=d;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function Sn(){return window}function VF(t){Sn().location.href=t}function nI(){return typeof Sn().WorkerGlobalScope<"u"&&typeof Sn().importScripts=="function"}function jF(){return g(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function UF(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function BF(){return nI()?self:null}var rI="firebaseLocalStorageDb",$F=1,Du="firebaseLocalStorage",iI="fbase_key",Ci=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Nu(t,e){return t.transaction([Du],e?"readwrite":"readonly").objectStore(Du)}function HF(){let t=indexedDB.deleteDatabase(rI);return new Ci(t).toPromise()}function lm(){let t=indexedDB.open(rI,$F);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Du,{keyPath:iI})}catch(i){n(i)}}),t.addEventListener("success",()=>g(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Du)?e(r):(r.close(),yield HF(),e(yield lm()))}))})}function yE(t,e,n){return g(this,null,function*(){let r=Nu(t,!0).put({[iI]:e,value:n});return new Ci(r).toPromise()})}function zF(t,e){return g(this,null,function*(){let n=Nu(t,!1).get(e),r=yield new Ci(n).toPromise();return r===void 0?null:r.value})}function _E(t,e){let n=Nu(t,!0).delete(e);return new Ci(n).toPromise()}var GF=800,WF=3,qF=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return g(this,null,function*(){return this.db?this.db:(this.db=yield lm(),this.db)})}_withRetries(n){return g(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>WF)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return g(this,null,function*(){return nI()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return g(this,null,function*(){this.receiver=LF._getInstance(BF()),this.receiver._subscribe("keyChanged",(n,r)=>g(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>g(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return g(this,null,function*(){var n,r;if(this.activeServiceWorker=yield jF(),!this.activeServiceWorker)return;this.sender=new am(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return g(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||UF()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return g(this,null,function*(){try{if(!indexedDB)return!1;let n=yield lm();return yield yE(n,Eu,"1"),yield _E(n,Eu),!0}catch{}return!1})}_withPendingWrite(n){return g(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return g(this,null,function*(){return this._withPendingWrite(()=>g(this,null,function*(){return yield this._withRetries(i=>yE(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return g(this,null,function*(){let r=yield this._withRetries(i=>zF(i,n));return this.localCache[n]=r,r})}_remove(n){return g(this,null,function*(){return this._withPendingWrite(()=>g(this,null,function*(){return yield this._withRetries(r=>_E(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return g(this,null,function*(){let n=yield this._withRetries(s=>{let o=Nu(s,!1).getAll();return new Ci(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>g(this,null,function*(){return this._poll()}),GF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),sI=qF;var bG=zE("rcb"),CG=new bi(3e4,6e4);function KF(t,e){return e?Gn(e):(L(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var _a=class extends ga{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Kg(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Kg(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Kg(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function YF(t){return QE(t.auth,new _a(t),t.bypassAuthState)}function QF(t){let{auth:e,user:n}=t;return L(n,e,"internal-error"),AF(n,new _a(t),t.bypassAuthState)}function ZF(t){return g(this,null,function*(){let{auth:e,user:n}=t;return L(n,e,"internal-error"),MF(n,new _a(t),t.bypassAuthState)})}var cm=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>g(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return g(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(l))}catch(c){this.reject(c)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return YF;case"linkViaPopup":case"linkViaRedirect":return ZF;case"reauthViaPopup":case"reauthViaRedirect":return QF;default:Tn(this.auth,"internal-error")}}resolve(e){Sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var EG=new bi(2e3,1e4);var JF="pendingRedirect",pu=new Map,um=class t extends cm{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return g(this,null,function*(){let e=pu.get(this.auth._key());if(!e){try{let r=(yield XF(this.resolver,this.auth))?yield Hr(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}pu.set(this.auth._key(),e)}return this.bypassAuthState||pu.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return g(this,null,function*(){if(e.type==="signInViaRedirect")return Hr(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Hr(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return g(this,null,function*(){})}cleanUp(){}};function XF(t,e){return g(this,null,function*(){let n=nL(e),r=tL(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function eL(t,e){pu.set(t._key(),e)}function tL(t){return Gn(t._redirectPersistence)}function nL(t){return fu(JF,t.config.apiKey,t.name)}function rL(t,e,n=!1){return g(this,null,function*(){if(Dn(t.app))return Promise.reject(Dr(t));let r=Ls(t),i=KF(r,e),o=yield new um(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var iL=10*60*1e3,dm=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!sL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!oI(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(wi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=iL&&this.cachedEventUids.clear(),this.cachedEventUids.has(vE(e))}saveEventToCache(e){this.cachedEventUids.add(vE(e)),this.lastProcessedEventTime=Date.now()}};function vE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function oI({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function sL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oI(t);default:return!1}}function oL(n){return g(this,arguments,function*(t,e={}){return Tr(t,"GET","/v1/projects",e)})}var aL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lL=/^https?/;function cL(t){return g(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield oL(t);for(let n of e)try{if(uL(n))return}catch{}Tn(t,"unauthorized-domain")})}function uL(t){let e=Qg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!lL.test(n))return!1;if(aL.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var dL=new bi(3e4,6e4);function wE(){let t=Sn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function hL(t){return new Promise((e,n)=>{var r,i,s;function o(){wE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{wE(),n(wi(t,"network-request-failed"))},timeout:dL.get()})}if(!((i=(r=Sn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Sn().gapi)===null||s===void 0)&&s.load)o();else{let a=zE("iframefcb");return Sn()[a]=()=>{gapi.load?o():n(wi(t,"network-request-failed"))},HE(`${mF()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw gu=null,e})}var gu=null;function fL(t){return gu=gu||hL(t),gu}var pL=new bi(5e3,15e3),gL="__/auth/iframe",mL="emulator/auth/iframe",yL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_L=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vL(t){let e=t.config;L(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?gm(e,mL):`https://${t.config.authDomain}/${gL}`,r={apiKey:e.apiKey,appName:t.name,v:Er},i=_L.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${yi(r).slice(1)}`}function wL(t){return g(this,null,function*(){let e=yield fL(t),n=Sn().gapi;return L(n,t,"internal-error"),e.open({where:document.body,url:vL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yL,dontclear:!0},r=>new Promise((i,s)=>g(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=wi(t,"network-request-failed"),a=Sn().setTimeout(()=>{s(o)},pL.get());function l(){Sn().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})})))})}var bL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},CL=500,EL=600,IL="_blank",DL="http://localhost",Su=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function SL(t,e,n,r=CL,i=EL){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",l=Object.assign(Object.assign({},bL),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Ke().toLowerCase();n&&(a=FE(c)?IL:n),PE(c)&&(e=e||DL,l.scrollbars="yes");let u=Object.entries(l).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(cF(c)&&a!=="_self")return TL(e||"",a),new Su(null);let d=window.open(e||"",a,u);L(d,t,"popup-blocked");try{d.focus()}catch{}return new Su(d)}function TL(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var ML="__/auth/handler",AL="emulator/auth/handler",NL=encodeURIComponent("fac");function bE(t,e,n,r,i,s){return g(this,null,function*(){L(t.config.authDomain,t,"auth-domain-config-required"),L(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Er,eventId:i};if(e instanceof Cu){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",sa(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[u,d]of Object.entries(s||{}))o[u]=d}if(e instanceof sm){let u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let u of Object.keys(a))a[u]===void 0&&delete a[u];let l=yield t._getAppCheckToken(),c=l?`#${NL}=${encodeURIComponent(l)}`:"";return`${xL(t)}?${yi(a).slice(1)}${c}`})}function xL({config:t}){return t.emulator?gm(t,AL):`https://${t.authDomain}/${ML}`}var Yg="webStorageSupport",hm=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wm,this._completeRedirectFn=rL,this._overrideRedirectResult=eL}_openPopup(e,n,r,i){return g(this,null,function*(){var s;Sr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield bE(e,n,r,Qg(),i);return SL(e,o,tI())})}_openRedirect(e,n,r,i){return g(this,null,function*(){yield this._originValidation(e);let s=yield bE(e,n,r,Qg(),i);return VF(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Sr(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return g(this,null,function*(){let n=yield wL(e),r=new dm(e);return n.register("authEvent",i=>(L(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Yg,{type:Yg},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[Yg];o!==void 0&&n(!!o),Tn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=cL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return BE()||ym()||Mu()}},aI=hm;var CE="@firebase/auth",EE="1.7.4";var fm=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return g(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){L(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function RL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function kL(t){Cr(new Lt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;L(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$E(t)},c=new rm(r,i,s,l);return vF(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Cr(new Lt("auth-internal",e=>{let n=Ls(e.getProvider("auth").getImmediate());return(r=>new fm(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xt(CE,EE,RL(t)),Xt(CE,EE,"esm2017")}var OL=5*60,PL=Rg("authIdTokenMaxAge")||OL,IE=null,FL=t=>e=>g(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>PL)return;let i=n?.token;IE!==i&&(IE=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function va(t=uu()){let e=ua(t,"auth");if(e.isInitialized())return e.getImmediate();let n=GE(t,{popupRedirectResolver:aI,persistence:[sI,eI,wm]}),r=Rg("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=FL(s.toString());XE(n,o,()=>o(n.currentUser)),JE(n,a=>o(a))}}let i=Ng("auth");return i&&WE(n,`http://${i}`),n}function LL(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}pF({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=wi("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",LL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});kL("Browser");var VL="firebase",jL="10.12.2";Xt(VL,jL,"app");var lI={apiKey:"AIzaSyBFNn8bOJwSlczp0HZKzrrH4g0iH0PHfd4",authDomain:"cardo-425721.firebaseapp.com",databaseURL:"https://cardo-425721-default-rtdb.firebaseio.com",projectId:"cardo-425721",storageBucket:"cardo-425721.appspot.com",messagingSenderId:"887682909859",appId:"1:887682909859:web:d3bee13fad508780f52116"};var bm=new O("JWT_OPTIONS"),xu=(()=>{class t{constructor(n=null){this.tokenGetter=n&&n.tokenGetter||function(){}}urlBase64Decode(n){let r=n.replace(/-/g,"+").replace(/_/g,"/");switch(r.length%4){case 0:break;case 2:{r+="==";break}case 3:{r+="=";break}default:throw new Error("Illegal base64url string!")}return this.b64DecodeUnicode(r)}b64decode(n){let r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i="";if(n=String(n).replace(/=+$/,""),n.length%4===1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(let s=0,o,a,l=0;a=n.charAt(l++);~a&&(o=s%4?o*64+a:a,s++%4)?i+=String.fromCharCode(255&o>>(-2*s&6)):0)a=r.indexOf(a);return i}b64DecodeUnicode(n){return decodeURIComponent(Array.prototype.map.call(this.b64decode(n),r=>"%"+("00"+r.charCodeAt(0).toString(16)).slice(-2)).join(""))}decodeToken(n=this.tokenGetter()){return n instanceof Promise?n.then(r=>this._decodeToken(r)):this._decodeToken(n)}_decodeToken(n){if(!n||n==="")return null;let r=n.split(".");if(r.length!==3)throw new Error("The inspected token doesn't appear to be a JWT. Check to make sure it has three parts and see https://jwt.io for more.");let i=this.urlBase64Decode(r[1]);if(!i)throw new Error("Cannot decode the token.");return JSON.parse(i)}getTokenExpirationDate(n=this.tokenGetter()){return n instanceof Promise?n.then(r=>this._getTokenExpirationDate(r)):this._getTokenExpirationDate(n)}_getTokenExpirationDate(n){let r;if(r=this.decodeToken(n),!r||!r.hasOwnProperty("exp"))return null;let i=new Date(0);return i.setUTCSeconds(r.exp),i}isTokenExpired(n=this.tokenGetter(),r){return n instanceof Promise?n.then(i=>this._isTokenExpired(i,r)):this._isTokenExpired(n,r)}_isTokenExpired(n,r){if(!n||n==="")return!0;let i=this.getTokenExpirationDate(n);return r=r||0,i===null?!1:!(i.valueOf()>new Date().valueOf()+r*1e3)}getAuthScheme(n,r){return typeof n=="function"?n(r):n}}return t.\u0275fac=function(n){return new(n||t)(T(bm))},t.\u0275prov=I({token:t,factory:t.\u0275fac}),t})(),cI=t=>t instanceof Promise?Yi(()=>t):V(t),UL=(()=>{class t{constructor(n,r,i){this.jwtHelper=r,this.document=i,this.standardPorts=["80","443"],this.tokenGetter=n.tokenGetter,this.headerName=n.headerName||"Authorization",this.authScheme=n.authScheme||n.authScheme===""?n.authScheme:"Bearer ",this.allowedDomains=n.allowedDomains||[],this.disallowedRoutes=n.disallowedRoutes||[],this.throwNoTokenError=n.throwNoTokenError||!1,this.skipWhenExpired=n.skipWhenExpired}isAllowedDomain(n){let r=new URL(n.url,this.document.location.origin);if(r.host===this.document.location.host)return!0;let i=`${r.hostname}${r.port&&!this.standardPorts.includes(r.port)?":"+r.port:""}`;return this.allowedDomains.findIndex(s=>typeof s=="string"?s===i:s instanceof RegExp?s.test(i):!1)>-1}isDisallowedRoute(n){let r=new URL(n.url,this.document.location.origin);return this.disallowedRoutes.findIndex(i=>{if(typeof i=="string"){let s=new URL(i,this.document.location.origin);return s.hostname===r.hostname&&s.pathname===r.pathname}return i instanceof RegExp?i.test(n.url):!1})>-1}handleInterception(n,r,i){let s=this.jwtHelper.getAuthScheme(this.authScheme,r);if(!n&&this.throwNoTokenError)throw new Error("Could not get token from tokenGetter function.");let o=V(!1);return this.skipWhenExpired&&(o=n?cI(this.jwtHelper.isTokenExpired(n)):V(!0)),n?o.pipe(G(a=>a&&this.skipWhenExpired?r.clone():r.clone({setHeaders:{[this.headerName]:`${s}${n}`}})),Ne(a=>i.handle(a))):i.handle(r)}intercept(n,r){if(!this.isAllowedDomain(n)||this.isDisallowedRoute(n))return r.handle(n);let i=this.tokenGetter(n);return cI(i).pipe(Ne(s=>this.handleInterception(s,n,r)))}}return t.\u0275fac=function(n){return new(n||t)(T(bm),T(xu),T(Je))},t.\u0275prov=I({token:t,factory:t.\u0275fac}),t})(),uI=(()=>{class t{constructor(n){if(n)throw new Error("JwtModule is already loaded. It should only be imported in your application's main module.")}static forRoot(n){return{ngModule:t,providers:[{provide:U0,useClass:UL,multi:!0},n.jwtOptionsProvider||{provide:bm,useValue:n.config},xu]}}}return t.\u0275fac=function(n){return new(n||t)(T(t,12))},t.\u0275mod=Et({type:t}),t.\u0275inj=Ct({}),t})();var Vs=(()=>{let e=class e{constructor(r,i){this.jwtHelper=r,this.router=i,this.firebaseApp=Wg(lI),vm(va(this.firebaseApp),s=>{s||this.signOut()})}parseEmail(r){return r.replaceAll("@","_").replaceAll(".","_")}getFirebaseApp(){return this.isAuthenticated()?this.firebaseApp:null}signIn(r,i){return g(this,null,function*(){let s=va(this.firebaseApp);return _m(s,r,i).then(o=>g(this,null,function*(){let a=yield o.user.getIdToken();return localStorage.setItem("jwt",a),this.user=this.parseEmail(r),!0})).catch(()=>!1)})}signOut(){let r=va(this.firebaseApp);localStorage.getItem("jwt")&&localStorage.removeItem("jwt"),r.signOut()}isAuthenticated(){let r=localStorage.getItem("jwt");if(!r||this.jwtHelper.isTokenExpired(r))return!1;let i=this.jwtHelper.decodeToken(r);return i.email?(this.user=this.parseEmail(i.email),!0):!1}canActivate(){return this.isAuthenticated()?!0:(this.router.navigate(["auth"]),!1)}};e.\u0275fac=function(i){return new(i||e)(T(xu),T($n))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Vt=(()=>{let e=class e{constructor(){this.notificationAdded=new he}push(r){this.notificationAdded.next(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var $L=t=>({background:t});function HL(t,e){if(t&1&&(y(0,"div",3),se(1),b()),t&2){let n=e.$implicit;dr(_n(3,$L,n.success?"aquamarine":"lightcoral")),A(),It(n.message)}}var hI=(()=>{let e=class e{constructor(r){this.notificationsService=r,this.notifications=[],this.timeout=1500}ngOnInit(){this.notificationsService.notificationAdded.subscribe(r=>this.handleNotification(r))}handleNotification(r){this.notifications.push(r),this.clearNext()}clearNext(){setTimeout(()=>this.notifications.splice(0,1),this.timeout)}};e.\u0275fac=function(i){return new(i||e)(E(Vt))},e.\u0275cmp=Ee({type:e,selectors:[["app-notifications"]],standalone:!0,features:[Ie],decls:3,vars:1,consts:[[1,"container"],[1,"bubble-container"],["class","bubble",3,"style",4,"ngFor","ngForOf"],[1,"bubble"]],template:function(i,s){i&1&&(y(0,"div",0)(1,"div",1),fe(2,HL,2,5,"div",2),b()()),i&2&&(A(2),x("ngForOf",s.notifications))},dependencies:[Xe,wn],styles:["body[_ngcontent-%COMP%]{margin:0;background:#dedede;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{height:2.5rem;margin:0 .5rem;padding:.25rem;border:none;outline:none;border-radius:5px;background-color:#f0f8ff;font-size:large;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}textarea[_ngcontent-%COMP%]{height:3.5rem}button[_ngcontent-%COMP%]{font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}.label[_ngcontent-%COMP%]{font-size:20px}.btn[_ngcontent-%COMP%]{width:fit-content;margin:auto;padding:.5rem 1rem;border:none;outline:none;height:3rem;border-radius:5px;font-size:20px;box-shadow:0 1px 2px #d3d3d3}.submit[_ngcontent-%COMP%]{background-color:#90ee90}.cancel[_ngcontent-%COMP%]{background-color:#f08080}.icon-btn[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;outline:none;border:none;background:none;width:4rem;height:4rem;padding:0 .5rem}.icon-btn[_ngcontent-%COMP%]:hover{cursor:pointer;outline:solid 1px black}.navbar[_ngcontent-%COMP%]{height:4rem;width:100%;display:flex;flex-direction:row;justify-content:space-between}.border-input[_ngcontent-%COMP%]{background:#ffffff10;border:solid 1px black}.container[_ngcontent-%COMP%]{position:absolute;z-index:2;top:0;left:0;width:100%;display:flex;flex-direction:row;justify-content:center}.bubble-container[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse;justify-content:center;margin-top:.5rem;gap:.5rem}.bubble[_ngcontent-%COMP%]{border-radius:16px;width:fit-content;padding:.25rem 1rem;box-shadow:0 1px 3px gray;margin:auto;font-size:20px}"]});let t=e;return t})();var vI=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(E(yn),E(Yt))},e.\u0275dir=Re({type:e});let t=e;return t})(),Bu=(()=>{let e=class e extends vI{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=cr(e)))(s||e)}})(),e.\u0275dir=Re({type:e,features:[Pt]});let t=e;return t})(),Hs=new O("");var zL={provide:Hs,useExisting:pn(()=>Mn),multi:!0};function GL(){let t=vn()?vn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var WL=new O(""),Mn=(()=>{let e=class e extends vI{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!GL())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(E(yn),E(Yt),E(WL,8))},e.\u0275dir=Re({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&F("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[hr([zL]),Pt]});let t=e;return t})();function Mr(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function wI(t){return t!=null&&typeof t.length=="number"}var Sm=new O(""),Tm=new O(""),qL=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,tt=class{static min(e){return KL(e)}static max(e){return YL(e)}static required(e){return QL(e)}static requiredTrue(e){return ZL(e)}static email(e){return JL(e)}static minLength(e){return XL(e)}static maxLength(e){return e2(e)}static pattern(e){return t2(e)}static nullValidator(e){return bI(e)}static compose(e){return TI(e)}static composeAsync(e){return AI(e)}};function KL(t){return e=>{if(Mr(e.value)||Mr(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function YL(t){return e=>{if(Mr(e.value)||Mr(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function QL(t){return Mr(t.value)?{required:!0}:null}function ZL(t){return t.value===!0?null:{required:!0}}function JL(t){return Mr(t.value)||qL.test(t.value)?null:{email:!0}}function XL(t){return e=>Mr(e.value)||!wI(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function e2(t){return e=>wI(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function t2(t){if(!t)return bI;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Mr(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function bI(t){return null}function CI(t){return t!=null}function EI(t){return fr(t)?Oe(t):t}function II(t){let e={};return t.forEach(n=>{e=n!=null?w(w({},e),n):e}),Object.keys(e).length===0?null:e}function DI(t,e){return e.map(n=>n(t))}function n2(t){return!t.validate}function SI(t){return t.map(e=>n2(e)?e:n=>e.validate(n))}function TI(t){if(!t)return null;let e=t.filter(CI);return e.length==0?null:function(n){return II(DI(n,e))}}function MI(t){return t!=null?TI(SI(t)):null}function AI(t){if(!t)return null;let e=t.filter(CI);return e.length==0?null:function(n){let r=DI(n,e).map(EI);return hh(r).pipe(G(II))}}function NI(t){return t!=null?AI(SI(t)):null}function fI(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function xI(t){return t._rawValidators}function RI(t){return t._rawAsyncValidators}function Cm(t){return t?Array.isArray(t)?t:[t]:[]}function ku(t,e){return Array.isArray(t)?t.includes(e):t===e}function pI(t,e){let n=Cm(e);return Cm(t).forEach(i=>{ku(n,i)||n.push(i)}),n}function gI(t,e){return Cm(e).filter(n=>!ku(t,n))}var Ou=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=MI(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=NI(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},$s=class extends Ou{get formDirective(){return null}get path(){return null}},Ii=class extends Ou{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Pu=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},r2={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},S7=Y(w({},r2),{"[class.ng-submitted]":"isSubmitted"}),Nr=(()=>{let e=class e extends Pu{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(E(Ii,2))},e.\u0275dir=Re({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&Nc("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[Pt]});let t=e;return t})(),zs=(()=>{let e=class e extends Pu{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(E($s,10))},e.\u0275dir=Re({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,s){i&2&&Nc("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[Pt]});let t=e;return t})();var wa="VALID",Ru="INVALID",Us="PENDING",ba="DISABLED",Ar=class{},Fu=class extends Ar{constructor(e,n){super(),this.value=e,this.source=n}},Ca=class extends Ar{constructor(e,n){super(),this.pristine=e,this.source=n}},Ea=class extends Ar{constructor(e,n){super(),this.touched=e,this.source=n}},Bs=class extends Ar{constructor(e,n){super(),this.status=e,this.source=n}},Em=class extends Ar{constructor(e){super(),this.source=e}},Im=class extends Ar{constructor(e){super(),this.source=e}};function kI(t){return($u(t)?t.validators:t)||null}function i2(t){return Array.isArray(t)?MI(t):t||null}function OI(t,e){return($u(e)?e.asyncValidators:t)||null}function s2(t){return Array.isArray(t)?NI(t):t||null}function $u(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function o2(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new _(1e3,"");if(!r[n])throw new _(1001,"")}function a2(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new _(1002,"")})}var Lu=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._events=new he,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===wa}get invalid(){return this.status===Ru}get pending(){return this.status==Us}get disabled(){return this.status===ba}get enabled(){return this.status!==ba}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(pI(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(pI(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(gI(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(gI(e,this._rawAsyncValidators))}hasValidator(e){return ku(this._rawValidators,e)}hasAsyncValidator(e){return ku(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(Y(w({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Ea(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Ea(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(Y(w({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Ca(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Ca(!0,r))}markAsPending(e={}){this.status=Us;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Bs(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(Y(w({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ba,this.errors=null,this._forEachChild(i=>{i.disable(Y(w({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Fu(this.value,r)),this._events.next(new Bs(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Y(w({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=wa,this._forEachChild(r=>{r.enable(Y(w({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Y(w({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===wa||this.status===Us)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Fu(this.value,n)),this._events.next(new Bs(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(Y(w({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ba:wa}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Us,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=EI(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Bs(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new J,this.statusChanges=new J}_calculateStatus(){return this._allControlsDisabled()?ba:this.errors?Ru:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Us)?Us:this._anyControlsHaveStatus(Ru)?Ru:wa}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new Ca(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Ea(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){$u(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=i2(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=s2(this._rawAsyncValidators)}},Wn=class extends Lu{constructor(e,n,r){super(kI(n),OI(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){a2(this,!0,e),Object.keys(e).forEach(r=>{o2(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Mm=new O("CallSetDisabledState",{providedIn:"root",factory:()=>Am}),Am="always";function l2(t,e){return[...e.path,t]}function Dm(t,e,n=Am){Nm(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),u2(t,e),h2(t,e),d2(t,e),c2(t,e)}function Vu(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Uu(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function ju(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function c2(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Nm(t,e){let n=xI(t);e.validator!==null?t.setValidators(fI(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=RI(t);e.asyncValidator!==null?t.setAsyncValidators(fI(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();ju(e._rawValidators,i),ju(e._rawAsyncValidators,i)}function Uu(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=xI(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(e.asyncValidator!==null){let i=RI(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}let r=()=>{};return ju(e._rawValidators,r),ju(e._rawAsyncValidators,r),n}function u2(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&PI(t,e)})}function d2(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&PI(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function PI(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function h2(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function f2(t,e){t==null,Nm(t,e)}function p2(t,e){return Uu(t,e)}function FI(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function g2(t){return Object.getPrototypeOf(t.constructor)===Bu}function m2(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function LI(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===Mn?n=s:g2(s)?r=s:i=s}),i||r||n||null}function y2(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function mI(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function yI(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Ae=class extends Lu{constructor(e=null,n,r){super(kI(n),OI(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),$u(n)&&(n.nonNullable||n.initialValueIsDefault)&&(yI(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){mI(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){mI(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){yI(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var _2=t=>t instanceof Ae;var Gs=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Re({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})(),v2={provide:Hs,useExisting:pn(()=>xm),multi:!0},xm=(()=>{let e=class e extends Bu{writeValue(r){let i=r??"";this.setProperty("value",i)}registerOnChange(r){this.onChange=i=>{r(i==""?null:parseFloat(i))}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=cr(e)))(s||e)}})(),e.\u0275dir=Re({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,s){i&1&&F("input",function(a){return s.onChange(a.target.value)})("blur",function(){return s.onTouched()})},features:[hr([v2]),Pt]});let t=e;return t})();var Rm=new O(""),w2={provide:Ii,useExisting:pn(()=>km)},km=(()=>{let e=class e extends Ii{set isDisabled(r){}constructor(r,i,s,o,a){super(),this._ngModelWarningConfig=o,this.callSetDisabledState=a,this.update=new J,this._ngModelWarningSent=!1,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=LI(this,s)}ngOnChanges(r){if(this._isControlChanged(r)){let i=r.form.previousValue;i&&Vu(i,this,!1),Dm(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}FI(r,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Vu(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_isControlChanged(r){return r.hasOwnProperty("form")}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(E(Sm,10),E(Tm,10),E(Hs,10),E(Rm,8),E(Mm,8))},e.\u0275dir=Re({type:e,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[hr([w2]),Pt,jn]});let t=e;return t})(),b2={provide:$s,useExisting:pn(()=>Di)},Di=(()=>{let e=class e extends $s{constructor(r,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new J,this._setValidators(r),this._setAsyncValidators(i)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Uu(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){let i=this.form.get(r.path);return Dm(i,r,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),i}getControl(r){return this.form.get(r.path)}removeControl(r){Vu(r.control||null,r,!1),y2(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,i){this.form.get(r.path).setValue(i)}onSubmit(r){return this.submitted=!0,m2(this.form,this.directives),this.ngSubmit.emit(r),this.form._events.next(new Em(this.control)),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1,this.form._events.next(new Im(this.form))}_updateDomValue(){this.directives.forEach(r=>{let i=r.control,s=this.form.get(r.path);i!==s&&(Vu(i||null,r),_2(s)&&(Dm(s,r,this.callSetDisabledState),r.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){let i=this.form.get(r.path);f2(i,r),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){let i=this.form.get(r.path);i&&p2(i,r)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Nm(this.form,this),this._oldForm&&Uu(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(i){return new(i||e)(E(Sm,10),E(Tm,10),E(Mm,8))},e.\u0275dir=Re({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,s){i&1&&F("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[hr([b2]),Pt,jn]});let t=e;return t})();var C2={provide:Ii,useExisting:pn(()=>Si)},Si=(()=>{let e=class e extends Ii{set isDisabled(r){}constructor(r,i,s,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new J,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=LI(this,o)}ngOnChanges(r){this._added||this._setUpControl(),FI(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return l2(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(E($s,13),E(Sm,10),E(Tm,10),E(Hs,10),E(Rm,8))},e.\u0275dir=Re({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[hr([C2]),Pt,jn]});let t=e;return t})(),E2={provide:Hs,useExisting:pn(()=>Ws),multi:!0};function VI(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function I2(t){return t.split(":")[0]}var Ws=(()=>{let e=class e extends Bu{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i=this._getOptionId(r),s=VI(i,r);this.setProperty("value",s)}registerOnChange(r){this.onChange=i=>{this.value=this._getOptionValue(i),r(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),r))return i;return null}_getOptionValue(r){let i=I2(r);return this._optionMap.has(i)?this._optionMap.get(i):r}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=cr(e)))(s||e)}})(),e.\u0275dir=Re({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,s){i&1&&F("change",function(a){return s.onChange(a.target.value)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[hr([E2]),Pt]});let t=e;return t})(),Hu=(()=>{let e=class e{constructor(r,i,s){this._element=r,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(r){this._select!=null&&(this._select._optionMap.set(this.id,r),this._setElementValue(VI(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._setElementValue(r),this._select&&this._select.writeValue(this._select.value)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(E(Yt),E(yn),E(Ws,9))},e.\u0275dir=Re({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})(),D2={provide:Hs,useExisting:pn(()=>jI),multi:!0};function _I(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function S2(t){return t.split(":")[0]}var jI=(()=>{let e=class e extends Bu{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i;if(Array.isArray(r)){let s=r.map(o=>this._getOptionId(o));i=(o,a)=>{o._setSelected(s.indexOf(a.toString())>-1)}}else i=(s,o)=>{s._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(r){this.onChange=i=>{let s=[],o=i.selectedOptions;if(o!==void 0){let a=o;for(let l=0;l<a.length;l++){let c=a[l],u=this._getOptionValue(c.value);s.push(u)}}else{let a=i.options;for(let l=0;l<a.length;l++){let c=a[l];if(c.selected){let u=this._getOptionValue(c.value);s.push(u)}}}this.value=s,r(s)}}_registerOption(r){let i=(this._idCounter++).toString();return this._optionMap.set(i,r),i}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,r))return i;return null}_getOptionValue(r){let i=S2(r);return this._optionMap.has(i)?this._optionMap.get(i)._value:r}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=cr(e)))(s||e)}})(),e.\u0275dir=Re({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,s){i&1&&F("change",function(a){return s.onChange(a.target)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[hr([D2]),Pt]});let t=e;return t})(),zu=(()=>{let e=class e{constructor(r,i,s){this._element=r,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(r){this._select!=null&&(this._value=r,this._setElementValue(_I(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._select?(this._value=r,this._setElementValue(_I(this.id,r)),this._select.writeValue(this._select.value)):this._setElementValue(r)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}_setSelected(r){this._renderer.setProperty(this._element.nativeElement,"selected",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(E(Yt),E(yn),E(jI,9))},e.\u0275dir=Re({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();var T2=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Et({type:e}),e.\u0275inj=Ct({});let t=e;return t})();var xr=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:Rm,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:Mm,useValue:r.callSetDisabledState??Am}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Et({type:e}),e.\u0275inj=Ct({imports:[T2]});let t=e;return t})();var $=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}($||{}),An="*";function Ti(t,e){return{type:$.Trigger,name:t,definitions:e,options:{}}}function jt(t,e=null){return{type:$.Animate,styles:e,timings:t}}function UI(t,e=null){return{type:$.Sequence,steps:t,options:e}}function at(t){return{type:$.Style,styles:t,offset:null}}function Ut(t,e,n){return{type:$.State,name:t,styles:e,options:n}}function Bt(t,e,n=null){return{type:$.Transition,expr:t,animation:e,options:n}}var Rr=class{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},Ia=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,r=0,i=0,s=this.players.length;s==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++n==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let n=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,n/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((n,r)=>n===null||r.totalTime>n.totalTime?r:n,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},Wu="!";var BI=Ti("drop",[Ut("active",at({top:"0"})),Ut("inactive",at({top:"-100%"})),Bt("active => inactive",jt("200ms ease-out")),Bt("inactive => active",jt("200ms ease-in"))]);var M2=t=>({background:t}),$I=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ee({type:e,selectors:[["app-action-slider"]],inputs:{active:"active"},standalone:!0,features:[Ie],decls:2,vars:5,consts:[[1,"track",3,"ngStyle"]],template:function(i,s){i&1&&(y(0,"div",0),S(1,"div"),b()),i&2&&(x("ngStyle",_n(3,M2,s.active?"lightgreen":"gray")),A(),ai(s.active?"slider right":"slider left"))},dependencies:[V0],styles:["body[_ngcontent-%COMP%]{margin:0;background:#dedede;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{height:2.5rem;margin:0 .5rem;padding:.25rem;border:none;outline:none;border-radius:5px;background-color:#f0f8ff;font-size:large;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}textarea[_ngcontent-%COMP%]{height:3.5rem}button[_ngcontent-%COMP%]{font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}.label[_ngcontent-%COMP%]{font-size:20px}.btn[_ngcontent-%COMP%]{width:fit-content;margin:auto;padding:.5rem 1rem;border:none;outline:none;height:3rem;border-radius:5px;font-size:20px;box-shadow:0 1px 2px #d3d3d3}.submit[_ngcontent-%COMP%]{background-color:#90ee90}.cancel[_ngcontent-%COMP%]{background-color:#f08080}.icon-btn[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;outline:none;border:none;background:none;width:4rem;height:4rem;padding:0 .5rem}.icon-btn[_ngcontent-%COMP%]:hover{cursor:pointer;outline:solid 1px black}.navbar[_ngcontent-%COMP%]{height:4rem;width:100%;display:flex;flex-direction:row;justify-content:space-between}.border-input[_ngcontent-%COMP%]{background:#ffffff10;border:solid 1px black}[_nghost-%COMP%]{display:flex;flex-direction:column;justify-content:center;padding:4px;margin-right:4px}.track[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;border-radius:2rem;width:42px;height:24px;box-shadow:0 1px 1px gray}.slider[_ngcontent-%COMP%]{border-radius:2rem;width:18px;height:18px;background:#dedede;box-shadow:1px 1px 2px #00000070}.left[_ngcontent-%COMP%]{transition:all .3s ease;margin-left:4px}.right[_ngcontent-%COMP%]{transition:all .3s ease;margin-left:20px}"]});let t=e;return t})();var kr=(()=>{let e=class e{transform(r){switch(r){case"masculine":return"lightblue";case"feminine":return"lightpink";case"neuter":return"palegoldenrod";case"verb":return"plum";case"other":return"lightgreen";default:return"gray"}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275pipe=gs({name:"typeColor",type:e,pure:!0,standalone:!0});let t=e;return t})();var HI="@firebase/database",zI="1.0.5";var Ly="";function A2(t){Ly=t}var Bm=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ve(n))}get(e){let n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Rs(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var $m=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return En(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var bD=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){let e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Bm(e)}}catch{}return new $m},Ai=bD("localStorage"),Hm=bD("sessionStorage");var Ys=new wr("@firebase/database"),N2=function(){let t=1;return function(){return t++}}(),CD=function(t){let e=qC(t),n=new ru;n.update(e);let r=n.digest();return iu.encodeByteArray(r)},Ba=function(...t){let e="";for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Ba.apply(null,r):typeof r=="object"?e+=Ve(r):e+=r,e+=" "}return e},xi=null,GI=!0,x2=function(t,e){v(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Ys.logLevel=me.VERBOSE,xi=Ys.log.bind(Ys),e&&Hm.set("logging_enabled",!0)):typeof t=="function"?xi=t:(xi=null,Hm.remove("logging_enabled"))},nt=function(...t){if(GI===!0&&(GI=!1,xi===null&&Hm.get("logging_enabled")===!0&&x2(!0)),xi){let e=Ba.apply(null,t);xi(e)}},$a=function(t){return function(...e){nt(t,...e)}},zm=function(...t){let e="FIREBASE INTERNAL ERROR: "+Ba(...t);Ys.error(e)},qn=function(...t){let e=`FIREBASE FATAL ERROR: ${Ba(...t)}`;throw Ys.error(e),new Error(e)},pt=function(...t){let e="FIREBASE WARNING: "+Ba(...t);Ys.warn(e)},R2=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&pt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},ED=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},k2=function(t){if(Cn()||document.readyState==="complete")t();else{let e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Zs="[MIN_NAME]",Ri="[MAX_NAME]",io=function(t,e){if(t===e)return 0;if(t===Zs||e===Ri)return-1;if(e===Zs||t===Ri)return 1;{let n=WI(t),r=WI(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},O2=function(t,e){return t===e?0:t<e?-1:1},Da=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Ve(e))},Vy=function(t){if(typeof t!="object"||t===null)return Ve(t);let e=[];for(let r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Ve(e[r]),n+=":",n+=Vy(t[e[r]]);return n+="}",n},ID=function(t,e){let n=t.length;if(n<=e)return[t];let r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function gt(t,e){for(let n in t)t.hasOwnProperty(n)&&e(n,t[n])}var DD=function(t){v(!ED(t),"Invalid JSON number");let e=11,n=52,r=(1<<e-1)-1,i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));let c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();let u=c.join(""),d="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},P2=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},F2=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function L2(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");let r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}var V2=new RegExp("^-?(0*)\\d{1,10}$"),j2=-2147483648,U2=2147483647,WI=function(t){if(V2.test(t)){let e=Number(t);if(e>=j2&&e<=U2)return e}return null},so=function(t){try{t()}catch(e){setTimeout(()=>{let n=e.stack||"";throw pt("Exception was thrown by user callback.",n),e},Math.floor(0))}},B2=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Na=function(t,e){let n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var Gm=class{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){pt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}};var Wm=class{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(nt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',pt(e)}},xa=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}t.OWNER="owner";return t})(),Ku="5",SD="v",TD="s",MD="r",AD="f",ND=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,xD="ls",RD="p",qm="ac",kD="websocket",OD="long_polling";var Yu=class{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ai.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ai.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}};function $2(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function PD(t,e,n){v(typeof e=="string","typeof type must == string"),v(typeof n=="object","typeof params must == object");let r;if(e===kD)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===OD)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);$2(t)&&(n.ns=t.namespace);let i=[];return gt(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}var Km=class{constructor(){this.counters_={}}incrementCounter(e,n=1){En(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return PC(this.counters_)}};var Om={},Pm={};function jy(t){let e=t.toString();return Om[e]||(Om[e]=new Km),Om[e]}function H2(t,e){let n=t.toString();return Pm[n]||(Pm[n]=e()),Pm[n]}var Ym=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&so(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var qI="start",z2="close",G2="pLPCommand",W2="pRTLPCB",FD="id",LD="pw",VD="ser",q2="cb",K2="seg",Y2="ts",Q2="d",Z2="dframe",jD=1870,UD=30,J2=jD-UD,X2=25e3,eV=3e4,Qm=class t{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=$a(e),this.stats_=jy(n),this.urlFn=l=>(this.appCheckToken&&(l[qm]=this.appCheckToken),PD(n,OD,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Ym(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(eV)),k2(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Zm((...s)=>{let[o,a,l,c,u]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===qI)this.id=a,this.password=l;else if(o===z2)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{let[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[qI]="t",r[VD]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[q2]=this.scriptTagHolder.uniqueCallbackIdentifier),r[SD]=Ku,this.transportSessionId&&(r[TD]=this.transportSessionId),this.lastSessionId&&(r[xD]=this.lastSessionId),this.applicationId&&(r[RD]=this.applicationId),this.appCheckToken&&(r[qm]=this.appCheckToken),typeof location<"u"&&location.hostname&&ND.test(location.hostname)&&(r[MD]=AD);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){t.forceAllow_=!0}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){return Cn()?!1:t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!P2()&&!F2()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let n=Ve(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=Mg(n),i=ID(r,J2);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if(Cn())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[Z2]="t",r[FD]=e,r[LD]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let n=Ve(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},Zm=class t{constructor(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,Cn())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=N2(),window[G2+this.uniqueCallbackIdentifier]=e,window[W2+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');let o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){nt("frame writing exception"),a.stack&&nt(a.stack),nt(a)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||nt("No IE domain setting required")}catch{let r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[FD]=this.myID,e[LD]=this.myPW,e[VD]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+UD+r.length<=jD;){let o=this.pendingSegs.shift();r=r+"&"+K2+i+"="+o.seg+"&"+Y2+i+"="+o.ts+"&"+Q2+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(X2)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){Cn()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{nt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var tV=16384,nV=45e3,Qu=null;typeof MozWebSocket<"u"?Qu=MozWebSocket:typeof WebSocket<"u"&&(Qu=WebSocket);var Sa=(()=>{class t{constructor(n,r,i,s,o,a,l){this.connId=n,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=$a(this.connId),this.stats_=jy(r),this.connURL=t.connectionURL_(r,a,l,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,s,o){let a={};return a[SD]=Ku,!Cn()&&typeof location<"u"&&location.hostname&&ND.test(location.hostname)&&(a[MD]=AD),r&&(a[TD]=r),i&&(a[xD]=i),s&&(a[qm]=s),o&&(a[RD]=o),PD(n,kD,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ai.set("previous_websocket_failure",!0);try{let i;if(Cn()){let s=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${Ku}/${Ly}/${process.platform}/${s}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let o=process.env,a=this.connURL.indexOf("wss://")===0?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new Qu(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&Qu!==null&&!t.forceDisallow_}static previouslyFailed(){return Ai.isInMemoryStorage||Ai.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ai.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=Rs(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(v(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=Ve(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=ID(r,tV);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(nV))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4;return t})(),rV=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[Qm,Sa]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){let r=Sa&&Sa.isAvailable(),i=r&&!Sa.previouslyFailed();if(n.webSocketOnly&&(r||pt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Sa];else{let s=this.transports_=[];for(let o of t.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}t.globalTransportInitialized_=!1;return t})(),iV=6e4,sV=5e3,oV=10*1024,aV=100*1024,Fm="t",KI="d",lV="s",YI="r",cV="e",QI="o",ZI="a",JI="n",XI="p",uV="h",Jm=class{constructor(e,n,r,i,s,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=$a("c:"+this.id+":"),this.transportManager_=new rV(n),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Na(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>aV?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>oV?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){let n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Fm in e){let n=e[Fm];n===ZI?this.upgradeIfSecondaryHealthy_():n===YI?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===QI&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let n=Da("t",e),r=Da("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:XI,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:ZI,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:JI,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let n=Da("t",e),r=Da("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let n=Da(Fm,e);if(KI in e){let r=e[KI];if(n===uV){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===JI){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===lV?this.onConnectionShutdown_(r):n===YI?this.onReset_(r):n===cV?zm("Server Error: "+r):n===QI?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):zm("Unknown control packet command: "+n)}}onHandshake_(e){let n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Ku!==r&&pt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Na(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(iV))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Na(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(sV))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:XI,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ai.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var Zu=class{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}};var Ju=class{constructor(e){this.allowedEvents_=e,this.listeners_={},v(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){let r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});let i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);let i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){v(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};var Xu=class t extends Ju{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!ia()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new t}getInitialEvent(e){return v(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var eD=32,tD=768,ye=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function ue(){return new ye("")}function re(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Fr(t){return t.pieces_.length-t.pieceNum_}function De(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new ye(t.pieces_,e)}function BD(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function dV(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function $D(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function HD(t){if(t.pieceNum_>=t.pieces_.length)return null;let e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ye(e,0)}function Be(t,e){let n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof ye)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{let r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new ye(n,0)}function X(t){return t.pieceNum_>=t.pieces_.length}function lt(t,e){let n=re(t),r=re(e);if(n===null)return e;if(n===r)return lt(De(t),De(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function zD(t,e){if(Fr(t)!==Fr(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function tn(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Fr(t)>Fr(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var Xm=class{constructor(e,n){this.errorPrefix_=n,this.parts_=$D(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=aa(this.parts_[r]);GD(this)}};function hV(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=aa(e),GD(t)}function fV(t){let e=t.parts_.pop();t.byteLength_-=aa(e),t.parts_.length>0&&(t.byteLength_-=1)}function GD(t){if(t.byteLength_>tD)throw new Error(t.errorPrefix_+"has a key path longer than "+tD+" bytes ("+t.byteLength_+").");if(t.parts_.length>eD)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+eD+") or object contains a cycle "+Mi(t))}function Mi(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}var ey=class t extends Ju{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new t}getInitialEvent(e){return v(e==="visible","Unknown event type: "+e),[this.visible_]}};var Ta=1e3,pV=60*5*1e3,nD=30*1e3,gV=1.3,mV=3e4,yV="server_kill",rD=3,Uy=(()=>{class t extends Zu{constructor(n,r,i,s,o,a,l,c){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=t.nextPersistentConnectionId_++,this.log_=$a("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ta,this.maxReconnectDelay_=pV,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!Cn())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");ey.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&Xu.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let s=++this.requestNumber_,o={r:s,a:n,b:r};this.log_(Ve(o)),v(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(n){this.initConnection_();let r=new vr,s={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let l=a.d;a.s==="ok"?r.resolve(l):r.reject(l)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;let o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),r.promise}listen(n,r,i,s){this.initConnection_();let o=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),v(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),v(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");let l={onComplete:s,hashFn:r,query:n,tag:i};this.listens.get(a).set(o,l),this.connected_&&this.sendListen_(l)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);let o={p:i},a="q";n.tag&&(o.q=r._queryObject,o.t=n.tag),o.h=n.hashFn(),this.sendRequest(a,o,l=>{let c=l.d,u=l.s;t.warnOnListenWarnings_(c,r),(this.listens.get(i)&&this.listens.get(i).get(s))===n&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(i,s),n.onComplete&&n.onComplete(u,c))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&En(n,"w")){let i=mi(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();pt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||GC(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=nD)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=zC(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{let o=s.s,a=s.d||"error";this.authToken_===n&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),s=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),v(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,n._queryObject,r)}sendUnlisten_(n,r,i,s){this.log_("Unlisten on "+n+" for "+r);let o={p:n},a="n";s&&(o.q=i,o.t=s),this.sendRequest(a,o)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,s){let o={p:r,d:i};this.log_("onDisconnect "+n,o),this.sendRequest(n,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(n,r,i,s){this.putInternal("p",n,r,i,s)}merge(n,r,i,s){this.putInternal("m",n,r,i,s)}putInternal(n,r,i,s,o){this.initConnection_();let a={p:r,d:i};o!==void 0&&(a.h=o),this.outstandingPuts_.push({action:n,request:a,onComplete:s}),this.outstandingPutCount_++;let l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,s=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let o=i.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+Ve(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):zm("Unrecognized action received from server: "+Ve(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){v(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ta,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Ta,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>mV&&(this.reconnectDelay_=Ta),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=new Date().getTime()-this.lastConnectionAttemptTime_,r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*gV)}this.onConnectStatus_(!1)}establishConnection_(){return g(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+t.nextConnectionId_++,o=this.lastSessionId,a=!1,l=null,c=function(){l?l.close():(a=!0,i())},u=function(h){v(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(h)};this.realtime_={close:c,sendRequest:u};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[h,f]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?nt("getToken() completed but was canceled"):(nt("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=f&&f.token,l=new Jm(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,p=>{pt(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(yV)},o))}catch(h){this.log_("Failed to get token: "+h),a||(this.repoInfo_.nodeAdmin&&pt(h),c())}}})}interrupt(n){nt("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){nt("Resuming connection for reason: "+n),delete this.interruptReasons_[n],sa(this.interruptReasons_)&&(this.reconnectDelay_=Ta,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(o=>Vy(o)).join("$"):i="default";let s=this.removeListen_(n,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(n,r){let i=new ye(n).toString(),s;if(this.listens.has(i)){let o=this.listens.get(i);s=o.get(r),o.delete(r),o.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(n,r){nt("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=rD&&(this.reconnectDelay_=nD,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){nt("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=rD&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";Cn()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+Ly.replace(/\./g,"-")]=1,ia()?n["framework.cordova"]=1:su()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=Xu.getInstance().currentlyOnline();return sa(this.interruptReasons_)&&n}}t.nextPersistentConnectionId_=0,t.nextConnectionId_=0;return t})(),Z=class t{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new t(e,n)}};var Js=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){let r=new Z(Zs,e),i=new Z(Zs,n);return this.compare(r,i)!==0}minPost(){return Z.MIN}};var qu,ed=class extends Js{static get __EMPTY_NODE(){return qu}static set __EMPTY_NODE(e){qu=e}compare(e,n){return io(e.name,n.name)}isDefinedOn(e){throw gi("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Z.MIN}maxPost(){return new Z(Ri,qu)}makePost(e,n){return v(typeof e=="string","KeyIndex indexValue must always be a string."),new Z(e,qu)}toString(){return".key"}},Qs=new ed;var Ks=class{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},en=(()=>{class t{constructor(n,r,i,s,o){this.key=n,this.value=r,this.color=i??t.RED,this.left=s??$t.EMPTY_NODE,this.right=o??$t.EMPTY_NODE}copy(n,r,i,s,o){return new t(n??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let s=this,o=i(n,s.key);return o<0?s=s.copy(null,null,null,s.left.insert(n,r,i),null):o===0?s=s.copy(null,r,null,null,null):s=s.copy(null,null,null,null,s.right.insert(n,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return $t.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,s;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return $t.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})(),ty=class{copy(e,n,r,i,s){return this}insert(e,n,r){return new en(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},$t=class t{constructor(e,n=t.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,en.BLACK,null,null))}remove(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,en.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Ks(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Ks(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Ks(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Ks(this.root_,null,this.comparator_,!0,e)}};$t.EMPTY_NODE=new ty;function _V(t,e){return io(t.name,e.name)}function By(t,e){return io(t,e)}var ny;function vV(t){ny=t}var WD=function(t){return typeof t=="number"?"number:"+DD(t):"string:"+t},qD=function(t){if(t.isLeafNode()){let e=t.val();v(typeof e=="string"||typeof e=="number"||typeof e=="object"&&En(e,".sv"),"Priority must be a string or number.")}else v(t===ny||t.isEmpty(),"priority of unexpected type.");v(t===ny||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var iD,Xs=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,v(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),qD(this.priorityNode_)}static set __childrenNodeConstructor(n){iD=n}static get __childrenNodeConstructor(){return iD}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return X(n)?this:re(n)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=re(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(v(i!==".priority"||Fr(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(De(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+WD(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=DD(this.value_):n+=this.value_,this.lazyHash_=CD(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(v(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,s=t.VALUE_TYPE_ORDER.indexOf(r),o=t.VALUE_TYPE_ORDER.indexOf(i);return v(s>=0,"Unknown leaf type: "+r),v(o>=0,"Unknown leaf type: "+i),s===o?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}t.VALUE_TYPE_ORDER=["object","boolean","number","string"];return t})(),KD,YD;function wV(t){KD=t}function bV(t){YD=t}var ry=class extends Js{compare(e,n){let r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?io(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Z.MIN}maxPost(){return new Z(Ri,new Xs("[PRIORITY-POST]",YD))}makePost(e,n){let r=KD(e);return new Z(n,new Xs("[PRIORITY-POST]",r))}toString(){return".priority"}},ke=new ry;var CV=Math.log(2),iy=class{constructor(e){let n=s=>parseInt(Math.log(s)/CV,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;let i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},td=function(t,e,n,r){t.sort(e);let i=function(l,c){let u=c-l,d,h;if(u===0)return null;if(u===1)return d=t[l],h=n?n(d):d,new en(h,d.node,en.BLACK,null,null);{let f=parseInt(u/2,10)+l,p=i(l,f),m=i(f+1,c);return d=t[f],h=n?n(d):d,new en(h,d.node,en.BLACK,p,m)}},s=function(l){let c=null,u=null,d=t.length,h=function(p,m){let C=d-p,R=d;d-=p;let K=i(C+1,R),U=t[C],ce=n?n(U):U;f(new en(ce,U.node,m,null,K))},f=function(p){c?(c.left=p,c=p):(u=p,c=p)};for(let p=0;p<l.count;++p){let m=l.nextBitIsOne(),C=Math.pow(2,l.count-(p+1));m?h(C,en.BLACK):(h(C,en.BLACK),h(C,en.RED))}return u},o=new iy(t.length),a=s(o);return new $t(r||e,a)};var Lm,qs={},eo=class t{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return v(qs&&ke,"ChildrenNode.ts has not been loaded"),Lm=Lm||new t({".priority":qs},{".priority":ke}),Lm}get(e){let n=mi(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof $t?n:null}hasIndex(e){return En(this.indexSet_,e.toString())}addIndex(e,n){v(e!==Qs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,s=n.getIterator(Z.Wrap),o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=td(r,e.getCompare()):a=qs;let l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;let u=Object.assign({},this.indexes_);return u[l]=a,new t(u,c)}addToIndexes(e,n){let r=oa(this.indexes_,(i,s)=>{let o=mi(this.indexSet_,s);if(v(o,"Missing index implementation for "+s),i===qs)if(o.isDefinedOn(e.node)){let a=[],l=n.getIterator(Z.Wrap),c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),td(a,o.getCompare())}else return qs;else{let a=n.get(e.name),l=i;return a&&(l=l.remove(new Z(e.name,a))),l.insert(e,e.node)}});return new t(r,this.indexSet_)}removeFromIndexes(e,n){let r=oa(this.indexes_,i=>{if(i===qs)return i;{let s=n.get(e.name);return s?i.remove(new Z(e.name,s)):i}});return new t(r,this.indexSet_)}};var Ma,H=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&qD(this.priorityNode_),this.children_.isEmpty()&&v(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Ma||(Ma=new t(new $t(By),null,eo.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ma}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?Ma:r}}getChild(n){let r=re(n);return r===null?this:this.getImmediateChild(r).getChild(De(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(v(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new Z(n,r),s,o;r.isEmpty()?(s=this.children_.remove(n),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(n,r),o=this.indexMap_.addToIndexes(i,this.children_));let a=s.isEmpty()?Ma:this.priorityNode_;return new t(s,a,o)}}updateChild(n,r){let i=re(n);if(i===null)return r;{v(re(n)!==".priority"||Fr(n)===1,".priority must be the last token in a path");let s=this.getImmediateChild(i).updateChild(De(n),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,s=0,o=!0;if(this.forEachChild(ke,(a,l)=>{r[a]=l.val(n),i++,o&&t.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!n&&o&&s<2*i){let a=[];for(let l in r)a[l]=r[l];return a}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+WD(this.getPriority().val())+":"),this.forEachChild(ke,(r,i)=>{let s=i.hash();s!==""&&(n+=":"+r+":"+s)}),this.lazyHash_=n===""?"":CD(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let s=this.resolveIndex_(i);if(s){let o=s.getPredecessorKey(new Z(n,r));return o?o.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new Z(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new Z(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,s=>s);{let s=this.children_.getIteratorFrom(n.name,Z.Wrap),o=s.peek();for(;o!=null&&r.compare(o,n)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,s=>s);{let s=this.children_.getReverseIteratorFrom(n.name,Z.Wrap),o=s.peek();for(;o!=null&&r.compare(o,n)>0;)s.getNext(),o=s.peek();return s}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===Ha?-1:0}withIndex(n){if(n===Qs||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===Qs||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(ke),s=r.getIterator(ke),o=i.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=i.getNext(),a=s.getNext()}return o===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===Qs?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})(),sy=class extends H{constructor(){super(new $t(By),H.EMPTY_NODE,eo.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return H.EMPTY_NODE}isEmpty(){return!1}},Ha=new sy;Object.defineProperties(Z,{MIN:{value:new Z(Zs,H.EMPTY_NODE)},MAX:{value:new Z(Ri,Ha)}});ed.__EMPTY_NODE=H.EMPTY_NODE;Xs.__childrenNodeConstructor=H;vV(Ha);bV(Ha);var EV=!0;function ze(t,e=null){if(t===null)return H.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),v(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){let n=t;return new Xs(n,ze(e))}if(!(t instanceof Array)&&EV){let n=[],r=!1;if(gt(t,(o,a)=>{if(o.substring(0,1)!=="."){let l=ze(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Z(o,l)))}}),n.length===0)return H.EMPTY_NODE;let s=td(n,_V,o=>o.name,By);if(r){let o=td(n,ke.getCompare());return new H(s,ze(e),new eo({".priority":o},{".priority":ke}))}else return new H(s,ze(e),eo.Default)}else{let n=H.EMPTY_NODE;return gt(t,(r,i)=>{if(En(t,r)&&r.substring(0,1)!=="."){let s=ze(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(ze(e))}}wV(ze);var oy=class extends Js{constructor(e){super(),this.indexPath_=e,v(!X(e)&&re(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){let r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?io(e.name,n.name):s}makePost(e,n){let r=ze(e),i=H.EMPTY_NODE.updateChild(this.indexPath_,r);return new Z(n,i)}maxPost(){let e=H.EMPTY_NODE.updateChild(this.indexPath_,Ha);return new Z(Ri,e)}toString(){return $D(this.indexPath_,0).join("/")}};var ay=class extends Js{compare(e,n){let r=e.node.compareTo(n.node);return r===0?io(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Z.MIN}maxPost(){return Z.MAX}makePost(e,n){let r=ze(e);return new Z(n,r)}toString(){return".value"}},IV=new ay;function QD(t){return{type:"value",snapshotNode:t}}function to(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Pa(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Fa(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function DV(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}var La=class{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){v(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(Pa(n,a)):v(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(to(n,r)):o.trackChildChange(Fa(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(ke,(i,s)=>{n.hasChild(i)||r.trackChildChange(Pa(i,s))}),n.isLeafNode()||n.forEachChild(ke,(i,s)=>{if(e.hasChild(i)){let o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(Fa(i,s,o))}else r.trackChildChange(to(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?H.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var nd=class t{constructor(e){this.indexedFilter_=new La(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){let n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new Z(n,r))||(r=H.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=H.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(H.EMPTY_NODE);let s=this;return n.forEachChild(ke,(o,a)=>{s.matches(new Z(o,a))||(i=i.updateImmediateChild(o,H.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){let n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){let n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}};var ly=class{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{let r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{let r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new nd(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new Z(n,r))||(r=H.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=H.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=H.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){let a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(H.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){let a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,H.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){let d=this.index_.getCompare();o=(h,f)=>d(f,h)}else o=this.index_.getCompare();let a=e;v(a.numChildren()===this.limit_,"");let l=new Z(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){let d=a.getImmediateChild(n),h=i.getChildAfterChild(this.index_,c,this.reverse_);for(;h!=null&&(h.name===n||a.hasChild(h.name));)h=i.getChildAfterChild(this.index_,h,this.reverse_);let f=h==null?1:o(h,l);if(u&&!r.isEmpty()&&f>=0)return s?.trackChildChange(Fa(n,r,d)),a.updateImmediateChild(n,r);{s?.trackChildChange(Pa(n,d));let m=a.updateImmediateChild(n,H.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(s?.trackChildChange(to(h.name,h.node)),m.updateImmediateChild(h.name,h.node)):m}}else return r.isEmpty()?e:u&&o(c,l)>=0?(s!=null&&(s.trackChildChange(Pa(c.name,c.node)),s.trackChildChange(to(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,H.EMPTY_NODE)):e}};var cy=class t{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ke}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return v(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return v(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Zs}hasEnd(){return this.endSet_}getIndexEndValue(){return v(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return v(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ri}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return v(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ke}copy(){let e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function SV(t){return t.loadsAllData()?new La(t.getIndex()):t.hasLimit()?new ly(t):new nd(t)}function sD(t){let e={};if(t.isDefault())return e;let n;if(t.index_===ke?n="$priority":t.index_===IV?n="$value":t.index_===Qs?n="$key":(v(t.index_ instanceof oy,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Ve(n),t.startSet_){let r=t.startAfterSet_?"startAfter":"startAt";e[r]=Ve(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Ve(t.indexStartName_))}if(t.endSet_){let r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Ve(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Ve(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function oD(t){let e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==ke&&(e.i=t.index_.toString()),e}var uy=class t extends Zu{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=$a("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(v(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){let s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);let o=t.getListenId_(e,r),a={};this.listens_[o]=a;let l=sD(e._queryParams);this.restRequest_(s+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(s,d,!1,r),mi(this.listens_,o)===a){let h;c?c===401?h="permission_denied":h="rest_error:"+c:h="ok",i(h,null)}})}unlisten(e,n){let r=t.getListenId_(e,n);delete this.listens_[r]}get(e){let n=sD(e._queryParams),r=e._path.toString(),i=new vr;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);let o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+yi(n);this.log_("Sending REST request for "+o);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Rs(a.responseText)}catch{pt("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&pt("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}};var dy=class{constructor(){this.rootNode_=H.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}};function rd(){return{value:null,children:new Map}}function ZD(t,e,n){if(X(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{let r=re(e);t.children.has(r)||t.children.set(r,rd());let i=t.children.get(r);e=De(e),ZD(i,e,n)}}function hy(t,e,n){t.value!==null?n(e,t.value):TV(t,(r,i)=>{let s=new ye(e.toString()+"/"+r);hy(i,s,n)})}function TV(t,e){t.children.forEach((n,r)=>{e(r,n)})}var fy=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),n=Object.assign({},e);return this.last_&&gt(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}};var aD=10*1e3,MV=30*1e3,AV=5*60*1e3,py=class{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new fy(e);let r=aD+(MV-aD)*Math.random();Na(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let e=this.statsListener_.get(),n={},r=!1;gt(e,(i,s)=>{s>0&&En(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Na(this.reportStats_.bind(this),Math.floor(Math.random()*2*AV))}};var Nn=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(Nn||{});function JD(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function $y(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Hy(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var gy=class t{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Nn.ACK_USER_WRITE,this.source=JD()}operationForChild(e){if(X(this.path)){if(this.affectedTree.value!=null)return v(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new ye(e));return new t(ue(),n,this.revert)}}else return v(re(this.path)===e,"operationForChild called for unrelated child."),new t(De(this.path),this.affectedTree,this.revert)}};var id=class t{constructor(e,n){this.source=e,this.path=n,this.type=Nn.LISTEN_COMPLETE}operationForChild(e){return X(this.path)?new t(this.source,ue()):new t(this.source,De(this.path))}};var no=class t{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Nn.OVERWRITE}operationForChild(e){return X(this.path)?new t(this.source,ue(),this.snap.getImmediateChild(e)):new t(this.source,De(this.path),this.snap)}};var sd=class t{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Nn.MERGE}operationForChild(e){if(X(this.path)){let n=this.children.subtree(new ye(e));return n.isEmpty()?null:n.value?new no(this.source,ue(),n.value):new t(this.source,ue(),n)}else return v(re(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,De(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var xn=class{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(X(e))return this.isFullyInitialized()&&!this.filtered_;let n=re(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};var my=class{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}};function NV(t,e,n,r){let i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(DV(o.childName,o.snapshotNode))}),Aa(t,i,"child_removed",e,r,n),Aa(t,i,"child_added",e,r,n),Aa(t,i,"child_moved",s,r,n),Aa(t,i,"child_changed",e,r,n),Aa(t,i,"value",e,r,n),i}function Aa(t,e,n,r,i,s){let o=r.filter(a=>a.type===n);o.sort((a,l)=>RV(t,a,l)),o.forEach(a=>{let l=xV(t,a,s);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function xV(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function RV(t,e,n){if(e.childName==null||n.childName==null)throw gi("Should only compare child_ events.");let r=new Z(e.childName,e.snapshotNode),i=new Z(n.childName,n.snapshotNode);return t.index_.compare(r,i)}function gd(t,e){return{eventCache:t,serverCache:e}}function Ra(t,e,n,r){return gd(new xn(e,n,r),t.serverCache)}function XD(t,e,n,r){return gd(t.eventCache,new xn(e,n,r))}function od(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function ki(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var Vm,kV=()=>(Vm||(Vm=new $t(O2)),Vm),mt=class t{constructor(e,n=kV()){this.value=e,this.children=n}static fromObject(e){let n=new t(null);return gt(e,(r,i)=>{n=n.set(new ye(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:ue(),value:this.value};if(X(e))return null;{let r=re(e),i=this.children.get(r);if(i!==null){let s=i.findRootMostMatchingPathAndValue(De(e),n);return s!=null?{path:Be(new ye(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(X(e))return this;{let n=re(e),r=this.children.get(n);return r!==null?r.subtree(De(e)):new t(null)}}set(e,n){if(X(e))return new t(n,this.children);{let r=re(e),s=(this.children.get(r)||new t(null)).set(De(e),n),o=this.children.insert(r,s);return new t(this.value,o)}}remove(e){if(X(e))return this.children.isEmpty()?new t(null):new t(null,this.children);{let n=re(e),r=this.children.get(n);if(r){let i=r.remove(De(e)),s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new t(null):new t(this.value,s)}else return this}}get(e){if(X(e))return this.value;{let n=re(e),r=this.children.get(n);return r?r.get(De(e)):null}}setTree(e,n){if(X(e))return n;{let r=re(e),s=(this.children.get(r)||new t(null)).setTree(De(e),n),o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new t(this.value,o)}}fold(e){return this.fold_(ue(),e)}fold_(e,n){let r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Be(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,ue(),n)}findOnPath_(e,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if(X(e))return null;{let s=re(e),o=this.children.get(s);return o?o.findOnPath_(De(e),Be(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,ue(),n)}foreachOnPath_(e,n,r){if(X(e))return this;{this.value&&r(n,this.value);let i=re(e),s=this.children.get(i);return s?s.foreachOnPath_(De(e),Be(n,i),r):new t(null)}}foreach(e){this.foreach_(ue(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Be(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}};var nn=class t{constructor(e){this.writeTree_=e}static empty(){return new t(new mt(null))}};function ka(t,e,n){if(X(e))return new nn(new mt(n));{let r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){let i=r.path,s=r.value,o=lt(i,e);return s=s.updateChild(o,n),new nn(t.writeTree_.set(i,s))}else{let i=new mt(n),s=t.writeTree_.setTree(e,i);return new nn(s)}}}function lD(t,e,n){let r=t;return gt(n,(i,s)=>{r=ka(r,Be(e,i),s)}),r}function cD(t,e){if(X(e))return nn.empty();{let n=t.writeTree_.setTree(e,new mt(null));return new nn(n)}}function yy(t,e){return Oi(t,e)!=null}function Oi(t,e){let n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(lt(n.path,e)):null}function uD(t){let e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ke,(r,i)=>{e.push(new Z(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Z(r,i.value))}),e}function Or(t,e){if(X(e))return t;{let n=Oi(t,e);return n!=null?new nn(new mt(n)):new nn(t.writeTree_.subtree(e))}}function _y(t){return t.writeTree_.isEmpty()}function ro(t,e){return eS(ue(),t.writeTree_,e)}function eS(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(v(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=eS(Be(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Be(t,".priority"),r)),n}}function md(t,e){return iS(e,t)}function OV(t,e,n,r,i){v(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=ka(t.visibleWrites,e,n)),t.lastWriteId=r}function PV(t,e){for(let n=0;n<t.allWrites.length;n++){let r=t.allWrites[n];if(r.writeId===e)return r}return null}function FV(t,e){let n=t.allWrites.findIndex(a=>a.writeId===e);v(n>=0,"removeWrite called with nonexistent writeId.");let r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){let a=t.allWrites[o];a.visible&&(o>=n&&LV(a,r.path)?i=!1:tn(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return VV(t),!0;if(r.snap)t.visibleWrites=cD(t.visibleWrites,r.path);else{let a=r.children;gt(a,l=>{t.visibleWrites=cD(t.visibleWrites,Be(r.path,l))})}return!0}else return!1}function LV(t,e){if(t.snap)return tn(t.path,e);for(let n in t.children)if(t.children.hasOwnProperty(n)&&tn(Be(t.path,n),e))return!0;return!1}function VV(t){t.visibleWrites=tS(t.allWrites,jV,ue()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function jV(t){return t.visible}function tS(t,e,n){let r=nn.empty();for(let i=0;i<t.length;++i){let s=t[i];if(e(s)){let o=s.path,a;if(s.snap)tn(n,o)?(a=lt(n,o),r=ka(r,a,s.snap)):tn(o,n)&&(a=lt(o,n),r=ka(r,ue(),s.snap.getChild(a)));else if(s.children){if(tn(n,o))a=lt(n,o),r=lD(r,a,s.children);else if(tn(o,n))if(a=lt(o,n),X(a))r=lD(r,ue(),s.children);else{let l=mi(s.children,re(a));if(l){let c=l.getChild(De(a));r=ka(r,ue(),c)}}}else throw gi("WriteRecord should have .snap or .children")}}return r}function nS(t,e,n,r,i){if(!r&&!i){let s=Oi(t.visibleWrites,e);if(s!=null)return s;{let o=Or(t.visibleWrites,e);if(_y(o))return n;if(n==null&&!yy(o,ue()))return null;{let a=n||H.EMPTY_NODE;return ro(o,a)}}}else{let s=Or(t.visibleWrites,e);if(!i&&_y(s))return n;if(!i&&n==null&&!yy(s,ue()))return null;{let o=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(tn(c.path,e)||tn(e,c.path))},a=tS(t.allWrites,o,e),l=n||H.EMPTY_NODE;return ro(a,l)}}}function UV(t,e,n){let r=H.EMPTY_NODE,i=Oi(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(ke,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){let s=Or(t.visibleWrites,e);return n.forEachChild(ke,(o,a)=>{let l=ro(Or(s,new ye(o)),a);r=r.updateImmediateChild(o,l)}),uD(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{let s=Or(t.visibleWrites,e);return uD(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function BV(t,e,n,r,i){v(r||i,"Either existingEventSnap or existingServerSnap must exist");let s=Be(e,n);if(yy(t.visibleWrites,s))return null;{let o=Or(t.visibleWrites,s);return _y(o)?i.getChild(n):ro(o,i.getChild(n))}}function $V(t,e,n,r){let i=Be(e,n),s=Oi(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){let o=Or(t.visibleWrites,i);return ro(o,r.getNode().getImmediateChild(n))}else return null}function HV(t,e){return Oi(t.visibleWrites,e)}function zV(t,e,n,r,i,s,o){let a,l=Or(t.visibleWrites,e),c=Oi(l,ue());if(c!=null)a=c;else if(n!=null)a=ro(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){let u=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o),f=h.getNext();for(;f&&u.length<i;)d(f,r)!==0&&u.push(f),f=h.getNext();return u}else return[]}function GV(){return{visibleWrites:nn.empty(),allWrites:[],lastWriteId:-1}}function ad(t,e,n,r){return nS(t.writeTree,t.treePath,e,n,r)}function zy(t,e){return UV(t.writeTree,t.treePath,e)}function dD(t,e,n,r){return BV(t.writeTree,t.treePath,e,n,r)}function ld(t,e){return HV(t.writeTree,Be(t.treePath,e))}function WV(t,e,n,r,i,s){return zV(t.writeTree,t.treePath,e,n,r,i,s)}function Gy(t,e,n){return $V(t.writeTree,t.treePath,e,n)}function rS(t,e){return iS(Be(t.treePath,e),t.writeTree)}function iS(t,e){return{treePath:t,writeTree:e}}var vy=class{constructor(){this.changeMap=new Map}trackChildChange(e){let n=e.type,r=e.childName;v(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),v(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,Fa(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Pa(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,to(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,Fa(r,e.snapshotNode,i.oldSnap));else throw gi("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}};var wy=class{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}},sS=new wy,Va=class{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{let r=this.optCompleteServerCache_!=null?new xn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Gy(this.writes_,e,r)}}getChildAfterChild(e,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ki(this.viewCache_),s=WV(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}};function qV(t){return{filter:t}}function KV(t,e){v(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),v(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function YV(t,e,n,r,i){let s=new vy,o,a;if(n.type===Nn.OVERWRITE){let c=n;c.source.fromUser?o=by(t,e,c.path,c.snap,r,i,s):(v(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!X(c.path),o=cd(t,e,c.path,c.snap,r,i,a,s))}else if(n.type===Nn.MERGE){let c=n;c.source.fromUser?o=ZV(t,e,c.path,c.children,r,i,s):(v(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=Cy(t,e,c.path,c.children,r,i,a,s))}else if(n.type===Nn.ACK_USER_WRITE){let c=n;c.revert?o=ej(t,e,c.path,r,i,s):o=JV(t,e,c.path,c.affectedTree,r,i,s)}else if(n.type===Nn.LISTEN_COMPLETE)o=XV(t,e,n.path,r,s);else throw gi("Unknown operation type: "+n.type);let l=s.getChanges();return QV(e,o,l),{viewCache:o,changes:l}}function QV(t,e,n){let r=e.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=od(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(QD(od(e)))}}function oS(t,e,n,r,i,s){let o=e.eventCache;if(ld(r,n)!=null)return e;{let a,l;if(X(n))if(v(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let c=ki(e),u=c instanceof H?c:H.EMPTY_NODE,d=zy(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{let c=ad(r,ki(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{let c=re(n);if(c===".priority"){v(Fr(n)===1,"Can't have a priority with additional path components");let u=o.getNode();l=e.serverCache.getNode();let d=dD(r,n,u,l);d!=null?a=t.filter.updatePriority(u,d):a=o.getNode()}else{let u=De(n),d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();let h=dD(r,n,o.getNode(),l);h!=null?d=o.getNode().getImmediateChild(c).updateChild(u,h):d=o.getNode().getImmediateChild(c)}else d=Gy(r,c,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),c,d,u,i,s):a=o.getNode()}}return Ra(e,a,o.isFullyInitialized()||X(n),t.filter.filtersNodes())}}function cd(t,e,n,r,i,s,o,a){let l=e.serverCache,c,u=o?t.filter:t.filter.getIndexedFilter();if(X(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){let f=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),f,null)}else{let f=re(n);if(!l.isCompleteForPath(n)&&Fr(n)>1)return e;let p=De(n),C=l.getNode().getImmediateChild(f).updateChild(p,r);f===".priority"?c=u.updatePriority(l.getNode(),C):c=u.updateChild(l.getNode(),f,C,p,sS,null)}let d=XD(e,c,l.isFullyInitialized()||X(n),u.filtersNodes()),h=new Va(i,d,s);return oS(t,d,n,i,h,a)}function by(t,e,n,r,i,s,o){let a=e.eventCache,l,c,u=new Va(i,e,s);if(X(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=Ra(e,c,!0,t.filter.filtersNodes());else{let d=re(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=Ra(e,c,a.isFullyInitialized(),a.isFiltered());else{let h=De(n),f=a.getNode().getImmediateChild(d),p;if(X(h))p=r;else{let m=u.getCompleteChild(d);m!=null?BD(h)===".priority"&&m.getChild(HD(h)).isEmpty()?p=m:p=m.updateChild(h,r):p=H.EMPTY_NODE}if(f.equals(p))l=e;else{let m=t.filter.updateChild(a.getNode(),d,p,h,u,o);l=Ra(e,m,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function hD(t,e){return t.eventCache.isCompleteForChild(e)}function ZV(t,e,n,r,i,s,o){let a=e;return r.foreach((l,c)=>{let u=Be(n,l);hD(e,re(u))&&(a=by(t,a,u,c,i,s,o))}),r.foreach((l,c)=>{let u=Be(n,l);hD(e,re(u))||(a=by(t,a,u,c,i,s,o))}),a}function fD(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Cy(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;X(n)?c=r:c=new mt(null).setTree(n,r);let u=e.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){let f=e.serverCache.getNode().getImmediateChild(d),p=fD(t,f,h);l=cd(t,l,new ye(d),p,i,s,o,a)}}),c.children.inorderTraversal((d,h)=>{let f=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!u.hasChild(d)&&!f){let p=e.serverCache.getNode().getImmediateChild(d),m=fD(t,p,h);l=cd(t,l,new ye(d),m,i,s,o,a)}}),l}function JV(t,e,n,r,i,s,o){if(ld(i,n)!=null)return e;let a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(X(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return cd(t,e,n,l.getNode().getChild(n),i,s,a,o);if(X(n)){let c=new mt(null);return l.getNode().forEachChild(Qs,(u,d)=>{c=c.set(new ye(u),d)}),Cy(t,e,n,c,i,s,a,o)}else return e}else{let c=new mt(null);return r.foreach((u,d)=>{let h=Be(n,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),Cy(t,e,n,c,i,s,a,o)}}function XV(t,e,n,r,i){let s=e.serverCache,o=XD(e,s.getNode(),s.isFullyInitialized()||X(n),s.isFiltered());return oS(t,o,n,r,sS,i)}function ej(t,e,n,r,i,s){let o;if(ld(r,n)!=null)return e;{let a=new Va(r,e,i),l=e.eventCache.getNode(),c;if(X(n)||re(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=ad(r,ki(e));else{let d=e.serverCache.getNode();v(d instanceof H,"serverChildren would be complete if leaf node"),u=zy(r,d)}u=u,c=t.filter.updateFullNode(l,u,s)}else{let u=re(n),d=Gy(r,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=t.filter.updateChild(l,u,d,De(n),a,s):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,H.EMPTY_NODE,De(n),a,s):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=ad(r,ki(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||ld(r,ue())!=null,Ra(e,c,o,t.filter.filtersNodes())}}var Ey=class{constructor(e,n){this.query_=e,this.eventRegistrations_=[];let r=this.query_._queryParams,i=new La(r.getIndex()),s=SV(r);this.processor_=qV(s);let o=n.serverCache,a=n.eventCache,l=i.updateFullNode(H.EMPTY_NODE,o.getNode(),null),c=s.updateFullNode(H.EMPTY_NODE,a.getNode(),null),u=new xn(l,o.isFullyInitialized(),i.filtersNodes()),d=new xn(c,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=gd(d,u),this.eventGenerator_=new my(this.query_)}get query(){return this.query_}};function tj(t){return t.viewCache_.serverCache.getNode()}function nj(t){return od(t.viewCache_)}function rj(t,e){let n=ki(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!X(e)&&!n.getImmediateChild(re(e)).isEmpty())?n.getChild(e):null}function pD(t){return t.eventRegistrations_.length===0}function ij(t,e){t.eventRegistrations_.push(e)}function gD(t,e,n){let r=[];if(n){v(e==null,"A cancel should cancel all event registrations.");let i=t.query._path;t.eventRegistrations_.forEach(s=>{let o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){let o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function mD(t,e,n,r){e.type===Nn.MERGE&&e.source.queryId!==null&&(v(ki(t.viewCache_),"We should always have a full cache before handling merges"),v(od(t.viewCache_),"Missing event cache, even though we have a server cache"));let i=t.viewCache_,s=YV(t.processor_,i,e,n,r);return KV(t.processor_,s.viewCache),v(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,aS(t,s.changes,s.viewCache.eventCache.getNode(),null)}function sj(t,e){let n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ke,(s,o)=>{r.push(to(s,o))}),n.isFullyInitialized()&&r.push(QD(n.getNode())),aS(t,r,n.getNode(),e)}function aS(t,e,n,r){let i=r?[r]:t.eventRegistrations_;return NV(t.eventGenerator_,e,n,i)}var ud,dd=class{constructor(){this.views=new Map}};function oj(t){v(!ud,"__referenceConstructor has already been defined"),ud=t}function aj(){return v(ud,"Reference.ts has not been loaded"),ud}function lj(t){return t.views.size===0}function Wy(t,e,n,r){let i=e.source.queryId;if(i!==null){let s=t.views.get(i);return v(s!=null,"SyncTree gave us an op for an invalid query."),mD(s,e,n,r)}else{let s=[];for(let o of t.views.values())s=s.concat(mD(o,e,n,r));return s}}function lS(t,e,n,r,i){let s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=ad(n,i?r:null),l=!1;a?l=!0:r instanceof H?(a=zy(n,r),l=!1):(a=H.EMPTY_NODE,l=!1);let c=gd(new xn(a,l,!1),new xn(r,i,!1));return new Ey(e,c)}return o}function cj(t,e,n,r,i,s){let o=lS(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),ij(o,n),sj(o,n)}function uj(t,e,n,r){let i=e._queryIdentifier,s=[],o=[],a=Lr(t);if(i==="default")for(let[l,c]of t.views.entries())o=o.concat(gD(c,n,r)),pD(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{let l=t.views.get(i);l&&(o=o.concat(gD(l,n,r)),pD(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!Lr(t)&&s.push(new(aj())(e._repo,e._path)),{removed:s,events:o}}function cS(t){let e=[];for(let n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Pr(t,e){let n=null;for(let r of t.views.values())n=n||rj(r,e);return n}function uS(t,e){if(e._queryParams.loadsAllData())return yd(t);{let r=e._queryIdentifier;return t.views.get(r)}}function dS(t,e){return uS(t,e)!=null}function Lr(t){return yd(t)!=null}function yd(t){for(let e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}var hd;function dj(t){v(!hd,"__referenceConstructor has already been defined"),hd=t}function hj(){return v(hd,"Reference.ts has not been loaded"),hd}var fj=1,fd=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new mt(null),this.pendingWriteTree_=GV(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function hS(t,e,n,r,i){return OV(t.pendingWriteTree_,e,n,r,i),i?Ga(t,new no(JD(),e,n)):[]}function Ni(t,e,n=!1){let r=PV(t.pendingWriteTree_,e);if(FV(t.pendingWriteTree_,e)){let s=new mt(null);return r.snap!=null?s=s.set(ue(),!0):gt(r.children,o=>{s=s.set(new ye(o),!0)}),Ga(t,new gy(r.path,s,n))}else return[]}function za(t,e,n){return Ga(t,new no($y(),e,n))}function pj(t,e,n){let r=mt.fromObject(n);return Ga(t,new sd($y(),e,r))}function gj(t,e){return Ga(t,new id($y(),e))}function mj(t,e,n){let r=Ky(t,n);if(r){let i=Yy(r),s=i.path,o=i.queryId,a=lt(s,e),l=new id(Hy(o),a);return Qy(t,s,l)}else return[]}function fS(t,e,n,r,i=!1){let s=e._path,o=t.syncPointTree_.get(s),a=[];if(o&&(e._queryIdentifier==="default"||dS(o,e))){let l=uj(o,e,n,r);lj(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));let c=l.removed;if(a=l.events,!i){let u=c.findIndex(h=>h._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(s,(h,f)=>Lr(f));if(u&&!d){let h=t.syncPointTree_.subtree(s);if(!h.isEmpty()){let f=wj(h);for(let p=0;p<f.length;++p){let m=f[p],C=m.query,R=yS(t,m);t.listenProvider_.startListening(Oa(C),ja(t,C),R.hashFn,R.onComplete)}}}!d&&c.length>0&&!r&&(u?t.listenProvider_.stopListening(Oa(e),null):c.forEach(h=>{let f=t.queryToTagMap.get(_d(h));t.listenProvider_.stopListening(Oa(h),f)}))}bj(t,c)}return a}function pS(t,e,n,r){let i=Ky(t,r);if(i!=null){let s=Yy(i),o=s.path,a=s.queryId,l=lt(o,e),c=new no(Hy(a),l,n);return Qy(t,o,c)}else return[]}function yj(t,e,n,r){let i=Ky(t,r);if(i){let s=Yy(i),o=s.path,a=s.queryId,l=lt(o,e),c=mt.fromObject(n),u=new sd(Hy(a),l,c);return Qy(t,o,u)}else return[]}function _j(t,e,n,r=!1){let i=e._path,s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(h,f)=>{let p=lt(h,i);s=s||Pr(f,p),o=o||Lr(f)});let a=t.syncPointTree_.get(i);a?(o=o||Lr(a),s=s||Pr(a,ue())):(a=new dd,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;s!=null?l=!0:(l=!1,s=H.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((f,p)=>{let m=Pr(p,ue());m&&(s=s.updateImmediateChild(f,m))}));let c=dS(a,e);if(!c&&!e._queryParams.loadsAllData()){let h=_d(e);v(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");let f=Cj();t.queryToTagMap.set(h,f),t.tagToQueryMap.set(f,h)}let u=md(t.pendingWriteTree_,i),d=cj(a,e,n,u,s,l);if(!c&&!o&&!r){let h=uS(a,e);d=d.concat(Ej(t,e,h))}return d}function qy(t,e,n){let i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{let l=lt(o,e),c=Pr(a,l);if(c)return c});return nS(i,e,s,n,!0)}function vj(t,e){let n=e._path,r=null;t.syncPointTree_.foreachOnPath(n,(c,u)=>{let d=lt(c,n);r=r||Pr(u,d)});let i=t.syncPointTree_.get(n);i?r=r||Pr(i,ue()):(i=new dd,t.syncPointTree_=t.syncPointTree_.set(n,i));let s=r!=null,o=s?new xn(r,!0,!1):null,a=md(t.pendingWriteTree_,e._path),l=lS(i,e,a,s?o.getNode():H.EMPTY_NODE,s);return nj(l)}function Ga(t,e){return gS(e,t.syncPointTree_,null,md(t.pendingWriteTree_,ue()))}function gS(t,e,n,r){if(X(t.path))return mS(t,e,n,r);{let i=e.get(ue());n==null&&i!=null&&(n=Pr(i,ue()));let s=[],o=re(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){let c=n?n.getImmediateChild(o):null,u=rS(r,o);s=s.concat(gS(a,l,c,u))}return i&&(s=s.concat(Wy(i,t,r,n))),s}}function mS(t,e,n,r){let i=e.get(ue());n==null&&i!=null&&(n=Pr(i,ue()));let s=[];return e.children.inorderTraversal((o,a)=>{let l=n?n.getImmediateChild(o):null,c=rS(r,o),u=t.operationForChild(o);u&&(s=s.concat(mS(u,a,l,c)))}),i&&(s=s.concat(Wy(i,t,r,n))),s}function yS(t,e){let n=e.query,r=ja(t,n);return{hashFn:()=>(tj(e)||H.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?mj(t,n._path,r):gj(t,n._path);{let s=L2(i,n);return fS(t,n,null,s)}}}}function ja(t,e){let n=_d(e);return t.queryToTagMap.get(n)}function _d(t){return t._path.toString()+"$"+t._queryIdentifier}function Ky(t,e){return t.tagToQueryMap.get(e)}function Yy(t){let e=t.indexOf("$");return v(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ye(t.substr(0,e))}}function Qy(t,e,n){let r=t.syncPointTree_.get(e);v(r,"Missing sync point for query tag that we're tracking");let i=md(t.pendingWriteTree_,e);return Wy(r,n,i,null)}function wj(t){return t.fold((e,n,r)=>{if(n&&Lr(n))return[yd(n)];{let i=[];return n&&(i=cS(n)),gt(r,(s,o)=>{i=i.concat(o)}),i}})}function Oa(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(hj())(t._repo,t._path):t}function bj(t,e){for(let n=0;n<e.length;++n){let r=e[n];if(!r._queryParams.loadsAllData()){let i=_d(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function Cj(){return fj++}function Ej(t,e,n){let r=e._path,i=ja(t,e),s=yS(t,n),o=t.listenProvider_.startListening(Oa(e),i,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(r);if(i)v(!Lr(a.value),"If we're adding a query, it shouldn't be shadowed");else{let l=a.fold((c,u,d)=>{if(!X(c)&&u&&Lr(u))return[yd(u).query];{let h=[];return u&&(h=h.concat(cS(u).map(f=>f.query))),gt(d,(f,p)=>{h=h.concat(p)}),h}});for(let c=0;c<l.length;++c){let u=l[c];t.listenProvider_.stopListening(Oa(u),ja(t,u))}}return o}var Iy=class t{constructor(e){this.node_=e}getImmediateChild(e){let n=this.node_.getImmediateChild(e);return new t(n)}node(){return this.node_}},Dy=class t{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){let n=Be(this.path_,e);return new t(this.syncTree_,n)}node(){return qy(this.syncTree_,this.path_)}},Ij=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},yD=function(t,e,n){if(!t||typeof t!="object")return t;if(v(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return Dj(t[".sv"],e,n);if(typeof t[".sv"]=="object")return Sj(t[".sv"],e);v(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},Dj=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:v(!1,"Unexpected server value: "+t)}},Sj=function(t,e,n){t.hasOwnProperty("increment")||v(!1,"Unexpected server value: "+JSON.stringify(t,null,2));let r=t.increment;typeof r!="number"&&v(!1,"Unexpected increment value: "+r);let i=e.node();if(v(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let o=i.getValue();return typeof o!="number"?r:o+r},Tj=function(t,e,n,r){return Zy(e,new Dy(n,t),r)},_S=function(t,e,n){return Zy(t,new Iy(e),n)};function Zy(t,e,n){let r=t.getPriority().val(),i=yD(r,e.getImmediateChild(".priority"),n),s;if(t.isLeafNode()){let o=t,a=yD(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new Xs(a,ze(i)):t}else{let o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Xs(i))),o.forEachChild(ke,(a,l)=>{let c=Zy(l,e.getImmediateChild(a),n);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}var Ua=class{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}};function Jy(t,e){let n=e instanceof ye?e:new ye(e),r=t,i=re(n);for(;i!==null;){let s=mi(r.node.children,i)||{children:{},childCount:0};r=new Ua(i,r,s),n=De(n),i=re(n)}return r}function oo(t){return t.node.value}function vS(t,e){t.node.value=e,Sy(t)}function wS(t){return t.node.childCount>0}function Mj(t){return oo(t)===void 0&&!wS(t)}function vd(t,e){gt(t.node.children,(n,r)=>{e(new Ua(n,t,r))})}function bS(t,e,n,r){n&&!r&&e(t),vd(t,i=>{bS(i,e,!0,r)}),n&&r&&e(t)}function Aj(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Wa(t){return new ye(t.parent===null?t.name:Wa(t.parent)+"/"+t.name)}function Sy(t){t.parent!==null&&Nj(t.parent,t.name,t)}function Nj(t,e,n){let r=Mj(n),i=En(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Sy(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Sy(t))}var xj=/[\[\].#$\/\u0000-\u001F\u007F]/,Rj=/[\[\].#$\u0000-\u001F\u007F]/,jm=10*1024*1024,CS=function(t){return typeof t=="string"&&t.length!==0&&!xj.test(t)},ES=function(t){return typeof t=="string"&&t.length!==0&&!Rj.test(t)},kj=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),ES(t)};var Oj=function(t,e,n,r){r&&e===void 0||Xy(ou(t,"value"),e,n)},Xy=function(t,e,n){let r=n instanceof ye?new Xm(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Mi(r));if(typeof e=="function")throw new Error(t+"contains a function "+Mi(r)+" with contents = "+e.toString());if(ED(e))throw new Error(t+"contains "+e.toString()+" "+Mi(r));if(typeof e=="string"&&e.length>jm/3&&aa(e)>jm)throw new Error(t+"contains a string greater than "+jm+" utf8 bytes "+Mi(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(gt(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!CS(o)))throw new Error(t+" contains an invalid key ("+o+") "+Mi(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);hV(r,o),Xy(t,a,r),fV(r)}),i&&s)throw new Error(t+' contains ".value" child '+Mi(r)+" in addition to actual children.")}};var IS=function(t,e,n,r){if(!(r&&n===void 0)&&!ES(n))throw new Error(ou(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},Pj=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),IS(t,e,n,r)},DS=function(t,e){if(re(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},Fj=function(t,e){let n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!CS(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!kj(n))throw new Error(ou(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var Ty=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function SS(t,e){let n=null;for(let r=0;r<e.length;r++){let i=e[r],s=i.getPath();n!==null&&!zD(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function Rn(t,e,n){SS(t,n),Lj(t,r=>tn(r,e)||tn(e,r))}function Lj(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){let i=t.eventLists_[r];if(i){let s=i.path;e(s)?(Vj(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function Vj(t){for(let e=0;e<t.events.length;e++){let n=t.events[e];if(n!==null){t.events[e]=null;let r=n.getEventRunner();xi&&nt("event: "+n.toString()),so(r)}}}var jj="repo_interrupt",Uj=25,My=class{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Ty,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=rd(),this.transactionQueueTree_=new Ua,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function Bj(t,e,n){if(t.stats_=jy(t.repoInfo_),t.forceRestClient_||B2())t.server_=new uy(t.repoInfo_,(r,i,s,o)=>{_D(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>vD(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ve(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Uy(t.repoInfo_,e,(r,i,s,o)=>{_D(t,r,i,s,o)},r=>{vD(t,r)},r=>{Hj(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=H2(t.repoInfo_,()=>new py(t.stats_,t.server_)),t.infoData_=new dy,t.infoSyncTree_=new fd({startListening:(r,i,s,o)=>{let a=[],l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=za(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),t_(t,"connected",!1),t.serverSyncTree_=new fd({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{let c=o(a,l);Rn(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function $j(t){let n=t.infoData_.getNode(new ye(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function e_(t){return Ij({timestamp:$j(t)})}function _D(t,e,n,r,i){t.dataUpdateCount++;let s=new ye(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){let l=oa(n,c=>ze(c));o=yj(t.serverSyncTree_,s,l,i)}else{let l=ze(n);o=pS(t.serverSyncTree_,s,l,i)}else if(r){let l=oa(n,c=>ze(c));o=pj(t.serverSyncTree_,s,l)}else{let l=ze(n);o=za(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=bd(t,s)),Rn(t.eventQueue_,a,o)}function vD(t,e){t_(t,"connected",e),e===!1&&Wj(t)}function Hj(t,e){gt(e,(n,r)=>{t_(t,n,r)})}function t_(t,e,n){let r=new ye("/.info/"+e),i=ze(n);t.infoData_.updateSnapshot(r,i);let s=za(t.infoSyncTree_,r,i);Rn(t.eventQueue_,r,s)}function TS(t){return t.nextWriteId_++}function zj(t,e,n){let r=vj(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{let s=ze(i).withIndex(e._queryParams.getIndex());_j(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=za(t.serverSyncTree_,e._path,s);else{let a=ja(t.serverSyncTree_,e);o=pS(t.serverSyncTree_,e._path,s,a)}return Rn(t.eventQueue_,e._path,o),fS(t.serverSyncTree_,e,n,null,!0),s},i=>(wd(t,"get for query "+Ve(e)+" failed: "+i),Promise.reject(new Error(i))))}function Gj(t,e,n,r,i){wd(t,"set",{path:e.toString(),value:n,priority:r});let s=e_(t),o=ze(n,r),a=qy(t.serverSyncTree_,e),l=_S(o,a,s),c=TS(t),u=hS(t.serverSyncTree_,e,l,c,!0);SS(t.eventQueue_,u),t.server_.put(e.toString(),o.val(!0),(h,f)=>{let p=h==="ok";p||pt("set at "+e+" failed: "+h);let m=Ni(t.serverSyncTree_,c,!p);Rn(t.eventQueue_,e,m),Kj(t,i,h,f)});let d=RS(t,e);bd(t,d),Rn(t.eventQueue_,d,[])}function Wj(t){wd(t,"onDisconnectEvents");let e=e_(t),n=rd();hy(t.onDisconnect_,ue(),(i,s)=>{let o=Tj(i,s,t.serverSyncTree_,e);ZD(n,i,o)});let r=[];hy(n,ue(),(i,s)=>{r=r.concat(za(t.serverSyncTree_,i,s));let o=RS(t,i);bd(t,o)}),t.onDisconnect_=rd(),Rn(t.eventQueue_,ue(),r)}function qj(t){t.persistentConnection_&&t.persistentConnection_.interrupt(jj)}function wd(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),nt(n,...e)}function Kj(t,e,n,r){e&&so(()=>{if(n==="ok")e(null);else{let i=(n||"error").toUpperCase(),s=i;r&&(s+=": "+r);let o=new Error(s);o.code=i,e(o)}})}function MS(t,e,n){return qy(t.serverSyncTree_,e,n)||H.EMPTY_NODE}function n_(t,e=t.transactionQueueTree_){if(e||Cd(t,e),oo(e)){let n=NS(t,e);v(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&Yj(t,Wa(e),n)}else wS(e)&&vd(e,n=>{n_(t,n)})}function Yj(t,e,n){let r=n.map(c=>c.currentWriteId),i=MS(t,e,r),s=i,o=i.hash();for(let c=0;c<n.length;c++){let u=n[c];v(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let d=lt(e,u.path);s=s.updateChild(d,u.currentOutputSnapshotRaw)}let a=s.val(!0),l=e;t.server_.put(l.toString(),a,c=>{wd(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){let d=[];for(let h=0;h<n.length;h++)n[h].status=2,u=u.concat(Ni(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();Cd(t,Jy(t.transactionQueueTree_,e)),n_(t,t.transactionQueueTree_),Rn(t.eventQueue_,e,u);for(let h=0;h<d.length;h++)so(d[h])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{pt("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}bd(t,e)}},o)}function bd(t,e){let n=AS(t,e),r=Wa(n),i=NS(t,n);return Qj(t,i,r),r}function Qj(t,e,n){if(e.length===0)return;let r=[],i=[],o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){let l=e[a],c=lt(n,l.path),u=!1,d;if(v(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,i=i.concat(Ni(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=Uj)u=!0,d="maxretry",i=i.concat(Ni(t.serverSyncTree_,l.currentWriteId,!0));else{let h=MS(t,l.path,o);l.currentInputSnapshot=h;let f=e[a].update(h.val());if(f!==void 0){Xy("transaction failed: Data returned ",f,l.path);let p=ze(f);typeof f=="object"&&f!=null&&En(f,".priority")||(p=p.updatePriority(h.getPriority()));let C=l.currentWriteId,R=e_(t),K=_S(p,h,R);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=K,l.currentWriteId=TS(t),o.splice(o.indexOf(C),1),i=i.concat(hS(t.serverSyncTree_,l.path,K,l.currentWriteId,l.applyLocally)),i=i.concat(Ni(t.serverSyncTree_,C,!0))}else u=!0,d="nodata",i=i.concat(Ni(t.serverSyncTree_,l.currentWriteId,!0))}Rn(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}Cd(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)so(r[a]);n_(t,t.transactionQueueTree_)}function AS(t,e){let n,r=t.transactionQueueTree_;for(n=re(e);n!==null&&oo(r)===void 0;)r=Jy(r,n),e=De(e),n=re(e);return r}function NS(t,e){let n=[];return xS(t,e,n),n.sort((r,i)=>r.order-i.order),n}function xS(t,e,n){let r=oo(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);vd(e,i=>{xS(t,i,n)})}function Cd(t,e){let n=oo(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,vS(e,n.length>0?n:void 0)}vd(e,r=>{Cd(t,r)})}function RS(t,e){let n=Wa(AS(t,e)),r=Jy(t.transactionQueueTree_,e);return Aj(r,i=>{Um(t,i)}),Um(t,r),bS(r,i=>{Um(t,i)}),n}function Um(t,e){let n=oo(e);if(n){let r=[],i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(v(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(v(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Ni(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?vS(e,void 0):n.length=s+1,Rn(t.eventQueue_,Wa(e),i);for(let o=0;o<r.length;o++)so(r[o])}}function Zj(t){let e="",n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function Jj(t){let e={};t.charAt(0)==="?"&&(t=t.substring(1));for(let n of t.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):pt(`Invalid query segment '${n}' in query '${t}'`)}return e}var wD=function(t,e){let n=Xj(t),r=n.namespace;n.domain==="firebase.com"&&qn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&qn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||R2();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Yu(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new ye(n.pathString)}},Xj=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(i=Zj(t.substring(u,d)));let h=Jj(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;let f=e.slice(0,c);if(f.toLowerCase()==="localhost")n="localhost";else if(f.split(".").length<=2)n=f;else{let p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),n=e.substring(p+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};var Ay=class{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){let e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ve(this.snapshot.exportVal())}},Ny=class{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var xy=class{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return v(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}};var Ry=class t{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return X(this._path)?null:BD(this._path)}get ref(){return new Kn(this._repo,this._path)}get _queryIdentifier(){let e=oD(this._queryParams),n=Vy(e);return n==="{}"?"default":n}get _queryObject(){return oD(this._queryParams)}isEqual(e){if(e=et(e),!(e instanceof t))return!1;let n=this._repo===e._repo,r=zD(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+dV(this._path)}};var Kn=class t extends Ry{constructor(e,n){super(e,n,new cy,!1)}get parent(){let e=HD(this._path);return e===null?null:new t(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}},pd=class t{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){let n=new ye(e),r=ky(this.ref,e);return new t(this._node.getChild(n),r,ke)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new t(i,ky(this.ref,r),ke)))}hasChild(e){let n=new ye(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function Vr(t,e){return t=et(t),t._checkNotDeleted("ref"),e!==void 0?ky(t._root,e):t._root}function ky(t,e){return t=et(t),re(t._path)===null?Pj("child","path",e,!1):IS("child","path",e,!1),new Kn(t._repo,Be(t._path,e))}function kS(t){return DS("remove",t._path),qa(t,null)}function qa(t,e){t=et(t),DS("set",t._path),Oj("set",e,t._path,!1);let n=new vr;return Gj(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function Ed(t){t=et(t);let e=new xy(()=>{}),n=new Oy(e);return zj(t._repo,t,n).then(r=>new pd(r,new Kn(t._repo,t._path),t._queryParams.getIndex()))}var Oy=class t{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){let r=n._queryParams.getIndex();return new Ay("value",this,new pd(e.snapshotNode,new Kn(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Ny(this,e,n):null}matches(e){return e instanceof t?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}};oj(Kn);dj(Kn);var eU="FIREBASE_DATABASE_EMULATOR_HOST",Py={},tU=!1;function nU(t,e,n,r){t.repoInfo_=new Yu(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function rU(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||qn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),nt("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=wD(s,i),a=o.repoInfo,l,c;typeof process<"u"&&process.env&&(c=process.env[eU]),c?(l=!0,s=`http://${c}?ns=${a.namespace}`,o=wD(s,i),a=o.repoInfo):l=!o.repoInfo.secure;let u=i&&l?new xa(xa.OWNER):new Wm(t.name,t.options,e);Fj("Invalid Firebase Database URL",o),X(o.path)||qn("Database URL must point to the root of a Firebase Database (not including a child path).");let d=sU(a,t,u,new Gm(t.name,n));return new Fy(d,t)}function iU(t,e){let n=Py[e];(!n||n[t.key]!==t)&&qn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),qj(t),delete n[t.key]}function sU(t,e,n,r){let i=Py[e.name];i||(i={},Py[e.name]=i);let s=i[t.toURLString()];return s&&qn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new My(t,tU,n,r),i[t.toURLString()]=s,s}var Fy=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Bj(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Kn(this._repo,ue())),this._rootInternal}_delete(){return this._rootInternal!==null&&(iU(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&qn("Cannot call "+e+" on a deleted database.")}};function OS(t=uu(),e){let n=ua(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){let r=LC("database");r&&oU(n,...r)}return n}function oU(t,e,n,r={}){t=et(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&qn("Cannot call useEmulator() after instance has already been initialized.");let i=t._repoInternal,s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&qn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new xa(xa.OWNER);else if(r.mockUserToken){let o=typeof r.mockUserToken=="string"?r.mockUserToken:VC(r.mockUserToken,t.app.options.projectId);s=new xa(o)}nU(i,e,n,s)}function aU(t){A2(Er),Cr(new Lt("database",(e,{instanceIdentifier:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return rU(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Xt(HI,zI,t),Xt(HI,zI,"esm2017")}Uy.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Uy.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};aU();var ao=(()=>{let e=class e{constructor(r){this.authService=r}getCardsLocation(){return this.authService.user+"/cards"}getDb(){let r=this.authService.getFirebaseApp();return r?OS(r):null}getLanguage(r){return g(this,null,function*(){let i=this.getDb();if(!i)return null;let s=Vr(i,this.authService.user+"/"+r);return yield Ed(s).then(o=>o.exists()?o.toJSON():null)})}getBaseLanguage(){return g(this,null,function*(){return this.getLanguage("base_lang")})}getGoalLanguage(){return g(this,null,function*(){return this.getLanguage("goal_lang")})}getSettings(){return g(this,null,function*(){let r=this.getDb();if(!r)return null;let i=Vr(r,this.authService.user+"/settings");return yield Ed(i).then(s=>s.exists()?s.toJSON():null)})}setSettings(r){return g(this,null,function*(){let i=this.getDb();if(!i)return;let s=Vr(i,this.authService.user+"/settings");return yield qa(s,r)})}getCards(){return g(this,null,function*(){let r=this.getDb();if(!r)return null;let i=Vr(r,this.getCardsLocation());return yield Ed(i).then(s=>s.exists()?s.toJSON():null)})}updateCard(r){return g(this,null,function*(){let i=this.getDb();if(i)return qa(Vr(i,this.getCardsLocation()+"/"+r.id),r)})}addCard(r){return g(this,null,function*(){let i=this.getDb();if(i)return qa(Vr(i,this.getCardsLocation()+"/"+r.id),r)})}deleteCard(r){return g(this,null,function*(){let i=this.getDb();if(i)return kS(Vr(i,this.getCardsLocation()+"/"+r))})}};e.\u0275fac=function(i){return new(i||e)(T(Vs))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var PS=(()=>{let e=class e{constructor(r){this.dbService=r}getBase(){return g(this,null,function*(){if(this.base)return this.base;let r=yield this.dbService.getBaseLanguage();return typeof r=="string"?(this.base=r,r):""})}getGoal(){return g(this,null,function*(){if(this.goal)return this.goal;let r=yield this.dbService.getGoalLanguage();return typeof r=="string"?(this.goal=r,r):""})}};e.\u0275fac=function(i){return new(i||e)(T(ao))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Id=(()=>{let e=class e{constructor(r){this.languageService=r}name(r){switch(r){case"en":return"English";case"es":return"Spanish";case"de":return"German";default:return"Unknown"}}transform(r){return g(this,null,function*(){switch(r){case"base":{let i=this.name(yield this.languageService.getBase());return i==="Unknown"?"Base":i}case"goal":{let i=this.name(yield this.languageService.getGoal());return i==="Unknown"?"Goal":i}default:return"Unknown"}})}};e.\u0275fac=function(i){return new(i||e)(E(PS,16))},e.\u0275pipe=gs({name:"language",type:e,pure:!0,standalone:!0});let t=e;return t})();var FS=[{id:0,goal:"ab",base:"from, off",goal_sent_1:"Die Fahrt kostet ab Hamburg 200 Euro.",base_sent_1:"The journey costs 200 Euro from Hamburg.",goal_sent_2:"Ab n\xE4chster Woche bleibt unser Gesch\xE4ft samstags geschlossen.",base_sent_2:"From next week, our business will be closed on Saturdays.",starred:!1,type:"other"},{id:1,goal:"abbiegen, biegt ab, bog ab, ist abgebogen",base:"to turn off, bend",goal_sent_1:"An der n\xE4chsten Kreuzung m\xFCssen Sie links abbiegen.",base_sent_1:"At the next junction you have to turn left.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:2,goal:"die Abbildung, -en",base:"Illustration",goal_sent_1:"Hier in der Abbildung sehen Sie, wie man das Ger\xE4t einschaltet.",base_sent_1:"Here you can see how to turn on the device.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"feminine"},{id:3,goal:"aber",base:"but",goal_sent_1:"Heute kann ich nicht, aber morgen ganz bestimmt.",base_sent_1:"I can not today, but certainly tomorrow.",goal_sent_2:"Es lag sehr viel Schnee, aber Enzo ist trotzdem mit dem Motorrad gefahren.",base_sent_2:"There was a lot of snow, but Enzo went by motorbike anyway.",starred:!1,type:"other"},{id:4,goal:'der Abfall, -"e',base:"waste, rubbish, garbage",goal_sent_1:"Werfen Sie den Bioabfall in die gr\xFCne Tonne.",base_sent_1:"Throw the bio-waste into the green bin.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"masculine"},{id:5,goal:"abfahren, f\xE4hrt ab, fuhr ab, ist abgefahren",base:"to depart",goal_sent_1:"Unser Zug ist p\xFCnktlich abgefahren.",base_sent_1:"Our train left on time.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:6,goal:"das Abgas, -e",base:"exhaust, waste gas",goal_sent_1:"Abgase aus Industrie und Haushalten verschmutzen die Luft.",base_sent_1:"Exhaust gases from industry and households pollute the air.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"neuter"},{id:7,goal:"abgeben, gibt ab, gab ab, hat abgegeben",base:"to hand in",goal_sent_1:"Ich soll dieses P\xE4ckchen bei Herrn M\xFCller abgeben.",base_sent_1:"I should hand over this package to Mr. M\xFCller.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:8,goal:"abh\xE4ngen, h\xE4ngt ab, hing ab, hat abgehangen",base:"to take down, uncouple, depend upon",goal_sent_1:"Vielleicht bleiben wir ein paar Tage l\xE4nger, das h\xE4ngt vom Wetter ab.",base_sent_1:"Maybe we stay a few days longer, it depends on the weather.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:9,goal:"abh\xE4ngig",base:"dependent on",goal_sent_1:"Gregor ist finanziell von seinen Eltern abh\xE4ngig.",base_sent_1:"Gregor is financially dependent on his parents.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"other"},{id:10,goal:"abheben, hebt ab, hob ab, hat abgehoben",base:"to lift (up)",goal_sent_1:"F\xFCr die Reise habe ich 500 Euro von meinem Konto abgehoben.",base_sent_1:"For the trip, I have lifted 500 \u20AC from my account.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:11,goal:"abholen, holt ab, holte ab, hat abgeholt",base:"to pick up (from a place)",goal_sent_1:"Meine Freundin hat mich vom Bahnhof abgeholt.",base_sent_1:"My girlfriend picked me up from the train station.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:12,goal:"das Abitur (Sg.)",base:"school graduation exam",goal_sent_1:"Meine Tochter hat gerade Abitur gemacht.",base_sent_1:"My daughter just graduated from high school.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"neuter"},{id:13,goal:"ablehnen, lehnt ab, lehnte ab, hat abgelehnt",base:"to refuse",goal_sent_1:"Es tut mir leid, Ihr Antrag ist abgelehnt.",base_sent_1:"I'm sorry, your application is rejected.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:14,goal:"abmachen, macht ab, machte ab, hat abgemacht",base:"to take off, agree",goal_sent_1:"Wir hatten doch abgemacht, dass du die Getr\xE4nke besorgst.",base_sent_1:"We had agreed that you get the drinks.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:15,goal:"abnehmen, nimmt ab, nahm ab, hat abgenommen",base:"to take off, remove, take away, loose weight",goal_sent_1:"Morgen k\xF6nnen wir den Verband abnehmen.",base_sent_1:"Tomorrow we can remove the bandage.",goal_sent_2:"Ich habe zehn Kilo abgenommen.",base_sent_2:"I lost ten pounds.",starred:!1,type:"verb"},{id:16,goal:"abonnieren, abonniert, abonnierte, hat abonniert",base:"to subscribe",goal_sent_1:"Diese Zeitschrift w\xFCrde ich gerne abonnieren.",base_sent_1:"I would like to subscribe to this magazine.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:17,goal:"das Abonnement, -s",base:"subscription",goal_sent_1:"Ich habe das Abonnement gek\xFCndigt.",base_sent_1:"I have canceled the subscription.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"neuter"},{id:18,goal:'der Abschluss, -"sse',base:"school graduation or result",goal_sent_1:"Ein guter Schulabschluss ist sehr wichtig.",base_sent_1:"A good education is very important.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"masculine"},{id:19,goal:"der Absender, -",base:"sender",goal_sent_1:"Schicken Sie das P\xE4ckchen an den Absender zur\xFCck.",base_sent_1:"Send the parcel back to the sender.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"masculine"},{id:20,goal:"die Absicht, -en",base:"intention",goal_sent_1:"Entschuldigen Sie bitte. Meine Tochter hat das nicht mit Absicht gemacht.",base_sent_1:"Excuse me please. My daughter did not do that on purpose.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"feminine"},{id:21,goal:"absolut",base:"absolute",goal_sent_1:"Was Sie da sagen, ist absolut falsch.",base_sent_1:"What you say is absolutely wrong.",goal_sent_2:"Ich habe absolutes Vertrauen zu dir.",base_sent_2:"I have absolute confidence in you.",starred:!1,type:"other"},{id:22,goal:"abstimmen, stimmt ab, stimmte ab, hat abgestimmt",base:"to vote",goal_sent_1:"Lasst uns \xFCber diesen Punkt abstimmen.",base_sent_1:"Let's vote on this point.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:23,goal:"die Abteilung, -en",base:"Department",goal_sent_1:"Meine Freundin arbeitet in der Abteilung von Frau Kaufmann.",base_sent_1:"My girlfriend works in the department of Mrs. Kaufmann.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"feminine"},{id:24,goal:"abwaschen, w\xE4scht ab, wusch ab, hat abgewaschen",base:"wash up",goal_sent_1:"Ich muss noch das Geschirr abwaschen.",base_sent_1:"I still have to wash the dishes.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"other"},{id:25,goal:"ach",base:"Oh",goal_sent_1:"Sie sind krank? Ach, das tut mir aber leid.",base_sent_1:"You are sick? Oh, I'm sorry.",goal_sent_2:"Ach so! Jetzt verstehe ich, was Sie meinen.",base_sent_2:"Oh, right! Now I understand what you mean.",starred:!1,type:"other"},{id:26,goal:"achten auf, achtet, achtete, hat geachtet",base:"to pay attention (to)",goal_sent_1:"Achten Sie bitte darauf, dass abends immer alle Fenster geschlossen sind.",base_sent_1:"Please make sure that all windows are closed in the evening.",goal_sent_2:"Hier m\xFCssen Sie auf die Vorfahrt achten.",base_sent_2:"Here you must pay attention to the right of way.",starred:!1,type:"verb"},{id:27,goal:"die Achtung (Sg.)",base:"Danger, Attention",goal_sent_1:"Achtung, hier endet die Stra\xDFe!",base_sent_1:"Attention, the road ends here!",goal_sent_2:"",base_sent_2:"",starred:!1,type:"feminine"},{id:28,goal:"die Adresse, -n",base:"address",goal_sent_1:"Hast du schon meine neue Adresse?",base_sent_1:"Do you already have my new address?",goal_sent_2:"",base_sent_2:"",starred:!1,type:"feminine"},{id:29,goal:"die Agentur, -en",base:"Agency",goal_sent_1:"Ich habe einen Brief von der Agentur f\xFCr Arbeit bekommen.",base_sent_1:"I got a letter from the employment agency.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"feminine"},{id:30,goal:"\xE4hnlich",base:"similar",goal_sent_1:"Oleg sieht seinem Bruder sehr \xE4hnlich.",base_sent_1:"Oleg looks very much like his brother.",goal_sent_2:"Emilia ist in einer ganz \xE4hnlichen Situation wie ich.",base_sent_2:"Emilia is in a similar situation to me.",starred:!1,type:"other"},{id:31,goal:"aha",base:"Aha",goal_sent_1:"Ich gehe bald in Rente. - Aha, dann haben Sie ja viel Zeit f\xFCr Ihre Hobbys.",base_sent_1:"I'm retiring soon. - Aha, then you have a lot of time for your hobbies.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"other"},{id:32,goal:"die Ahnung, -en",base:"idea, suspicion",goal_sent_1:"Ich hatte keine Ahnung, dass du heute Geburtstag hast.",base_sent_1:"I had no idea that you have a birthday today.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"feminine"},{id:33,goal:"die Aktion, -en",base:"action",goal_sent_1:"Die Regierung plant eine Aktion gegen das Rauchen.",base_sent_1:"The government is planning an action against smoking.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"feminine"},{id:34,goal:"aktiv",base:"active",goal_sent_1:"Ich bin sehr aktiv und mache viel Sport.",base_sent_1:"I am very active and do a lot of sports.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"other"},{id:35,goal:"die Aktivit\xE4t, -en",base:"activity",goal_sent_1:"In den Ferien bietet die Stadt f\xFCr Kinder verschiedene Freizeitaktivit\xE4ten.",base_sent_1:"During the holidays, the city offers various leisure activities for children.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"feminine"},{id:36,goal:"aktuell",base:"current (now)",goal_sent_1:"Umweltschutz ist ein aktuelles Thema.",base_sent_1:"Environmental protection is a current topic.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"other"},{id:37,goal:"akzeptieren, akzeptiert, akzeptierte, hat akzeptiert",base:"to accept",goal_sent_1:"Ich kann diese Bedingungen nicht akzeptieren.",base_sent_1:"I can not accept these conditions.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:38,goal:"der Alarm, -e",base:"alarm",goal_sent_1:"Bei Feueralarm d\xFCrfen Sie die Aufz\xFCge nicht benutzen.",base_sent_1:"In case of fire alarm you are not allowed to use the lifts.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"masculine"},{id:39,goal:"der Alkohol, -e",base:"alcohol",goal_sent_1:"Du musst die Wunde mit Alkohol reinigen.",base_sent_1:"You have to clean the wound with alcohol.",goal_sent_2:"Nein, danke! Ich trinke keinen Alkohol.",base_sent_2:"No thanks! I do not drink alcohol.",starred:!1,type:"masculine"},{id:40,goal:"all-",base:"everything",goal_sent_1:"Alles Gute!",base_sent_1:"All the best!",goal_sent_2:"Sonst noch (et)was? - Nein, danke. Das ist alles.",base_sent_2:"Anything else? - No thanks. That's all.",starred:!1,type:"other"},{id:41,goal:"allein",base:"alone",goal_sent_1:"Ich gehe nicht gern allein spazieren.",base_sent_1:"I do not like to go for a walk alone.",goal_sent_2:"Soll ich Ihnen helfen? - Danke, ich schaffe es schon allein.",base_sent_2:"Can I help you? - Thanks, I can do it alone.",starred:!1,type:"other"},{id:42,goal:"aller",base:"all",goal_sent_1:"Am allerbesten ist es, wenn du dich ins Bett legst und lange schl\xE4fst. Dann wirst du schnell wieder gesund.",base_sent_1:"Best of all, when you go to bed and sleep for a long time. Then you will get well soon.",goal_sent_2:"Das ist das Allersch\xF6nste, was ich je gesehen habe.",base_sent_2:"That's the most beautiful thing I've ever seen.",starred:!1,type:"other"},{id:43,goal:"allerdings",base:"admittedly, certainly",goal_sent_1:"Sie k\xF6nnen sich noch f\xFCr den Kurs anmelden, allerdings nur noch bis morgen.",base_sent_1:"You can still register for the course, but only until tomorrow.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"other"},{id:44,goal:"allgemein",base:"general",goal_sent_1:"Im Allgemeinen bin ich mit meiner Arbeit sehr zufrieden.",base_sent_1:"In general I am very satisfied with my work.",goal_sent_2:"Wir haben nur \xFCber allgemeine Probleme gesprochen.",base_sent_2:"We only talked about general problems.",starred:!1,type:"other"},{id:45,goal:"der Alltag, -e",base:"daily routine",goal_sent_1:"Das ist mein Alltag: putzen, waschen, kochen.",base_sent_1:"This is my everyday life: cleaning, washing, cooking.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"masculine"},{id:46,goal:"das Alphabet, -e",base:"alphabet",goal_sent_1:"Wie viele Buchstaben hat das Alphabet Ihrer Sprache?",base_sent_1:"How many letters does the alphabet have in your language?",goal_sent_2:"",base_sent_2:"",starred:!1,type:"neuter"},{id:47,goal:"als",base:"when, as, than",goal_sent_1:"Als mein Mann kam, war die Party schon zu Ende.",base_sent_1:"When my husband came, the party was over.",goal_sent_2:"Sie k\xF6nnen sich sowohl pers\xF6nlich als auch per Internet anmelden.",base_sent_2:"You can register both in person and via the internet.",starred:!1,type:"other"},{id:48,goal:"als ob",base:"as if",goal_sent_1:"Der Chef tat so, als ob wir nie dar\xFCber gesprochen h\xE4tten.",base_sent_1:"The boss pretended we never talked about it.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"other"},{id:49,goal:"also",base:"so, therefore",goal_sent_1:"Also, die Sache ist so: ...",base_sent_1:"So, the thing is ...",goal_sent_2:"Irina hat Urlaub. Sie kann uns also helfen.",base_sent_2:"Irina is on vacation. So she can help us.",starred:!1,type:"other"},{id:50,goal:"alt",base:"old",goal_sent_1:"Wie alt sind Sie?",base_sent_1:"How old are they?",goal_sent_2:"Maria ist eine alte Freundin von mir.",base_sent_2:"Maria is an old friend of mine.",starred:!1,type:"other"},{id:51,goal:"das Alter, -",base:"age",goal_sent_1:"Wir sind etwa im gleichen Alter.",base_sent_1:"We are about the same age.",goal_sent_2:"Im Alter bekomme ich eine ausreichende Rente.",base_sent_2:"At the age I get a sufficient pension.",starred:!1,type:"neuter"},{id:52,goal:"das Altenheim, -e",base:"old people's home, retirement home",goal_sent_1:"In Deutschland leben viele alte Leute in Altenheimen.",base_sent_1:"In Germany, many old people live in retirement homes.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"neuter"},{id:53,goal:"das Altersheim, -e",base:"old people's home, retirement home",goal_sent_1:"Die Gro\xDFeltern unserer Nachbarn sind im Altersheim.",base_sent_1:"The grandparents of our neighbors are in the retirement home.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"neuter"},{id:54,goal:"an",base:"on",goal_sent_1:"Am Anfang war alles sehr schwierig.",base_sent_1:"In the beginning everything was very difficult.",goal_sent_2:"Dann sehen wir uns also am Dienstag.",base_sent_2:"See you on Tuesday.",starred:!1,type:"other"},{id:55,goal:"die Ampel, -n",base:"traffic light",goal_sent_1:"Dort an der Ampel kannst du \xFCber die Stra\xDFe gehen.",base_sent_1:"There at the traffic light you can cross the street.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"feminine"},{id:56,goal:'das Amt, -"er',base:"office",goal_sent_1:"Die \xC4mter haben heute geschlossen.",base_sent_1:"The offices have closed today.",goal_sent_2:"Wissen Sie, wo das Ordnungsamt ist?",base_sent_2:"Do you know where the public order office is?",starred:!1,type:"neuter"},{id:57,goal:"sich am\xFCsieren, am\xFCsiert sich, am\xFCsierte sich, hat sich am\xFCsiert",base:"to amuse oneself",goal_sent_1:"Bei dem Fest haben wir uns sehr gut am\xFCsiert.",base_sent_1:"We had a good time at the party.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:58,goal:"analysieren, analysiert, analysierte, hat analysiert",base:"to analyse",goal_sent_1:"Die Politiker analysieren die Situation auf dem Arbeitsmarkt.",base_sent_1:"The politicians analyze the situation on the job market.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:59,goal:"anbieten, bietet an, bot an, hat angeboten",base:"to offer",goal_sent_1:"Darf ich Ihnen etwas zu trinken anbieten?",base_sent_1:"May I offer you something to drink?",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:60,goal:"das Angebot, -e",base:"offer",goal_sent_1:"Ich habe ein paar g\xFCnstige Wohnungsangebote bekommen.",base_sent_1:"I got a few cheap housing offers.",goal_sent_2:"Dieser K\xE4se ist heute im Angebot.",base_sent_2:"This cheese is on sale today.",starred:!1,type:"neuter"},{id:61,goal:"ander-",base:"other",goal_sent_1:"Die anderen sind schon nach Hause gegangen.",base_sent_1:"The others have already gone home.",goal_sent_2:"Bitte nicht alle auf einmal! - Einer nach dem anderen.",base_sent_2:"Not all at once! - One after the other.",starred:!1,type:"other"},{id:62,goal:"andererseits",base:"on the other hand",goal_sent_1:"Tarek will zwar studieren. Andererseits m\xF6chte er aber auch gleich Geld verdienen.",base_sent_1:"Tarek wants to study. On the other hand, he also wants to earn money right away.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"other"},{id:63,goal:"\xE4ndern, \xE4ndert, \xE4nderte, hat ge\xE4ndert",base:"to change",goal_sent_1:"Das Wetter hat sich ge\xE4ndert.",base_sent_1:"The weather has changed.",goal_sent_2:"Ich habe meine Meinung inzwischen ge\xE4ndert.",base_sent_2:"I have changed my mind by now.",starred:!1,type:"verb"},{id:64,goal:"die \xC4nderung, -en",base:"modification, change",goal_sent_1:"Es gibt eine Programm\xE4nderung.",base_sent_1:"There is a program change.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"feminine"},{id:65,goal:"anders",base:"different",goal_sent_1:"Anders geht das leider nicht.",base_sent_1:"Unfortunately, that is not possible.",goal_sent_2:"Oliver ist anders als seine Freunde.",base_sent_2:"Oliver is different than his friends.",starred:!1,type:"other"},{id:66,goal:"anerkennen, erkennt an, erkannte an, hat anerkannt",base:"to recognize",goal_sent_1:"Meine Ausbildung wird hier nicht anerkannt.",base_sent_1:"My education is not recognized here.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:67,goal:"anfangen, f\xE4ngt an, fing an, hat angefangen",base:"to begin",goal_sent_1:"Wann f\xE4ngst du mit der Arbeit an?",base_sent_1:"When do you start working?",goal_sent_2:"Wann haben Sie angefangen, Deutsch zu lernen?",base_sent_2:"When did you start learning German?",starred:!1,type:"verb"},{id:68,goal:'der Anfang, -"e',base:"beginning",goal_sent_1:"Wie war der Film? - Ich habe nur den Anfang gesehen.",base_sent_1:"How was the movie? - I saw only the beginning.",goal_sent_2:"Am Anfang habe ich mich hier sehr fremd gef\xFChlt.",base_sent_2:"In the beginning I felt very strange here.",starred:!1,type:"masculine"},{id:69,goal:"anfangs",base:"at/ in the beginning",goal_sent_1:"Anfangs ging alles gut.",base_sent_1:"At first everything went well.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"other"},{id:70,goal:"die Angabe,-n",base:"information, specification",goal_sent_1:"Wir brauchen von Ihnen folgende Angaben: Name, Adresse, Geburtsdatum.",base_sent_1:"We need the following information from you: name, address, date of birth.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"feminine"},{id:71,goal:"angeben, gibt an, gab an, hat angegeben",base:"to boast",goal_sent_1:"Bitte geben Sie Ihre genaue Adresse an.",base_sent_1:"Please enter your exact address.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:72,goal:"der Angeh\xF6rige, -n",base:"relative (cousin, etc)",goal_sent_1:"Wir d\xFCrfen nur Familienangeh\xF6rigen Auskunft geben.",base_sent_1:"We may only provide information to family members.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"masculine"},{id:73,goal:"angenehm",base:"pleasant",goal_sent_1:"Wir w\xFCnschen Ihnen eine angenehme Reise.",base_sent_1:"We wish you a pleasant journey.",goal_sent_2:"Welcher Termin w\xE4re Ihnen angenehm?",base_sent_2:"Which date would you like?",starred:!1,type:"other"},{id:74,goal:'die Angst, -"e',base:"fear",goal_sent_1:"Du brauchst keine Angst zu haben. Der Hund tut dir nichts.",base_sent_1:"You do not have to be scared. The dog does nothing to you.",goal_sent_2:"Ich habe Angst, vielleicht ist etwas passiert.",base_sent_2:"I'm scared, maybe something happened.",starred:!1,type:"feminine"},{id:75,goal:"\xE4ngstlich",base:"nervous, worried, timid",goal_sent_1:"Meine Tochter ist etwas \xE4ngstlich. Sie geht nicht gern allein auf die Stra\xDFe.",base_sent_1:"My daughter is a little scared. She does not like to go alone on the street.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"other"},{id:76,goal:"anhaben, hat an, hatte an, hat angehabt",base:"to have on",goal_sent_1:"Gestern hatte Julia ein rotes Kleid an.",base_sent_1:"Yesterday Julia was wearing a red dress.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:77,goal:"ankommen, kommt an, kam an, ist angekommen",base:"to arrive",goal_sent_1:"Wann kommt der Zug in Hamburg an?",base_sent_1:"When does the train arrive in Hamburg?",goal_sent_2:"Es kommt darauf an, dass Sie alle Fragen im Test beantworten.",base_sent_2:"It is important that you answer all the questions in the test.",starred:!1,type:"verb"},{id:78,goal:'die Ankunft, "-e',base:"arrival",goal_sent_1:"Die Abfahrt ist um 0.55 Uhr, die Ankunft um 8.07 Uhr.",base_sent_1:"The departure is at 0.55 clock, the arrival at 8.07 clock.",goal_sent_2:"Gleich nach der Ankunft habe ich meine Eltern angerufen.",base_sent_2:"Immediately after arrival, I called my parents.",starred:!1,type:"feminine"},{id:79,goal:"die Anlage, -n",base:"music system, attachment, investment",goal_sent_1:"Meine Musikanlage ist kaputt.",base_sent_1:"My music system is broken.",goal_sent_2:"In der Anlage finden Sie meinen Lebenslauf.",base_sent_2:"In the attachment you will find my CV.",starred:!1,type:"feminine"},{id:80,goal:"anmelden, meldet an, meldete an, hat angemeldet, angemeldet sein",base:"to announce, make an appointment",goal_sent_1:"F\xFCr diesen Kurs m\xFCssen Sie sich unbedingt vorher anmelden.",base_sent_1:"You absolutely have to register in advance for this course.",goal_sent_2:"Ich melde meinen Sohn im Kindergarten an.",base_sent_2:"I enroll my son in kindergarten.",starred:!1,type:"verb"},{id:81,goal:"die Anmeldung, -en",base:"appointment, announcement",goal_sent_1:"Wo bekomme ich die Formulare f\xFCr die Anmeldung?",base_sent_1:"Where can I get the registration forms?",goal_sent_2:"Die Anmeldung ist im Erdgeschoss, Zimmer 55.",base_sent_2:"The registration is on the ground floor, room 55.",starred:!1,type:"feminine"},{id:82,goal:"die Anrede, -n",base:"form of address",goal_sent_1:"Du darfst im Brief die Anrede nicht vergessen.",base_sent_1:"You must not forget the salutation in the letter.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"feminine"},{id:83,goal:"anrufen, ruft an, rief an, hat angerufen",base:"to telephone, call, call out",goal_sent_1:"Ich rufe Sie heute Abend an.",base_sent_1:"I'll call you tonight.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:84,goal:"der Anruf, -e",base:"call",goal_sent_1:"Ich warte auf einen Anruf aus Berlin.",base_sent_1:"I'm waiting for a call from Berlin.",goal_sent_2:"Meine Tochter bekommt viele Anrufe auf ihrem Handy.",base_sent_2:"My daughter gets many calls on her mobile.",starred:!1,type:"masculine"},{id:85,goal:"der Anrufbeantworter, -",base:"answering machine",goal_sent_1:"Ich habe dir eine Nachricht auf den Anrufbeantworter gesprochen.",base_sent_1:"I have spoken to you on the answering machine.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"masculine"},{id:86,goal:"die Ansage, -n",base:"announcement",goal_sent_1:"Achten Sie auf die Ansage am Bahnsteig.",base_sent_1:"Pay attention to the announcement on the platform.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"feminine"},{id:87,goal:"anschaffen, schafft an, schaffte an, hat angeschafft",base:"to purchase",goal_sent_1:"Wir haben uns neue M\xF6bel angeschafft.",base_sent_1:"We bought new furniture.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:88,goal:"anschlie\xDFen, schlie\xDFt an, schloss an, hat angeschlossen",base:"to connect",goal_sent_1:"Wo kann ich den Computer anschlie\xDFen?",base_sent_1:"Where can I connect the computer?",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:89,goal:'der Anschluss, -"e',base:"connection (TV, internet)",goal_sent_1:"In Mannheim haben Sie Anschluss nach Saarbr\xFCcken.",base_sent_1:"In Mannheim you have connection to Saarbr\xFCcken.",goal_sent_2:"Ich brauche in meiner Wohnung einen Telefonanschluss.",base_sent_2:"I need a telephone connection in my apartment.",starred:!1,type:"masculine"},{id:90,goal:"anschnallen, schnallt an, schnallte an, hat angeschnallt",base:"to strap in, fasten seat belt",goal_sent_1:"Vergiss nicht, dich anzuschnallen!",base_sent_1:"Do not forget to strap on!",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:91,goal:"ansehen, sieht an, sah an, hat angesehen",base:"to look at",goal_sent_1:"Warum siehst du mich so erschrocken an?",base_sent_1:"Why are you looking at me so startled?",goal_sent_2:"Darf ich eure Urlaubsfotos ansehen?",base_sent_2:"May I take a look at your vacation photos?",starred:!1,type:"verb"},{id:92,goal:"ansprechen, spricht an, sprach an, hat angesprochen",base:"to speak to",goal_sent_1:"Gestern hat mich die neue Mieterin im Treppenhaus angesprochen.",base_sent_1:"Yesterday, the new tenant in the stairwell addressed me.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"},{id:93,goal:'der Anspruch, - "e',base:"claim",goal_sent_1:"Sie wohnen im Stadtzentrum. Deshalb haben Sie keinen Anspruch auf Fahrgeld.",base_sent_1:"You live in the city center. Therefore, you are not entitled to fare.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"masculine"},{id:94,goal:"anstellen, stellt an, stellte an, hat angestellt",base:"to turn on, employ",goal_sent_1:"K\xF6nnen Sie bitte die Heizung anstellen?",base_sent_1:"Can you please turn on the heating?",goal_sent_2:"Mein Schwager ist bei einer M\xF6belfirma angestellt.",base_sent_2:"My brother-in-law is employed by a furniture company.",starred:!1,type:"verb"},{id:95,goal:"der Angestellte, -n",base:"employee",goal_sent_1:"Bj\xF6rn ist Angestellter in einem Reiseb\xFCro.",base_sent_1:"Bj\xF6rn is a clerk in a travel agency.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"masculine"},{id:96,goal:"sich anstrengen, strengt sich an, strengte sich an, hat sich angestrengt",base:"to tire oneself out, strain oneself",goal_sent_1:"Diese Arbeit strengt mich sehr an.",base_sent_1:"This work is very stressful for me.",goal_sent_2:"Wenn du die Pr\xFCfung schaffen willst, musst du dich mehr anstrengen.",base_sent_2:"If you want to pass the exam, you have to work harder.",starred:!1,type:"verb"},{id:97,goal:"anstrengend",base:"exhausting",goal_sent_1:"Ich finde diese Arbeit sehr anstrengend.",base_sent_1:"I find this work very exhausting.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"other"},{id:98,goal:'der Antrag, -"e',base:"application, proposal, motion",goal_sent_1:"Haben Sie schon einen Antrag auf Wohngeld gestellt?",base_sent_1:"Have you already applied for housing allowance?",goal_sent_2:"Die Antr\xE4ge bekommen Sie in Zimmer 47.",base_sent_2:"You will receive the applications in room 47.",starred:!1,type:"masculine"},{id:99,goal:"anwenden, wendet an, wandte an, hat angewandt/angewendet",base:"to use, employ, apply",goal_sent_1:"Diese Salbe muss man dreimal am Tag anwenden.",base_sent_1:"This ointment must be used three times a day.",goal_sent_2:"",base_sent_2:"",starred:!1,type:"verb"}];var LS=(()=>{let e=class e{constructor(){}isLocal(){return location.hostname==="localhost"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var jr=(()=>{let e=class e{constructor(r,i,s){this.dbService=r,this.envService=i,this.notificationsService=s,this.locals=null,this.cardAdded=new he,this.typeOptions=["masculine","feminine","neuter","verb","other"]}get(r){return g(this,null,function*(){return r&&(this.locals=null),this.locals&&this.locals.length>0?this.locals:r||this.envService.isLocal()?(this.locals=FS,this.notificationsService.push({message:"Samples loaded!",success:!0}),this.locals?this.locals:[]):this.dbService.getCards().then(i=>(this.locals=Object.values(i),this.locals))})}update(r,i){return g(this,null,function*(){if(this.locals=yield this.get(),this.envService.isLocal()){this.locals[i]=r;return}return this.dbService.updateCard(r).then(()=>{this.locals&&(this.locals[i]=r)})})}add(r){return g(this,null,function*(){if(this.locals=yield this.get(),r.id=this.locals[this.locals.length-1].id+1,this.envService.isLocal()){this.locals.push(r),this.cardAdded.next(r);return}return this.dbService.addCard(r).then(()=>{this.locals?.push(r),this.cardAdded.next(r)})})}delete(r,i){return g(this,null,function*(){if(this.locals=yield this.get(),this.envService.isLocal()){this.locals.splice(i,1);return}return this.dbService.deleteCard(r).then(()=>{this.locals?.splice(i,1)})})}};e.\u0275fac=function(i){return new(i||e)(T(ao),T(LS),T(Vt))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var lo=(()=>{let e=class e{constructor(r,i){this.dbService=r,this.notificationsService=i,this.settings={base_front:!0,deal_starred:!1,deck_size:10},this.loading=!0,this.loaded=new he,this.dealStarredChanged=new he,this.dbService.getSettings().then(s=>{s&&(this.settings=s,this.loading=!1,this.loaded.next())})}update(r){return g(this,null,function*(){return this.dbService.setSettings(r).then(()=>{this.settings=r,this.notificationsService.push({message:"Settings updated!",success:!0})}).catch(()=>{this.notificationsService.push({message:"Failed to update settings!",success:!1})})})}getDealStarred(){return this.settings.deal_starred}setDealStarred(r){let i=Y(w({},this.settings),{deal_starred:r});this.update(i).then(()=>this.dealStarredChanged.next())}getBaseFront(){return this.settings.base_front}setBaseFront(r){let i=Y(w({},this.settings),{base_front:r});this.update(i)}getDeckSize(){return this.settings.deck_size}setDeckSize(r){let i=Y(w({},this.settings),{deck_size:r});this.update(i)}};e.\u0275fac=function(i){return new(i||e)(T(ao),T(Vt))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function hU(t,e){if(t&1){let n=Te();y(0,"form",1)(1,"div",12)(2,"p",13),se(3,"Deal from starred cards only?"),b(),y(4,"app-action-slider",14),F("click",function(){te(n);let i=M();return ne(i.toggleDealFromStarred())}),b()(),y(5,"div",12)(6,"p",13),se(7),ve(8,"language"),ve(9,"async"),b(),y(10,"app-action-slider",14),F("click",function(){te(n);let i=M();return ne(i.toggleBaseFront())}),b()(),y(11,"div",12),S(12,"input",15),y(13,"button",16),F("click",function(){te(n);let i=M();return ne(i.setDeckSize())}),se(14,"Set deck size"),b()()()}if(t&2){let n=M();x("formGroup",n.settingsForm),A(4),x("active",n.getDealFromStarred()),A(3),Qt("",we(9,6,we(8,4,"base"))," on front?"),A(3),x("active",n.getBaseFront())}}function fU(t,e){if(t&1&&(y(0,"option",25),ve(1,"typeColor"),se(2),b()),t&2){let n=e.$implicit;ws("background",we(1,4,n)),x("ngValue",n),A(2),It(n)}}function pU(t,e){if(t&1&&(y(0,"form",2)(1,"h2"),se(2,"Add card"),b(),S(3,"input",17),ve(4,"language"),ve(5,"async"),S(6,"input",18),ve(7,"language"),ve(8,"async"),y(9,"select",19),fe(10,fU,3,6,"option",20),b(),S(11,"textarea",21)(12,"textarea",22)(13,"textarea",23)(14,"textarea",24),b()),t&2){let n=M();x("formGroup",n.addCardForm),A(3),x("placeholder",we(5,6,we(4,4,"base"))),A(3),x("placeholder",we(8,10,we(7,8,"goal"))),A(4),x("ngForOf",n.typeOptions)}}function gU(t,e){if(t&1){let n=Te();y(0,"button",26),F("click",function(){te(n);let i=M();return ne(i.addCard())}),Ue(),y(1,"svg",5),S(2,"g",6)(3,"g",7),y(4,"g",8),S(5,"path",27),b()()()}if(t&2){let n=M();x("disabled",n.addCardForm.invalid)}}var VS=(()=>{let e=class e{constructor(r,i,s){this.cardsService=r,this.notificationsService=i,this.settingsService=s,this.dropState="inactive",this.settingsOpen=!1,this.addCardOpen=!1,this.closePressed=new J,this.settingsForm=new Wn({deckSize:new Ae(this.settingsService.getDeckSize(),[tt.min(1),tt.required])}),this.addCardForm=new Wn({base:new Ae(null,[tt.required,tt.minLength(1)]),goal:new Ae(null,tt.required),type:new Ae("masculine",tt.required),goal_sent_1:new Ae(""),base_sent_1:new Ae(""),goal_sent_2:new Ae(""),base_sent_2:new Ae("")})}ngOnInit(){this.settingsService.loaded.subscribe(()=>{this.settingsForm.patchValue({deckSize:this.settingsService.getDeckSize()})}),this.typeOptions=this.cardsService.typeOptions}resetAddForm(){this.addCardForm.reset(),this.addCardForm.patchValue({type:"masculine"})}close(){this.addCardOpen&&this.resetAddForm(),this.settingsOpen=!1,this.addCardOpen=!1,this.closePressed.emit()}addCard(){let r={id:-1,base:this.addCardForm.controls.base.value?this.addCardForm.controls.base.value:"",goal:this.addCardForm.controls.goal.value?this.addCardForm.controls.goal.value:"",type:this.addCardForm.controls.type.value?this.addCardForm.controls.type.value:"other",goal_sent_1:this.addCardForm.controls.goal_sent_1.value?this.addCardForm.controls.goal_sent_1.value:"",base_sent_1:this.addCardForm.controls.base_sent_1.value?this.addCardForm.controls.base_sent_1.value:"",goal_sent_2:this.addCardForm.controls.goal_sent_2.value?this.addCardForm.controls.goal_sent_2.value:"",base_sent_2:this.addCardForm.controls.base_sent_2.value?this.addCardForm.controls.base_sent_2.value:"",starred:!1};this.cardsService.add(r).then(()=>{this.close(),this.notificationsService.push({message:"Card added!",success:!0})}).catch(i=>{this.notificationsService.push({message:"Error adding card to db! "+i,success:!1})})}getDropState(){return this.settingsOpen||this.addCardOpen?"active":"inactive"}getDealFromStarred(){return this.settingsService.getDealStarred()}toggleDealFromStarred(){this.settingsService.setDealStarred(!this.settingsService.getDealStarred())}getBaseFront(){return this.settingsService.getBaseFront()}toggleBaseFront(){this.settingsService.setBaseFront(!this.settingsService.getBaseFront())}setDeckSize(){let r=this.settingsForm.controls.deckSize.value;r&&this.settingsService.setDeckSize(r)}};e.\u0275fac=function(i){return new(i||e)(E(jr),E(Vt),E(lo))},e.\u0275cmp=Ee({type:e,selectors:[["app-menu"]],inputs:{settingsOpen:"settingsOpen",addCardOpen:"addCardOpen"},outputs:{closePressed:"closePressed"},standalone:!0,features:[Ie],decls:19,vars:3,consts:[[1,"menu-container"],[3,"formGroup"],[1,"add-card-form",3,"formGroup"],[1,"navbar"],[1,"icon-btn",3,"click"],["viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["id","SVGRepo_bgCarrier","stroke-width","0"],["id","SVGRepo_tracerCarrier","stroke-linecap","round","stroke-linejoin","round"],["id","SVGRepo_iconCarrier"],["id","Menu / Close_LG"],["id","Vector","d","M21 21L12 12M12 12L3 3M12 12L21.0001 3M12 12L3 21.0001","stroke","#000000","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["class","icon-btn",3,"disabled","click",4,"ngIf"],[1,"row"],[1,"label",2,"margin-right","1rem"],[3,"click","active"],["type","number","placeholder","deck size","formControlName","deckSize",2,"margin","0"],[1,"btn",2,"margin","0",3,"click"],["type","text","formControlName","base",1,"border-input",3,"placeholder"],["type","text","formControlName","goal",1,"border-input",3,"placeholder"],["formControlName","type",1,"border-input"],[3,"ngValue","background",4,"ngFor","ngForOf"],["type","text","formControlName","goal_sent_1","placeholder","goal sentence 1",1,"border-input"],["type","text","formControlName","base_sent_1","placeholder","base sentence 1",1,"border-input"],["type","text","formControlName","goal_sent_2","placeholder","goal sentence 2",1,"border-input"],["type","text","formControlName","base_sent_2","placeholder","base sentence 2",1,"border-input"],[3,"ngValue"],[1,"icon-btn",3,"click","disabled"],["fill-rule","evenodd","clip-rule","evenodd","d","M18.1716 1C18.702 1 19.2107 1.21071 19.5858 1.58579L22.4142 4.41421C22.7893 4.78929 23 5.29799 23 5.82843V20C23 21.6569 21.6569 23 20 23H4C2.34315 23 1 21.6569 1 20V4C1 2.34315 2.34315 1 4 1H18.1716ZM4 3C3.44772 3 3 3.44772 3 4V20C3 20.5523 3.44772 21 4 21L5 21L5 15C5 13.3431 6.34315 12 8 12L16 12C17.6569 12 19 13.3431 19 15V21H20C20.5523 21 21 20.5523 21 20V6.82843C21 6.29799 20.7893 5.78929 20.4142 5.41421L18.5858 3.58579C18.2107 3.21071 17.702 3 17.1716 3H17V5C17 6.65685 15.6569 8 14 8H10C8.34315 8 7 6.65685 7 5V3H4ZM17 21V15C17 14.4477 16.5523 14 16 14L8 14C7.44772 14 7 14.4477 7 15L7 21L17 21ZM9 3H15V5C15 5.55228 14.5523 6 14 6H10C9.44772 6 9 5.55228 9 5V3Z","fill","#0F0F0F"]],template:function(i,s){i&1&&(y(0,"div",0),fe(1,hU,15,8,"form",1)(2,pU,15,12,"form",2),y(3,"div",3)(4,"button",4),F("click",function(){return s.close()}),Ue(),y(5,"svg",5),S(6,"g",6)(7,"g",7),y(8,"g",8)(9,"g",9),S(10,"path",10),b()()()(),fe(11,gU,6,1,"button",11),Un(),y(12,"button",4),F("click",function(){return s.close()}),Ue(),y(13,"svg",5),S(14,"g",6)(15,"g",7),y(16,"g",8)(17,"g",9),S(18,"path",10),b()()()()()()),i&2&&(x("@drop",s.getDropState()),A(),ft(s.settingsOpen?1:s.addCardOpen?2:-1),A(10),x("ngIf",s.addCardOpen&&s.addCardForm.valid))},dependencies:[Xe,wn,gr,Lc,xr,Gs,Hu,zu,Mn,xm,Ws,Nr,zs,Di,Si,$I,kr,Id],styles:["body[_ngcontent-%COMP%]{margin:0;background:#dedede;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{height:2.5rem;margin:0 .5rem;padding:.25rem;border:none;outline:none;border-radius:5px;background-color:#f0f8ff;font-size:large;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}textarea[_ngcontent-%COMP%]{height:3.5rem}button[_ngcontent-%COMP%]{font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}.label[_ngcontent-%COMP%]{font-size:20px}.btn[_ngcontent-%COMP%]{width:fit-content;margin:auto;padding:.5rem 1rem;border:none;outline:none;height:3rem;border-radius:5px;font-size:20px;box-shadow:0 1px 2px #d3d3d3}.submit[_ngcontent-%COMP%]{background-color:#90ee90}.cancel[_ngcontent-%COMP%]{background-color:#f08080}.icon-btn[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;outline:none;border:none;background:none;width:4rem;height:4rem;padding:0 .5rem}.icon-btn[_ngcontent-%COMP%]:hover{cursor:pointer;outline:solid 1px black}.navbar[_ngcontent-%COMP%]{height:4rem;width:100%;display:flex;flex-direction:row;justify-content:space-between}.border-input[_ngcontent-%COMP%]{background:#ffffff10;border:solid 1px black}.menu-container[_ngcontent-%COMP%]{position:absolute;left:0;display:flex;flex-direction:column;justify-content:flex-end;width:100%;height:100%;background:#dedede;z-index:1}.row[_ngcontent-%COMP%]{margin:0 1rem;display:flex;flex-direction:row;justify-content:space-between}.add-card-form[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:flex-end;margin:1rem 0;text-align:center;gap:.5rem}"],data:{animation:[BI]}});let t=e;return t})();function mU(t,e){if(t&1){let n=Te();y(0,"button",12),F("click",function(){te(n);let i=M();return ne(i.backPressed.emit())}),Ue(),y(1,"svg",13),S(2,"g",3)(3,"g",4),y(4,"g",5),S(5,"path",14),b()()(),Un(),y(6,"div",15),S(7,"input",16),b()}if(t&2){let n=M();A(7),x("formControl",n.query)}}function yU(t,e){if(t&1){let n=Te();y(0,"button",17),F("click",function(){te(n);let i=M();return ne(i.emitListPressed())}),Ue(),y(1,"svg",18),S(2,"g",3)(3,"g",19),y(4,"g",5),S(5,"path",20),b()()(),Un(),y(6,"button",21),F("click",function(){te(n);let i=M();return ne(i.undoPressed.emit())}),Ue(),y(7,"svg",22),S(8,"g",3)(9,"g",4),y(10,"g",5)(11,"title"),se(12,"undo"),b(),y(13,"g",23)(14,"g",24),S(15,"rect",25),b(),y(16,"g",26),S(17,"path",27),b()()()()(),Un(),y(18,"button",28),F("click",function(){te(n);let i=M();return ne(i.addPressed.emit())}),Ue(),y(19,"svg",29),S(20,"g",3)(21,"g",4),y(22,"g",5),S(23,"path",30)(24,"path",31),b()()(),Un(),y(25,"button",32),F("click",function(){te(n);let i=M();return ne(i.redoPressed.emit())}),Ue(),y(26,"svg",22),S(27,"g",3)(28,"g",4),y(29,"g",5)(30,"title"),se(31,"undo"),b(),y(32,"g",23)(33,"g",24),S(34,"rect",25),b(),y(35,"g",26),S(36,"path",27),b()()()()()}}var jS=(()=>{let e=class e{constructor(){this.query=new Ae(""),this.search=!1,this.listPressed=new J,this.backPressed=new J,this.settingsPressed=new J,this.undoPressed=new J,this.redoPressed=new J,this.addPressed=new J,this.searchQuery=new J}ngOnInit(){this.query.valueChanges.subscribe(r=>this.handleSearch(r))}emitListPressed(){this.query.reset(),this.listPressed.emit()}handleSearch(r){r!==null&&this.searchQuery.emit(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ee({type:e,selectors:[["app-navbar"]],inputs:{search:"search"},outputs:{listPressed:"listPressed",backPressed:"backPressed",settingsPressed:"settingsPressed",undoPressed:"undoPressed",redoPressed:"redoPressed",addPressed:"addPressed",searchQuery:"searchQuery"},standalone:!0,features:[Ie],decls:14,vars:1,consts:[[1,"navbar"],["title","Settings",1,"icon-btn",3,"click"],["viewBox","-0.5 0 25 25","fill","none","xmlns","http://www.w3.org/2000/svg"],["id","SVGRepo_bgCarrier","stroke-width","0"],["id","SVGRepo_tracerCarrier","stroke-linecap","round","stroke-linejoin","round"],["id","SVGRepo_iconCarrier"],["d","M12 7.82001H22","stroke","#000000","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["d","M2 7.82001H4","stroke","#000000","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["d","M20 16.82H22","stroke","#000000","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["d","M2 16.82H12","stroke","#000000","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["d","M8 11.82C10.2091 11.82 12 10.0291 12 7.82001C12 5.61087 10.2091 3.82001 8 3.82001C5.79086 3.82001 4 5.61087 4 7.82001C4 10.0291 5.79086 11.82 8 11.82Z","stroke","#000000","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["d","M16 20.82C18.2091 20.82 20 19.0291 20 16.82C20 14.6109 18.2091 12.82 16 12.82C13.7909 12.82 12 14.6109 12 16.82C12 19.0291 13.7909 20.82 16 20.82Z","stroke","#000000","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["title","Deck",1,"icon-btn",3,"click"],["fill","#000000","viewBox","0 0 1024 1024","xmlns","http://www.w3.org/2000/svg"],["d","M222.927 580.115l301.354 328.512c24.354 28.708 20.825 71.724-7.883 96.078s-71.724 20.825-96.078-7.883L19.576 559.963a67.846 67.846 0 01-13.784-20.022 68.03 68.03 0 01-5.977-29.488l.001-.063a68.343 68.343 0 017.265-29.134 68.28 68.28 0 011.384-2.6 67.59 67.59 0 0110.102-13.687L429.966 21.113c25.592-27.611 68.721-29.247 96.331-3.656s29.247 68.721 3.656 96.331L224.088 443.784h730.46c37.647 0 68.166 30.519 68.166 68.166s-30.519 68.166-68.166 68.166H222.927z"],[1,"search-container"],["type","text","placeholder","search...",1,"search",3,"formControl"],["title","List",1,"icon-btn",3,"click"],["fill","#000000","viewBox","0 0 24 24","id","Layer_1","data-name","Layer 1","xmlns","http://www.w3.org/2000/svg","transform","matrix(1, 0, 0, 1, 0, 0)"],["id","SVGRepo_tracerCarrier","stroke-linecap","round","stroke-linejoin","round","stroke","#CCCCCC","stroke-width","0.24000000000000005"],["d","M20.466,1.967,14.78.221a5.011,5.011,0,0,0-6.224,3.24L8.368,4H5A5.006,5.006,0,0,0,0,9V19a5.006,5.006,0,0,0,5,5h6a4.975,4.975,0,0,0,3.92-1.934,5.029,5.029,0,0,0,.689.052,4.976,4.976,0,0,0,4.775-3.563L23.8,8.156A5.021,5.021,0,0,0,20.466,1.967ZM11,22H5a3,3,0,0,1-3-3V9A3,3,0,0,1,5,6h6a3,3,0,0,1,3,3V19A3,3,0,0,1,11,22ZM21.887,7.563l-3.412,10.4a2.992,2.992,0,0,1-2.6,2.134A4.992,4.992,0,0,0,16,19V9a5.006,5.006,0,0,0-5-5h-.507a3,3,0,0,1,3.7-1.867l5.686,1.746A3.006,3.006,0,0,1,21.887,7.563ZM12,13c0,1.45-1.544,3.391-2.714,4.378a1.991,1.991,0,0,1-2.572,0C5.544,16.391,4,14.45,4,13a2,2,0,0,1,4,0,2,2,0,0,1,4,0Z"],["title","Undo",1,"icon-btn",3,"click"],["viewBox","0 0 48 48","xmlns","http://www.w3.org/2000/svg","fill","#000000"],["id","Layer_2","data-name","Layer 2"],["id","invisible_box","data-name","invisible box"],["width","48","height","48","fill","none"],["id","icons_Q2","data-name","icons Q2"],["d","M46,24A22,22,0,0,1,4.3,33.7a2,2,0,0,1,.5-2.6,2,2,0,0,1,3,.7A17.8,17.8,0,0,0,24,42,18,18,0,1,0,10.6,12h5.3A2.1,2.1,0,0,1,18,13.7,2,2,0,0,1,16,16H6a2,2,0,0,1-2-2V4.1A2.1,2.1,0,0,1,5.7,2,2,2,0,0,1,8,4V8.9A22,22,0,0,1,46,24Z"],["title","Add",1,"icon-btn",3,"click"],["viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M11 8C11 7.44772 11.4477 7 12 7C12.5523 7 13 7.44772 13 8V11H16C16.5523 11 17 11.4477 17 12C17 12.5523 16.5523 13 16 13H13V16C13 16.5523 12.5523 17 12 17C11.4477 17 11 16.5523 11 16V13H8C7.44771 13 7 12.5523 7 12C7 11.4477 7.44772 11 8 11H11V8Z","fill","#0F0F0F"],["fill-rule","evenodd","clip-rule","evenodd","d","M23 12C23 18.0751 18.0751 23 12 23C5.92487 23 1 18.0751 1 12C1 5.92487 5.92487 1 12 1C18.0751 1 23 5.92487 23 12ZM3.00683 12C3.00683 16.9668 7.03321 20.9932 12 20.9932C16.9668 20.9932 20.9932 16.9668 20.9932 12C20.9932 7.03321 16.9668 3.00683 12 3.00683C7.03321 3.00683 3.00683 7.03321 3.00683 12Z","fill","#0F0F0F"],["title","Redo",1,"icon-btn",2,"transform","rotateY(180deg)",3,"click"]],template:function(i,s){i&1&&(y(0,"div",0),fe(1,mU,8,1)(2,yU,37,0),y(3,"button",1),F("click",function(){return s.settingsPressed.emit()}),Ue(),y(4,"svg",2),S(5,"g",3)(6,"g",4),y(7,"g",5),S(8,"path",6)(9,"path",7)(10,"path",8)(11,"path",9)(12,"path",10)(13,"path",11),b()()()()),i&2&&(A(),ft(s.search?1:2))},dependencies:[xr,Mn,Nr,km],styles:[".navbar[_ngcontent-%COMP%]{border-radius:10px 10px 0 0;border-bottom:none;box-shadow:0 2px 4px #000;padding-top:.5rem}.search-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center}.search[_ngcontent-%COMP%]{border:4px solid black;border-radius:10px;background:none;outline:none;box-shadow:none}"]});let t=e;return t})();var Sd=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ee({type:e,selectors:[["app-loading"]],standalone:!0,features:[Ie],decls:2,vars:0,consts:[[1,"loading-container"],[1,"spinner"]],template:function(i,s){i&1&&(y(0,"div",0),S(1,"div",1),b())},styles:[".loading-container[_ngcontent-%COMP%]{width:100%;height:100%;position:fixed;top:25%;display:flex;flex-direction:row;justify-content:center}.spinner[_ngcontent-%COMP%]{width:2rem;height:2rem;border-radius:100%;animation:_ngcontent-%COMP%_morph 1s alternate infinite}@keyframes _ngcontent-%COMP%_morph{0%{background:plum;border-radius:50%;margin-top:0}to{background:#90ee90;border-radius:100%;margin-top:2rem}}"]});let t=e;return t})();var _U=["*"],US=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ee({type:e,selectors:[["app-modal"]],standalone:!0,features:[Ie],ngContentSelectors:_U,decls:3,vars:0,consts:[[1,"background"],[1,"content"]],template:function(i,s){i&1&&(_0(),y(0,"div",0)(1,"div",1),v0(2),b()())},styles:["body[_ngcontent-%COMP%]{margin:0;background:#dedede;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{height:2.5rem;margin:0 .5rem;padding:.25rem;border:none;outline:none;border-radius:5px;background-color:#f0f8ff;font-size:large;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}textarea[_ngcontent-%COMP%]{height:3.5rem}button[_ngcontent-%COMP%]{font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}.label[_ngcontent-%COMP%]{font-size:20px}.btn[_ngcontent-%COMP%]{width:fit-content;margin:auto;padding:.5rem 1rem;border:none;outline:none;height:3rem;border-radius:5px;font-size:20px;box-shadow:0 1px 2px #d3d3d3}.submit[_ngcontent-%COMP%]{background-color:#90ee90}.cancel[_ngcontent-%COMP%]{background-color:#f08080}.icon-btn[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;outline:none;border:none;background:none;width:4rem;height:4rem;padding:0 .5rem}.icon-btn[_ngcontent-%COMP%]:hover{cursor:pointer;outline:solid 1px black}.navbar[_ngcontent-%COMP%]{height:4rem;width:100%;display:flex;flex-direction:row;justify-content:space-between}.border-input[_ngcontent-%COMP%]{background:#ffffff10;border:solid 1px black}.background[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100vw;height:100vh;background:#80808080;z-index:10;display:flex;flex-direction:column;justify-content:center}.content[_ngcontent-%COMP%]{z-index:11;display:flex;flex-direction:column;justify-content:space-between;gap:4rem;text-align:center;background:#dedede;margin:0 auto 20%;font-size:24px;box-shadow:0 1px 2px gray;border-radius:10px;padding:2rem;width:60%;max-width:700px}"]});let t=e;return t})();var BS=Ti("flip",[Ut("active",at({transform:"rotateY(180deg)"})),Ut("inactive",at({transform:"rotateY(0)"})),Bt("active => inactive",jt("300ms ease-out")),Bt("inactive => active",jt("300ms ease-in"))]),$S=Ti("swipeRight",[Ut("active",at({transform:"rotateZ(90deg)",translate:"150% -100%"})),Ut("inactive",at({transform:"rotateZ(0deg)",translate:"0% 0%"})),Bt("active => inactive",jt("300ms ease-out")),Bt("inactive => active",jt("300ms ease-in"))]),HS=Ti("swipeLeft",[Ut("active",at({transform:"rotateZ(-90deg)",translate:"-150% -100%"})),Ut("inactive",at({transform:"rotateZ(0deg)",translate:"0% 0%"})),Bt("active => inactive",jt("400ms ease-out")),Bt("inactive => active",jt("400ms ease-in"))]),zS=Ti("fadeIn",[Ut("active",at({opacity:"100%"})),Ut("inactive",at({opacity:"0%"})),Bt("active => inactive",jt("200ms ease-out")),Bt("inactive => active",jt("200ms ease-in"))]);var vU=t=>({background:t});function wU(t,e){if(t&1){let n=Te();y(0,"app-modal"),se(1," Delete card? "),y(2,"div",3)(3,"button",4),F("click",function(i){te(n);let s=M();return ne(s.delete(i))}),se(4,"yes"),b(),y(5,"button",5),F("click",function(){te(n);let i=M();return ne(i.showDelete=!1)}),se(6,"no"),b()()()}}function bU(t,e){if(t&1&&(y(0,"div"),se(1),b()),t&2){let n=M();ai(n.flipped?"card-content":"card-content back"),A(),Qt(" ",n.flipped?n.getFront():n.getBack()," ")}}function CU(t,e){t&1&&(Ue(),y(0,"svg",14),S(1,"g",8)(2,"g",9),y(3,"g",10),S(4,"path",20),b()())}function EU(t,e){t&1&&(Ue(),y(0,"svg",15),S(1,"g",8)(2,"g",9),y(3,"g",10),S(4,"path",21),b()())}function IU(t,e){if(t&1){let n=Te();y(0,"div")(1,"button",6),F("click",function(i){te(n);let s=M();return ne(s.editTapped(i))}),Ue(),y(2,"svg",7),S(3,"g",8)(4,"g",9),y(5,"g",10),S(6,"path",11)(7,"path",12),b()()(),Un(),y(8,"button",13),F("click",function(i){te(n);let s=M();return ne(s.starTapped(i))}),fe(9,CU,5,0,":svg:svg",14)(10,EU,5,0,":svg:svg",15),b(),y(11,"button",6),F("click",function(i){te(n);let s=M();return ne(s.infoTapped(i))}),Ue(),y(12,"svg",16),S(13,"g",8)(14,"g",9),y(15,"g",10),S(16,"path",17)(17,"path",18)(18,"path",19),b()()()()}if(t&2){let n=M();ai(n.flipped?"btn-row":"btn-row back"),A(9),ft(n.card.starred?9:10)}}function DU(t,e){if(t&1&&(y(0,"option",32),ve(1,"typeColor"),se(2),b()),t&2){let n=e.$implicit,r=M(3);ws("background",we(1,4,n)),x("selected",n===r.card.type),A(2),It(n)}}function SU(t,e){if(t&1&&(y(0,"div")(1,"form",23),S(2,"input",24),ve(3,"language"),ve(4,"async"),S(5,"input",25),ve(6,"language"),ve(7,"async"),y(8,"select",26),fe(9,DU,3,6,"option",27),b(),S(10,"textarea",28),ve(11,"language"),ve(12,"async"),S(13,"textarea",29),ve(14,"language"),ve(15,"async"),S(16,"textarea",30),ve(17,"language"),ve(18,"async"),S(19,"textarea",31),ve(20,"language"),ve(21,"async"),b()()),t&2){let n=M(2);A(),x("formGroup",n.editForm),A(),x("placeholder",we(4,11,we(3,9,"base"))),A(3),x("placeholder",we(7,15,we(6,13,"goal"))),A(3),x("value",n.card.type),A(),x("ngForOf",n.typeOptions),A(),x("placeholder",we(12,19,we(11,17,"goal"))+" sentence 1"),A(3),x("placeholder",we(15,23,we(14,21,"base"))+" sentence 1"),A(3),x("placeholder",we(18,27,we(17,25,"goal"))+" sentence 2"),A(3),x("placeholder",we(21,31,we(20,29,"base"))+" sentence 2")}}function TU(t,e){if(t&1&&(y(0,"div")(1,"p",33),se(2),b(),y(3,"p",34),se(4),b(),y(5,"p",33),se(6),b(),y(7,"p",34),se(8),b()()),t&2){let n=M(2);A(2),It(n.card.goal_sent_1),A(2),It(n.card.base_sent_1),A(2),It(n.card.goal_sent_2),A(2),It(n.card.base_sent_2)}}function MU(t,e){if(t&1){let n=Te();y(0,"button",39),F("click",function(i){te(n);let s=M(3);return ne(s.saveEdit(i))}),Ue(),y(1,"svg",16),S(2,"g",8)(3,"g",9),y(4,"g",10),S(5,"path",40),b()()()}if(t&2){let n=M(3);x("disabled",n.editForm.invalid)}}function AU(t,e){if(t&1){let n=Te();y(0,"button",6),F("click",function(i){te(n);let s=M(3);return ne(s.delete(i))}),Ue(),y(1,"svg",41),S(2,"g",8)(3,"g",9),y(4,"g",10),S(5,"path",42),b()()()}}function NU(t,e){if(t&1){let n=Te();y(0,"div",3)(1,"button",6),F("click",function(i){te(n);let s=M(2);return ne(s.menuClose(i))}),Ue(),y(2,"svg",35),S(3,"g",8)(4,"g",9),y(5,"g",10),S(6,"path",36),b()()(),fe(7,MU,6,1,"button",37)(8,AU,6,0,"button",38),b()}if(t&2){let n=M(2);A(7),x("ngIf",n.showEdit&&n.editForm.valid),A(),x("ngIf",n.showEdit)}}function xU(t,e){if(t&1){let n=Te();y(0,"span"),F("@fadeIn.done",function(){te(n);let i=M();return ne(i.fadeInState==="inactive"?i.revealCard():null)}),fe(1,SU,22,33,"div",0)(2,TU,9,4,"div",0)(3,NU,9,2,"div",22),b()}if(t&2){let n=M();ai(n.flipped?"card-menu":"card-menu back"),x("@fadeIn",n.fadeInState),A(),x("ngIf",n.showEdit),A(),x("ngIf",n.showInfo),A(),x("ngIf",!n.showCard)}}var Td=(()=>{let e=class e{constructor(r){this.cardService=r,this.onSwiped=new J,this.onUpdated=new J,this.onDeleted=new J,this.touchStart=null,this.flipState="inactive",this.swipeRightState="inactive",this.swipeLeftState="inactive",this.fadeInState="inactive",this.flipped=!1,this.flipping=!1,this.showEdit=!1,this.showCard=!0,this.showInfo=!1,this.showDelete=!1}ngOnInit(){this.typeOptions=this.cardService.typeOptions,this.editForm=new Wn({base:new Ae(this.card.base,tt.required),goal:new Ae(this.card.goal,tt.required),type:new Ae(this.card.type,tt.required),goal_sent_1:new Ae(this.card.goal_sent_1),base_sent_1:new Ae(this.card.base_sent_1),goal_sent_2:new Ae(this.card.goal_sent_2),base_sent_2:new Ae(this.card.base_sent_2)})}handleTouchStart(r){this.touchStart=r}handleTouchEnd(r){this.touchStart&&(this.showCard&&this.handleSwipe({start:this.touchStart,end:r}),this.touchStart=null)}handleKeyDown(r){this.showCard&&(r.key==="ArrowUp"||r.key==="ArrowDown"?this.tap():r.key==="ArrowRight"?this.swipeRight():r.key==="ArrowLeft"&&this.swipeLeft())}handleTouch(){this.tap()}handleSwipe(r){let i=r.end.changedTouches[0].pageX-r.start.changedTouches[0].pageX;Math.abs(i)>100&&(i>0?this.swipeRight():this.swipeLeft())}getFront(){return this.baseFront?this.card.base:this.card.goal}getBack(){return this.baseFront?this.card.goal:this.card.base}tap(){this.showCard&&(this.flipState=this.flipState==="inactive"?"active":"inactive")}menuClose(r){r.stopPropagation(),this.fade()}saveEdit(r){this.onUpdated.emit(w(w({},this.card),this.editForm.value)),this.menuClose(r)}delete(r){if(r.stopPropagation(),!this.showDelete){this.showDelete=!0;return}this.fade(),this.onDeleted.emit(this.card)}revealCard(){this.showEdit=!1,this.showCard=!0,this.showInfo=!1}editTapped(r){r.stopPropagation(),this.fade(),this.showEdit=!0,this.showCard=!1,this.showInfo=!1}starTapped(r){r.stopPropagation(),this.onUpdated.emit(Y(w({},this.card),{starred:!this.card.starred}))}infoTapped(r){r.stopPropagation(),this.fade(),this.showEdit=!1,this.showCard=!1,this.showInfo=!0}swipeRight(){this.swipeRightState=this.swipeRightState==="inactive"?"active":"inactive"}swipeLeft(){this.swipeLeftState=this.swipeLeftState==="inactive"?"active":"inactive"}fade(){this.fadeInState=this.fadeInState==="inactive"?"active":"inactive"}emitSwiped(r){r.fromState==="inactive"&&r.toState==="active"&&(r.triggerName==="swipeRight"?this.onSwiped.emit(!0):this.onSwiped.emit(!1))}};e.\u0275fac=function(i){return new(i||e)(E(jr))},e.\u0275cmp=Ee({type:e,selectors:[["app-card"]],hostBindings:function(i,s){i&1&&F("touchstart",function(a){return s.handleTouchStart(a)},!1,Ec)("touchend",function(a){return s.handleTouchEnd(a)},!1,Ec)("keydown",function(a){return s.handleKeyDown(a)},!1,Ec)},inputs:{card:"card",color:"color",baseFront:"baseFront"},outputs:{onSwiped:"onSwiped",onUpdated:"onUpdated",onDeleted:"onDeleted"},standalone:!0,features:[Ie],decls:5,vars:13,consts:[[4,"ngIf"],["id","container",3,"click"],[3,"class",4,"ngIf"],[1,"btn-row"],[1,"btn","submit",3,"click"],[1,"btn","cancel",3,"click"],[1,"icon-btn",3,"click"],["viewBox","0 0 1024 1024","xmlns","http://www.w3.org/2000/svg","fill","#000000"],["id","SVGRepo_bgCarrier","stroke-width","0"],["id","SVGRepo_tracerCarrier","stroke-linecap","round","stroke-linejoin","round"],["id","SVGRepo_iconCarrier"],["fill","#000000","d","M832 512a32 32 0 1 1 64 0v352a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h352a32 32 0 0 1 0 64H192v640h640V512z"],["fill","#000000","d","m469.952 554.24 52.8-7.552L847.104 222.4a32 32 0 1 0-45.248-45.248L477.44 501.44l-7.552 52.8zm422.4-422.4a96 96 0 0 1 0 135.808l-331.84 331.84a32 32 0 0 1-18.112 9.088L436.8 623.68a32 32 0 0 1-36.224-36.224l15.104-105.6a32 32 0 0 1 9.024-18.112l331.904-331.84a96 96 0 0 1 135.744 0z"],[1,"icon-btn","star",3,"click"],["fill","#ffff00","viewBox","0 0 1920 1920","xmlns","http://www.w3.org/2000/svg","stroke","#ffff00"],["fill","#000000","viewBox","0 0 1920 1920","xmlns","http://www.w3.org/2000/svg"],["viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M12 17.75C12.4142 17.75 12.75 17.4142 12.75 17V11C12.75 10.5858 12.4142 10.25 12 10.25C11.5858 10.25 11.25 10.5858 11.25 11V17C11.25 17.4142 11.5858 17.75 12 17.75Z","fill","#000000"],["d","M12 7C12.5523 7 13 7.44772 13 8C13 8.55228 12.5523 9 12 9C11.4477 9 11 8.55228 11 8C11 7.44772 11.4477 7 12 7Z","fill","#000000"],["fill-rule","evenodd","clip-rule","evenodd","d","M1.25 12C1.25 6.06294 6.06294 1.25 12 1.25C17.9371 1.25 22.75 6.06294 22.75 12C22.75 17.9371 17.9371 22.75 12 22.75C6.06294 22.75 1.25 17.9371 1.25 12ZM12 2.75C6.89137 2.75 2.75 6.89137 2.75 12C2.75 17.1086 6.89137 21.25 12 21.25C17.1086 21.25 21.25 17.1086 21.25 12C21.25 6.89137 17.1086 2.75 12 2.75Z","fill","#000000"],["d","M1915.918 737.475c-10.955-33.543-42.014-56.131-77.364-56.131h-612.029l-189.063-582.1v-.112C1026.394 65.588 995.335 43 959.984 43c-35.237 0-66.41 22.588-77.365 56.245L693.443 681.344H81.415c-35.35 0-66.41 22.588-77.365 56.131-10.955 33.544.79 70.137 29.478 91.03l495.247 359.831-189.177 582.212c-10.955 33.657 1.13 70.25 29.817 90.918 14.23 10.278 30.946 15.487 47.66 15.487 16.716 0 33.432-5.21 47.775-15.6l495.134-359.718 495.021 359.718c28.574 20.781 67.087 20.781 95.662.113 28.687-20.668 40.658-57.261 29.703-91.03l-189.176-582.1 495.36-359.83c28.574-20.894 40.433-57.487 29.364-91.03","fill-rule","evenodd"],["d","M1306.181 1110.407c-28.461 20.781-40.32 57.261-29.477 91.03l166.136 511.398-435.05-316.122c-28.686-20.781-67.086-20.781-95.66 0l-435.05 316.122 166.25-511.623c10.842-33.544-1.017-70.024-29.591-90.805L178.577 794.285h537.825c35.351 0 66.523-22.701 77.365-56.245l166.25-511.51 166.136 511.397a81.155 81.155 0 0 0 77.365 56.358h537.939l-435.276 316.122Zm609.77-372.819c-10.956-33.656-42.014-56.244-77.365-56.244h-612.141l-189.064-582.1C1026.426 65.589 995.367 43 960.017 43c-35.351 0-66.523 22.588-77.365 56.245L693.475 681.344H81.335c-35.351 0-66.41 22.588-77.366 56.244-10.842 33.657 1.017 70.137 29.591 90.918l495.247 359.718-189.29 582.211c-10.842 33.657 1.017 70.137 29.704 90.918 14.23 10.39 31.059 15.586 47.661 15.586 16.829 0 33.657-5.195 47.887-15.699l495.248-359.718 495.02 359.718c28.575 20.894 67.088 20.894 95.775.113 28.574-20.781 40.433-57.261 29.59-91.03l-189.289-582.1 495.247-359.717c28.687-20.781 40.546-57.261 29.59-90.918Z","fill-rule","evenodd"],["class","btn-row",4,"ngIf"],[1,"edit-form",3,"formGroup"],["type","text","formControlName","base",1,"border-input",3,"placeholder"],["type","text","formControlName","goal",1,"border-input",3,"placeholder"],["formControlName","type",1,"border-input",3,"value"],[3,"selected","background",4,"ngFor","ngForOf"],["type","text","formControlName","goal_sent_1",1,"border-input",3,"placeholder"],["type","text","formControlName","base_sent_1",1,"border-input",3,"placeholder"],["type","text","formControlName","goal_sent_2",1,"border-input",3,"placeholder"],["type","text","formControlName","base_sent_2",1,"border-input",3,"placeholder"],[3,"selected"],[1,"sent-ger"],[1,"sent-eng"],["fill","#000000","viewBox","0 0 1024 1024","xmlns","http://www.w3.org/2000/svg"],["d","M222.927 580.115l301.354 328.512c24.354 28.708 20.825 71.724-7.883 96.078s-71.724 20.825-96.078-7.883L19.576 559.963a67.846 67.846 0 01-13.784-20.022 68.03 68.03 0 01-5.977-29.488l.001-.063a68.343 68.343 0 017.265-29.134 68.28 68.28 0 011.384-2.6 67.59 67.59 0 0110.102-13.687L429.966 21.113c25.592-27.611 68.721-29.247 96.331-3.656s29.247 68.721 3.656 96.331L224.088 443.784h730.46c37.647 0 68.166 30.519 68.166 68.166s-30.519 68.166-68.166 68.166H222.927z"],["class","icon-btn",3,"disabled","click",4,"ngIf"],["class","icon-btn",3,"click",4,"ngIf"],[1,"icon-btn",3,"click","disabled"],["fill-rule","evenodd","clip-rule","evenodd","d","M18.1716 1C18.702 1 19.2107 1.21071 19.5858 1.58579L22.4142 4.41421C22.7893 4.78929 23 5.29799 23 5.82843V20C23 21.6569 21.6569 23 20 23H4C2.34315 23 1 21.6569 1 20V4C1 2.34315 2.34315 1 4 1H18.1716ZM4 3C3.44772 3 3 3.44772 3 4V20C3 20.5523 3.44772 21 4 21L5 21L5 15C5 13.3431 6.34315 12 8 12L16 12C17.6569 12 19 13.3431 19 15V21H20C20.5523 21 21 20.5523 21 20V6.82843C21 6.29799 20.7893 5.78929 20.4142 5.41421L18.5858 3.58579C18.2107 3.21071 17.702 3 17.1716 3H17V5C17 6.65685 15.6569 8 14 8H10C8.34315 8 7 6.65685 7 5V3H4ZM17 21V15C17 14.4477 16.5523 14 16 14L8 14C7.44772 14 7 14.4477 7 15L7 21L17 21ZM9 3H15V5C15 5.55228 14.5523 6 14 6H10C9.44772 6 9 5.55228 9 5V3Z","fill","#0F0F0F"],["viewBox","0 0 20 20","xmlns","http://www.w3.org/2000/svg","fill","none"],["fill","#000000","fill-rule","evenodd","d","M7 1a2 2 0 00-2 2v2H2a1 1 0 000 2h.884c.036.338.078.754.12 1.213.11 1.202.218 2.664.218 3.787 0 1.47-.183 3.508-.315 4.776a2.015 2.015 0 002 2.224h10.186a2.015 2.015 0 002-2.224c-.132-1.268-.315-3.306-.315-4.776 0-1.123.107-2.585.218-3.787.042-.459.084-.875.12-1.213H18a1 1 0 100-2h-3V3a2 2 0 00-2-2H7zm6 4V3H7v2h6zM4.996 8.03c-.035-.378-.07-.728-.101-1.03h10.21a81.66 81.66 0 00-.1 1.03c-.112 1.212-.227 2.75-.227 3.97 0 1.584.194 3.714.325 4.982v.007a.02.02 0 01-.005.008l-.003.003H4.905a.024.024 0 01-.008-.01v-.008c.131-1.268.325-3.398.325-4.982 0-1.22-.115-2.758-.226-3.97zM8 8a1 1 0 011 1v6a1 1 0 11-2 0V9a1 1 0 011-1zm5 1a1 1 0 10-2 0v6a1 1 0 102 0V9z"]],template:function(i,s){i&1&&(fe(0,wU,7,0,"app-modal",0),y(1,"div",1),F("click",function(){return s.handleTouch()})("@flip.start",function(){return s.flipping=!0})("@flip.done",function(){return s.flipped=!s.flipped,s.flipping=!1})("@swipeRight.done",function(a){return s.emitSwiped(a)})("@swipeLeft.done",function(a){return s.emitSwiped(a)}),fe(2,bU,2,3,"div",2)(3,IU,19,3,"div",2)(4,xU,4,6,"span",2),b()),i&2&&(x("ngIf",s.showDelete),A(),dr(_n(11,vU,s.color)),ai(s.flipped?"card":"card back"),x("@flip",s.flipState)("@swipeRight",s.swipeRightState)("@swipeLeft",s.swipeLeftState),A(),x("ngIf",!s.flipping&&s.showCard),A(),x("ngIf",!s.flipping&&s.showCard),A(),x("ngIf",s.showEdit||s.showInfo))},dependencies:[Xe,wn,gr,Lc,xr,Gs,Hu,zu,Mn,Ws,Nr,zs,Di,Si,kr,Id,US],styles:["body[_ngcontent-%COMP%]{margin:0;background:#dedede;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{height:2.5rem;margin:0 .5rem;padding:.25rem;border:none;outline:none;border-radius:5px;background-color:#f0f8ff;font-size:large;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}textarea[_ngcontent-%COMP%]{height:3.5rem}button[_ngcontent-%COMP%]{font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}.label[_ngcontent-%COMP%]{font-size:20px}.btn[_ngcontent-%COMP%]{width:fit-content;margin:auto;padding:.5rem 1rem;border:none;outline:none;height:3rem;border-radius:5px;font-size:20px;box-shadow:0 1px 2px #d3d3d3}.submit[_ngcontent-%COMP%]{background-color:#90ee90}.cancel[_ngcontent-%COMP%]{background-color:#f08080}.icon-btn[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;outline:none;border:none;background:none;width:4rem;height:4rem;padding:0 .5rem}.icon-btn[_ngcontent-%COMP%]:hover{cursor:pointer;outline:solid 1px black}.navbar[_ngcontent-%COMP%]{height:4rem;width:100%;display:flex;flex-direction:row;justify-content:space-between}.border-input[_ngcontent-%COMP%]{background:#ffffff10;border:solid 1px black}[_nghost-%COMP%]{width:100%}.card[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;text-align:center;height:100%;border-radius:10px;box-shadow:0 1px 2px gray;word-wrap:break-word;overflow-y:scroll}.card[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.card-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;height:100%;font-size:32px;padding:1rem}.back[_ngcontent-%COMP%]{transform:rotateY(180deg)}.star[_ngcontent-%COMP%]{width:3.5rem;height:3.5rem}.filled[_ngcontent-%COMP%]{background:#ff0}.btn-row[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:space-between;margin-bottom:.25rem}.card-menu[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:space-between;margin:1rem 1rem 0}.edit-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;gap:.5rem}.sent-ger[_ngcontent-%COMP%]{font-size:30px;font-weight:400}.sent-eng[_ngcontent-%COMP%]{font-size:24px;font-weight:300}"],data:{animation:[BS,$S,HS,zS]}});let t=e;return t})();var Md=(()=>{let e=class e{constructor(){this.undos=[],this.redos=[],this.activeUndo=new he,this.activeRedo=new he}pushUndo(r){this.undos.push(r)}pushRedo(r){this.redos.push(r)}applyUndo(){let r=this.undos.pop();r&&(this.redos.push(r),this.activeUndo.next(r))}applyRedo(){let r=this.redos.pop();r&&(this.undos.push(r),this.activeRedo.next(r))}reset(){this.resetUndos(),this.resetRedos()}resetUndos(){this.undos=[]}resetRedos(){this.redos=[]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var RU=t=>({width:t});function kU(t,e){t&1&&S(0,"app-loading")}function OU(t,e){if(t&1){let n=Te();y(0,"app-card",6),ve(1,"typeColor"),F("onSwiped",function(i){te(n);let s=M(4);return ne(s.handleSwiped(i))})("onUpdated",function(i){te(n);let s=M(4);return ne(s.handleCardUpdated(i))})("onDeleted",function(i){te(n);let s=M(4);return ne(s.handleCardDeleted(i))}),b()}if(t&2){let n=M().$implicit,r=M(3);x("card",n)("color",we(1,3,n.type))("baseFront",r.getbaseFront())}}function PU(t,e){if(t&1&&(up(0),fe(1,OU,2,5,"app-card",5),dp()),t&2){let n=e.index,r=M(3);A(),x("ngIf",n===r.deck.length-1)}}function FU(t,e){if(t&1&&(y(0,"div",0),fe(1,PU,2,1,"ng-container",2),y(2,"div",3),S(3,"div",4),b()()),t&2){let n=M(2);A(),x("ngForOf",n.deck),A(2),dr(_n(3,RU,n.deckProgress))}}function LU(t,e){if(t&1){let n=Te();y(0,"div",9)(1,"p"),se(2,"You're out of cards!"),b(),y(3,"button",10),F("click",function(){te(n);let i=M(3);return ne(i.initAndDeal())}),se(4,"Reset card pile?"),b()()}}function VU(t,e){if(t&1){let n=Te();y(0,"button",10),F("click",function(){te(n);let i=M(3);return ne(i.dealMissed())}),se(1),b()}if(t&2){let n=M(3);A(),Qt("Deal ",n.missed.length," missed cards?")}}function jU(t,e){if(t&1){let n=Te();y(0,"button",10),F("click",function(){te(n);let i=M(3);return ne(i.dealSameDeck())}),se(1,"Deal same deck?"),b()}}function UU(t,e){if(t&1){let n=Te();y(0,"button",10),F("click",function(){te(n);let i=M(3);return ne(i.dealNewDeck())}),se(1),b()}if(t&2){let n=M(3);A(),Qt("Deal another ",n.getDeckSize(),"?")}}function BU(t,e){if(t&1&&(y(0,"div",1),fe(1,LU,5,0,"div",7)(2,VU,2,1,"button",8)(3,jU,2,0,"button",8)(4,UU,2,1,"button",8),b()),t&2){let n=M(2);A(),x("ngIf",n.pile.length===0),A(),x("ngIf",n.missed.length>0),A(),x("ngIf",n.currentDeck.length>0),A(),x("ngIf",n.pile.length>0)}}function $U(t,e){if(t&1&&fe(0,FU,4,5,"div",0)(1,BU,5,4,"div",1),t&2){let n=M();ft(n.deck.length>0?0:1)}}var WS=(()=>{let e=class e{constructor(r,i,s,o){this.actionsService=r,this.cardService=i,this.notificationService=s,this.settingsService=o,this.loading=!1,this.sample=!1,this.cards=[],this.pile=[],this.deck=[],this.currentDeck=[],this.missed=[],this.deckProgress="0%"}ngOnInit(){this.loading=!0,this.sample||!this.settingsService.loading?this.init():this.settingsService.loaded.subscribe(()=>this.init())}init(){this.actionsService.activeUndo.subscribe(r=>this.applyUndo(r)),this.actionsService.activeRedo.subscribe(r=>this.applyRedo(r)),this.settingsService.dealStarredChanged.subscribe(()=>this.initAndDeal()),this.cardService.get(this.sample).then(r=>{this.cards=r,this.initAndDeal(),this.loading=!1}).catch(r=>alert("Failed to get cards from database! "+r)),this.cardService.cardAdded.subscribe(()=>{this.initAndDeal()})}initPile(){this.settingsService.getDealStarred()?this.pile=structuredClone(this.getStarred()):this.pile=structuredClone(this.cards)}initAndDeal(){this.initPile(),this.dealNewDeck()}findCardIndex(r){let i=0,s=this.cards.length-1;for(;s>=i;){let o=Math.floor((s+i)/2),a=this.cards[o];if(a.id===r)return o;a.id<r?i=o+1:a.id>r&&(s=o-1)}return this.notificationService.push({message:"Couldn't find card!",success:!1}),null}getStarred(){return this.cards.filter(r=>r.starred)}applyUndo(r){r.direction||this.missed.splice(this.missed.findIndex(i=>i.id===r.card.id),1),this.deck.push(r.card),this.setDeckProgress()}applyRedo(r){this.handleSwiped(r.direction)}refreshWorkingCards(){for(let r of[this.currentDeck,this.deck,this.missed])for(let i=0;i<r.length;i++){let s=this.findCardIndex(r[i].id);if(s===null)return;r[i]=this.cards[s]}}removeFromWorkingCards(r){for(let i of[this.currentDeck,this.deck,this.missed])for(let s=0;s<i.length;s++)if(i[s].id===r){i.splice(s,1);break}}updateCard(r){let i=this.findCardIndex(r.id);i!==null&&this.cardService.update(r,i).then(()=>{this.notificationService.push({message:"Card updated!",success:!0}),this.refreshWorkingCards()}).catch(s=>{this.notificationService.push({message:"Card update failed! "+s,success:!1})})}deleteCard(r){let i=this.findCardIndex(r);i!==null&&this.cardService.delete(r,i).then(()=>{this.notificationService.push({message:"Card deleted!",success:!0}),this.actionsService.reset(),this.removeFromWorkingCards(r)}).catch(s=>{this.notificationService.push({message:"Failed to delete card! "+s,success:!1})})}getbaseFront(){return this.settingsService.getBaseFront()}getDeckSize(){return this.settingsService.getDeckSize()}shuffle(r){for(let i=r.length-1;i>0;i--){let s=Math.floor(Math.random()*(i+1));[r[i],r[s]]=[r[s],r[i]]}}deal(r){let i=[];for(let s=0;s<this.getDeckSize();s++){if(r.length===0)return i;let o=Math.floor(Math.random()*r.length);i.push(r[o]),r.splice(o,1)}return i}initDeck(){this.missed=[],this.actionsService.reset(),this.setDeckProgress()}dealMissed(){this.deck=this.missed,this.shuffle(this.deck),this.initDeck()}dealSameDeck(){this.deck=structuredClone(this.currentDeck),this.shuffle(this.deck),this.initDeck()}dealNewDeck(){this.deck=this.deal(this.pile),this.currentDeck=structuredClone(this.deck),this.initDeck()}handleSwiped(r){let i=this.deck.pop();i&&(this.actionsService.pushUndo({direction:r,card:i}),this.actionsService.resetRedos(),r||this.missed.push(i),this.setDeckProgress())}setDeckProgress(){let r=this.currentDeck.length;this.deckProgress=100*((1+Math.abs(this.deck.length-r))/r)+"%"}handleCardUpdated(r){this.updateCard(r)}handleCardDeleted(r){this.deleteCard(r.id)}};e.\u0275fac=function(i){return new(i||e)(E(Md),E(jr),E(Vt),E(lo))},e.\u0275cmp=Ee({type:e,selectors:[["app-deck"]],inputs:{sample:"sample"},standalone:!0,features:[Ie],decls:2,vars:1,consts:[[1,"deck"],[1,"options"],[4,"ngFor","ngForOf"],[1,"progress"],[1,"progress-inner"],[3,"card","color","baseFront","onSwiped","onUpdated","onDeleted",4,"ngIf"],[3,"onSwiped","onUpdated","onDeleted","card","color","baseFront"],["style","text-align: center;",4,"ngIf"],["class","btn",3,"click",4,"ngIf"],[2,"text-align","center"],[1,"btn",3,"click"]],template:function(i,s){i&1&&fe(0,kU,1,0,"app-loading")(1,$U,2,1),i&2&&ft(s.loading?0:1)},dependencies:[Xe,wn,gr,Sd,Td,kr],styles:["body[_ngcontent-%COMP%]{margin:0;background:#dedede;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{height:2.5rem;margin:0 .5rem;padding:.25rem;border:none;outline:none;border-radius:5px;background-color:#f0f8ff;font-size:large;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}textarea[_ngcontent-%COMP%]{height:3.5rem}button[_ngcontent-%COMP%]{font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}.label[_ngcontent-%COMP%]{font-size:20px}.btn[_ngcontent-%COMP%]{width:fit-content;margin:auto;padding:.5rem 1rem;border:none;outline:none;height:3rem;border-radius:5px;font-size:20px;box-shadow:0 1px 2px #d3d3d3}.submit[_ngcontent-%COMP%]{background-color:#90ee90}.cancel[_ngcontent-%COMP%]{background-color:#f08080}.icon-btn[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;outline:none;border:none;background:none;width:4rem;height:4rem;padding:0 .5rem}.icon-btn[_ngcontent-%COMP%]:hover{cursor:pointer;outline:solid 1px black}.navbar[_ngcontent-%COMP%]{height:4rem;width:100%;display:flex;flex-direction:row;justify-content:space-between}.border-input[_ngcontent-%COMP%]{background:#ffffff10;border:solid 1px black}[_nghost-%COMP%]{display:flex;flex-direction:column;margin:auto;width:100%;height:100%}.deck[_ngcontent-%COMP%]{height:100%;padding:1rem}.progress[_ngcontent-%COMP%]{width:100%;height:.25rem;background:#789;margin-top:.25rem;border-radius:2px}.progress-inner[_ngcontent-%COMP%]{height:100%;border-radius:2px;background:#7fffd4}.options[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:auto;gap:2rem}"]});let t=e;return t})();var HU=t=>({background:t});function zU(t,e){t&1&&S(0,"app-loading")}function GU(t,e){if(t&1){let n=Te();y(0,"app-card",2),ve(1,"typeColor"),F("onSwiped",function(){te(n);let i=M(2);return ne(i.handleSwiped())})("onUpdated",function(i){te(n);let s=M(2);return ne(s.handleUpdateCard(i))})("onDeleted",function(i){te(n);let s=M(2);return ne(s.handleCardDeleted(i))}),b()}if(t&2){let n=M(2);x("card",n.expandedCard)("color",we(1,3,n.expandedCard.type))("baseFront",n.getBaseFront())}}function WU(t,e){if(t&1){let n=Te();y(0,"div",4),ve(1,"typeColor"),F("click",function(){let i=te(n).$implicit,s=M(3);return ne(s.expandCard(i))}),se(2),b()}if(t&2){let n=e.$implicit,r=M(3);dr(_n(5,HU,we(1,3,n.type))),A(2),Qt(" ",r.getBaseFront()?n.base:n.goal," ")}}function qU(t,e){if(t&1&&fe(0,WU,3,7,"div",3),t&2){let n=M(2);x("ngForOf",n.results.slice(0,n.maxCards))}}function KU(t,e){if(t&1&&fe(0,GU,2,5,"app-card",0)(1,qU,1,1,"div",1),t&2){let n=M();ft(n.expandedCard&&n.expanded?0:1)}}var qS=(()=>{let e=class e{constructor(r,i,s){this.cardService=r,this.notificationService=i,this.settingsService=s,this.loading=!1,this.maxCards=100,this.cards=[],this.results=[],this.expandedCard=null,this.scroll=0,this.expanded=!1,this.sample=!1,this.expandedChange=new J}ngOnInit(){this.loading=!0,this.sample||!this.settingsService.loading?this.init():this.settingsService.loaded.subscribe(()=>this.init())}init(){this.cardService.get(this.sample).then(r=>{this.cards=r,this.results=this.cards,this.loading=!1}).catch(r=>alert("Failed to get cards from database! "+r)),this.query.subscribe(r=>this.filter(r))}getBaseFront(){return this.settingsService.getBaseFront()}filter(r){this.query||(this.results=this.cards),this.results=this.cards.filter(i=>i.base.toLowerCase().includes(r.toLowerCase())||i.goal.toLowerCase().includes(r.toLowerCase()))}findCardIndex(r){let i=0,s=this.cards.length-1;for(;s>=i;){let o=Math.floor((s+i)/2),a=this.cards[o];if(a.id===r)return o;a.id<r?i=o+1:a.id>r&&(s=o-1)}return this.notificationService.push({message:"Couldn't find card!",success:!1}),null}expandCard(r){this.expanded=!0,this.expandedChange.emit(!0),this.expandedCard=r}updateCard(r){let i=this.findCardIndex(r.id);i!==null&&this.cardService.update(r,i).then(()=>{this.expandCard(r),this.notificationService.push({message:"Card updated!",success:!0})}).catch(s=>{this.notificationService.push({message:"Card update failed! "+s,success:!1}),alert("Card update failed! "+s)})}deleteCard(r){let i=this.findCardIndex(r);i!==null&&this.cardService.delete(r,i).then(()=>{this.notificationService.push({message:"Card deleted!",success:!0})}).catch(s=>{this.notificationService.push({message:"Failed to delete card! "+s,success:!1})})}handleSwiped(){this.expanded=!1,this.expandedChange.emit(!1),this.expandedCard=null}handleUpdateCard(r){this.updateCard(r)}handleCardDeleted(r){this.deleteCard(r.id),this.handleSwiped()}};e.\u0275fac=function(i){return new(i||e)(E(jr),E(Vt),E(lo))},e.\u0275cmp=Ee({type:e,selectors:[["app-list"]],inputs:{expanded:"expanded",sample:"sample",query:"query"},outputs:{expandedChange:"expandedChange"},standalone:!0,features:[Ie],decls:2,vars:1,consts:[[2,"height","100%",3,"card","color","baseFront"],[1,"list-card",3,"style"],[2,"height","100%",3,"onSwiped","onUpdated","onDeleted","card","color","baseFront"],["class","list-card",3,"style","click",4,"ngFor","ngForOf"],[1,"list-card",3,"click"]],template:function(i,s){i&1&&fe(0,zU,1,0,"app-loading")(1,KU,2,1),i&2&&ft(s.loading?0:1)},dependencies:[Xe,wn,Sd,Td,kr],styles:["body[_ngcontent-%COMP%]{margin:0;background:#dedede;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{height:2.5rem;margin:0 .5rem;padding:.25rem;border:none;outline:none;border-radius:5px;background-color:#f0f8ff;font-size:large;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}textarea[_ngcontent-%COMP%]{height:3.5rem}button[_ngcontent-%COMP%]{font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}.label[_ngcontent-%COMP%]{font-size:20px}.btn[_ngcontent-%COMP%]{width:fit-content;margin:auto;padding:.5rem 1rem;border:none;outline:none;height:3rem;border-radius:5px;font-size:20px;box-shadow:0 1px 2px #d3d3d3}.submit[_ngcontent-%COMP%]{background-color:#90ee90}.cancel[_ngcontent-%COMP%]{background-color:#f08080}.icon-btn[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;outline:none;border:none;background:none;width:4rem;height:4rem;padding:0 .5rem}.icon-btn[_ngcontent-%COMP%]:hover{cursor:pointer;outline:solid 1px black}.navbar[_ngcontent-%COMP%]{height:4rem;width:100%;display:flex;flex-direction:row;justify-content:space-between}.border-input[_ngcontent-%COMP%]{background:#ffffff10;border:solid 1px black}[_nghost-%COMP%]{height:100%;display:flex;flex-direction:column;overflow-y:auto;overflow-x:hidden;padding:1rem;gap:.5rem}.list-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;text-align:center;border-radius:10px;box-shadow:0 1px 2px gray;padding:1rem;font-size:32px}"]});let t=e;return t})();function YU(t,e){if(t&1){let n=Te();y(0,"app-list",5),fp("expandedChange",function(i){te(n);let s=M();return w0(s.listExpanded,i)||(s.listExpanded=i),ne(i)}),b()}if(t&2){let n=M();x("sample",n.sample)("query",n.query),hp("expanded",n.listExpanded)}}function QU(t,e){if(t&1&&S(0,"app-deck",3),t&2){let n=M();x("sample",n.sample)}}var s_=(()=>{let e=class e{constructor(r,i){this.actionsService=r,this.router=i,this.listOpen=!1,this.listExpanded=!1,this.settingsMenuOpen=!1,this.addCardMenuOpen=!1,this.sample=!1,this.query=new he}ngOnInit(){this.router.url==="/sample"&&(this.sample=!0)}toggleList(){this.listOpen=!this.listOpen}handleBack(){this.listExpanded?this.listExpanded=!1:this.listOpen=!1}closeMenu(){this.settingsMenuOpen=!1,this.addCardMenuOpen=!1}toggleSettingsMenu(){this.settingsMenuOpen=!this.settingsMenuOpen}toggleAddCardMenu(){this.addCardMenuOpen=!this.addCardMenuOpen}handleUndo(){this.actionsService.applyUndo()}handleRedo(){this.actionsService.applyRedo()}handleSearch(r){this.query.next(r)}};e.\u0275fac=function(i){return new(i||e)(E(Md),E($n))},e.\u0275cmp=Ee({type:e,selectors:[["app-layout"]],standalone:!0,features:[Ie],decls:6,vars:4,consts:[[1,"content"],[3,"closePressed","settingsOpen","addCardOpen"],[3,"sample","query","expanded"],[3,"sample"],[3,"listPressed","backPressed","settingsPressed","undoPressed","redoPressed","addPressed","searchQuery","search"],[3,"expandedChange","sample","query","expanded"]],template:function(i,s){i&1&&(y(0,"div",0),S(1,"app-notifications"),y(2,"app-menu",1),F("closePressed",function(){return s.closeMenu()}),b(),fe(3,YU,1,3,"app-list",2)(4,QU,1,1,"app-deck",3),y(5,"app-navbar",4),F("listPressed",function(){return s.toggleList()})("backPressed",function(){return s.handleBack()})("settingsPressed",function(){return s.toggleSettingsMenu()})("undoPressed",function(){return s.handleUndo()})("redoPressed",function(){return s.handleRedo()})("addPressed",function(){return s.toggleAddCardMenu()})("searchQuery",function(a){return s.handleSearch(a)}),b()()),i&2&&(A(2),x("settingsOpen",s.settingsMenuOpen)("addCardOpen",s.addCardMenuOpen),A(),ft(s.listOpen?3:4),A(2),x("search",s.listOpen))},dependencies:[hI,VS,jS,WS,qS],styles:["body[_ngcontent-%COMP%]{margin:0;background:#dedede;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{height:2.5rem;margin:0 .5rem;padding:.25rem;border:none;outline:none;border-radius:5px;background-color:#f0f8ff;font-size:large;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}textarea[_ngcontent-%COMP%]{height:3.5rem}button[_ngcontent-%COMP%]{font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}.label[_ngcontent-%COMP%]{font-size:20px}.btn[_ngcontent-%COMP%]{width:fit-content;margin:auto;padding:.5rem 1rem;border:none;outline:none;height:3rem;border-radius:5px;font-size:20px;box-shadow:0 1px 2px #d3d3d3}.submit[_ngcontent-%COMP%]{background-color:#90ee90}.cancel[_ngcontent-%COMP%]{background-color:#f08080}.icon-btn[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;outline:none;border:none;background:none;width:4rem;height:4rem;padding:0 .5rem}.icon-btn[_ngcontent-%COMP%]:hover{cursor:pointer;outline:solid 1px black}.navbar[_ngcontent-%COMP%]{height:4rem;width:100%;display:flex;flex-direction:row;justify-content:space-between}.border-input[_ngcontent-%COMP%]{background:#ffffff10;border:solid 1px black}.content[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;overflow:hidden;display:flex;flex-direction:column;justify-content:space-between}"]});let t=e;return t})();function ZU(t,e){if(t&1&&(y(0,"button",6),se(1,"Sign In"),b()),t&2){let n=M();x("disabled",n.signInForm.invalid)}}var KS=(()=>{let e=class e{constructor(r,i){this.authService=r,this.router=i,this.loading=!1,this.signInForm=new Wn({email:new Ae(null,tt.required),password:new Ae(null,tt.required)})}ngOnInit(){}onSubmit(){let r={email:this.signInForm.controls.email.value,password:this.signInForm.controls.password.value};!r.email||!r.password||(this.loading=!0,this.authService.signIn(r.email,r.password).then(i=>{i?this.router.navigate([""]):this.loading=!1}))}};e.\u0275fac=function(i){return new(i||e)(E(Vs),E($n))},e.\u0275cmp=Ee({type:e,selectors:[["app-auth"]],standalone:!0,features:[Ie],decls:11,vars:3,consts:[[1,"signin",3,"submit","formGroup"],["type","text","placeholder","email","formControlName","email"],["type","password","placeholder","password","formControlName","password"],["class","btn submit","type","submit","style","margin: auto;",3,"disabled",4,"ngIf"],[1,"sample"],["routerLink","/sample"],["type","submit",1,"btn","submit",2,"margin","auto",3,"disabled"]],template:function(i,s){i&1&&(y(0,"form",0),F("submit",function(){return s.onSubmit()}),y(1,"h1"),se(2),b(),S(3,"input",1)(4,"input",2),fe(5,ZU,2,1,"button",3),b(),y(6,"p",4),se(7," Don't have an account? Try a "),y(8,"a",5),se(9,"sample"),b(),se(10,`!
`),b()),i&2&&(x("formGroup",s.signInForm),A(2),It(s.loading?"Loading...":"Sign In"),A(3),x("ngIf",!s.loading))},dependencies:[Xe,gr,xr,Gs,Mn,Nr,zs,Di,Si,xC],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;text-align:center}.signin[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.sample[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%}"]});let t=e;return t})();var YS=[{path:"",component:s_,canActivate:[Vs]},{path:"sample",component:s_},{path:"auth",component:KS}];function QS(t){return new _(3e3,!1)}function JU(){return new _(3100,!1)}function XU(){return new _(3101,!1)}function e3(t){return new _(3001,!1)}function t3(t){return new _(3003,!1)}function n3(t){return new _(3004,!1)}function r3(t,e){return new _(3005,!1)}function i3(){return new _(3006,!1)}function s3(){return new _(3007,!1)}function o3(t,e){return new _(3008,!1)}function a3(t){return new _(3002,!1)}function l3(t,e,n,r,i){return new _(3010,!1)}function c3(){return new _(3011,!1)}function u3(){return new _(3012,!1)}function d3(){return new _(3200,!1)}function h3(){return new _(3202,!1)}function f3(){return new _(3013,!1)}function p3(t){return new _(3014,!1)}function g3(t){return new _(3015,!1)}function m3(t){return new _(3016,!1)}function y3(t,e){return new _(3404,!1)}function _3(t){return new _(3502,!1)}function v3(t){return new _(3503,!1)}function w3(){return new _(3300,!1)}function b3(t){return new _(3504,!1)}function C3(t){return new _(3301,!1)}function E3(t,e){return new _(3302,!1)}function I3(t){return new _(3303,!1)}function D3(t,e){return new _(3400,!1)}function S3(t){return new _(3401,!1)}function T3(t){return new _(3402,!1)}function M3(t,e){return new _(3505,!1)}function Ur(t){switch(t.length){case 0:return new Rr;case 1:return t[0];default:return new Ia(t)}}function uT(t,e,n=new Map,r=new Map){let i=[],s=[],o=-1,a=null;if(e.forEach(l=>{let c=l.get("offset"),u=c==o,d=u&&a||new Map;l.forEach((h,f)=>{let p=f,m=h;if(f!=="offset")switch(p=t.normalizePropertyName(p,i),m){case Wu:m=n.get(f);break;case An:m=r.get(f);break;default:m=t.normalizeStyleValue(f,p,m,i);break}d.set(p,m)}),u||s.push(d),a=d,o=c}),i.length)throw _3(i);return s}function M_(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&o_(n,"start",t)));break;case"done":t.onDone(()=>r(n&&o_(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&o_(n,"destroy",t)));break}}function o_(t,e,n){let r=n.totalTime,i=!!n.disabled,s=A_(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,r??t.totalTime,i),o=t._data;return o!=null&&(s._data=o),s}function A_(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Mt(t,e,n){let r=t.get(e);return r||t.set(e,r=n),r}function ZS(t){let e=t.indexOf(":"),n=t.substring(1,e),r=t.slice(e+1);return[n,r]}var A3=typeof document>"u"?null:document.documentElement;function N_(t){let e=t.parentNode||t.host||null;return e===A3?null:e}function N3(t){return t.substring(1,6)=="ebkit"}var Pi=null,JS=!1;function x3(t){Pi||(Pi=R3()||{},JS=Pi.style?"WebkitAppearance"in Pi.style:!1);let e=!0;return Pi.style&&!N3(t)&&(e=t in Pi.style,!e&&JS&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in Pi.style)),e}function R3(){return typeof document<"u"?document.body:null}function dT(t,e){for(;e;){if(e===t)return!0;e=N_(e)}return!1}function hT(t,e,n){if(n)return Array.from(t.querySelectorAll(e));let r=t.querySelector(e);return r?[r]:[]}var x_=(()=>{let e=class e{validateStyleProperty(r){return x3(r)}containsElement(r,i){return dT(r,i)}getParentElement(r){return N_(r)}query(r,i,s){return hT(r,i,s)}computeStyle(r,i,s){return s||""}animate(r,i,s,o,a,l=[],c){return new Rr(s,o)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})(),P_=class P_{};P_.NOOP=new x_;var Vi=P_,ji=class{};var k3=1e3,fT="{{",O3="}}",pT="ng-enter",h_="ng-leave",Ad="ng-trigger",Od=".ng-trigger",XS="ng-animating",f_=".ng-animating";function Yn(t){if(typeof t=="number")return t;let e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:p_(parseFloat(e[1]),e[2])}function p_(t,e){switch(e){case"s":return t*k3;default:return t}}function Pd(t,e,n){return t.hasOwnProperty("duration")?t:P3(t,e,n)}function P3(t,e,n){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,s=0,o="";if(typeof t=="string"){let a=t.match(r);if(a===null)return e.push(QS(t)),{duration:0,delay:0,easing:""};i=p_(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(s=p_(parseFloat(l),a[4]));let c=a[5];c&&(o=c)}else i=t;if(!n){let a=!1,l=e.length;i<0&&(e.push(JU()),a=!0),s<0&&(e.push(XU()),a=!0),a&&e.splice(l,0,QS(t))}return{duration:i,delay:s,easing:o}}function F3(t){return t.length?t[0]instanceof Map?t:t.map(e=>new Map(Object.entries(e))):[]}function kn(t,e,n){e.forEach((r,i)=>{let s=R_(i);n&&!n.has(i)&&n.set(i,t.style[s]),t.style[s]=r})}function Li(t,e){e.forEach((n,r)=>{let i=R_(r);t.style[i]=""})}function Ka(t){return Array.isArray(t)?t.length==1?t[0]:UI(t):t}function L3(t,e,n){let r=e.params||{},i=gT(t);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||n.push(e3(s))})}var g_=new RegExp(`${fT}\\s*(.+?)\\s*${O3}`,"g");function gT(t){let e=[];if(typeof t=="string"){let n;for(;n=g_.exec(t);)e.push(n[1]);g_.lastIndex=0}return e}function Qa(t,e,n){let r=`${t}`,i=r.replace(g_,(s,o)=>{let a=e[o];return a==null&&(n.push(t3(o)),a=""),a.toString()});return i==r?t:i}var V3=/-+([a-z0-9])/g;function R_(t){return t.replace(V3,(...e)=>e[1].toUpperCase())}function j3(t,e){return t===0||e===0}function U3(t,e,n){if(n.size&&e.length){let r=e[0],i=[];if(n.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,k_(t,a)))}}return e}function Tt(t,e,n){switch(e.type){case $.Trigger:return t.visitTrigger(e,n);case $.State:return t.visitState(e,n);case $.Transition:return t.visitTransition(e,n);case $.Sequence:return t.visitSequence(e,n);case $.Group:return t.visitGroup(e,n);case $.Animate:return t.visitAnimate(e,n);case $.Keyframes:return t.visitKeyframes(e,n);case $.Style:return t.visitStyle(e,n);case $.Reference:return t.visitReference(e,n);case $.AnimateChild:return t.visitAnimateChild(e,n);case $.AnimateRef:return t.visitAnimateRef(e,n);case $.Query:return t.visitQuery(e,n);case $.Stagger:return t.visitStagger(e,n);default:throw n3(e.type)}}function k_(t,e){return window.getComputedStyle(t)[e]}var B3=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Fd=class extends ji{normalizePropertyName(e,n){return R_(e)}normalizeStyleValue(e,n,r,i){let s="",o=r.toString().trim();if(B3.has(n)&&r!==0&&r!=="0")if(typeof r=="number")s="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(r3(e,r))}return o+s}};var Ld="*";function $3(t,e){let n=[];return typeof t=="string"?t.split(/\s*,\s*/).forEach(r=>H3(r,n,e)):n.push(t),n}function H3(t,e,n){if(t[0]==":"){let l=z3(t,n);if(typeof l=="function"){e.push(l);return}t=l}let r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return n.push(g3(t)),e;let i=r[1],s=r[2],o=r[3];e.push(eT(i,o));let a=i==Ld&&o==Ld;s[0]=="<"&&!a&&e.push(eT(o,i))}function z3(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,r)=>parseFloat(r)>parseFloat(n);case":decrement":return(n,r)=>parseFloat(r)<parseFloat(n);default:return e.push(m3(t)),"* => *"}}var Nd=new Set(["true","1"]),xd=new Set(["false","0"]);function eT(t,e){let n=Nd.has(t)||xd.has(t),r=Nd.has(e)||xd.has(e);return(i,s)=>{let o=t==Ld||t==i,a=e==Ld||e==s;return!o&&n&&typeof i=="boolean"&&(o=i?Nd.has(t):xd.has(t)),!a&&r&&typeof s=="boolean"&&(a=s?Nd.has(e):xd.has(e)),o&&a}}var mT=":self",G3=new RegExp(`s*${mT}s*,?`,"g");function yT(t,e,n,r){return new m_(t).build(e,n,r)}var tT="",m_=class{constructor(e){this._driver=e}build(e,n,r){let i=new y_(n);return this._resetContextStyleTimingState(i),Tt(this,Ka(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=tT,e.collectedStyles=new Map,e.collectedStyles.set(tT,new Map),e.currentTime=0}visitTrigger(e,n){let r=n.queryCount=0,i=n.depCount=0,s=[],o=[];return e.name.charAt(0)=="@"&&n.errors.push(i3()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),a.type==$.State){let l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,n))}),l.name=c}else if(a.type==$.Transition){let l=this.visitTransition(a,n);r+=l.queryCount,i+=l.depCount,o.push(l)}else n.errors.push(s3())}),{type:$.Trigger,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,n){let r=this.visitStyle(e.styles,n),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){let s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{gT(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&n.errors.push(o3(e.name,[...s.values()]))}return{type:$.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;let r=Tt(this,Ka(e.animation),n),i=$3(e.expr,n.errors);return{type:$.Transition,matchers:i,animation:r,queryCount:n.queryCount,depCount:n.depCount,options:Fi(e.options)}}visitSequence(e,n){return{type:$.Sequence,steps:e.steps.map(r=>Tt(this,r,n)),options:Fi(e.options)}}visitGroup(e,n){let r=n.currentTime,i=0,s=e.steps.map(o=>{n.currentTime=r;let a=Tt(this,o,n);return i=Math.max(i,n.currentTime),a});return n.currentTime=i,{type:$.Group,steps:s,options:Fi(e.options)}}visitAnimate(e,n){let r=Y3(e.timings,n.errors);n.currentAnimateTimings=r;let i,s=e.styles?e.styles:at({});if(s.type==$.Keyframes)i=this.visitKeyframes(s,n);else{let o=e.styles,a=!1;if(!o){a=!0;let c={};r.easing&&(c.easing=r.easing),o=at(c)}n.currentTime+=r.duration+r.delay;let l=this.visitStyle(o,n);l.isEmptyStep=a,i=l}return n.currentAnimateTimings=null,{type:$.Animate,timings:r,style:i,options:null}}visitStyle(e,n){let r=this._makeStyleAst(e,n);return this._validateStyleAst(r,n),r}_makeStyleAst(e,n){let r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===An?r.push(a):n.errors.push(a3(a)):r.push(new Map(Object.entries(a)));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s)){for(let l of a.values())if(l.toString().indexOf(fT)>=0){s=!0;break}}}),{type:$.Style,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,n){let r=n.currentAnimateTimings,i=n.currentTime,s=n.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,l)=>{let c=n.collectedStyles.get(n.currentQuerySelector),u=c.get(l),d=!0;u&&(s!=i&&s>=u.startTime&&i<=u.endTime&&(n.errors.push(l3(l,u.startTime,u.endTime,s,i)),d=!1),s=u.startTime),d&&c.set(l,{startTime:s,endTime:i}),n.options&&L3(a,n.options,n.errors)})})}visitKeyframes(e,n){let r={type:$.Keyframes,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(c3()),r;let i=1,s=0,o=[],a=!1,l=!1,c=0,u=e.steps.map(R=>{let K=this._makeStyleAst(R,n),U=K.offset!=null?K.offset:K3(K.styles),ce=0;return U!=null&&(s++,ce=K.offset=U),l=l||ce<0||ce>1,a=a||ce<c,c=ce,o.push(ce),K});l&&n.errors.push(u3()),a&&n.errors.push(d3());let d=e.steps.length,h=0;s>0&&s<d?n.errors.push(h3()):s==0&&(h=i/(d-1));let f=d-1,p=n.currentTime,m=n.currentAnimateTimings,C=m.duration;return u.forEach((R,K)=>{let U=h>0?K==f?1:h*K:o[K],ce=U*C;n.currentTime=p+m.delay+ce,m.duration=ce,this._validateStyleAst(R,n),R.offset=U,r.styles.push(R)}),r}visitReference(e,n){return{type:$.Reference,animation:Tt(this,Ka(e.animation),n),options:Fi(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:$.AnimateChild,options:Fi(e.options)}}visitAnimateRef(e,n){return{type:$.AnimateRef,animation:this.visitReference(e.animation,n),options:Fi(e.options)}}visitQuery(e,n){let r=n.currentQuerySelector,i=e.options||{};n.queryCount++,n.currentQuery=e;let[s,o]=W3(e.selector);n.currentQuerySelector=r.length?r+" "+s:s,Mt(n.collectedStyles,n.currentQuerySelector,new Map);let a=Tt(this,Ka(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=r,{type:$.Query,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:Fi(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(f3());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:Pd(e.timings,n.errors,!0);return{type:$.Stagger,animation:Tt(this,Ka(e.animation),n),timings:r,options:null}}};function W3(t){let e=!!t.split(/\s*,\s*/).find(n=>n==mT);return e&&(t=t.replace(G3,"")),t=t.replace(/@\*/g,Od).replace(/@\w+/g,n=>Od+"-"+n.slice(1)).replace(/:animating/g,f_),[t,e]}function q3(t){return t?w({},t):null}var y_=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function K3(t){if(typeof t=="string")return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){let r=n;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(t instanceof Map&&t.has("offset")){let n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}function Y3(t,e){if(t.hasOwnProperty("duration"))return t;if(typeof t=="number"){let s=Pd(t,e).duration;return a_(s,0,"")}let n=t;if(n.split(/\s+/).some(s=>s.charAt(0)=="{"&&s.charAt(1)=="{")){let s=a_(0,0,"");return s.dynamic=!0,s.strValue=n,s}let i=Pd(n,e);return a_(i.duration,i.delay,i.easing)}function Fi(t){return t?(t=w({},t),t.params&&(t.params=q3(t.params))):t={},t}function a_(t,e,n){return{duration:t,delay:e,easing:n}}function O_(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}var Za=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,n){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}},Q3=1,Z3=":enter",J3=new RegExp(Z3,"g"),X3=":leave",eB=new RegExp(X3,"g");function _T(t,e,n,r,i,s=new Map,o=new Map,a,l,c=[]){return new __().buildKeyframes(t,e,n,r,i,s,o,a,l,c)}var __=class{buildKeyframes(e,n,r,i,s,o,a,l,c,u=[]){c=c||new Za;let d=new v_(e,n,c,i,s,u,[]);d.options=l;let h=l.delay?Yn(l.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([o],null,d.errors,l),Tt(this,r,d);let f=d.timelines.filter(p=>p.containsAnimation());if(f.length&&a.size){let p;for(let m=f.length-1;m>=0;m--){let C=f[m];if(C.element===n){p=C;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,l)}return f.length?f.map(p=>p.buildKeyframes()):[O_(n,[],[],[],0,h,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){let r=n.subInstructions.get(n.element);if(r){let i=n.createSubContext(e.options),s=n.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&n.transformIntoNewTimeline(o)}n.previousNode=e}visitAnimateRef(e,n){let r=n.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,r),this.visitReference(e.animation,r),n.transformIntoNewTimeline(r.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,r){for(let i of e){let s=i?.delay;if(s){let o=typeof s=="number"?s:Yn(Qa(s,i?.params??{},n.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,n,r){let s=n.currentTimeline.currentTime,o=r.duration!=null?Yn(r.duration):null,a=r.delay!=null?Yn(r.delay):null;return o!==0&&e.forEach(l=>{let c=n.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,n){n.updateOptions(e.options,!0),Tt(this,e.animation,n),n.previousNode=e}visitSequence(e,n){let r=n.subContextCount,i=n,s=e.options;if(s&&(s.params||s.delay)&&(i=n.createSubContext(s),i.transformIntoNewTimeline(),s.delay!=null)){i.previousNode.type==$.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Vd);let o=Yn(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>Tt(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){let r=[],i=n.currentTimeline.currentTime,s=e.options&&e.options.delay?Yn(e.options.delay):0;e.steps.forEach(o=>{let a=n.createSubContext(e.options);s&&a.delayNextStep(s),Tt(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>n.currentTimeline.mergeTimelineCollectedStyles(o)),n.transformIntoNewTimeline(i),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){let r=e.strValue,i=n.params?Qa(r,n.params,n.errors):r;return Pd(i,n.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){let r=n.currentAnimateTimings=this._visitTiming(e.timings,n),i=n.currentTimeline;r.delay&&(n.incrementTime(r.delay),i.snapshotCurrentStyles());let s=e.style;s.type==$.Keyframes?this.visitKeyframes(s,n):(n.incrementTime(r.duration),this.visitStyle(s,n),i.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){let r=n.currentTimeline,i=n.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){let r=n.currentAnimateTimings,i=n.currentTimeline.duration,s=r.duration,a=n.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(l=>{let c=l.offset||0;a.forwardTime(c*s),a.setStyles(l.styles,l.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(i+s),n.previousNode=e}visitQuery(e,n){let r=n.currentTimeline.currentTime,i=e.options||{},s=i.delay?Yn(i.delay):0;s&&(n.previousNode.type===$.Style||r==0&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=Vd);let o=r,a=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,n.errors);n.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{n.currentQueryIndex=u;let d=n.createSubContext(e.options,c);s&&d.delayNextStep(s),c===n.element&&(l=d.currentTimeline),Tt(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe();let h=d.currentTimeline.currentTime;o=Math.max(o,h)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(o),l&&(n.currentTimeline.mergeTimelineCollectedStyles(l),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){let r=n.parentContext,i=n.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(n.currentQueryTotal-1),l=o*n.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime;break}let u=n.currentTimeline;l&&u.delayNextStep(l);let d=u.currentTime;Tt(this,e.animation,n),n.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}},Vd={},v_=class t{constructor(e,n,r,i,s,o,a,l){this._driver=e,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Vd,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new jd(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;let r=e,i=this.options;r.duration!=null&&(i.duration=Yn(r.duration)),r.delay!=null&&(i.delay=Yn(r.delay));let s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!n||!o.hasOwnProperty(a))&&(o[a]=Qa(s[a],o,this.errors))})}}_copyOptions(){let e={};if(this.options){let n=this.options.params;if(n){let r=e.params={};Object.keys(n).forEach(i=>{r[i]=n[i]})}}return e}createSubContext(e=null,n,r){let i=n||this.element,s=new t(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=Vd,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,r){let i={duration:n??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new w_(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace(J3,"."+this._enterClassName),e=e.replace(eB,"."+this._leaveClassName);let l=r!=1,c=this._driver.query(this.element,e,l);r!==0&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),a.push(...c)}return!s&&a.length==0&&o.push(p3(n)),a}},jd=class t{constructor(e,n,r,i){this._driver=e,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let n=this._keyframes.size===1&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=Q3,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,r]of this._globalTimelineStyles)this._backFill.set(n,r||An),this._currentKeyframe.set(n,An);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,r,i){n&&this._previousKeyframe.set("easing",n);let s=i&&i.params||{},o=tB(e,this._globalTimelineStyles);for(let[a,l]of o){let c=Qa(l,s,r);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??An),this._updateStyle(a,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,r)=>{let i=this._styleSummary.get(r);(!i||n.time>i.time)&&this._updateStyle(r,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,n=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,l)=>{let c=new Map([...this._backFill,...a]);c.forEach((u,d)=>{u===Wu?e.add(d):u===An&&n.add(d)}),r||c.set("offset",l/this.duration),i.push(c)});let s=[...e.values()],o=[...n.values()];if(r){let a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return O_(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}},w_=class extends jd{constructor(e,n,r,i,s,o,a=!1){super(e,n,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&n){let s=[],o=r+n,a=n/o,l=new Map(e[0]);l.set("offset",0),s.push(l);let c=new Map(e[0]);c.set("offset",nT(a)),s.push(c);let u=e.length-1;for(let d=1;d<=u;d++){let h=new Map(e[d]),f=h.get("offset"),p=n+f*r;h.set("offset",nT(p/o)),s.push(h)}r=o,n=0,i="",e=s}return O_(this.element,e,this.preStyleProps,this.postStyleProps,r,n,i,!0)}};function nT(t,e=3){let n=Math.pow(10,e-1);return Math.round(t*n)/n}function tB(t,e){let n=new Map,r;return t.forEach(i=>{if(i==="*"){r??=e.keys();for(let s of r)n.set(s,An)}else for(let[s,o]of i)n.set(s,o)}),n}function rT(t,e,n,r,i,s,o,a,l,c,u,d,h){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}var l_={},Ud=class{constructor(e,n,r){this._triggerName=e,this.ast=n,this._stateStyles=r}match(e,n,r,i){return nB(this.ast.matchers,e,n,r,i)}buildStyles(e,n,r){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(n,r):new Map}build(e,n,r,i,s,o,a,l,c,u){let d=[],h=this.ast.options&&this.ast.options.params||l_,f=a&&a.params||l_,p=this.buildStyles(r,f,d),m=l&&l.params||l_,C=this.buildStyles(i,m,d),R=new Set,K=new Map,U=new Map,ce=i==="void",Ye={params:vT(m,h),delay:this.ast.options?.delay},be=u?[]:_T(e,n,this.ast.animation,s,o,p,C,Ye,c,d),Se=0;return be.forEach(Pe=>{Se=Math.max(Pe.duration+Pe.delay,Se)}),d.length?rT(n,this._triggerName,r,i,ce,p,C,[],[],K,U,Se,d):(be.forEach(Pe=>{let yt=Pe.element,sn=Mt(K,yt,new Set);Pe.preStyleProps.forEach(Br=>sn.add(Br));let F_=Mt(U,yt,new Set);Pe.postStyleProps.forEach(Br=>F_.add(Br)),yt!==n&&R.add(yt)}),rT(n,this._triggerName,r,i,ce,p,C,be,[...R.values()],K,U,Se))}};function nB(t,e,n,r,i){return t.some(s=>s(e,n,r,i))}function vT(t,e){let n=w({},e);return Object.entries(t).forEach(([r,i])=>{i!=null&&(n[r]=i)}),n}var b_=class{constructor(e,n,r){this.styles=e,this.defaultParams=n,this.normalizer=r}buildStyles(e,n){let r=new Map,i=vT(e,this.defaultParams);return this.styles.styles.forEach(s=>{typeof s!="string"&&s.forEach((o,a)=>{o&&(o=Qa(o,i,n));let l=this.normalizer.normalizePropertyName(a,n);o=this.normalizer.normalizeStyleValue(a,l,o,n),r.set(a,o)})}),r}};function rB(t,e,n){return new C_(t,e,n)}var C_=class{constructor(e,n,r){this.name=e,this.ast=n,this._normalizer=r,this.transitionFactories=[],this.states=new Map,n.states.forEach(i=>{let s=i.options&&i.options.params||{};this.states.set(i.name,new b_(i.style,s,r))}),iT(this.states,"true","1"),iT(this.states,"false","0"),n.transitions.forEach(i=>{this.transitionFactories.push(new Ud(e,i,this.states))}),this.fallbackTransition=iB(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,r,i){return this.transitionFactories.find(o=>o.match(e,n,r,i))||null}matchStyles(e,n,r){return this.fallbackTransition.buildStyles(e,n,r)}};function iB(t,e,n){let r=[(o,a)=>!0],i={type:$.Sequence,steps:[],options:null},s={type:$.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new Ud(t,s,e)}function iT(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}var sB=new Za,E_=class{constructor(e,n,r){this.bodyNode=e,this._driver=n,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,n){let r=[],i=[],s=yT(this._driver,n,r,i);if(r.length)throw v3(r);i.length&&void 0,this._animations.set(e,s)}_buildPlayer(e,n,r){let i=e.element,s=uT(this._normalizer,e.keyframes,n,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,n,r={}){let i=[],s=this._animations.get(e),o,a=new Map;if(s?(o=_T(this._driver,n,s,pT,h_,new Map,new Map,r,sB,i),o.forEach(u=>{let d=Mt(a,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(i.push(w3()),o=[]),i.length)throw b3(i);a.forEach((u,d)=>{u.forEach((h,f)=>{u.set(f,this._driver.computeStyle(d,f,An))})});let l=o.map(u=>{let d=a.get(u.element);return this._buildPlayer(u,new Map,d)}),c=Ur(l);return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){let n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);let r=this.players.indexOf(n);r>=0&&this.players.splice(r,1)}_getPlayer(e){let n=this._playersById.get(e);if(!n)throw C3(e);return n}listen(e,n,r,i){let s=A_(n,"","","");return M_(this._getPlayer(e),r,s,i),()=>{}}command(e,n,r,i){if(r=="register"){this.register(e,i[0]);return}if(r=="create"){let o=i[0]||{};this.create(e,n,o);return}let s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},sT="ng-animate-queued",oB=".ng-animate-queued",c_="ng-animate-disabled",aB=".ng-animate-disabled",lB="ng-star-inserted",cB=".ng-star-inserted",uB=[],wT={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},dB={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},rn="__ng_removed",Ja=class{get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;let r=e&&e.hasOwnProperty("value"),i=r?e.value:e;if(this.value=fB(i),r){let s=e,{value:o}=s,a=qd(s,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let n=e.params;if(n){let r=this.options.params;Object.keys(n).forEach(i=>{r[i]==null&&(r[i]=n[i])})}}},Ya="void",u_=new Ja(Ya),I_=class{constructor(e,n,r){this.id=e,this.hostElement=n,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Ht(n,this._hostClassName)}listen(e,n,r,i){if(!this._triggers.has(n))throw E3(r,n);if(r==null||r.length==0)throw I3(n);if(!pB(r))throw D3(r,n);let s=Mt(this._elementListeners,e,[]),o={name:n,phase:r,callback:i};s.push(o);let a=Mt(this._engine.statesByElement,e,new Map);return a.has(n)||(Ht(e,Ad),Ht(e,Ad+"-"+n),a.set(n,u_)),()=>{this._engine.afterFlush(()=>{let l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(n)||a.delete(n)})}}register(e,n){return this._triggers.has(e)?!1:(this._triggers.set(e,n),!0)}_getTrigger(e){let n=this._triggers.get(e);if(!n)throw S3(e);return n}trigger(e,n,r,i=!0){let s=this._getTrigger(n),o=new Xa(this.id,n,e),a=this._engine.statesByElement.get(e);a||(Ht(e,Ad),Ht(e,Ad+"-"+n),this._engine.statesByElement.set(e,a=new Map));let l=a.get(n),c=new Ja(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(n,c),l||(l=u_),!(c.value===Ya)&&l.value===c.value){if(!yB(l.params,c.params)){let m=[],C=s.matchStyles(l.value,l.params,m),R=s.matchStyles(c.value,c.params,m);m.length?this._engine.reportError(m):this._engine.afterFlush(()=>{Li(e,C),kn(e,R)})}return}let h=Mt(this._engine.playersByElement,e,[]);h.forEach(m=>{m.namespaceId==this.id&&m.triggerName==n&&m.queued&&m.destroy()});let f=s.matchTransition(l.value,c.value,e,c.params),p=!1;if(!f){if(!i)return;f=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:f,fromState:l,toState:c,player:o,isFallbackTransition:p}),p||(Ht(e,sT),o.onStart(()=>{co(e,sT)})),o.onDone(()=>{let m=this.players.indexOf(o);m>=0&&this.players.splice(m,1);let C=this._engine.playersByElement.get(e);if(C){let R=C.indexOf(o);R>=0&&C.splice(R,1)}}),this.players.push(o),h.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,r)=>{this._elementListeners.set(r,n.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let n=this._engine.playersByElement.get(e);n&&(n.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){let r=this._engine.driver.query(e,Od,!0);r.forEach(i=>{if(i[rn])return;let s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,n,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,n,r,i){let s=this._engine.statesByElement.get(e),o=new Map;if(s){let a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){let u=this.trigger(e,c,Ya,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,o),r&&Ur(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let n=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(n&&r){let i=new Set;n.forEach(s=>{let o=s.name;if(i.has(o))return;i.add(o);let l=this._triggers.get(o).fallbackTransition,c=r.get(o)||u_,u=new Ja(Ya),d=new Xa(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,n){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let i=!1;if(r.totalAnimations){let s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,n);else{let s=e[rn];(!s||s===wT)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,n))}}insertNode(e,n){Ht(e,this._hostClassName)}drainQueuedTransitions(e){let n=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){let l=A_(s,r.triggerName,r.fromState.value,r.toState.value);l._data=e,M_(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):n.push(r)}),this._queue=[],n.sort((r,i)=>{let s=r.transition.ast.depCount,o=i.transition.ast.depCount;return s==0||o==0?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},D_=class{_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,r){this.bodyNode=e,this.driver=n,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(n=>{n.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,n){let r=new I_(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(r,n):(this.newHostElements.set(n,r),this.collectEnterElement(n)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,n){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(n);for(;a;){let l=i.get(a);if(l){let c=r.indexOf(l);r.splice(c+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(n,e),e}register(e,n){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,n)),r}registerTrigger(e,n,r){let i=this._namespaceLookup[e];i&&i.register(n,r)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let n=new Set,r=this.statesByElement.get(e);if(r){for(let i of r.values())if(i.namespaceId){let s=this._fetchNamespace(i.namespaceId);s&&n.add(s)}}return n}trigger(e,n,r,i){if(Rd(n)){let s=this._fetchNamespace(e);if(s)return s.trigger(n,r,i),!0}return!1}insertNode(e,n,r,i){if(!Rd(n))return;let s=n[rn];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;let o=this.collectedLeaveElements.indexOf(n);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){let o=this._fetchNamespace(e);o&&o.insertNode(n,r)}i&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ht(e,c_)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),co(e,c_))}removeNode(e,n,r){if(Rd(n)){let i=e?this._fetchNamespace(e):null;i?i.removeNode(n,r):this.markElementAsRemoved(e,n,!1,r);let s=this.namespacesByHostElement.get(n);s&&s.id!==e&&s.removeNode(n,r)}else this._onRemovalComplete(n,r)}markElementAsRemoved(e,n,r,i,s){this.collectedLeaveElements.push(n),n[rn]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,n,r,i,s){return Rd(n)?this._fetchNamespace(e).listen(n,r,i,s):()=>{}}_buildInstruction(e,n,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,n,s)}destroyInnerAnimations(e){let n=this.driver.query(e,Od,!0);n.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(n=this.driver.query(e,f_,!0),n.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let n=this.playersByElement.get(e);n&&n.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let n=this.playersByQueriedElement.get(e);n&&n.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Ur(this.players).onDone(()=>e());e()})}processLeaveNode(e){let n=e[rn];if(n&&n.setForRemoval){if(e[rn]=wT,n.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}e.classList?.contains(c_)&&this.markElementAsDisabled(e,!1),this.driver.query(e,aB,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];Ht(i,lB)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{n=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],n.length?Ur(n).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw T3(e)}_flushAnimations(e,n){let r=new Za,i=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(N=>{u.add(N);let k=this.driver.query(N,oB,!0);for(let P=0;P<k.length;P++)u.add(k[P])});let d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=lT(h,this.collectedEnterElements),p=new Map,m=0;f.forEach((N,k)=>{let P=pT+m++;p.set(k,P),N.forEach(ae=>Ht(ae,P))});let C=[],R=new Set,K=new Set;for(let N=0;N<this.collectedLeaveElements.length;N++){let k=this.collectedLeaveElements[N],P=k[rn];P&&P.setForRemoval&&(C.push(k),R.add(k),P.hasAnimation?this.driver.query(k,cB,!0).forEach(ae=>R.add(ae)):K.add(k))}let U=new Map,ce=lT(h,Array.from(R));ce.forEach((N,k)=>{let P=h_+m++;U.set(k,P),N.forEach(ae=>Ht(ae,P))}),e.push(()=>{f.forEach((N,k)=>{let P=p.get(k);N.forEach(ae=>co(ae,P))}),ce.forEach((N,k)=>{let P=U.get(k);N.forEach(ae=>co(ae,P))}),C.forEach(N=>{this.processLeaveNode(N)})});let Ye=[],be=[];for(let N=this._namespaceList.length-1;N>=0;N--)this._namespaceList[N].drainQueuedTransitions(n).forEach(P=>{let ae=P.player,$e=P.element;if(Ye.push(ae),this.collectedEnterElements.length){let Qe=$e[rn];if(Qe&&Qe.setForMove){if(Qe.previousTriggersValues&&Qe.previousTriggersValues.has(P.triggerName)){let $r=Qe.previousTriggersValues.get(P.triggerName),At=this.statesByElement.get(P.element);if(At&&At.has(P.triggerName)){let el=At.get(P.triggerName);el.value=$r,At.set(P.triggerName,el)}}ae.destroy();return}}let on=!d||!this.driver.containsElement(d,$e),_t=U.get($e),Qn=p.get($e),Me=this._buildInstruction(P,r,Qn,_t,on);if(Me.errors&&Me.errors.length){be.push(Me);return}if(on){ae.onStart(()=>Li($e,Me.fromStyles)),ae.onDestroy(()=>kn($e,Me.toStyles)),i.push(ae);return}if(P.isFallbackTransition){ae.onStart(()=>Li($e,Me.fromStyles)),ae.onDestroy(()=>kn($e,Me.toStyles)),i.push(ae);return}let j_=[];Me.timelines.forEach(Qe=>{Qe.stretchStartingKeyframe=!0,this.disabledNodes.has(Qe.element)||j_.push(Qe)}),Me.timelines=j_,r.append($e,Me.timelines);let MT={instruction:Me,player:ae,element:$e};o.push(MT),Me.queriedElements.forEach(Qe=>Mt(a,Qe,[]).push(ae)),Me.preStyleProps.forEach((Qe,$r)=>{if(Qe.size){let At=l.get($r);At||l.set($r,At=new Set),Qe.forEach((el,Wd)=>At.add(Wd))}}),Me.postStyleProps.forEach((Qe,$r)=>{let At=c.get($r);At||c.set($r,At=new Set),Qe.forEach((el,Wd)=>At.add(Wd))})});if(be.length){let N=[];be.forEach(k=>{N.push(M3(k.triggerName,k.errors))}),Ye.forEach(k=>k.destroy()),this.reportError(N)}let Se=new Map,Pe=new Map;o.forEach(N=>{let k=N.element;r.has(k)&&(Pe.set(k,k),this._beforeAnimationBuild(N.player.namespaceId,N.instruction,Se))}),i.forEach(N=>{let k=N.element;this._getPreviousPlayers(k,!1,N.namespaceId,N.triggerName,null).forEach(ae=>{Mt(Se,k,[]).push(ae),ae.destroy()})});let yt=C.filter(N=>cT(N,l,c)),sn=new Map;aT(sn,this.driver,K,c,An).forEach(N=>{cT(N,l,c)&&yt.push(N)});let Br=new Map;f.forEach((N,k)=>{aT(Br,this.driver,new Set(N),l,Wu)}),yt.forEach(N=>{let k=sn.get(N),P=Br.get(N);sn.set(N,new Map([...k?.entries()??[],...P?.entries()??[]]))});let Gd=[],L_=[],V_={};o.forEach(N=>{let{element:k,player:P,instruction:ae}=N;if(r.has(k)){if(u.has(k)){P.onDestroy(()=>kn(k,ae.toStyles)),P.disabled=!0,P.overrideTotalTime(ae.totalTime),i.push(P);return}let $e=V_;if(Pe.size>1){let _t=k,Qn=[];for(;_t=_t.parentNode;){let Me=Pe.get(_t);if(Me){$e=Me;break}Qn.push(_t)}Qn.forEach(Me=>Pe.set(Me,$e))}let on=this._buildAnimation(P.namespaceId,ae,Se,s,Br,sn);if(P.setRealPlayer(on),$e===V_)Gd.push(P);else{let _t=this.playersByElement.get($e);_t&&_t.length&&(P.parentPlayer=Ur(_t)),i.push(P)}}else Li(k,ae.fromStyles),P.onDestroy(()=>kn(k,ae.toStyles)),L_.push(P),u.has(k)&&i.push(P)}),L_.forEach(N=>{let k=s.get(N.element);if(k&&k.length){let P=Ur(k);N.setRealPlayer(P)}}),i.forEach(N=>{N.parentPlayer?N.syncPlayerEvents(N.parentPlayer):N.destroy()});for(let N=0;N<C.length;N++){let k=C[N],P=k[rn];if(co(k,h_),P&&P.hasAnimation)continue;let ae=[];if(a.size){let on=a.get(k);on&&on.length&&ae.push(...on);let _t=this.driver.query(k,f_,!0);for(let Qn=0;Qn<_t.length;Qn++){let Me=a.get(_t[Qn]);Me&&Me.length&&ae.push(...Me)}}let $e=ae.filter(on=>!on.destroyed);$e.length?gB(this,k,$e):this.processLeaveNode(k)}return C.length=0,Gd.forEach(N=>{this.players.push(N),N.onDone(()=>{N.destroy();let k=this.players.indexOf(N);this.players.splice(k,1)}),N.play()}),Gd}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,r,i,s){let o=[];if(n){let a=this.playersByQueriedElement.get(e);a&&(o=a)}else{let a=this.playersByElement.get(e);if(a){let l=!s||s==Ya;a.forEach(c=>{c.queued||!l&&c.triggerName!=i||o.push(c)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,n,r){let i=n.triggerName,s=n.element,o=n.isRemovalTransition?void 0:e,a=n.isRemovalTransition?void 0:i;for(let l of n.timelines){let c=l.element,u=c!==s,d=Mt(r,c,[]);this._getPreviousPlayers(c,u,o,a,n.toState).forEach(f=>{let p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}Li(s,n.fromStyles)}_buildAnimation(e,n,r,i,s,o){let a=n.triggerName,l=n.element,c=[],u=new Set,d=new Set,h=n.timelines.map(p=>{let m=p.element;u.add(m);let C=m[rn];if(C&&C.removedBeforeQueried)return new Rr(p.duration,p.delay);let R=m!==l,K=mB((r.get(m)||uB).map(Se=>Se.getRealPlayer())).filter(Se=>{let Pe=Se;return Pe.element?Pe.element===m:!1}),U=s.get(m),ce=o.get(m),Ye=uT(this._normalizer,p.keyframes,U,ce),be=this._buildPlayer(p,Ye,K);if(p.subTimeline&&i&&d.add(m),R){let Se=new Xa(e,a,m);Se.setRealPlayer(be),c.push(Se)}return be});c.forEach(p=>{Mt(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>hB(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>Ht(p,XS));let f=Ur(h);return f.onDestroy(()=>{u.forEach(p=>co(p,XS)),kn(l,n.toStyles)}),d.forEach(p=>{Mt(i,p,[]).push(f)}),f}_buildPlayer(e,n,r){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,r):new Rr(e.duration,e.delay)}},Xa=class{constructor(e,n,r){this.namespaceId=e,this.triggerName=n,this.element=r,this._player=new Rr,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,r)=>{n.forEach(i=>M_(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){Mt(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let n=this._player;n.triggerCallback&&n.triggerCallback(e)}};function hB(t,e,n){let r=t.get(e);if(r){if(r.length){let i=r.indexOf(n);r.splice(i,1)}r.length==0&&t.delete(e)}return r}function fB(t){return t??null}function Rd(t){return t&&t.nodeType===1}function pB(t){return t=="start"||t=="done"}function oT(t,e){let n=t.style.display;return t.style.display=e??"none",n}function aT(t,e,n,r,i){let s=[];n.forEach(l=>s.push(oT(l)));let o=[];r.forEach((l,c)=>{let u=new Map;l.forEach(d=>{let h=e.computeStyle(c,d,i);u.set(d,h),(!h||h.length==0)&&(c[rn]=dB,o.push(c))}),t.set(c,u)});let a=0;return n.forEach(l=>oT(l,s[a++])),o}function lT(t,e){let n=new Map;if(t.forEach(a=>n.set(a,[])),e.length==0)return n;let r=1,i=new Set(e),s=new Map;function o(a){if(!a)return r;let l=s.get(a);if(l)return l;let c=a.parentNode;return n.has(c)?l=c:i.has(c)?l=r:l=o(c),s.set(a,l),l}return e.forEach(a=>{let l=o(a);l!==r&&n.get(l).push(a)}),n}function Ht(t,e){t.classList?.add(e)}function co(t,e){t.classList?.remove(e)}function gB(t,e,n){Ur(n).onDone(()=>t.processLeaveNode(e))}function mB(t){let e=[];return bT(t,e),e}function bT(t,e){for(let n=0;n<t.length;n++){let r=t[n];r instanceof Ia?bT(r.players,e):e.push(r)}}function yB(t,e){let n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){let s=n[i];if(!e.hasOwnProperty(s)||t[s]!==e[s])return!1}return!0}function cT(t,e,n){let r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(s=>i.add(s)):e.set(t,r),n.delete(t),!0}var ho=class{constructor(e,n,r){this._driver=n,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new D_(e.body,n,r),this._timelineEngine=new E_(e.body,n,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,n,r,i,s){let o=e+"-"+i,a=this._triggerCache[o];if(!a){let l=[],c=[],u=yT(this._driver,s,l,c);if(l.length)throw y3(i,l);c.length&&void 0,a=rB(i,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(n,i,a)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,r,i){this._transitionEngine.insertNode(e,n,r,i)}onRemove(e,n,r){this._transitionEngine.removeNode(e,n,r)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,r,i){if(r.charAt(0)=="@"){let[s,o]=ZS(r),a=i;this._timelineEngine.command(s,n,o,a)}else this._transitionEngine.trigger(e,n,r,i)}listen(e,n,r,i,s){if(r.charAt(0)=="@"){let[o,a]=ZS(r);return this._timelineEngine.listen(o,n,a,s)}return this._transitionEngine.listen(e,n,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function _B(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=d_(e[0]),e.length>1&&(r=d_(e[e.length-1]))):e instanceof Map&&(n=d_(e)),n||r?new S_(t,n,r):null}var uo=class uo{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=uo.initialStylesByElement.get(e);i||uo.initialStylesByElement.set(e,i=new Map),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&kn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(kn(this._element,this._initialStyles),this._endStyles&&(kn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(uo.initialStylesByElement.delete(this._element),this._startStyles&&(Li(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Li(this._element,this._endStyles),this._endStyles=null),kn(this._element,this._initialStyles),this._state=3)}};uo.initialStylesByElement=new WeakMap;var S_=uo;function d_(t){let e=null;return t.forEach((n,r)=>{vB(r)&&(e=e||new Map,e.set(r,n))}),e}function vB(t){return t==="display"||t==="position"}var Bd=class{constructor(e,n,r,i){this.element=e,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let n=()=>this._onFinish();this.domPlayer.addEventListener("finish",n),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let n=[];return e.forEach(r=>{n.push(Object.fromEntries(r))}),n}_triggerWebAnimation(e,n,r){return e.animate(this._convertKeyframesToObject(n),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&e.set(i,this._finished?r:k_(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let n=e==="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},$d=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,n){return dT(e,n)}getParentElement(e){return N_(e)}query(e,n,r){return hT(e,n,r)}computeStyle(e,n,r){return k_(e,n)}animate(e,n,r,i,s,o=[]){let a=i==0?"both":"forwards",l={duration:r,delay:i,fill:a};s&&(l.easing=s);let c=new Map,u=o.filter(f=>f instanceof Bd);j3(r,i)&&u.forEach(f=>{f.currentSnapshot.forEach((p,m)=>c.set(m,p))});let d=F3(n).map(f=>new Map(f));d=U3(e,d,c);let h=_B(e,d);return new Bd(e,d,l,h)}};var kd="@",CT="@.disabled",Hd=class{constructor(e,n,r,i){this.namespaceId=e,this.delegate=n,this.engine=r,this._onDestroy=i,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,r,i=!0){this.delegate.insertBefore(e,n,r),this.engine.onInsert(this.namespaceId,n,e,i)}removeChild(e,n,r){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,r,i){this.delegate.setAttribute(e,n,r,i)}removeAttribute(e,n,r){this.delegate.removeAttribute(e,n,r)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,r,i){this.delegate.setStyle(e,n,r,i)}removeStyle(e,n,r){this.delegate.removeStyle(e,n,r)}setProperty(e,n,r){n.charAt(0)==kd&&n==CT?this.disableAnimations(e,!!r):this.delegate.setProperty(e,n,r)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,r){return this.delegate.listen(e,n,r)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}},T_=class extends Hd{constructor(e,n,r,i,s){super(n,r,i,s),this.factory=e,this.namespaceId=n}setProperty(e,n,r){n.charAt(0)==kd?n.charAt(1)=="."&&n==CT?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,n.slice(1),r):this.delegate.setProperty(e,n,r)}listen(e,n,r){if(n.charAt(0)==kd){let i=wB(e),s=n.slice(1),o="";return s.charAt(0)!=kd&&([s,o]=bB(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{let l=a._data||-1;this.factory.scheduleListenerCallback(l,r,a)})}return this.delegate.listen(e,n,r)}};function wB(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}function bB(t){let e=t.indexOf("."),n=t.substring(0,e),r=t.slice(e+1);return[n,r]}var zd=class{constructor(e,n,r){this.delegate=e,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,n.onRemovalComplete=(i,s)=>{let o=s?.parentNode(i);o&&s.removeChild(o,i)}}createRenderer(e,n){let r="",i=this.delegate.createRenderer(e,n);if(!e||!n?.data?.animation){let c=this._rendererCache,u=c.get(i);if(!u){let d=()=>c.delete(i);u=new Hd(r,i,this.engine,d),c.set(i,u)}return u}let s=n.id,o=n.id+"-"+this._currentId;this._currentId++,this.engine.register(o,e);let a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(s,o,e,c.name,c)};return n.data.animation.forEach(a),new T_(this,o,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,n,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>n(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(s=>{let[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),i.push([n,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var EB=(()=>{let e=class e extends ho{constructor(r,i,s){super(r,i,s)}ngOnDestroy(){this.flush()}};e.\u0275fac=function(i){return new(i||e)(T(Je),T(Vi),T(ji))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})();function IB(){return new Fd}function DB(t,e,n){return new zd(t,e,n)}var IT=[{provide:ji,useFactory:IB},{provide:ho,useClass:EB},{provide:or,useFactory:DB,deps:[jc,ho,Ce]}],ET=[{provide:Vi,useFactory:()=>new $d},{provide:Bf,useValue:"BrowserAnimations"},...IT],SB=[{provide:Vi,useClass:x_},{provide:Bf,useValue:"NoopAnimations"},...IT],DT=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:r.disableAnimations?SB:ET}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Et({type:e}),e.\u0275inj=Ct({providers:ET,imports:[Y0]});let t=e;return t})();var ST={providers:[RC(YS),Tf([DT,uI.forRoot({config:{tokenGetter:()=>localStorage.getItem("jwt"),allowedDomains:[],disallowedRoutes:[]}})])]};var TT=(()=>{let e=class e{constructor(){this.title="cardo"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ee({type:e,selectors:[["app-root"]],standalone:!0,features:[Ie],decls:1,vars:0,template:function(i,s){i&1&&S(0,"router-outlet")},dependencies:[Xe,mg]});let t=e;return t})();q0(TT,ST).catch(t=>console.error(t));
